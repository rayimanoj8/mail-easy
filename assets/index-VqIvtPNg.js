var Nh=Object.defineProperty;var Lu=t=>{throw TypeError(t)};var Dh=(t,e,l)=>e in t?Nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Lh=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var yn=(t,e,l)=>Dh(t,typeof e!="symbol"?e+"":e,l),tl=(t,e,l)=>e.has(t)||Lu("Cannot "+l);var Ie=(t,e,l)=>(tl(t,e,"read from private field"),l?l.call(t):e.get(t)),xt=(t,e,l)=>e.has(t)?Lu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,l),Mt=(t,e,l,c)=>(tl(t,e,"write to private field"),c?c.call(t,l):e.set(t,l),l),ht=(t,e,l)=>(tl(t,e,"access private method"),l);var nl=(t,e,l,c)=>({set _(f){Mt(t,e,f,l)},get _(){return Ie(t,e,c)}});var $h=Lh((exports,module)=>{function _mergeNamespaces(t,e){for(var l=0;l<e.length;l++){const c=e[l];if(typeof c!="string"&&!Array.isArray(c)){for(const f in c)if(f!=="default"&&!(f in t)){const h=Object.getOwnPropertyDescriptor(c,f);h&&Object.defineProperty(t,f,h.get?h:{enumerable:!0,get:()=>c[f]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function l(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(f){if(f.ep)return;f.ep=!0;const h=l(f);fetch(f.href,h)}})();function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var l=function c(){return this instanceof c?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};l.prototype=e.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(t).forEach(function(c){var f=Object.getOwnPropertyDescriptor(t,c);Object.defineProperty(l,c,f.get?f:{enumerable:!0,get:function(){return t[c]}})}),l}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$1={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),u=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=u&&O[u]||O["@@iterator"],typeof O=="function"?O:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function A(O,H,G){this.props=O,this.context=H,this.refs=k,this.updater=G||T}A.prototype.isReactComponent={},A.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function g(){}g.prototype=A.prototype;function E(O,H,G){this.props=O,this.context=H,this.refs=k,this.updater=G||T}var v=E.prototype=new g;v.constructor=E,C(v,A.prototype),v.isPureReactComponent=!0;var M=Array.isArray,R=Object.prototype.hasOwnProperty,I={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function _(O,H,G){var le,fe={},ae=null,re=null;if(H!=null)for(le in H.ref!==void 0&&(re=H.ref),H.key!==void 0&&(ae=""+H.key),H)R.call(H,le)&&!J.hasOwnProperty(le)&&(fe[le]=H[le]);var be=arguments.length-2;if(be===1)fe.children=G;else if(1<be){for(var ye=Array(be),Ce=0;Ce<be;Ce++)ye[Ce]=arguments[Ce+2];fe.children=ye}if(O&&O.defaultProps)for(le in be=O.defaultProps,be)fe[le]===void 0&&(fe[le]=be[le]);return{$$typeof:t,type:O,key:ae,ref:re,props:fe,_owner:I.current}}function L(O,H){return{$$typeof:t,type:O.type,key:H,ref:O.ref,props:O.props,_owner:O._owner}}function K(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function $(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(G){return H[G]})}var D=/\/+/g;function ne(O,H){return typeof O=="object"&&O!==null&&O.key!=null?$(""+O.key):H.toString(36)}function F(O,H,G,le,fe){var ae=typeof O;(ae==="undefined"||ae==="boolean")&&(O=null);var re=!1;if(O===null)re=!0;else switch(ae){case"string":case"number":re=!0;break;case"object":switch(O.$$typeof){case t:case e:re=!0}}if(re)return re=O,fe=fe(re),O=le===""?"."+ne(re,0):le,M(fe)?(G="",O!=null&&(G=O.replace(D,"$&/")+"/"),F(fe,H,G,"",function(Ce){return Ce})):fe!=null&&(K(fe)&&(fe=L(fe,G+(!fe.key||re&&re.key===fe.key?"":(""+fe.key).replace(D,"$&/")+"/")+O)),H.push(fe)),1;if(re=0,le=le===""?".":le+":",M(O))for(var be=0;be<O.length;be++){ae=O[be];var ye=le+ne(ae,be);re+=F(ae,H,G,ye,fe)}else if(ye=w(O),typeof ye=="function")for(O=ye.call(O),be=0;!(ae=O.next()).done;)ae=ae.value,ye=le+ne(ae,be++),re+=F(ae,H,G,ye,fe);else if(ae==="object")throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return re}function j(O,H,G){if(O==null)return O;var le=[],fe=0;return F(O,le,"","",function(ae){return H.call(G,ae,fe++)}),le}function se(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(G){(O._status===0||O._status===-1)&&(O._status=1,O._result=G)},function(G){(O._status===0||O._status===-1)&&(O._status=2,O._result=G)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var Y={current:null},q={transition:null},Q={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:q,ReactCurrentOwner:I};function N(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:j,forEach:function(O,H,G){j(O,function(){H.apply(this,arguments)},G)},count:function(O){var H=0;return j(O,function(){H++}),H},toArray:function(O){return j(O,function(H){return H})||[]},only:function(O){if(!K(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},react_production_min.Component=A,react_production_min.Fragment=l,react_production_min.Profiler=f,react_production_min.PureComponent=E,react_production_min.StrictMode=c,react_production_min.Suspense=m,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,react_production_min.act=N,react_production_min.cloneElement=function(O,H,G){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var le=C({},O.props),fe=O.key,ae=O.ref,re=O._owner;if(H!=null){if(H.ref!==void 0&&(ae=H.ref,re=I.current),H.key!==void 0&&(fe=""+H.key),O.type&&O.type.defaultProps)var be=O.type.defaultProps;for(ye in H)R.call(H,ye)&&!J.hasOwnProperty(ye)&&(le[ye]=H[ye]===void 0&&be!==void 0?be[ye]:H[ye])}var ye=arguments.length-2;if(ye===1)le.children=G;else if(1<ye){be=Array(ye);for(var Ce=0;Ce<ye;Ce++)be[Ce]=arguments[Ce+2];le.children=be}return{$$typeof:t,type:O.type,key:fe,ref:ae,props:le,_owner:re}},react_production_min.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:h,_context:O},O.Consumer=O},react_production_min.createElement=_,react_production_min.createFactory=function(O){var H=_.bind(null,O);return H.type=O,H},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(O){return{$$typeof:d,render:O}},react_production_min.isValidElement=K,react_production_min.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:se}},react_production_min.memo=function(O,H){return{$$typeof:y,type:O,compare:H===void 0?null:H}},react_production_min.startTransition=function(O){var H=q.transition;q.transition={};try{O()}finally{q.transition=H}},react_production_min.unstable_act=N,react_production_min.useCallback=function(O,H){return Y.current.useCallback(O,H)},react_production_min.useContext=function(O){return Y.current.useContext(O)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(O){return Y.current.useDeferredValue(O)},react_production_min.useEffect=function(O,H){return Y.current.useEffect(O,H)},react_production_min.useId=function(){return Y.current.useId()},react_production_min.useImperativeHandle=function(O,H,G){return Y.current.useImperativeHandle(O,H,G)},react_production_min.useInsertionEffect=function(O,H){return Y.current.useInsertionEffect(O,H)},react_production_min.useLayoutEffect=function(O,H){return Y.current.useLayoutEffect(O,H)},react_production_min.useMemo=function(O,H){return Y.current.useMemo(O,H)},react_production_min.useReducer=function(O,H,G){return Y.current.useReducer(O,H,G)},react_production_min.useRef=function(O){return Y.current.useRef(O)},react_production_min.useState=function(O){return Y.current.useState(O)},react_production_min.useSyncExternalStore=function(O,H,G){return Y.current.useSyncExternalStore(O,H,G)},react_production_min.useTransition=function(){return Y.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react$1.exports=requireReact_production_min()),react$1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,f=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function p(d,m,y){var x,u={},w=null,T=null;y!==void 0&&(w=""+y),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(T=m.ref);for(x in m)c.call(m,x)&&!h.hasOwnProperty(x)&&(u[x]=m[x]);if(d&&d.defaultProps)for(x in m=d.defaultProps,m)u[x]===void 0&&(u[x]=m[x]);return{$$typeof:e,type:d,key:w,ref:T,props:u,_owner:f.current}}return reactJsxRuntime_production_min.Fragment=l,reactJsxRuntime_production_min.jsx=p,reactJsxRuntime_production_min.jsxs=p,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React2=getDefaultExportFromCjs$1(reactExports),React=_mergeNamespaces({__proto__:null,default:React2},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function e(q,Q){var N=q.length;q.push(Q);e:for(;0<N;){var O=N-1>>>1,H=q[O];if(0<f(H,Q))q[O]=Q,q[N]=H,N=O;else break e}}function l(q){return q.length===0?null:q[0]}function c(q){if(q.length===0)return null;var Q=q[0],N=q.pop();if(N!==Q){q[0]=N;e:for(var O=0,H=q.length,G=H>>>1;O<G;){var le=2*(O+1)-1,fe=q[le],ae=le+1,re=q[ae];if(0>f(fe,N))ae<H&&0>f(re,fe)?(q[O]=re,q[ae]=N,O=ae):(q[O]=fe,q[le]=N,O=le);else if(ae<H&&0>f(re,N))q[O]=re,q[ae]=N,O=ae;else break e}}return Q}function f(q,Q){var N=q.sortIndex-Q.sortIndex;return N!==0?N:q.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;t.unstable_now=function(){return h.now()}}else{var p=Date,d=p.now();t.unstable_now=function(){return p.now()-d}}var m=[],y=[],x=1,u=null,w=3,T=!1,C=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(q){for(var Q=l(y);Q!==null;){if(Q.callback===null)c(y);else if(Q.startTime<=q)c(y),Q.sortIndex=Q.expirationTime,e(m,Q);else break;Q=l(y)}}function M(q){if(k=!1,v(q),!C)if(l(m)!==null)C=!0,se(R);else{var Q=l(y);Q!==null&&Y(M,Q.startTime-q)}}function R(q,Q){C=!1,k&&(k=!1,g(_),_=-1),T=!0;var N=w;try{for(v(Q),u=l(m);u!==null&&(!(u.expirationTime>Q)||q&&!$());){var O=u.callback;if(typeof O=="function"){u.callback=null,w=u.priorityLevel;var H=O(u.expirationTime<=Q);Q=t.unstable_now(),typeof H=="function"?u.callback=H:u===l(m)&&c(m),v(Q)}else c(m);u=l(m)}if(u!==null)var G=!0;else{var le=l(y);le!==null&&Y(M,le.startTime-Q),G=!1}return G}finally{u=null,w=N,T=!1}}var I=!1,J=null,_=-1,L=5,K=-1;function $(){return!(t.unstable_now()-K<L)}function D(){if(J!==null){var q=t.unstable_now();K=q;var Q=!0;try{Q=J(!0,q)}finally{Q?ne():(I=!1,J=null)}}else I=!1}var ne;if(typeof E=="function")ne=function(){E(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,j=F.port2;F.port1.onmessage=D,ne=function(){j.postMessage(null)}}else ne=function(){A(D,0)};function se(q){J=q,I||(I=!0,ne())}function Y(q,Q){_=A(function(){q(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){C||T||(C=!0,se(R))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return l(m)},t.unstable_next=function(q){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var N=w;w=Q;try{return q()}finally{w=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var N=w;w=q;try{return Q()}finally{w=N}},t.unstable_scheduleCallback=function(q,Q,N){var O=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?O+N:O):N=O,q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=N+H,q={id:x++,callback:Q,priorityLevel:q,startTime:N,expirationTime:H,sortIndex:-1},N>O?(q.sortIndex=N,e(y,q),l(m)===null&&q===l(y)&&(k?(g(_),_=-1):k=!0,Y(M,N-O))):(q.sortIndex=H,e(m,q),C||T||(C=!0,se(R))),q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(q){var Q=w;return function(){var N=w;w=Q;try{return q.apply(this,arguments)}finally{w=N}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler();function l(b){for(var S="https://reactjs.org/docs/error-decoder.html?invariant="+b,B=1;B<arguments.length;B++)S+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+b+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,f={};function h(b,S){p(b,S),p(b+"Capture",S)}function p(b,S){for(f[b]=S,b=0;b<S.length;b++)c.add(S[b])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},u={};function w(b){return m.call(u,b)?!0:m.call(x,b)?!1:y.test(b)?u[b]=!0:(x[b]=!0,!1)}function T(b,S,B,ce){if(B!==null&&B.type===0)return!1;switch(typeof S){case"function":case"symbol":return!0;case"boolean":return ce?!1:B!==null?!B.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function C(b,S,B,ce){if(S===null||typeof S>"u"||T(b,S,B,ce))return!0;if(ce)return!1;if(B!==null)switch(B.type){case 3:return!S;case 4:return S===!1;case 5:return isNaN(S);case 6:return isNaN(S)||1>S}return!1}function k(b,S,B,ce,we,Ae,Re){this.acceptsBooleans=S===2||S===3||S===4,this.attributeName=ce,this.attributeNamespace=we,this.mustUseProperty=B,this.propertyName=b,this.type=S,this.sanitizeURL=Ae,this.removeEmptyString=Re}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){A[b]=new k(b,0,!1,b,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var S=b[0];A[S]=new k(S,1,!1,b[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(b){A[b]=new k(b,2,!1,b.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){A[b]=new k(b,2,!1,b,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){A[b]=new k(b,3,!1,b.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(b){A[b]=new k(b,3,!0,b,null,!1,!1)}),["capture","download"].forEach(function(b){A[b]=new k(b,4,!1,b,null,!1,!1)}),["cols","rows","size","span"].forEach(function(b){A[b]=new k(b,6,!1,b,null,!1,!1)}),["rowSpan","start"].forEach(function(b){A[b]=new k(b,5,!1,b.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function E(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var S=b.replace(g,E);A[S]=new k(S,1,!1,b,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var S=b.replace(g,E);A[S]=new k(S,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(b){var S=b.replace(g,E);A[S]=new k(S,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(b){A[b]=new k(b,1,!1,b.toLowerCase(),null,!1,!1)}),A.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(b){A[b]=new k(b,1,!1,b.toLowerCase(),null,!0,!0)});function v(b,S,B,ce){var we=A.hasOwnProperty(S)?A[S]:null;(we!==null?we.type!==0:ce||!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(C(S,B,we,ce)&&(B=null),ce||we===null?w(S)&&(B===null?b.removeAttribute(S):b.setAttribute(S,""+B)):we.mustUseProperty?b[we.propertyName]=B===null?we.type===3?!1:"":B:(S=we.attributeName,ce=we.attributeNamespace,B===null?b.removeAttribute(S):(we=we.type,B=we===3||we===4&&B===!0?"":""+B,ce?b.setAttributeNS(ce,S,B):b.setAttribute(S,B))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),I=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),$=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),q=Symbol.iterator;function Q(b){return b===null||typeof b!="object"?null:(b=q&&b[q]||b["@@iterator"],typeof b=="function"?b:null)}var N=Object.assign,O;function H(b){if(O===void 0)try{throw Error()}catch(B){var S=B.stack.trim().match(/\n( *(at )?)/);O=S&&S[1]||""}return`
`+O+b}var G=!1;function le(b,S){if(!b||G)return"";G=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(S)if(S=function(){throw Error()},Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(at){var ce=at}Reflect.construct(b,[],S)}else{try{S.call()}catch(at){ce=at}b.call(S.prototype)}else{try{throw Error()}catch(at){ce=at}b()}}catch(at){if(at&&ce&&typeof at.stack=="string"){for(var we=at.stack.split(`
`),Ae=ce.stack.split(`
`),Re=we.length-1,Be=Ae.length-1;1<=Re&&0<=Be&&we[Re]!==Ae[Be];)Be--;for(;1<=Re&&0<=Be;Re--,Be--)if(we[Re]!==Ae[Be]){if(Re!==1||Be!==1)do if(Re--,Be--,0>Be||we[Re]!==Ae[Be]){var He=`
`+we[Re].replace(" at new "," at ");return b.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",b.displayName)),He}while(1<=Re&&0<=Be);break}}}finally{G=!1,Error.prepareStackTrace=B}return(b=b?b.displayName||b.name:"")?H(b):""}function fe(b){switch(b.tag){case 5:return H(b.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return b=le(b.type,!1),b;case 11:return b=le(b.type.render,!1),b;case 1:return b=le(b.type,!0),b;default:return""}}function ae(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case J:return"Fragment";case I:return"Portal";case L:return"Profiler";case _:return"StrictMode";case ne:return"Suspense";case F:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case $:return(b.displayName||"Context")+".Consumer";case K:return(b._context.displayName||"Context")+".Provider";case D:var S=b.render;return b=b.displayName,b||(b=S.displayName||S.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case j:return S=b.displayName||null,S!==null?S:ae(b.type)||"Memo";case se:S=b._payload,b=b._init;try{return ae(b(S))}catch{}}return null}function re(b){var S=b.type;switch(b.tag){case 24:return"Cache";case 9:return(S.displayName||"Context")+".Consumer";case 10:return(S._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=S.render,b=b.displayName||b.name||"",S.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return S;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(S);case 8:return S===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S}return null}function be(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function ye(b){var S=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(S==="checkbox"||S==="radio")}function Ce(b){var S=ye(b)?"checked":"value",B=Object.getOwnPropertyDescriptor(b.constructor.prototype,S),ce=""+b[S];if(!b.hasOwnProperty(S)&&typeof B<"u"&&typeof B.get=="function"&&typeof B.set=="function"){var we=B.get,Ae=B.set;return Object.defineProperty(b,S,{configurable:!0,get:function(){return we.call(this)},set:function(Re){ce=""+Re,Ae.call(this,Re)}}),Object.defineProperty(b,S,{enumerable:B.enumerable}),{getValue:function(){return ce},setValue:function(Re){ce=""+Re},stopTracking:function(){b._valueTracker=null,delete b[S]}}}}function me(b){b._valueTracker||(b._valueTracker=Ce(b))}function ee(b){if(!b)return!1;var S=b._valueTracker;if(!S)return!0;var B=S.getValue(),ce="";return b&&(ce=ye(b)?b.checked?"true":"false":b.value),b=ce,b!==B?(S.setValue(b),!0):!1}function te(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function oe(b,S){var B=S.checked;return N({},S,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:B??b._wrapperState.initialChecked})}function V(b,S){var B=S.defaultValue==null?"":S.defaultValue,ce=S.checked!=null?S.checked:S.defaultChecked;B=be(S.value!=null?S.value:B),b._wrapperState={initialChecked:ce,initialValue:B,controlled:S.type==="checkbox"||S.type==="radio"?S.checked!=null:S.value!=null}}function W(b,S){S=S.checked,S!=null&&v(b,"checked",S,!1)}function ue(b,S){W(b,S);var B=be(S.value),ce=S.type;if(B!=null)ce==="number"?(B===0&&b.value===""||b.value!=B)&&(b.value=""+B):b.value!==""+B&&(b.value=""+B);else if(ce==="submit"||ce==="reset"){b.removeAttribute("value");return}S.hasOwnProperty("value")?pe(b,S.type,B):S.hasOwnProperty("defaultValue")&&pe(b,S.type,be(S.defaultValue)),S.checked==null&&S.defaultChecked!=null&&(b.defaultChecked=!!S.defaultChecked)}function he(b,S,B){if(S.hasOwnProperty("value")||S.hasOwnProperty("defaultValue")){var ce=S.type;if(!(ce!=="submit"&&ce!=="reset"||S.value!==void 0&&S.value!==null))return;S=""+b._wrapperState.initialValue,B||S===b.value||(b.value=S),b.defaultValue=S}B=b.name,B!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,B!==""&&(b.name=B)}function pe(b,S,B){(S!=="number"||te(b.ownerDocument)!==b)&&(B==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+B&&(b.defaultValue=""+B))}var Se=Array.isArray;function ge(b,S,B,ce){if(b=b.options,S){S={};for(var we=0;we<B.length;we++)S["$"+B[we]]=!0;for(B=0;B<b.length;B++)we=S.hasOwnProperty("$"+b[B].value),b[B].selected!==we&&(b[B].selected=we),we&&ce&&(b[B].defaultSelected=!0)}else{for(B=""+be(B),S=null,we=0;we<b.length;we++){if(b[we].value===B){b[we].selected=!0,ce&&(b[we].defaultSelected=!0);return}S!==null||b[we].disabled||(S=b[we])}S!==null&&(S.selected=!0)}}function de(b,S){if(S.dangerouslySetInnerHTML!=null)throw Error(l(91));return N({},S,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function xe(b,S){var B=S.value;if(B==null){if(B=S.children,S=S.defaultValue,B!=null){if(S!=null)throw Error(l(92));if(Se(B)){if(1<B.length)throw Error(l(93));B=B[0]}S=B}S==null&&(S=""),B=S}b._wrapperState={initialValue:be(B)}}function ve(b,S){var B=be(S.value),ce=be(S.defaultValue);B!=null&&(B=""+B,B!==b.value&&(b.value=B),S.defaultValue==null&&b.defaultValue!==B&&(b.defaultValue=B)),ce!=null&&(b.defaultValue=""+ce)}function Ee(b){var S=b.textContent;S===b._wrapperState.initialValue&&S!==""&&S!==null&&(b.value=S)}function Te(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(b,S){return b==null||b==="http://www.w3.org/1999/xhtml"?Te(S):b==="http://www.w3.org/2000/svg"&&S==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var Oe,Pe=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(S,B,ce,we){MSApp.execUnsafeLocalFunction(function(){return b(S,B,ce,we)})}:b}(function(b,S){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=S;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+S.valueOf().toString()+"</svg>",S=Oe.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;S.firstChild;)b.appendChild(S.firstChild)}});function je(b,S){if(S){var B=b.firstChild;if(B&&B===b.lastChild&&B.nodeType===3){B.nodeValue=S;return}}b.textContent=S}var De={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];Object.keys(De).forEach(function(b){Me.forEach(function(S){S=S+b.charAt(0).toUpperCase()+b.substring(1),De[S]=De[b]})});function Fe(b,S,B){return S==null||typeof S=="boolean"||S===""?"":B||typeof S!="number"||S===0||De.hasOwnProperty(b)&&De[b]?(""+S).trim():S+"px"}function $e(b,S){b=b.style;for(var B in S)if(S.hasOwnProperty(B)){var ce=B.indexOf("--")===0,we=Fe(B,S[B],ce);B==="float"&&(B="cssFloat"),ce?b.setProperty(B,we):b[B]=we}}var tt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(b,S){if(S){if(tt[b]&&(S.children!=null||S.dangerouslySetInnerHTML!=null))throw Error(l(137,b));if(S.dangerouslySetInnerHTML!=null){if(S.children!=null)throw Error(l(60));if(typeof S.dangerouslySetInnerHTML!="object"||!("__html"in S.dangerouslySetInnerHTML))throw Error(l(61))}if(S.style!=null&&typeof S.style!="object")throw Error(l(62))}}function ct(b,S){if(b.indexOf("-")===-1)return typeof S.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mt=null;function Ze(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var St=null,Rt=null,$t=null;function dt(b){if(b=ms(b)){if(typeof St!="function")throw Error(l(280));var S=b.stateNode;S&&(S=js(S),St(b.stateNode,b.type,S))}}function ot(b){Rt?$t?$t.push(b):$t=[b]:Rt=b}function lt(){if(Rt){var b=Rt,S=$t;if($t=Rt=null,dt(b),S)for(b=0;b<S.length;b++)dt(S[b])}}function st(b,S){return b(S)}function Ge(){}var Ke=!1;function rt(b,S,B){if(Ke)return b(S,B);Ke=!0;try{return st(b,S,B)}finally{Ke=!1,(Rt!==null||$t!==null)&&(Ge(),lt())}}function ze(b,S){var B=b.stateNode;if(B===null)return null;var ce=js(B);if(ce===null)return null;B=ce[S];e:switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ce=!ce.disabled)||(b=b.type,ce=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!ce;break e;default:b=!1}if(b)return null;if(B&&typeof B!="function")throw Error(l(231,S,typeof B));return B}var Ve=!1;if(d)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Ve=!1}function Je(b,S,B,ce,we,Ae,Re,Be,He){var at=Array.prototype.slice.call(arguments,3);try{S.apply(B,at)}catch(yt){this.onError(yt)}}var it=!1,Tt=null,Ut=!1,kt=null,pt={onError:function(b){it=!0,Tt=b}};function Ht(b,S,B,ce,we,Ae,Re,Be,He){it=!1,Tt=null,Je.apply(pt,arguments)}function Xt(b,S,B,ce,we,Ae,Re,Be,He){if(Ht.apply(this,arguments),it){if(it){var at=Tt;it=!1,Tt=null}else throw Error(l(198));Ut||(Ut=!0,kt=at)}}function Vt(b){var S=b,B=b;if(b.alternate)for(;S.return;)S=S.return;else{b=S;do S=b,S.flags&4098&&(B=S.return),b=S.return;while(b)}return S.tag===3?B:null}function Ot(b){if(b.tag===13){var S=b.memoizedState;if(S===null&&(b=b.alternate,b!==null&&(S=b.memoizedState)),S!==null)return S.dehydrated}return null}function At(b){if(Vt(b)!==b)throw Error(l(188))}function vt(b){var S=b.alternate;if(!S){if(S=Vt(b),S===null)throw Error(l(188));return S!==b?null:b}for(var B=b,ce=S;;){var we=B.return;if(we===null)break;var Ae=we.alternate;if(Ae===null){if(ce=we.return,ce!==null){B=ce;continue}break}if(we.child===Ae.child){for(Ae=we.child;Ae;){if(Ae===B)return At(we),b;if(Ae===ce)return At(we),S;Ae=Ae.sibling}throw Error(l(188))}if(B.return!==ce.return)B=we,ce=Ae;else{for(var Re=!1,Be=we.child;Be;){if(Be===B){Re=!0,B=we,ce=Ae;break}if(Be===ce){Re=!0,ce=we,B=Ae;break}Be=Be.sibling}if(!Re){for(Be=Ae.child;Be;){if(Be===B){Re=!0,B=Ae,ce=we;break}if(Be===ce){Re=!0,ce=Ae,B=we;break}Be=Be.sibling}if(!Re)throw Error(l(189))}}if(B.alternate!==ce)throw Error(l(190))}if(B.tag!==3)throw Error(l(188));return B.stateNode.current===B?b:S}function Wt(b){return b=vt(b),b!==null?It(b):null}function It(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var S=It(b);if(S!==null)return S;b=b.sibling}return null}var Ct=e.unstable_scheduleCallback,Dt=e.unstable_cancelCallback,Bt=e.unstable_shouldYield,Ue=e.unstable_requestPaint,nt=e.unstable_now,bt=e.unstable_getCurrentPriorityLevel,Et=e.unstable_ImmediatePriority,Zt=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,fn=e.unstable_LowPriority,fr=e.unstable_IdlePriority,Dn=null,Wn=null;function Ji(b){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Dn,b,void 0,(b.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:Ai,Qi=Math.log,es=Math.LN2;function Ai(b){return b>>>=0,b===0?32:31-(Qi(b)/es|0)|0}var Lr=64,$r=4194304;function wr(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Br(b,S){var B=b.pendingLanes;if(B===0)return 0;var ce=0,we=b.suspendedLanes,Ae=b.pingedLanes,Re=B&268435455;if(Re!==0){var Be=Re&~we;Be!==0?ce=wr(Be):(Ae&=Re,Ae!==0&&(ce=wr(Ae)))}else Re=B&~we,Re!==0?ce=wr(Re):Ae!==0&&(ce=wr(Ae));if(ce===0)return 0;if(S!==0&&S!==ce&&!(S&we)&&(we=ce&-ce,Ae=S&-S,we>=Ae||we===16&&(Ae&4194240)!==0))return S;if(ce&4&&(ce|=B&16),S=b.entangledLanes,S!==0)for(b=b.entanglements,S&=ce;0<S;)B=31-zn(S),we=1<<B,ce|=b[B],S&=~we;return ce}function ts(b,S){switch(b){case 1:case 2:case 4:return S+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(b,S){for(var B=b.suspendedLanes,ce=b.pingedLanes,we=b.expirationTimes,Ae=b.pendingLanes;0<Ae;){var Re=31-zn(Ae),Be=1<<Re,He=we[Re];He===-1?(!(Be&B)||Be&ce)&&(we[Re]=ts(Be,S)):He<=S&&(b.expiredLanes|=Be),Ae&=~Be}}function ai(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function Ei(){var b=Lr;return Lr<<=1,!(Lr&4194240)&&(Lr=64),b}function oi(b){for(var S=[],B=0;31>B;B++)S.push(b);return S}function vr(b,S,B){b.pendingLanes|=S,S!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,S=31-zn(S),b[S]=B}function li(b,S){var B=b.pendingLanes&~S;b.pendingLanes=S,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=S,b.mutableReadLanes&=S,b.entangledLanes&=S,S=b.entanglements;var ce=b.eventTimes;for(b=b.expirationTimes;0<B;){var we=31-zn(B),Ae=1<<we;S[we]=0,ce[we]=-1,b[we]=-1,B&=~Ae}}function ci(b,S){var B=b.entangledLanes|=S;for(b=b.entanglements;B;){var ce=31-zn(B),we=1<<ce;we&S|b[ce]&S&&(b[ce]|=S),B&=~we}}var on=0;function Ti(b){return b&=-b,1<b?4<b?b&268435455?16:536870912:4:1}var jr,Ur,ui,_i,Oi,di=!1,zr=[],nr=null,Xn=null,rr=null,ir=new Map,_r=new Map,Hn=[],Xe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U(b,S){switch(b){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":ir.delete(S.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(S.pointerId)}}function Ne(b,S,B,ce,we,Ae){return b===null||b.nativeEvent!==Ae?(b={blockedOn:S,domEventName:B,eventSystemFlags:ce,nativeEvent:Ae,targetContainers:[we]},S!==null&&(S=ms(S),S!==null&&Ur(S)),b):(b.eventSystemFlags|=ce,S=b.targetContainers,we!==null&&S.indexOf(we)===-1&&S.push(we),b)}function We(b,S,B,ce,we){switch(S){case"focusin":return nr=Ne(nr,b,S,B,ce,we),!0;case"dragenter":return Xn=Ne(Xn,b,S,B,ce,we),!0;case"mouseover":return rr=Ne(rr,b,S,B,ce,we),!0;case"pointerover":var Ae=we.pointerId;return ir.set(Ae,Ne(ir.get(Ae)||null,b,S,B,ce,we)),!0;case"gotpointercapture":return Ae=we.pointerId,_r.set(Ae,Ne(_r.get(Ae)||null,b,S,B,ce,we)),!0}return!1}function Le(b){var S=hi(b.target);if(S!==null){var B=Vt(S);if(B!==null){if(S=B.tag,S===13){if(S=Ot(B),S!==null){b.blockedOn=S,Oi(b.priority,function(){ui(B)});return}}else if(S===3&&B.stateNode.current.memoizedState.isDehydrated){b.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}b.blockedOn=null}function ke(b){if(b.blockedOn!==null)return!1;for(var S=b.targetContainers;0<S.length;){var B=An(b.domEventName,b.eventSystemFlags,S[0],b.nativeEvent);if(B===null){B=b.nativeEvent;var ce=new B.constructor(B.type,B);mt=ce,B.target.dispatchEvent(ce),mt=null}else return S=ms(B),S!==null&&Ur(S),b.blockedOn=B,!1;S.shift()}return!0}function ft(b,S,B){ke(b)&&B.delete(S)}function Pt(){di=!1,nr!==null&&ke(nr)&&(nr=null),Xn!==null&&ke(Xn)&&(Xn=null),rr!==null&&ke(rr)&&(rr=null),ir.forEach(ft),_r.forEach(ft)}function Ft(b,S){b.blockedOn===S&&(b.blockedOn=null,di||(di=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pt)))}function Gt(b){function S(we){return Ft(we,b)}if(0<zr.length){Ft(zr[0],b);for(var B=1;B<zr.length;B++){var ce=zr[B];ce.blockedOn===b&&(ce.blockedOn=null)}}for(nr!==null&&Ft(nr,b),Xn!==null&&Ft(Xn,b),rr!==null&&Ft(rr,b),ir.forEach(S),_r.forEach(S),B=0;B<Hn.length;B++)ce=Hn[B],ce.blockedOn===b&&(ce.blockedOn=null);for(;0<Hn.length&&(B=Hn[0],B.blockedOn===null);)Le(B),B.blockedOn===null&&Hn.shift()}var Jt=M.ReactCurrentBatchConfig,sn=!0;function un(b,S,B,ce){var we=on,Ae=Jt.transition;Jt.transition=null;try{on=1,an(b,S,B,ce)}finally{on=we,Jt.transition=Ae}}function mn(b,S,B,ce){var we=on,Ae=Jt.transition;Jt.transition=null;try{on=4,an(b,S,B,ce)}finally{on=we,Jt.transition=Ae}}function an(b,S,B,ce){if(sn){var we=An(b,S,B,ce);if(we===null)Va(b,S,ce,tn,B),U(b,ce);else if(We(we,b,S,B,ce))ce.stopPropagation();else if(U(b,ce),S&4&&-1<Xe.indexOf(b)){for(;we!==null;){var Ae=ms(we);if(Ae!==null&&jr(Ae),Ae=An(b,S,B,ce),Ae===null&&Va(b,S,ce,tn,B),Ae===we)break;we=Ae}we!==null&&ce.stopPropagation()}else Va(b,S,ce,null,B)}}var tn=null;function An(b,S,B,ce){if(tn=null,b=Ze(ce),b=hi(b),b!==null)if(S=Vt(b),S===null)b=null;else if(B=S.tag,B===13){if(b=Ot(S),b!==null)return b;b=null}else if(B===3){if(S.stateNode.current.memoizedState.isDehydrated)return S.tag===3?S.stateNode.containerInfo:null;b=null}else S!==b&&(b=null);return tn=b,null}function Qt(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bt()){case Et:return 1;case Zt:return 4;case hn:case fn:return 16;case fr:return 536870912;default:return 16}default:return 16}}var rn=null,_n=null,en=null;function pr(){if(en)return en;var b,S=_n,B=S.length,ce,we="value"in rn?rn.value:rn.textContent,Ae=we.length;for(b=0;b<B&&S[b]===we[b];b++);var Re=B-b;for(ce=1;ce<=Re&&S[B-ce]===we[Ae-ce];ce++);return en=we.slice(b,1<ce?1-ce:void 0)}function Ln(b){var S=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&S===13&&(b=13)):b=S,b===10&&(b=13),32<=b||b===13?b:0}function vn(){return!0}function Hr(){return!1}function En(b){function S(B,ce,we,Ae,Re){this._reactName=B,this._targetInst=we,this.type=ce,this.nativeEvent=Ae,this.target=Re,this.currentTarget=null;for(var Be in b)b.hasOwnProperty(Be)&&(B=b[Be],this[Be]=B?B(Ae):Ae[Be]);return this.isDefaultPrevented=(Ae.defaultPrevented!=null?Ae.defaultPrevented:Ae.returnValue===!1)?vn:Hr,this.isPropagationStopped=Hr,this}return N(S.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=vn)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=vn)},persist:function(){},isPersistent:vn}),S}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=En(Vr),rs=N({},Vr,{view:0,detail:0}),ld=En(rs),Ma,Ra,is,Fs=N({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==is&&(is&&b.type==="mousemove"?(Ma=b.screenX-is.screenX,Ra=b.screenY-is.screenY):Ra=Ma=0,is=b),Ma)},movementY:function(b){return"movementY"in b?b.movementY:Ra}}),Al=En(Fs),cd=N({},Fs,{dataTransfer:0}),ud=En(cd),dd=N({},rs,{relatedTarget:0}),Fa=En(dd),hd=N({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),fd=En(hd),pd=N({},Vr,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),gd=En(pd),bd=N({},Vr,{data:0}),El=En(bd),yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wd(b){var S=this.nativeEvent;return S.getModifierState?S.getModifierState(b):(b=Sd[b])?!!S[b]:!1}function Pa(){return wd}var vd=N({},rs,{key:function(b){if(b.key){var S=yd[b.key]||b.key;if(S!=="Unidentified")return S}return b.type==="keypress"?(b=Ln(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?xd[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(b){return b.type==="keypress"?Ln(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?Ln(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),Cd=En(vd),kd=N({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=En(kd),Ad=N({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),Ed=En(Ad),Td=N({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=En(Td),Od=N({},Fs,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Md=En(Od),Rd=[9,13,27,32],Ia=d&&"CompositionEvent"in window,ss=null;d&&"documentMode"in document&&(ss=document.documentMode);var Fd=d&&"TextEvent"in window&&!ss,_l=d&&(!Ia||ss&&8<ss&&11>=ss),Ol=" ",Ml=!1;function Rl(b,S){switch(b){case"keyup":return Rd.indexOf(S.keyCode)!==-1;case"keydown":return S.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fl(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var Mi=!1;function Pd(b,S){switch(b){case"compositionend":return Fl(S);case"keypress":return S.which!==32?null:(Ml=!0,Ol);case"textInput":return b=S.data,b===Ol&&Ml?null:b;default:return null}}function Id(b,S){if(Mi)return b==="compositionend"||!Ia&&Rl(b,S)?(b=pr(),en=_n=rn=null,Mi=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(S.ctrlKey||S.altKey||S.metaKey)||S.ctrlKey&&S.altKey){if(S.char&&1<S.char.length)return S.char;if(S.which)return String.fromCharCode(S.which)}return null;case"compositionend":return _l&&S.locale!=="ko"?null:S.data;default:return null}}var Nd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pl(b){var S=b&&b.nodeName&&b.nodeName.toLowerCase();return S==="input"?!!Nd[b.type]:S==="textarea"}function Il(b,S,B,ce){ot(ce),S=Ls(S,"onChange"),0<S.length&&(B=new qr("onChange","change",null,B,ce),b.push({event:B,listeners:S}))}var as=null,ls=null;function Dd(b){Jl(b,0)}function Ps(b){var S=Ni(b);if(ee(S))return b}function Ld(b,S){if(b==="change")return S}var Nl=!1;if(d){var Na;if(d){var Da="oninput"in document;if(!Da){var Dl=document.createElement("div");Dl.setAttribute("oninput","return;"),Da=typeof Dl.oninput=="function"}Na=Da}else Na=!1;Nl=Na&&(!document.documentMode||9<document.documentMode)}function Ll(){as&&(as.detachEvent("onpropertychange",$l),ls=as=null)}function $l(b){if(b.propertyName==="value"&&Ps(ls)){var S=[];Il(S,ls,b,Ze(b)),rt(Dd,S)}}function $d(b,S,B){b==="focusin"?(Ll(),as=S,ls=B,as.attachEvent("onpropertychange",$l)):b==="focusout"&&Ll()}function Bd(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return Ps(ls)}function jd(b,S){if(b==="click")return Ps(S)}function Ud(b,S){if(b==="input"||b==="change")return Ps(S)}function zd(b,S){return b===S&&(b!==0||1/b===1/S)||b!==b&&S!==S}var mr=typeof Object.is=="function"?Object.is:zd;function cs(b,S){if(mr(b,S))return!0;if(typeof b!="object"||b===null||typeof S!="object"||S===null)return!1;var B=Object.keys(b),ce=Object.keys(S);if(B.length!==ce.length)return!1;for(ce=0;ce<B.length;ce++){var we=B[ce];if(!m.call(S,we)||!mr(b[we],S[we]))return!1}return!0}function Bl(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function jl(b,S){var B=Bl(b);b=0;for(var ce;B;){if(B.nodeType===3){if(ce=b+B.textContent.length,b<=S&&ce>=S)return{node:B,offset:S-b};b=ce}e:{for(;B;){if(B.nextSibling){B=B.nextSibling;break e}B=B.parentNode}B=void 0}B=Bl(B)}}function Ul(b,S){return b&&S?b===S?!0:b&&b.nodeType===3?!1:S&&S.nodeType===3?Ul(b,S.parentNode):"contains"in b?b.contains(S):b.compareDocumentPosition?!!(b.compareDocumentPosition(S)&16):!1:!1}function zl(){for(var b=window,S=te();S instanceof b.HTMLIFrameElement;){try{var B=typeof S.contentWindow.location.href=="string"}catch{B=!1}if(B)b=S.contentWindow;else break;S=te(b.document)}return S}function La(b){var S=b&&b.nodeName&&b.nodeName.toLowerCase();return S&&(S==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||S==="textarea"||b.contentEditable==="true")}function Hd(b){var S=zl(),B=b.focusedElem,ce=b.selectionRange;if(S!==B&&B&&B.ownerDocument&&Ul(B.ownerDocument.documentElement,B)){if(ce!==null&&La(B)){if(S=ce.start,b=ce.end,b===void 0&&(b=S),"selectionStart"in B)B.selectionStart=S,B.selectionEnd=Math.min(b,B.value.length);else if(b=(S=B.ownerDocument||document)&&S.defaultView||window,b.getSelection){b=b.getSelection();var we=B.textContent.length,Ae=Math.min(ce.start,we);ce=ce.end===void 0?Ae:Math.min(ce.end,we),!b.extend&&Ae>ce&&(we=ce,ce=Ae,Ae=we),we=jl(B,Ae);var Re=jl(B,ce);we&&Re&&(b.rangeCount!==1||b.anchorNode!==we.node||b.anchorOffset!==we.offset||b.focusNode!==Re.node||b.focusOffset!==Re.offset)&&(S=S.createRange(),S.setStart(we.node,we.offset),b.removeAllRanges(),Ae>ce?(b.addRange(S),b.extend(Re.node,Re.offset)):(S.setEnd(Re.node,Re.offset),b.addRange(S)))}}for(S=[],b=B;b=b.parentNode;)b.nodeType===1&&S.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<S.length;B++)b=S[B],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var Vd=d&&"documentMode"in document&&11>=document.documentMode,Ri=null,$a=null,us=null,Ba=!1;function Hl(b,S,B){var ce=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;Ba||Ri==null||Ri!==te(ce)||(ce=Ri,"selectionStart"in ce&&La(ce)?ce={start:ce.selectionStart,end:ce.selectionEnd}:(ce=(ce.ownerDocument&&ce.ownerDocument.defaultView||window).getSelection(),ce={anchorNode:ce.anchorNode,anchorOffset:ce.anchorOffset,focusNode:ce.focusNode,focusOffset:ce.focusOffset}),us&&cs(us,ce)||(us=ce,ce=Ls($a,"onSelect"),0<ce.length&&(S=new qr("onSelect","select",null,S,B),b.push({event:S,listeners:ce}),S.target=Ri)))}function Is(b,S){var B={};return B[b.toLowerCase()]=S.toLowerCase(),B["Webkit"+b]="webkit"+S,B["Moz"+b]="moz"+S,B}var Fi={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionend:Is("Transition","TransitionEnd")},ja={},Vl={};d&&(Vl=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function Ns(b){if(ja[b])return ja[b];if(!Fi[b])return b;var S=Fi[b],B;for(B in S)if(S.hasOwnProperty(B)&&B in Vl)return ja[b]=S[B];return b}var ql=Ns("animationend"),Wl=Ns("animationiteration"),Xl=Ns("animationstart"),Gl=Ns("transitionend"),Zl=new Map,Kl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(b,S){Zl.set(b,S),h(S,[b])}for(var Ua=0;Ua<Kl.length;Ua++){var za=Kl[Ua],qd=za.toLowerCase(),Wd=za[0].toUpperCase()+za.slice(1);Wr(qd,"on"+Wd)}Wr(ql,"onAnimationEnd"),Wr(Wl,"onAnimationIteration"),Wr(Xl,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(Gl,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Yl(b,S,B){var ce=b.type||"unknown-event";b.currentTarget=B,Xt(ce,S,void 0,b),b.currentTarget=null}function Jl(b,S){S=(S&4)!==0;for(var B=0;B<b.length;B++){var ce=b[B],we=ce.event;ce=ce.listeners;e:{var Ae=void 0;if(S)for(var Re=ce.length-1;0<=Re;Re--){var Be=ce[Re],He=Be.instance,at=Be.currentTarget;if(Be=Be.listener,He!==Ae&&we.isPropagationStopped())break e;Yl(we,Be,at),Ae=He}else for(Re=0;Re<ce.length;Re++){if(Be=ce[Re],He=Be.instance,at=Be.currentTarget,Be=Be.listener,He!==Ae&&we.isPropagationStopped())break e;Yl(we,Be,at),Ae=He}}}if(Ut)throw b=kt,Ut=!1,kt=null,b}function gn(b,S){var B=S[Ka];B===void 0&&(B=S[Ka]=new Set);var ce=b+"__bubble";B.has(ce)||(Ql(S,b,2,!1),B.add(ce))}function Ha(b,S,B){var ce=0;S&&(ce|=4),Ql(B,b,ce,S)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function hs(b){if(!b[Ds]){b[Ds]=!0,c.forEach(function(B){B!=="selectionchange"&&(Xd.has(B)||Ha(B,!1,b),Ha(B,!0,b))});var S=b.nodeType===9?b:b.ownerDocument;S===null||S[Ds]||(S[Ds]=!0,Ha("selectionchange",!1,S))}}function Ql(b,S,B,ce){switch(Qt(S)){case 1:var we=un;break;case 4:we=mn;break;default:we=an}B=we.bind(null,S,B,b),we=void 0,!Ve||S!=="touchstart"&&S!=="touchmove"&&S!=="wheel"||(we=!0),ce?we!==void 0?b.addEventListener(S,B,{capture:!0,passive:we}):b.addEventListener(S,B,!0):we!==void 0?b.addEventListener(S,B,{passive:we}):b.addEventListener(S,B,!1)}function Va(b,S,B,ce,we){var Ae=ce;if(!(S&1)&&!(S&2)&&ce!==null)e:for(;;){if(ce===null)return;var Re=ce.tag;if(Re===3||Re===4){var Be=ce.stateNode.containerInfo;if(Be===we||Be.nodeType===8&&Be.parentNode===we)break;if(Re===4)for(Re=ce.return;Re!==null;){var He=Re.tag;if((He===3||He===4)&&(He=Re.stateNode.containerInfo,He===we||He.nodeType===8&&He.parentNode===we))return;Re=Re.return}for(;Be!==null;){if(Re=hi(Be),Re===null)return;if(He=Re.tag,He===5||He===6){ce=Ae=Re;continue e}Be=Be.parentNode}}ce=ce.return}rt(function(){var at=Ae,yt=Ze(B),wt=[];e:{var gt=Zl.get(b);if(gt!==void 0){var Nt=qr,jt=b;switch(b){case"keypress":if(Ln(B)===0)break e;case"keydown":case"keyup":Nt=Cd;break;case"focusin":jt="focus",Nt=Fa;break;case"focusout":jt="blur",Nt=Fa;break;case"beforeblur":case"afterblur":Nt=Fa;break;case"click":if(B.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=Ed;break;case ql:case Wl:case Xl:Nt=fd;break;case Gl:Nt=_d;break;case"scroll":Nt=ld;break;case"wheel":Nt=Md;break;case"copy":case"cut":case"paste":Nt=gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=Tl}var zt=(S&4)!==0,kn=!zt&&b==="scroll",Qe=zt?gt!==null?gt+"Capture":null:gt;zt=[];for(var qe=at,et;qe!==null;){et=qe;var _t=et.stateNode;if(et.tag===5&&_t!==null&&(et=_t,Qe!==null&&(_t=ze(qe,Qe),_t!=null&&zt.push(fs(qe,_t,et)))),kn)break;qe=qe.return}0<zt.length&&(gt=new Nt(gt,jt,null,B,yt),wt.push({event:gt,listeners:zt}))}}if(!(S&7)){e:{if(gt=b==="mouseover"||b==="pointerover",Nt=b==="mouseout"||b==="pointerout",gt&&B!==mt&&(jt=B.relatedTarget||B.fromElement)&&(hi(jt)||jt[Or]))break e;if((Nt||gt)&&(gt=yt.window===yt?yt:(gt=yt.ownerDocument)?gt.defaultView||gt.parentWindow:window,Nt?(jt=B.relatedTarget||B.toElement,Nt=at,jt=jt?hi(jt):null,jt!==null&&(kn=Vt(jt),jt!==kn||jt.tag!==5&&jt.tag!==6)&&(jt=null)):(Nt=null,jt=at),Nt!==jt)){if(zt=Al,_t="onMouseLeave",Qe="onMouseEnter",qe="mouse",(b==="pointerout"||b==="pointerover")&&(zt=Tl,_t="onPointerLeave",Qe="onPointerEnter",qe="pointer"),kn=Nt==null?gt:Ni(Nt),et=jt==null?gt:Ni(jt),gt=new zt(_t,qe+"leave",Nt,B,yt),gt.target=kn,gt.relatedTarget=et,_t=null,hi(yt)===at&&(zt=new zt(Qe,qe+"enter",jt,B,yt),zt.target=et,zt.relatedTarget=kn,_t=zt),kn=_t,Nt&&jt)t:{for(zt=Nt,Qe=jt,qe=0,et=zt;et;et=Pi(et))qe++;for(et=0,_t=Qe;_t;_t=Pi(_t))et++;for(;0<qe-et;)zt=Pi(zt),qe--;for(;0<et-qe;)Qe=Pi(Qe),et--;for(;qe--;){if(zt===Qe||Qe!==null&&zt===Qe.alternate)break t;zt=Pi(zt),Qe=Pi(Qe)}zt=null}else zt=null;Nt!==null&&ec(wt,gt,Nt,zt,!1),jt!==null&&kn!==null&&ec(wt,kn,jt,zt,!0)}}e:{if(gt=at?Ni(at):window,Nt=gt.nodeName&&gt.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&gt.type==="file")var qt=Ld;else if(Pl(gt))if(Nl)qt=Ud;else{qt=Bd;var Kt=$d}else(Nt=gt.nodeName)&&Nt.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(qt=jd);if(qt&&(qt=qt(b,at))){Il(wt,qt,B,yt);break e}Kt&&Kt(b,gt,at),b==="focusout"&&(Kt=gt._wrapperState)&&Kt.controlled&&gt.type==="number"&&pe(gt,"number",gt.value)}switch(Kt=at?Ni(at):window,b){case"focusin":(Pl(Kt)||Kt.contentEditable==="true")&&(Ri=Kt,$a=at,us=null);break;case"focusout":us=$a=Ri=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,Hl(wt,B,yt);break;case"selectionchange":if(Vd)break;case"keydown":case"keyup":Hl(wt,B,yt)}var Yt;if(Ia)e:{switch(b){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else Mi?Rl(b,B)&&(nn="onCompositionEnd"):b==="keydown"&&B.keyCode===229&&(nn="onCompositionStart");nn&&(_l&&B.locale!=="ko"&&(Mi||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&Mi&&(Yt=pr()):(rn=yt,_n="value"in rn?rn.value:rn.textContent,Mi=!0)),Kt=Ls(at,nn),0<Kt.length&&(nn=new El(nn,b,null,B,yt),wt.push({event:nn,listeners:Kt}),Yt?nn.data=Yt:(Yt=Fl(B),Yt!==null&&(nn.data=Yt)))),(Yt=Fd?Pd(b,B):Id(b,B))&&(at=Ls(at,"onBeforeInput"),0<at.length&&(yt=new El("onBeforeInput","beforeinput",null,B,yt),wt.push({event:yt,listeners:at}),yt.data=Yt))}Jl(wt,S)})}function fs(b,S,B){return{instance:b,listener:S,currentTarget:B}}function Ls(b,S){for(var B=S+"Capture",ce=[];b!==null;){var we=b,Ae=we.stateNode;we.tag===5&&Ae!==null&&(we=Ae,Ae=ze(b,B),Ae!=null&&ce.unshift(fs(b,Ae,we)),Ae=ze(b,S),Ae!=null&&ce.push(fs(b,Ae,we))),b=b.return}return ce}function Pi(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function ec(b,S,B,ce,we){for(var Ae=S._reactName,Re=[];B!==null&&B!==ce;){var Be=B,He=Be.alternate,at=Be.stateNode;if(He!==null&&He===ce)break;Be.tag===5&&at!==null&&(Be=at,we?(He=ze(B,Ae),He!=null&&Re.unshift(fs(B,He,Be))):we||(He=ze(B,Ae),He!=null&&Re.push(fs(B,He,Be)))),B=B.return}Re.length!==0&&b.push({event:S,listeners:Re})}var Gd=/\r\n?/g,Zd=/\u0000|\uFFFD/g;function tc(b){return(typeof b=="string"?b:""+b).replace(Gd,`
`).replace(Zd,"")}function $s(b,S,B){if(S=tc(S),tc(b)!==S&&B)throw Error(l(425))}function Bs(){}var qa=null,Wa=null;function Xa(b,S){return b==="textarea"||b==="noscript"||typeof S.children=="string"||typeof S.children=="number"||typeof S.dangerouslySetInnerHTML=="object"&&S.dangerouslySetInnerHTML!==null&&S.dangerouslySetInnerHTML.__html!=null}var Ga=typeof setTimeout=="function"?setTimeout:void 0,Kd=typeof clearTimeout=="function"?clearTimeout:void 0,nc=typeof Promise=="function"?Promise:void 0,Yd=typeof queueMicrotask=="function"?queueMicrotask:typeof nc<"u"?function(b){return nc.resolve(null).then(b).catch(Jd)}:Ga;function Jd(b){setTimeout(function(){throw b})}function Za(b,S){var B=S,ce=0;do{var we=B.nextSibling;if(b.removeChild(B),we&&we.nodeType===8)if(B=we.data,B==="/$"){if(ce===0){b.removeChild(we),Gt(S);return}ce--}else B!=="$"&&B!=="$?"&&B!=="$!"||ce++;B=we}while(B);Gt(S)}function Xr(b){for(;b!=null;b=b.nextSibling){var S=b.nodeType;if(S===1||S===3)break;if(S===8){if(S=b.data,S==="$"||S==="$!"||S==="$?")break;if(S==="/$")return null}}return b}function rc(b){b=b.previousSibling;for(var S=0;b;){if(b.nodeType===8){var B=b.data;if(B==="$"||B==="$!"||B==="$?"){if(S===0)return b;S--}else B==="/$"&&S++}b=b.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Ii,ps="__reactProps$"+Ii,Or="__reactContainer$"+Ii,Ka="__reactEvents$"+Ii,Qd="__reactListeners$"+Ii,eh="__reactHandles$"+Ii;function hi(b){var S=b[Cr];if(S)return S;for(var B=b.parentNode;B;){if(S=B[Or]||B[Cr]){if(B=S.alternate,S.child!==null||B!==null&&B.child!==null)for(b=rc(b);b!==null;){if(B=b[Cr])return B;b=rc(b)}return S}b=B,B=b.parentNode}return null}function ms(b){return b=b[Cr]||b[Or],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function Ni(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(l(33))}function js(b){return b[ps]||null}var Ya=[],Di=-1;function Gr(b){return{current:b}}function bn(b){0>Di||(b.current=Ya[Di],Ya[Di]=null,Di--)}function pn(b,S){Di++,Ya[Di]=b.current,b.current=S}var Zr={},$n=Gr(Zr),Gn=Gr(!1),fi=Zr;function Li(b,S){var B=b.type.contextTypes;if(!B)return Zr;var ce=b.stateNode;if(ce&&ce.__reactInternalMemoizedUnmaskedChildContext===S)return ce.__reactInternalMemoizedMaskedChildContext;var we={},Ae;for(Ae in B)we[Ae]=S[Ae];return ce&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=S,b.__reactInternalMemoizedMaskedChildContext=we),we}function Zn(b){return b=b.childContextTypes,b!=null}function Us(){bn(Gn),bn($n)}function ic(b,S,B){if($n.current!==Zr)throw Error(l(168));pn($n,S),pn(Gn,B)}function sc(b,S,B){var ce=b.stateNode;if(S=S.childContextTypes,typeof ce.getChildContext!="function")return B;ce=ce.getChildContext();for(var we in ce)if(!(we in S))throw Error(l(108,re(b)||"Unknown",we));return N({},B,ce)}function zs(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Zr,fi=$n.current,pn($n,b),pn(Gn,Gn.current),!0}function ac(b,S,B){var ce=b.stateNode;if(!ce)throw Error(l(169));B?(b=sc(b,S,fi),ce.__reactInternalMemoizedMergedChildContext=b,bn(Gn),bn($n),pn($n,b)):bn(Gn),pn(Gn,B)}var Mr=null,Hs=!1,Ja=!1;function oc(b){Mr===null?Mr=[b]:Mr.push(b)}function th(b){Hs=!0,oc(b)}function Kr(){if(!Ja&&Mr!==null){Ja=!0;var b=0,S=on;try{var B=Mr;for(on=1;b<B.length;b++){var ce=B[b];do ce=ce(!0);while(ce!==null)}Mr=null,Hs=!1}catch(we){throw Mr!==null&&(Mr=Mr.slice(b+1)),Ct(Et,Kr),we}finally{on=S,Ja=!1}}return null}var $i=[],Bi=0,Vs=null,qs=0,sr=[],ar=0,pi=null,Rr=1,Fr="";function mi(b,S){$i[Bi++]=qs,$i[Bi++]=Vs,Vs=b,qs=S}function lc(b,S,B){sr[ar++]=Rr,sr[ar++]=Fr,sr[ar++]=pi,pi=b;var ce=Rr;b=Fr;var we=32-zn(ce)-1;ce&=~(1<<we),B+=1;var Ae=32-zn(S)+we;if(30<Ae){var Re=we-we%5;Ae=(ce&(1<<Re)-1).toString(32),ce>>=Re,we-=Re,Rr=1<<32-zn(S)+we|B<<we|ce,Fr=Ae+b}else Rr=1<<Ae|B<<we|ce,Fr=b}function Qa(b){b.return!==null&&(mi(b,1),lc(b,1,0))}function eo(b){for(;b===Vs;)Vs=$i[--Bi],$i[Bi]=null,qs=$i[--Bi],$i[Bi]=null;for(;b===pi;)pi=sr[--ar],sr[ar]=null,Fr=sr[--ar],sr[ar]=null,Rr=sr[--ar],sr[ar]=null}var Qn=null,er=null,xn=!1,gr=null;function cc(b,S){var B=ur(5,null,null,0);B.elementType="DELETED",B.stateNode=S,B.return=b,S=b.deletions,S===null?(b.deletions=[B],b.flags|=16):S.push(B)}function uc(b,S){switch(b.tag){case 5:var B=b.type;return S=S.nodeType!==1||B.toLowerCase()!==S.nodeName.toLowerCase()?null:S,S!==null?(b.stateNode=S,Qn=b,er=Xr(S.firstChild),!0):!1;case 6:return S=b.pendingProps===""||S.nodeType!==3?null:S,S!==null?(b.stateNode=S,Qn=b,er=null,!0):!1;case 13:return S=S.nodeType!==8?null:S,S!==null?(B=pi!==null?{id:Rr,overflow:Fr}:null,b.memoizedState={dehydrated:S,treeContext:B,retryLane:1073741824},B=ur(18,null,null,0),B.stateNode=S,B.return=b,b.child=B,Qn=b,er=null,!0):!1;default:return!1}}function to(b){return(b.mode&1)!==0&&(b.flags&128)===0}function no(b){if(xn){var S=er;if(S){var B=S;if(!uc(b,S)){if(to(b))throw Error(l(418));S=Xr(B.nextSibling);var ce=Qn;S&&uc(b,S)?cc(ce,B):(b.flags=b.flags&-4097|2,xn=!1,Qn=b)}}else{if(to(b))throw Error(l(418));b.flags=b.flags&-4097|2,xn=!1,Qn=b}}}function dc(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;Qn=b}function Ws(b){if(b!==Qn)return!1;if(!xn)return dc(b),xn=!0,!1;var S;if((S=b.tag!==3)&&!(S=b.tag!==5)&&(S=b.type,S=S!=="head"&&S!=="body"&&!Xa(b.type,b.memoizedProps)),S&&(S=er)){if(to(b))throw hc(),Error(l(418));for(;S;)cc(b,S),S=Xr(S.nextSibling)}if(dc(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(l(317));e:{for(b=b.nextSibling,S=0;b;){if(b.nodeType===8){var B=b.data;if(B==="/$"){if(S===0){er=Xr(b.nextSibling);break e}S--}else B!=="$"&&B!=="$!"&&B!=="$?"||S++}b=b.nextSibling}er=null}}else er=Qn?Xr(b.stateNode.nextSibling):null;return!0}function hc(){for(var b=er;b;)b=Xr(b.nextSibling)}function ji(){er=Qn=null,xn=!1}function ro(b){gr===null?gr=[b]:gr.push(b)}var nh=M.ReactCurrentBatchConfig;function gs(b,S,B){if(b=B.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(l(309));var ce=B.stateNode}if(!ce)throw Error(l(147,b));var we=ce,Ae=""+b;return S!==null&&S.ref!==null&&typeof S.ref=="function"&&S.ref._stringRef===Ae?S.ref:(S=function(Re){var Be=we.refs;Re===null?delete Be[Ae]:Be[Ae]=Re},S._stringRef=Ae,S)}if(typeof b!="string")throw Error(l(284));if(!B._owner)throw Error(l(290,b))}return b}function Xs(b,S){throw b=Object.prototype.toString.call(S),Error(l(31,b==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":b))}function fc(b){var S=b._init;return S(b._payload)}function pc(b){function S(Qe,qe){if(b){var et=Qe.deletions;et===null?(Qe.deletions=[qe],Qe.flags|=16):et.push(qe)}}function B(Qe,qe){if(!b)return null;for(;qe!==null;)S(Qe,qe),qe=qe.sibling;return null}function ce(Qe,qe){for(Qe=new Map;qe!==null;)qe.key!==null?Qe.set(qe.key,qe):Qe.set(qe.index,qe),qe=qe.sibling;return Qe}function we(Qe,qe){return Qe=ii(Qe,qe),Qe.index=0,Qe.sibling=null,Qe}function Ae(Qe,qe,et){return Qe.index=et,b?(et=Qe.alternate,et!==null?(et=et.index,et<qe?(Qe.flags|=2,qe):et):(Qe.flags|=2,qe)):(Qe.flags|=1048576,qe)}function Re(Qe){return b&&Qe.alternate===null&&(Qe.flags|=2),Qe}function Be(Qe,qe,et,_t){return qe===null||qe.tag!==6?(qe=Zo(et,Qe.mode,_t),qe.return=Qe,qe):(qe=we(qe,et),qe.return=Qe,qe)}function He(Qe,qe,et,_t){var qt=et.type;return qt===J?yt(Qe,qe,et.props.children,_t,et.key):qe!==null&&(qe.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===se&&fc(qt)===qe.type)?(_t=we(qe,et.props),_t.ref=gs(Qe,qe,et),_t.return=Qe,_t):(_t=ba(et.type,et.key,et.props,null,Qe.mode,_t),_t.ref=gs(Qe,qe,et),_t.return=Qe,_t)}function at(Qe,qe,et,_t){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==et.containerInfo||qe.stateNode.implementation!==et.implementation?(qe=Ko(et,Qe.mode,_t),qe.return=Qe,qe):(qe=we(qe,et.children||[]),qe.return=Qe,qe)}function yt(Qe,qe,et,_t,qt){return qe===null||qe.tag!==7?(qe=Ci(et,Qe.mode,_t,qt),qe.return=Qe,qe):(qe=we(qe,et),qe.return=Qe,qe)}function wt(Qe,qe,et){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return qe=Zo(""+qe,Qe.mode,et),qe.return=Qe,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case R:return et=ba(qe.type,qe.key,qe.props,null,Qe.mode,et),et.ref=gs(Qe,null,qe),et.return=Qe,et;case I:return qe=Ko(qe,Qe.mode,et),qe.return=Qe,qe;case se:var _t=qe._init;return wt(Qe,_t(qe._payload),et)}if(Se(qe)||Q(qe))return qe=Ci(qe,Qe.mode,et,null),qe.return=Qe,qe;Xs(Qe,qe)}return null}function gt(Qe,qe,et,_t){var qt=qe!==null?qe.key:null;if(typeof et=="string"&&et!==""||typeof et=="number")return qt!==null?null:Be(Qe,qe,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case R:return et.key===qt?He(Qe,qe,et,_t):null;case I:return et.key===qt?at(Qe,qe,et,_t):null;case se:return qt=et._init,gt(Qe,qe,qt(et._payload),_t)}if(Se(et)||Q(et))return qt!==null?null:yt(Qe,qe,et,_t,null);Xs(Qe,et)}return null}function Nt(Qe,qe,et,_t,qt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Qe=Qe.get(et)||null,Be(qe,Qe,""+_t,qt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case R:return Qe=Qe.get(_t.key===null?et:_t.key)||null,He(qe,Qe,_t,qt);case I:return Qe=Qe.get(_t.key===null?et:_t.key)||null,at(qe,Qe,_t,qt);case se:var Kt=_t._init;return Nt(Qe,qe,et,Kt(_t._payload),qt)}if(Se(_t)||Q(_t))return Qe=Qe.get(et)||null,yt(qe,Qe,_t,qt,null);Xs(qe,_t)}return null}function jt(Qe,qe,et,_t){for(var qt=null,Kt=null,Yt=qe,nn=qe=0,Pn=null;Yt!==null&&nn<et.length;nn++){Yt.index>nn?(Pn=Yt,Yt=null):Pn=Yt.sibling;var dn=gt(Qe,Yt,et[nn],_t);if(dn===null){Yt===null&&(Yt=Pn);break}b&&Yt&&dn.alternate===null&&S(Qe,Yt),qe=Ae(dn,qe,nn),Kt===null?qt=dn:Kt.sibling=dn,Kt=dn,Yt=Pn}if(nn===et.length)return B(Qe,Yt),xn&&mi(Qe,nn),qt;if(Yt===null){for(;nn<et.length;nn++)Yt=wt(Qe,et[nn],_t),Yt!==null&&(qe=Ae(Yt,qe,nn),Kt===null?qt=Yt:Kt.sibling=Yt,Kt=Yt);return xn&&mi(Qe,nn),qt}for(Yt=ce(Qe,Yt);nn<et.length;nn++)Pn=Nt(Yt,Qe,nn,et[nn],_t),Pn!==null&&(b&&Pn.alternate!==null&&Yt.delete(Pn.key===null?nn:Pn.key),qe=Ae(Pn,qe,nn),Kt===null?qt=Pn:Kt.sibling=Pn,Kt=Pn);return b&&Yt.forEach(function(si){return S(Qe,si)}),xn&&mi(Qe,nn),qt}function zt(Qe,qe,et,_t){var qt=Q(et);if(typeof qt!="function")throw Error(l(150));if(et=qt.call(et),et==null)throw Error(l(151));for(var Kt=qt=null,Yt=qe,nn=qe=0,Pn=null,dn=et.next();Yt!==null&&!dn.done;nn++,dn=et.next()){Yt.index>nn?(Pn=Yt,Yt=null):Pn=Yt.sibling;var si=gt(Qe,Yt,dn.value,_t);if(si===null){Yt===null&&(Yt=Pn);break}b&&Yt&&si.alternate===null&&S(Qe,Yt),qe=Ae(si,qe,nn),Kt===null?qt=si:Kt.sibling=si,Kt=si,Yt=Pn}if(dn.done)return B(Qe,Yt),xn&&mi(Qe,nn),qt;if(Yt===null){for(;!dn.done;nn++,dn=et.next())dn=wt(Qe,dn.value,_t),dn!==null&&(qe=Ae(dn,qe,nn),Kt===null?qt=dn:Kt.sibling=dn,Kt=dn);return xn&&mi(Qe,nn),qt}for(Yt=ce(Qe,Yt);!dn.done;nn++,dn=et.next())dn=Nt(Yt,Qe,nn,dn.value,_t),dn!==null&&(b&&dn.alternate!==null&&Yt.delete(dn.key===null?nn:dn.key),qe=Ae(dn,qe,nn),Kt===null?qt=dn:Kt.sibling=dn,Kt=dn);return b&&Yt.forEach(function(Ih){return S(Qe,Ih)}),xn&&mi(Qe,nn),qt}function kn(Qe,qe,et,_t){if(typeof et=="object"&&et!==null&&et.type===J&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case R:e:{for(var qt=et.key,Kt=qe;Kt!==null;){if(Kt.key===qt){if(qt=et.type,qt===J){if(Kt.tag===7){B(Qe,Kt.sibling),qe=we(Kt,et.props.children),qe.return=Qe,Qe=qe;break e}}else if(Kt.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===se&&fc(qt)===Kt.type){B(Qe,Kt.sibling),qe=we(Kt,et.props),qe.ref=gs(Qe,Kt,et),qe.return=Qe,Qe=qe;break e}B(Qe,Kt);break}else S(Qe,Kt);Kt=Kt.sibling}et.type===J?(qe=Ci(et.props.children,Qe.mode,_t,et.key),qe.return=Qe,Qe=qe):(_t=ba(et.type,et.key,et.props,null,Qe.mode,_t),_t.ref=gs(Qe,qe,et),_t.return=Qe,Qe=_t)}return Re(Qe);case I:e:{for(Kt=et.key;qe!==null;){if(qe.key===Kt)if(qe.tag===4&&qe.stateNode.containerInfo===et.containerInfo&&qe.stateNode.implementation===et.implementation){B(Qe,qe.sibling),qe=we(qe,et.children||[]),qe.return=Qe,Qe=qe;break e}else{B(Qe,qe);break}else S(Qe,qe);qe=qe.sibling}qe=Ko(et,Qe.mode,_t),qe.return=Qe,Qe=qe}return Re(Qe);case se:return Kt=et._init,kn(Qe,qe,Kt(et._payload),_t)}if(Se(et))return jt(Qe,qe,et,_t);if(Q(et))return zt(Qe,qe,et,_t);Xs(Qe,et)}return typeof et=="string"&&et!==""||typeof et=="number"?(et=""+et,qe!==null&&qe.tag===6?(B(Qe,qe.sibling),qe=we(qe,et),qe.return=Qe,Qe=qe):(B(Qe,qe),qe=Zo(et,Qe.mode,_t),qe.return=Qe,Qe=qe),Re(Qe)):B(Qe,qe)}return kn}var Ui=pc(!0),mc=pc(!1),Gs=Gr(null),Zs=null,zi=null,io=null;function so(){io=zi=Zs=null}function ao(b){var S=Gs.current;bn(Gs),b._currentValue=S}function oo(b,S,B){for(;b!==null;){var ce=b.alternate;if((b.childLanes&S)!==S?(b.childLanes|=S,ce!==null&&(ce.childLanes|=S)):ce!==null&&(ce.childLanes&S)!==S&&(ce.childLanes|=S),b===B)break;b=b.return}}function Hi(b,S){Zs=b,io=zi=null,b=b.dependencies,b!==null&&b.firstContext!==null&&(b.lanes&S&&(Kn=!0),b.firstContext=null)}function or(b){var S=b._currentValue;if(io!==b)if(b={context:b,memoizedValue:S,next:null},zi===null){if(Zs===null)throw Error(l(308));zi=b,Zs.dependencies={lanes:0,firstContext:b}}else zi=zi.next=b;return S}var gi=null;function lo(b){gi===null?gi=[b]:gi.push(b)}function gc(b,S,B,ce){var we=S.interleaved;return we===null?(B.next=B,lo(S)):(B.next=we.next,we.next=B),S.interleaved=B,Pr(b,ce)}function Pr(b,S){b.lanes|=S;var B=b.alternate;for(B!==null&&(B.lanes|=S),B=b,b=b.return;b!==null;)b.childLanes|=S,B=b.alternate,B!==null&&(B.childLanes|=S),B=b,b=b.return;return B.tag===3?B.stateNode:null}var Yr=!1;function co(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bc(b,S){b=b.updateQueue,S.updateQueue===b&&(S.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function Ir(b,S){return{eventTime:b,lane:S,tag:0,payload:null,callback:null,next:null}}function Jr(b,S,B){var ce=b.updateQueue;if(ce===null)return null;if(ce=ce.shared,ln&2){var we=ce.pending;return we===null?S.next=S:(S.next=we.next,we.next=S),ce.pending=S,Pr(b,B)}return we=ce.interleaved,we===null?(S.next=S,lo(ce)):(S.next=we.next,we.next=S),ce.interleaved=S,Pr(b,B)}function Ks(b,S,B){if(S=S.updateQueue,S!==null&&(S=S.shared,(B&4194240)!==0)){var ce=S.lanes;ce&=b.pendingLanes,B|=ce,S.lanes=B,ci(b,B)}}function yc(b,S){var B=b.updateQueue,ce=b.alternate;if(ce!==null&&(ce=ce.updateQueue,B===ce)){var we=null,Ae=null;if(B=B.firstBaseUpdate,B!==null){do{var Re={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};Ae===null?we=Ae=Re:Ae=Ae.next=Re,B=B.next}while(B!==null);Ae===null?we=Ae=S:Ae=Ae.next=S}else we=Ae=S;B={baseState:ce.baseState,firstBaseUpdate:we,lastBaseUpdate:Ae,shared:ce.shared,effects:ce.effects},b.updateQueue=B;return}b=B.lastBaseUpdate,b===null?B.firstBaseUpdate=S:b.next=S,B.lastBaseUpdate=S}function Ys(b,S,B,ce){var we=b.updateQueue;Yr=!1;var Ae=we.firstBaseUpdate,Re=we.lastBaseUpdate,Be=we.shared.pending;if(Be!==null){we.shared.pending=null;var He=Be,at=He.next;He.next=null,Re===null?Ae=at:Re.next=at,Re=He;var yt=b.alternate;yt!==null&&(yt=yt.updateQueue,Be=yt.lastBaseUpdate,Be!==Re&&(Be===null?yt.firstBaseUpdate=at:Be.next=at,yt.lastBaseUpdate=He))}if(Ae!==null){var wt=we.baseState;Re=0,yt=at=He=null,Be=Ae;do{var gt=Be.lane,Nt=Be.eventTime;if((ce&gt)===gt){yt!==null&&(yt=yt.next={eventTime:Nt,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var jt=b,zt=Be;switch(gt=S,Nt=B,zt.tag){case 1:if(jt=zt.payload,typeof jt=="function"){wt=jt.call(Nt,wt,gt);break e}wt=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=zt.payload,gt=typeof jt=="function"?jt.call(Nt,wt,gt):jt,gt==null)break e;wt=N({},wt,gt);break e;case 2:Yr=!0}}Be.callback!==null&&Be.lane!==0&&(b.flags|=64,gt=we.effects,gt===null?we.effects=[Be]:gt.push(Be))}else Nt={eventTime:Nt,lane:gt,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},yt===null?(at=yt=Nt,He=wt):yt=yt.next=Nt,Re|=gt;if(Be=Be.next,Be===null){if(Be=we.shared.pending,Be===null)break;gt=Be,Be=gt.next,gt.next=null,we.lastBaseUpdate=gt,we.shared.pending=null}}while(!0);if(yt===null&&(He=wt),we.baseState=He,we.firstBaseUpdate=at,we.lastBaseUpdate=yt,S=we.shared.interleaved,S!==null){we=S;do Re|=we.lane,we=we.next;while(we!==S)}else Ae===null&&(we.shared.lanes=0);xi|=Re,b.lanes=Re,b.memoizedState=wt}}function xc(b,S,B){if(b=S.effects,S.effects=null,b!==null)for(S=0;S<b.length;S++){var ce=b[S],we=ce.callback;if(we!==null){if(ce.callback=null,ce=B,typeof we!="function")throw Error(l(191,we));we.call(ce)}}}var bs={},kr=Gr(bs),ys=Gr(bs),xs=Gr(bs);function bi(b){if(b===bs)throw Error(l(174));return b}function uo(b,S){switch(pn(xs,S),pn(ys,b),pn(kr,bs),b=S.nodeType,b){case 9:case 11:S=(S=S.documentElement)?S.namespaceURI:_e(null,"");break;default:b=b===8?S.parentNode:S,S=b.namespaceURI||null,b=b.tagName,S=_e(S,b)}bn(kr),pn(kr,S)}function Vi(){bn(kr),bn(ys),bn(xs)}function Sc(b){bi(xs.current);var S=bi(kr.current),B=_e(S,b.type);S!==B&&(pn(ys,b),pn(kr,B))}function ho(b){ys.current===b&&(bn(kr),bn(ys))}var Sn=Gr(0);function Js(b){for(var S=b;S!==null;){if(S.tag===13){var B=S.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||B.data==="$?"||B.data==="$!"))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if(S.flags&128)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===b)break;for(;S.sibling===null;){if(S.return===null||S.return===b)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}var fo=[];function po(){for(var b=0;b<fo.length;b++)fo[b]._workInProgressVersionPrimary=null;fo.length=0}var Qs=M.ReactCurrentDispatcher,mo=M.ReactCurrentBatchConfig,yi=0,wn=null,On=null,Rn=null,ea=!1,Ss=!1,ws=0,rh=0;function Bn(){throw Error(l(321))}function go(b,S){if(S===null)return!1;for(var B=0;B<S.length&&B<b.length;B++)if(!mr(b[B],S[B]))return!1;return!0}function bo(b,S,B,ce,we,Ae){if(yi=Ae,wn=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,Qs.current=b===null||b.memoizedState===null?oh:lh,b=B(ce,we),Ss){Ae=0;do{if(Ss=!1,ws=0,25<=Ae)throw Error(l(301));Ae+=1,Rn=On=null,S.updateQueue=null,Qs.current=ch,b=B(ce,we)}while(Ss)}if(Qs.current=ra,S=On!==null&&On.next!==null,yi=0,Rn=On=wn=null,ea=!1,S)throw Error(l(300));return b}function yo(){var b=ws!==0;return ws=0,b}function Ar(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?wn.memoizedState=Rn=b:Rn=Rn.next=b,Rn}function lr(){if(On===null){var b=wn.alternate;b=b!==null?b.memoizedState:null}else b=On.next;var S=Rn===null?wn.memoizedState:Rn.next;if(S!==null)Rn=S,On=b;else{if(b===null)throw Error(l(310));On=b,b={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Rn===null?wn.memoizedState=Rn=b:Rn=Rn.next=b}return Rn}function vs(b,S){return typeof S=="function"?S(b):S}function xo(b){var S=lr(),B=S.queue;if(B===null)throw Error(l(311));B.lastRenderedReducer=b;var ce=On,we=ce.baseQueue,Ae=B.pending;if(Ae!==null){if(we!==null){var Re=we.next;we.next=Ae.next,Ae.next=Re}ce.baseQueue=we=Ae,B.pending=null}if(we!==null){Ae=we.next,ce=ce.baseState;var Be=Re=null,He=null,at=Ae;do{var yt=at.lane;if((yi&yt)===yt)He!==null&&(He=He.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),ce=at.hasEagerState?at.eagerState:b(ce,at.action);else{var wt={lane:yt,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};He===null?(Be=He=wt,Re=ce):He=He.next=wt,wn.lanes|=yt,xi|=yt}at=at.next}while(at!==null&&at!==Ae);He===null?Re=ce:He.next=Be,mr(ce,S.memoizedState)||(Kn=!0),S.memoizedState=ce,S.baseState=Re,S.baseQueue=He,B.lastRenderedState=ce}if(b=B.interleaved,b!==null){we=b;do Ae=we.lane,wn.lanes|=Ae,xi|=Ae,we=we.next;while(we!==b)}else we===null&&(B.lanes=0);return[S.memoizedState,B.dispatch]}function So(b){var S=lr(),B=S.queue;if(B===null)throw Error(l(311));B.lastRenderedReducer=b;var ce=B.dispatch,we=B.pending,Ae=S.memoizedState;if(we!==null){B.pending=null;var Re=we=we.next;do Ae=b(Ae,Re.action),Re=Re.next;while(Re!==we);mr(Ae,S.memoizedState)||(Kn=!0),S.memoizedState=Ae,S.baseQueue===null&&(S.baseState=Ae),B.lastRenderedState=Ae}return[Ae,ce]}function wc(){}function vc(b,S){var B=wn,ce=lr(),we=S(),Ae=!mr(ce.memoizedState,we);if(Ae&&(ce.memoizedState=we,Kn=!0),ce=ce.queue,wo(Ec.bind(null,B,ce,b),[b]),ce.getSnapshot!==S||Ae||Rn!==null&&Rn.memoizedState.tag&1){if(B.flags|=2048,Cs(9,Ac.bind(null,B,ce,we,S),void 0,null),Fn===null)throw Error(l(349));yi&30||kc(B,S,we)}return we}function kc(b,S,B){b.flags|=16384,b={getSnapshot:S,value:B},S=wn.updateQueue,S===null?(S={lastEffect:null,stores:null},wn.updateQueue=S,S.stores=[b]):(B=S.stores,B===null?S.stores=[b]:B.push(b))}function Ac(b,S,B,ce){S.value=B,S.getSnapshot=ce,Tc(S)&&_c(b)}function Ec(b,S,B){return B(function(){Tc(S)&&_c(b)})}function Tc(b){var S=b.getSnapshot;b=b.value;try{var B=S();return!mr(b,B)}catch{return!0}}function _c(b){var S=Pr(b,1);S!==null&&Sr(S,b,1,-1)}function Oc(b){var S=Ar();return typeof b=="function"&&(b=b()),S.memoizedState=S.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:b},S.queue=b,b=b.dispatch=ah.bind(null,wn,b),[S.memoizedState,b]}function Cs(b,S,B,ce){return b={tag:b,create:S,destroy:B,deps:ce,next:null},S=wn.updateQueue,S===null?(S={lastEffect:null,stores:null},wn.updateQueue=S,S.lastEffect=b.next=b):(B=S.lastEffect,B===null?S.lastEffect=b.next=b:(ce=B.next,B.next=b,b.next=ce,S.lastEffect=b)),b}function Mc(){return lr().memoizedState}function ta(b,S,B,ce){var we=Ar();wn.flags|=b,we.memoizedState=Cs(1|S,B,void 0,ce===void 0?null:ce)}function na(b,S,B,ce){var we=lr();ce=ce===void 0?null:ce;var Ae=void 0;if(On!==null){var Re=On.memoizedState;if(Ae=Re.destroy,ce!==null&&go(ce,Re.deps)){we.memoizedState=Cs(S,B,Ae,ce);return}}wn.flags|=b,we.memoizedState=Cs(1|S,B,Ae,ce)}function Rc(b,S){return ta(8390656,8,b,S)}function wo(b,S){return na(2048,8,b,S)}function Fc(b,S){return na(4,2,b,S)}function Pc(b,S){return na(4,4,b,S)}function Ic(b,S){if(typeof S=="function")return b=b(),S(b),function(){S(null)};if(S!=null)return b=b(),S.current=b,function(){S.current=null}}function Nc(b,S,B){return B=B!=null?B.concat([b]):null,na(4,4,Ic.bind(null,S,b),B)}function vo(){}function Dc(b,S){var B=lr();S=S===void 0?null:S;var ce=B.memoizedState;return ce!==null&&S!==null&&go(S,ce[1])?ce[0]:(B.memoizedState=[b,S],b)}function Lc(b,S){var B=lr();S=S===void 0?null:S;var ce=B.memoizedState;return ce!==null&&S!==null&&go(S,ce[1])?ce[0]:(b=b(),B.memoizedState=[b,S],b)}function $c(b,S,B){return yi&21?(mr(B,S)||(B=Ei(),wn.lanes|=B,xi|=B,b.baseState=!0),S):(b.baseState&&(b.baseState=!1,Kn=!0),b.memoizedState=B)}function ih(b,S){var B=on;on=B!==0&&4>B?B:4,b(!0);var ce=mo.transition;mo.transition={};try{b(!1),S()}finally{on=B,mo.transition=ce}}function Bc(){return lr().memoizedState}function sh(b,S,B){var ce=ni(b);if(B={lane:ce,action:B,hasEagerState:!1,eagerState:null,next:null},jc(b))Uc(S,B);else if(B=gc(b,S,B,ce),B!==null){var we=qn();Sr(B,b,ce,we),zc(B,S,ce)}}function ah(b,S,B){var ce=ni(b),we={lane:ce,action:B,hasEagerState:!1,eagerState:null,next:null};if(jc(b))Uc(S,we);else{var Ae=b.alternate;if(b.lanes===0&&(Ae===null||Ae.lanes===0)&&(Ae=S.lastRenderedReducer,Ae!==null))try{var Re=S.lastRenderedState,Be=Ae(Re,B);if(we.hasEagerState=!0,we.eagerState=Be,mr(Be,Re)){var He=S.interleaved;He===null?(we.next=we,lo(S)):(we.next=He.next,He.next=we),S.interleaved=we;return}}catch{}finally{}B=gc(b,S,we,ce),B!==null&&(we=qn(),Sr(B,b,ce,we),zc(B,S,ce))}}function jc(b){var S=b.alternate;return b===wn||S!==null&&S===wn}function Uc(b,S){Ss=ea=!0;var B=b.pending;B===null?S.next=S:(S.next=B.next,B.next=S),b.pending=S}function zc(b,S,B){if(B&4194240){var ce=S.lanes;ce&=b.pendingLanes,B|=ce,S.lanes=B,ci(b,B)}}var ra={readContext:or,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},oh={readContext:or,useCallback:function(b,S){return Ar().memoizedState=[b,S===void 0?null:S],b},useContext:or,useEffect:Rc,useImperativeHandle:function(b,S,B){return B=B!=null?B.concat([b]):null,ta(4194308,4,Ic.bind(null,S,b),B)},useLayoutEffect:function(b,S){return ta(4194308,4,b,S)},useInsertionEffect:function(b,S){return ta(4,2,b,S)},useMemo:function(b,S){var B=Ar();return S=S===void 0?null:S,b=b(),B.memoizedState=[b,S],b},useReducer:function(b,S,B){var ce=Ar();return S=B!==void 0?B(S):S,ce.memoizedState=ce.baseState=S,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:S},ce.queue=b,b=b.dispatch=sh.bind(null,wn,b),[ce.memoizedState,b]},useRef:function(b){var S=Ar();return b={current:b},S.memoizedState=b},useState:Oc,useDebugValue:vo,useDeferredValue:function(b){return Ar().memoizedState=b},useTransition:function(){var b=Oc(!1),S=b[0];return b=ih.bind(null,b[1]),Ar().memoizedState=b,[S,b]},useMutableSource:function(){},useSyncExternalStore:function(b,S,B){var ce=wn,we=Ar();if(xn){if(B===void 0)throw Error(l(407));B=B()}else{if(B=S(),Fn===null)throw Error(l(349));yi&30||kc(ce,S,B)}we.memoizedState=B;var Ae={value:B,getSnapshot:S};return we.queue=Ae,Rc(Ec.bind(null,ce,Ae,b),[b]),ce.flags|=2048,Cs(9,Ac.bind(null,ce,Ae,B,S),void 0,null),B},useId:function(){var b=Ar(),S=Fn.identifierPrefix;if(xn){var B=Fr,ce=Rr;B=(ce&~(1<<32-zn(ce)-1)).toString(32)+B,S=":"+S+"R"+B,B=ws++,0<B&&(S+="H"+B.toString(32)),S+=":"}else B=rh++,S=":"+S+"r"+B.toString(32)+":";return b.memoizedState=S},unstable_isNewReconciler:!1},lh={readContext:or,useCallback:Dc,useContext:or,useEffect:wo,useImperativeHandle:Nc,useInsertionEffect:Fc,useLayoutEffect:Pc,useMemo:Lc,useReducer:xo,useRef:Mc,useState:function(){return xo(vs)},useDebugValue:vo,useDeferredValue:function(b){var S=lr();return $c(S,On.memoizedState,b)},useTransition:function(){var b=xo(vs)[0],S=lr().memoizedState;return[b,S]},useMutableSource:wc,useSyncExternalStore:vc,useId:Bc,unstable_isNewReconciler:!1},ch={readContext:or,useCallback:Dc,useContext:or,useEffect:wo,useImperativeHandle:Nc,useInsertionEffect:Fc,useLayoutEffect:Pc,useMemo:Lc,useReducer:So,useRef:Mc,useState:function(){return So(vs)},useDebugValue:vo,useDeferredValue:function(b){var S=lr();return On===null?S.memoizedState=b:$c(S,On.memoizedState,b)},useTransition:function(){var b=So(vs)[0],S=lr().memoizedState;return[b,S]},useMutableSource:wc,useSyncExternalStore:vc,useId:Bc,unstable_isNewReconciler:!1};function br(b,S){if(b&&b.defaultProps){S=N({},S),b=b.defaultProps;for(var B in b)S[B]===void 0&&(S[B]=b[B]);return S}return S}function Co(b,S,B,ce){S=b.memoizedState,B=B(ce,S),B=B==null?S:N({},S,B),b.memoizedState=B,b.lanes===0&&(b.updateQueue.baseState=B)}var ia={isMounted:function(b){return(b=b._reactInternals)?Vt(b)===b:!1},enqueueSetState:function(b,S,B){b=b._reactInternals;var ce=qn(),we=ni(b),Ae=Ir(ce,we);Ae.payload=S,B!=null&&(Ae.callback=B),S=Jr(b,Ae,we),S!==null&&(Sr(S,b,we,ce),Ks(S,b,we))},enqueueReplaceState:function(b,S,B){b=b._reactInternals;var ce=qn(),we=ni(b),Ae=Ir(ce,we);Ae.tag=1,Ae.payload=S,B!=null&&(Ae.callback=B),S=Jr(b,Ae,we),S!==null&&(Sr(S,b,we,ce),Ks(S,b,we))},enqueueForceUpdate:function(b,S){b=b._reactInternals;var B=qn(),ce=ni(b),we=Ir(B,ce);we.tag=2,S!=null&&(we.callback=S),S=Jr(b,we,ce),S!==null&&(Sr(S,b,ce,B),Ks(S,b,ce))}};function Hc(b,S,B,ce,we,Ae,Re){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(ce,Ae,Re):S.prototype&&S.prototype.isPureReactComponent?!cs(B,ce)||!cs(we,Ae):!0}function Vc(b,S,B){var ce=!1,we=Zr,Ae=S.contextType;return typeof Ae=="object"&&Ae!==null?Ae=or(Ae):(we=Zn(S)?fi:$n.current,ce=S.contextTypes,Ae=(ce=ce!=null)?Li(b,we):Zr),S=new S(B,Ae),b.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=ia,b.stateNode=S,S._reactInternals=b,ce&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=we,b.__reactInternalMemoizedMaskedChildContext=Ae),S}function qc(b,S,B,ce){b=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(B,ce),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(B,ce),S.state!==b&&ia.enqueueReplaceState(S,S.state,null)}function ko(b,S,B,ce){var we=b.stateNode;we.props=B,we.state=b.memoizedState,we.refs={},co(b);var Ae=S.contextType;typeof Ae=="object"&&Ae!==null?we.context=or(Ae):(Ae=Zn(S)?fi:$n.current,we.context=Li(b,Ae)),we.state=b.memoizedState,Ae=S.getDerivedStateFromProps,typeof Ae=="function"&&(Co(b,S,Ae,B),we.state=b.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof we.getSnapshotBeforeUpdate=="function"||typeof we.UNSAFE_componentWillMount!="function"&&typeof we.componentWillMount!="function"||(S=we.state,typeof we.componentWillMount=="function"&&we.componentWillMount(),typeof we.UNSAFE_componentWillMount=="function"&&we.UNSAFE_componentWillMount(),S!==we.state&&ia.enqueueReplaceState(we,we.state,null),Ys(b,B,we,ce),we.state=b.memoizedState),typeof we.componentDidMount=="function"&&(b.flags|=4194308)}function qi(b,S){try{var B="",ce=S;do B+=fe(ce),ce=ce.return;while(ce);var we=B}catch(Ae){we=`
Error generating stack: `+Ae.message+`
`+Ae.stack}return{value:b,source:S,stack:we,digest:null}}function Ao(b,S,B){return{value:b,source:null,stack:B??null,digest:S??null}}function Eo(b,S){try{console.error(S.value)}catch(B){setTimeout(function(){throw B})}}var uh=typeof WeakMap=="function"?WeakMap:Map;function Wc(b,S,B){B=Ir(-1,B),B.tag=3,B.payload={element:null};var ce=S.value;return B.callback=function(){da||(da=!0,Uo=ce),Eo(b,S)},B}function Xc(b,S,B){B=Ir(-1,B),B.tag=3;var ce=b.type.getDerivedStateFromError;if(typeof ce=="function"){var we=S.value;B.payload=function(){return ce(we)},B.callback=function(){Eo(b,S)}}var Ae=b.stateNode;return Ae!==null&&typeof Ae.componentDidCatch=="function"&&(B.callback=function(){Eo(b,S),typeof ce!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var Re=S.stack;this.componentDidCatch(S.value,{componentStack:Re!==null?Re:""})}),B}function Gc(b,S,B){var ce=b.pingCache;if(ce===null){ce=b.pingCache=new uh;var we=new Set;ce.set(S,we)}else we=ce.get(S),we===void 0&&(we=new Set,ce.set(S,we));we.has(B)||(we.add(B),b=kh.bind(null,b,S,B),S.then(b,b))}function Zc(b){do{var S;if((S=b.tag===13)&&(S=b.memoizedState,S=S!==null?S.dehydrated!==null:!0),S)return b;b=b.return}while(b!==null);return null}function Kc(b,S,B,ce,we){return b.mode&1?(b.flags|=65536,b.lanes=we,b):(b===S?b.flags|=65536:(b.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(S=Ir(-1,1),S.tag=2,Jr(B,S,1))),B.lanes|=1),b)}var dh=M.ReactCurrentOwner,Kn=!1;function Vn(b,S,B,ce){S.child=b===null?mc(S,null,B,ce):Ui(S,b.child,B,ce)}function Yc(b,S,B,ce,we){B=B.render;var Ae=S.ref;return Hi(S,we),ce=bo(b,S,B,ce,Ae,we),B=yo(),b!==null&&!Kn?(S.updateQueue=b.updateQueue,S.flags&=-2053,b.lanes&=~we,Nr(b,S,we)):(xn&&B&&Qa(S),S.flags|=1,Vn(b,S,ce,we),S.child)}function Jc(b,S,B,ce,we){if(b===null){var Ae=B.type;return typeof Ae=="function"&&!Go(Ae)&&Ae.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(S.tag=15,S.type=Ae,Qc(b,S,Ae,ce,we)):(b=ba(B.type,null,ce,S,S.mode,we),b.ref=S.ref,b.return=S,S.child=b)}if(Ae=b.child,!(b.lanes&we)){var Re=Ae.memoizedProps;if(B=B.compare,B=B!==null?B:cs,B(Re,ce)&&b.ref===S.ref)return Nr(b,S,we)}return S.flags|=1,b=ii(Ae,ce),b.ref=S.ref,b.return=S,S.child=b}function Qc(b,S,B,ce,we){if(b!==null){var Ae=b.memoizedProps;if(cs(Ae,ce)&&b.ref===S.ref)if(Kn=!1,S.pendingProps=ce=Ae,(b.lanes&we)!==0)b.flags&131072&&(Kn=!0);else return S.lanes=b.lanes,Nr(b,S,we)}return To(b,S,B,ce,we)}function eu(b,S,B){var ce=S.pendingProps,we=ce.children,Ae=b!==null?b.memoizedState:null;if(ce.mode==="hidden")if(!(S.mode&1))S.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(Xi,tr),tr|=B;else{if(!(B&1073741824))return b=Ae!==null?Ae.baseLanes|B:B,S.lanes=S.childLanes=1073741824,S.memoizedState={baseLanes:b,cachePool:null,transitions:null},S.updateQueue=null,pn(Xi,tr),tr|=b,null;S.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce=Ae!==null?Ae.baseLanes:B,pn(Xi,tr),tr|=ce}else Ae!==null?(ce=Ae.baseLanes|B,S.memoizedState=null):ce=B,pn(Xi,tr),tr|=ce;return Vn(b,S,we,B),S.child}function tu(b,S){var B=S.ref;(b===null&&B!==null||b!==null&&b.ref!==B)&&(S.flags|=512,S.flags|=2097152)}function To(b,S,B,ce,we){var Ae=Zn(B)?fi:$n.current;return Ae=Li(S,Ae),Hi(S,we),B=bo(b,S,B,ce,Ae,we),ce=yo(),b!==null&&!Kn?(S.updateQueue=b.updateQueue,S.flags&=-2053,b.lanes&=~we,Nr(b,S,we)):(xn&&ce&&Qa(S),S.flags|=1,Vn(b,S,B,we),S.child)}function nu(b,S,B,ce,we){if(Zn(B)){var Ae=!0;zs(S)}else Ae=!1;if(Hi(S,we),S.stateNode===null)aa(b,S),Vc(S,B,ce),ko(S,B,ce,we),ce=!0;else if(b===null){var Re=S.stateNode,Be=S.memoizedProps;Re.props=Be;var He=Re.context,at=B.contextType;typeof at=="object"&&at!==null?at=or(at):(at=Zn(B)?fi:$n.current,at=Li(S,at));var yt=B.getDerivedStateFromProps,wt=typeof yt=="function"||typeof Re.getSnapshotBeforeUpdate=="function";wt||typeof Re.UNSAFE_componentWillReceiveProps!="function"&&typeof Re.componentWillReceiveProps!="function"||(Be!==ce||He!==at)&&qc(S,Re,ce,at),Yr=!1;var gt=S.memoizedState;Re.state=gt,Ys(S,ce,Re,we),He=S.memoizedState,Be!==ce||gt!==He||Gn.current||Yr?(typeof yt=="function"&&(Co(S,B,yt,ce),He=S.memoizedState),(Be=Yr||Hc(S,B,Be,ce,gt,He,at))?(wt||typeof Re.UNSAFE_componentWillMount!="function"&&typeof Re.componentWillMount!="function"||(typeof Re.componentWillMount=="function"&&Re.componentWillMount(),typeof Re.UNSAFE_componentWillMount=="function"&&Re.UNSAFE_componentWillMount()),typeof Re.componentDidMount=="function"&&(S.flags|=4194308)):(typeof Re.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=ce,S.memoizedState=He),Re.props=ce,Re.state=He,Re.context=at,ce=Be):(typeof Re.componentDidMount=="function"&&(S.flags|=4194308),ce=!1)}else{Re=S.stateNode,bc(b,S),Be=S.memoizedProps,at=S.type===S.elementType?Be:br(S.type,Be),Re.props=at,wt=S.pendingProps,gt=Re.context,He=B.contextType,typeof He=="object"&&He!==null?He=or(He):(He=Zn(B)?fi:$n.current,He=Li(S,He));var Nt=B.getDerivedStateFromProps;(yt=typeof Nt=="function"||typeof Re.getSnapshotBeforeUpdate=="function")||typeof Re.UNSAFE_componentWillReceiveProps!="function"&&typeof Re.componentWillReceiveProps!="function"||(Be!==wt||gt!==He)&&qc(S,Re,ce,He),Yr=!1,gt=S.memoizedState,Re.state=gt,Ys(S,ce,Re,we);var jt=S.memoizedState;Be!==wt||gt!==jt||Gn.current||Yr?(typeof Nt=="function"&&(Co(S,B,Nt,ce),jt=S.memoizedState),(at=Yr||Hc(S,B,at,ce,gt,jt,He)||!1)?(yt||typeof Re.UNSAFE_componentWillUpdate!="function"&&typeof Re.componentWillUpdate!="function"||(typeof Re.componentWillUpdate=="function"&&Re.componentWillUpdate(ce,jt,He),typeof Re.UNSAFE_componentWillUpdate=="function"&&Re.UNSAFE_componentWillUpdate(ce,jt,He)),typeof Re.componentDidUpdate=="function"&&(S.flags|=4),typeof Re.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof Re.componentDidUpdate!="function"||Be===b.memoizedProps&&gt===b.memoizedState||(S.flags|=4),typeof Re.getSnapshotBeforeUpdate!="function"||Be===b.memoizedProps&&gt===b.memoizedState||(S.flags|=1024),S.memoizedProps=ce,S.memoizedState=jt),Re.props=ce,Re.state=jt,Re.context=He,ce=at):(typeof Re.componentDidUpdate!="function"||Be===b.memoizedProps&&gt===b.memoizedState||(S.flags|=4),typeof Re.getSnapshotBeforeUpdate!="function"||Be===b.memoizedProps&&gt===b.memoizedState||(S.flags|=1024),ce=!1)}return _o(b,S,B,ce,Ae,we)}function _o(b,S,B,ce,we,Ae){tu(b,S);var Re=(S.flags&128)!==0;if(!ce&&!Re)return we&&ac(S,B,!1),Nr(b,S,Ae);ce=S.stateNode,dh.current=S;var Be=Re&&typeof B.getDerivedStateFromError!="function"?null:ce.render();return S.flags|=1,b!==null&&Re?(S.child=Ui(S,b.child,null,Ae),S.child=Ui(S,null,Be,Ae)):Vn(b,S,Be,Ae),S.memoizedState=ce.state,we&&ac(S,B,!0),S.child}function ru(b){var S=b.stateNode;S.pendingContext?ic(b,S.pendingContext,S.pendingContext!==S.context):S.context&&ic(b,S.context,!1),uo(b,S.containerInfo)}function iu(b,S,B,ce,we){return ji(),ro(we),S.flags|=256,Vn(b,S,B,ce),S.child}var Oo={dehydrated:null,treeContext:null,retryLane:0};function Mo(b){return{baseLanes:b,cachePool:null,transitions:null}}function su(b,S,B){var ce=S.pendingProps,we=Sn.current,Ae=!1,Re=(S.flags&128)!==0,Be;if((Be=Re)||(Be=b!==null&&b.memoizedState===null?!1:(we&2)!==0),Be?(Ae=!0,S.flags&=-129):(b===null||b.memoizedState!==null)&&(we|=1),pn(Sn,we&1),b===null)return no(S),b=S.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?(S.mode&1?b.data==="$!"?S.lanes=8:S.lanes=1073741824:S.lanes=1,null):(Re=ce.children,b=ce.fallback,Ae?(ce=S.mode,Ae=S.child,Re={mode:"hidden",children:Re},!(ce&1)&&Ae!==null?(Ae.childLanes=0,Ae.pendingProps=Re):Ae=ya(Re,ce,0,null),b=Ci(b,ce,B,null),Ae.return=S,b.return=S,Ae.sibling=b,S.child=Ae,S.child.memoizedState=Mo(B),S.memoizedState=Oo,b):Ro(S,Re));if(we=b.memoizedState,we!==null&&(Be=we.dehydrated,Be!==null))return hh(b,S,Re,ce,Be,we,B);if(Ae){Ae=ce.fallback,Re=S.mode,we=b.child,Be=we.sibling;var He={mode:"hidden",children:ce.children};return!(Re&1)&&S.child!==we?(ce=S.child,ce.childLanes=0,ce.pendingProps=He,S.deletions=null):(ce=ii(we,He),ce.subtreeFlags=we.subtreeFlags&14680064),Be!==null?Ae=ii(Be,Ae):(Ae=Ci(Ae,Re,B,null),Ae.flags|=2),Ae.return=S,ce.return=S,ce.sibling=Ae,S.child=ce,ce=Ae,Ae=S.child,Re=b.child.memoizedState,Re=Re===null?Mo(B):{baseLanes:Re.baseLanes|B,cachePool:null,transitions:Re.transitions},Ae.memoizedState=Re,Ae.childLanes=b.childLanes&~B,S.memoizedState=Oo,ce}return Ae=b.child,b=Ae.sibling,ce=ii(Ae,{mode:"visible",children:ce.children}),!(S.mode&1)&&(ce.lanes=B),ce.return=S,ce.sibling=null,b!==null&&(B=S.deletions,B===null?(S.deletions=[b],S.flags|=16):B.push(b)),S.child=ce,S.memoizedState=null,ce}function Ro(b,S){return S=ya({mode:"visible",children:S},b.mode,0,null),S.return=b,b.child=S}function sa(b,S,B,ce){return ce!==null&&ro(ce),Ui(S,b.child,null,B),b=Ro(S,S.pendingProps.children),b.flags|=2,S.memoizedState=null,b}function hh(b,S,B,ce,we,Ae,Re){if(B)return S.flags&256?(S.flags&=-257,ce=Ao(Error(l(422))),sa(b,S,Re,ce)):S.memoizedState!==null?(S.child=b.child,S.flags|=128,null):(Ae=ce.fallback,we=S.mode,ce=ya({mode:"visible",children:ce.children},we,0,null),Ae=Ci(Ae,we,Re,null),Ae.flags|=2,ce.return=S,Ae.return=S,ce.sibling=Ae,S.child=ce,S.mode&1&&Ui(S,b.child,null,Re),S.child.memoizedState=Mo(Re),S.memoizedState=Oo,Ae);if(!(S.mode&1))return sa(b,S,Re,null);if(we.data==="$!"){if(ce=we.nextSibling&&we.nextSibling.dataset,ce)var Be=ce.dgst;return ce=Be,Ae=Error(l(419)),ce=Ao(Ae,ce,void 0),sa(b,S,Re,ce)}if(Be=(Re&b.childLanes)!==0,Kn||Be){if(ce=Fn,ce!==null){switch(Re&-Re){case 4:we=2;break;case 16:we=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:we=32;break;case 536870912:we=268435456;break;default:we=0}we=we&(ce.suspendedLanes|Re)?0:we,we!==0&&we!==Ae.retryLane&&(Ae.retryLane=we,Pr(b,we),Sr(ce,b,we,-1))}return Xo(),ce=Ao(Error(l(421))),sa(b,S,Re,ce)}return we.data==="$?"?(S.flags|=128,S.child=b.child,S=Ah.bind(null,b),we._reactRetry=S,null):(b=Ae.treeContext,er=Xr(we.nextSibling),Qn=S,xn=!0,gr=null,b!==null&&(sr[ar++]=Rr,sr[ar++]=Fr,sr[ar++]=pi,Rr=b.id,Fr=b.overflow,pi=S),S=Ro(S,ce.children),S.flags|=4096,S)}function au(b,S,B){b.lanes|=S;var ce=b.alternate;ce!==null&&(ce.lanes|=S),oo(b.return,S,B)}function Fo(b,S,B,ce,we){var Ae=b.memoizedState;Ae===null?b.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:ce,tail:B,tailMode:we}:(Ae.isBackwards=S,Ae.rendering=null,Ae.renderingStartTime=0,Ae.last=ce,Ae.tail=B,Ae.tailMode=we)}function ou(b,S,B){var ce=S.pendingProps,we=ce.revealOrder,Ae=ce.tail;if(Vn(b,S,ce.children,B),ce=Sn.current,ce&2)ce=ce&1|2,S.flags|=128;else{if(b!==null&&b.flags&128)e:for(b=S.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&au(b,B,S);else if(b.tag===19)au(b,B,S);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===S)break e;for(;b.sibling===null;){if(b.return===null||b.return===S)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}ce&=1}if(pn(Sn,ce),!(S.mode&1))S.memoizedState=null;else switch(we){case"forwards":for(B=S.child,we=null;B!==null;)b=B.alternate,b!==null&&Js(b)===null&&(we=B),B=B.sibling;B=we,B===null?(we=S.child,S.child=null):(we=B.sibling,B.sibling=null),Fo(S,!1,we,B,Ae);break;case"backwards":for(B=null,we=S.child,S.child=null;we!==null;){if(b=we.alternate,b!==null&&Js(b)===null){S.child=we;break}b=we.sibling,we.sibling=B,B=we,we=b}Fo(S,!0,B,null,Ae);break;case"together":Fo(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function aa(b,S){!(S.mode&1)&&b!==null&&(b.alternate=null,S.alternate=null,S.flags|=2)}function Nr(b,S,B){if(b!==null&&(S.dependencies=b.dependencies),xi|=S.lanes,!(B&S.childLanes))return null;if(b!==null&&S.child!==b.child)throw Error(l(153));if(S.child!==null){for(b=S.child,B=ii(b,b.pendingProps),S.child=B,B.return=S;b.sibling!==null;)b=b.sibling,B=B.sibling=ii(b,b.pendingProps),B.return=S;B.sibling=null}return S.child}function fh(b,S,B){switch(S.tag){case 3:ru(S),ji();break;case 5:Sc(S);break;case 1:Zn(S.type)&&zs(S);break;case 4:uo(S,S.stateNode.containerInfo);break;case 10:var ce=S.type._context,we=S.memoizedProps.value;pn(Gs,ce._currentValue),ce._currentValue=we;break;case 13:if(ce=S.memoizedState,ce!==null)return ce.dehydrated!==null?(pn(Sn,Sn.current&1),S.flags|=128,null):B&S.child.childLanes?su(b,S,B):(pn(Sn,Sn.current&1),b=Nr(b,S,B),b!==null?b.sibling:null);pn(Sn,Sn.current&1);break;case 19:if(ce=(B&S.childLanes)!==0,b.flags&128){if(ce)return ou(b,S,B);S.flags|=128}if(we=S.memoizedState,we!==null&&(we.rendering=null,we.tail=null,we.lastEffect=null),pn(Sn,Sn.current),ce)break;return null;case 22:case 23:return S.lanes=0,eu(b,S,B)}return Nr(b,S,B)}var lu,Po,cu,uu;lu=function(b,S){for(var B=S.child;B!==null;){if(B.tag===5||B.tag===6)b.appendChild(B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===S)break;for(;B.sibling===null;){if(B.return===null||B.return===S)return;B=B.return}B.sibling.return=B.return,B=B.sibling}},Po=function(){},cu=function(b,S,B,ce){var we=b.memoizedProps;if(we!==ce){b=S.stateNode,bi(kr.current);var Ae=null;switch(B){case"input":we=oe(b,we),ce=oe(b,ce),Ae=[];break;case"select":we=N({},we,{value:void 0}),ce=N({},ce,{value:void 0}),Ae=[];break;case"textarea":we=de(b,we),ce=de(b,ce),Ae=[];break;default:typeof we.onClick!="function"&&typeof ce.onClick=="function"&&(b.onclick=Bs)}ut(B,ce);var Re;B=null;for(at in we)if(!ce.hasOwnProperty(at)&&we.hasOwnProperty(at)&&we[at]!=null)if(at==="style"){var Be=we[at];for(Re in Be)Be.hasOwnProperty(Re)&&(B||(B={}),B[Re]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(f.hasOwnProperty(at)?Ae||(Ae=[]):(Ae=Ae||[]).push(at,null));for(at in ce){var He=ce[at];if(Be=we!=null?we[at]:void 0,ce.hasOwnProperty(at)&&He!==Be&&(He!=null||Be!=null))if(at==="style")if(Be){for(Re in Be)!Be.hasOwnProperty(Re)||He&&He.hasOwnProperty(Re)||(B||(B={}),B[Re]="");for(Re in He)He.hasOwnProperty(Re)&&Be[Re]!==He[Re]&&(B||(B={}),B[Re]=He[Re])}else B||(Ae||(Ae=[]),Ae.push(at,B)),B=He;else at==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,Be=Be?Be.__html:void 0,He!=null&&Be!==He&&(Ae=Ae||[]).push(at,He)):at==="children"?typeof He!="string"&&typeof He!="number"||(Ae=Ae||[]).push(at,""+He):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(f.hasOwnProperty(at)?(He!=null&&at==="onScroll"&&gn("scroll",b),Ae||Be===He||(Ae=[])):(Ae=Ae||[]).push(at,He))}B&&(Ae=Ae||[]).push("style",B);var at=Ae;(S.updateQueue=at)&&(S.flags|=4)}},uu=function(b,S,B,ce){B!==ce&&(S.flags|=4)};function ks(b,S){if(!xn)switch(b.tailMode){case"hidden":S=b.tail;for(var B=null;S!==null;)S.alternate!==null&&(B=S),S=S.sibling;B===null?b.tail=null:B.sibling=null;break;case"collapsed":B=b.tail;for(var ce=null;B!==null;)B.alternate!==null&&(ce=B),B=B.sibling;ce===null?S||b.tail===null?b.tail=null:b.tail.sibling=null:ce.sibling=null}}function jn(b){var S=b.alternate!==null&&b.alternate.child===b.child,B=0,ce=0;if(S)for(var we=b.child;we!==null;)B|=we.lanes|we.childLanes,ce|=we.subtreeFlags&14680064,ce|=we.flags&14680064,we.return=b,we=we.sibling;else for(we=b.child;we!==null;)B|=we.lanes|we.childLanes,ce|=we.subtreeFlags,ce|=we.flags,we.return=b,we=we.sibling;return b.subtreeFlags|=ce,b.childLanes=B,S}function ph(b,S,B){var ce=S.pendingProps;switch(eo(S),S.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(S),null;case 1:return Zn(S.type)&&Us(),jn(S),null;case 3:return ce=S.stateNode,Vi(),bn(Gn),bn($n),po(),ce.pendingContext&&(ce.context=ce.pendingContext,ce.pendingContext=null),(b===null||b.child===null)&&(Ws(S)?S.flags|=4:b===null||b.memoizedState.isDehydrated&&!(S.flags&256)||(S.flags|=1024,gr!==null&&(Vo(gr),gr=null))),Po(b,S),jn(S),null;case 5:ho(S);var we=bi(xs.current);if(B=S.type,b!==null&&S.stateNode!=null)cu(b,S,B,ce,we),b.ref!==S.ref&&(S.flags|=512,S.flags|=2097152);else{if(!ce){if(S.stateNode===null)throw Error(l(166));return jn(S),null}if(b=bi(kr.current),Ws(S)){ce=S.stateNode,B=S.type;var Ae=S.memoizedProps;switch(ce[Cr]=S,ce[ps]=Ae,b=(S.mode&1)!==0,B){case"dialog":gn("cancel",ce),gn("close",ce);break;case"iframe":case"object":case"embed":gn("load",ce);break;case"video":case"audio":for(we=0;we<ds.length;we++)gn(ds[we],ce);break;case"source":gn("error",ce);break;case"img":case"image":case"link":gn("error",ce),gn("load",ce);break;case"details":gn("toggle",ce);break;case"input":V(ce,Ae),gn("invalid",ce);break;case"select":ce._wrapperState={wasMultiple:!!Ae.multiple},gn("invalid",ce);break;case"textarea":xe(ce,Ae),gn("invalid",ce)}ut(B,Ae),we=null;for(var Re in Ae)if(Ae.hasOwnProperty(Re)){var Be=Ae[Re];Re==="children"?typeof Be=="string"?ce.textContent!==Be&&(Ae.suppressHydrationWarning!==!0&&$s(ce.textContent,Be,b),we=["children",Be]):typeof Be=="number"&&ce.textContent!==""+Be&&(Ae.suppressHydrationWarning!==!0&&$s(ce.textContent,Be,b),we=["children",""+Be]):f.hasOwnProperty(Re)&&Be!=null&&Re==="onScroll"&&gn("scroll",ce)}switch(B){case"input":me(ce),he(ce,Ae,!0);break;case"textarea":me(ce),Ee(ce);break;case"select":case"option":break;default:typeof Ae.onClick=="function"&&(ce.onclick=Bs)}ce=we,S.updateQueue=ce,ce!==null&&(S.flags|=4)}else{Re=we.nodeType===9?we:we.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=Te(B)),b==="http://www.w3.org/1999/xhtml"?B==="script"?(b=Re.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof ce.is=="string"?b=Re.createElement(B,{is:ce.is}):(b=Re.createElement(B),B==="select"&&(Re=b,ce.multiple?Re.multiple=!0:ce.size&&(Re.size=ce.size))):b=Re.createElementNS(b,B),b[Cr]=S,b[ps]=ce,lu(b,S,!1,!1),S.stateNode=b;e:{switch(Re=ct(B,ce),B){case"dialog":gn("cancel",b),gn("close",b),we=ce;break;case"iframe":case"object":case"embed":gn("load",b),we=ce;break;case"video":case"audio":for(we=0;we<ds.length;we++)gn(ds[we],b);we=ce;break;case"source":gn("error",b),we=ce;break;case"img":case"image":case"link":gn("error",b),gn("load",b),we=ce;break;case"details":gn("toggle",b),we=ce;break;case"input":V(b,ce),we=oe(b,ce),gn("invalid",b);break;case"option":we=ce;break;case"select":b._wrapperState={wasMultiple:!!ce.multiple},we=N({},ce,{value:void 0}),gn("invalid",b);break;case"textarea":xe(b,ce),we=de(b,ce),gn("invalid",b);break;default:we=ce}ut(B,we),Be=we;for(Ae in Be)if(Be.hasOwnProperty(Ae)){var He=Be[Ae];Ae==="style"?$e(b,He):Ae==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,He!=null&&Pe(b,He)):Ae==="children"?typeof He=="string"?(B!=="textarea"||He!=="")&&je(b,He):typeof He=="number"&&je(b,""+He):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(f.hasOwnProperty(Ae)?He!=null&&Ae==="onScroll"&&gn("scroll",b):He!=null&&v(b,Ae,He,Re))}switch(B){case"input":me(b),he(b,ce,!1);break;case"textarea":me(b),Ee(b);break;case"option":ce.value!=null&&b.setAttribute("value",""+be(ce.value));break;case"select":b.multiple=!!ce.multiple,Ae=ce.value,Ae!=null?ge(b,!!ce.multiple,Ae,!1):ce.defaultValue!=null&&ge(b,!!ce.multiple,ce.defaultValue,!0);break;default:typeof we.onClick=="function"&&(b.onclick=Bs)}switch(B){case"button":case"input":case"select":case"textarea":ce=!!ce.autoFocus;break e;case"img":ce=!0;break e;default:ce=!1}}ce&&(S.flags|=4)}S.ref!==null&&(S.flags|=512,S.flags|=2097152)}return jn(S),null;case 6:if(b&&S.stateNode!=null)uu(b,S,b.memoizedProps,ce);else{if(typeof ce!="string"&&S.stateNode===null)throw Error(l(166));if(B=bi(xs.current),bi(kr.current),Ws(S)){if(ce=S.stateNode,B=S.memoizedProps,ce[Cr]=S,(Ae=ce.nodeValue!==B)&&(b=Qn,b!==null))switch(b.tag){case 3:$s(ce.nodeValue,B,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&$s(ce.nodeValue,B,(b.mode&1)!==0)}Ae&&(S.flags|=4)}else ce=(B.nodeType===9?B:B.ownerDocument).createTextNode(ce),ce[Cr]=S,S.stateNode=ce}return jn(S),null;case 13:if(bn(Sn),ce=S.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(xn&&er!==null&&S.mode&1&&!(S.flags&128))hc(),ji(),S.flags|=98560,Ae=!1;else if(Ae=Ws(S),ce!==null&&ce.dehydrated!==null){if(b===null){if(!Ae)throw Error(l(318));if(Ae=S.memoizedState,Ae=Ae!==null?Ae.dehydrated:null,!Ae)throw Error(l(317));Ae[Cr]=S}else ji(),!(S.flags&128)&&(S.memoizedState=null),S.flags|=4;jn(S),Ae=!1}else gr!==null&&(Vo(gr),gr=null),Ae=!0;if(!Ae)return S.flags&65536?S:null}return S.flags&128?(S.lanes=B,S):(ce=ce!==null,ce!==(b!==null&&b.memoizedState!==null)&&ce&&(S.child.flags|=8192,S.mode&1&&(b===null||Sn.current&1?Mn===0&&(Mn=3):Xo())),S.updateQueue!==null&&(S.flags|=4),jn(S),null);case 4:return Vi(),Po(b,S),b===null&&hs(S.stateNode.containerInfo),jn(S),null;case 10:return ao(S.type._context),jn(S),null;case 17:return Zn(S.type)&&Us(),jn(S),null;case 19:if(bn(Sn),Ae=S.memoizedState,Ae===null)return jn(S),null;if(ce=(S.flags&128)!==0,Re=Ae.rendering,Re===null)if(ce)ks(Ae,!1);else{if(Mn!==0||b!==null&&b.flags&128)for(b=S.child;b!==null;){if(Re=Js(b),Re!==null){for(S.flags|=128,ks(Ae,!1),ce=Re.updateQueue,ce!==null&&(S.updateQueue=ce,S.flags|=4),S.subtreeFlags=0,ce=B,B=S.child;B!==null;)Ae=B,b=ce,Ae.flags&=14680066,Re=Ae.alternate,Re===null?(Ae.childLanes=0,Ae.lanes=b,Ae.child=null,Ae.subtreeFlags=0,Ae.memoizedProps=null,Ae.memoizedState=null,Ae.updateQueue=null,Ae.dependencies=null,Ae.stateNode=null):(Ae.childLanes=Re.childLanes,Ae.lanes=Re.lanes,Ae.child=Re.child,Ae.subtreeFlags=0,Ae.deletions=null,Ae.memoizedProps=Re.memoizedProps,Ae.memoizedState=Re.memoizedState,Ae.updateQueue=Re.updateQueue,Ae.type=Re.type,b=Re.dependencies,Ae.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),B=B.sibling;return pn(Sn,Sn.current&1|2),S.child}b=b.sibling}Ae.tail!==null&&nt()>Gi&&(S.flags|=128,ce=!0,ks(Ae,!1),S.lanes=4194304)}else{if(!ce)if(b=Js(Re),b!==null){if(S.flags|=128,ce=!0,B=b.updateQueue,B!==null&&(S.updateQueue=B,S.flags|=4),ks(Ae,!0),Ae.tail===null&&Ae.tailMode==="hidden"&&!Re.alternate&&!xn)return jn(S),null}else 2*nt()-Ae.renderingStartTime>Gi&&B!==1073741824&&(S.flags|=128,ce=!0,ks(Ae,!1),S.lanes=4194304);Ae.isBackwards?(Re.sibling=S.child,S.child=Re):(B=Ae.last,B!==null?B.sibling=Re:S.child=Re,Ae.last=Re)}return Ae.tail!==null?(S=Ae.tail,Ae.rendering=S,Ae.tail=S.sibling,Ae.renderingStartTime=nt(),S.sibling=null,B=Sn.current,pn(Sn,ce?B&1|2:B&1),S):(jn(S),null);case 22:case 23:return Wo(),ce=S.memoizedState!==null,b!==null&&b.memoizedState!==null!==ce&&(S.flags|=8192),ce&&S.mode&1?tr&1073741824&&(jn(S),S.subtreeFlags&6&&(S.flags|=8192)):jn(S),null;case 24:return null;case 25:return null}throw Error(l(156,S.tag))}function mh(b,S){switch(eo(S),S.tag){case 1:return Zn(S.type)&&Us(),b=S.flags,b&65536?(S.flags=b&-65537|128,S):null;case 3:return Vi(),bn(Gn),bn($n),po(),b=S.flags,b&65536&&!(b&128)?(S.flags=b&-65537|128,S):null;case 5:return ho(S),null;case 13:if(bn(Sn),b=S.memoizedState,b!==null&&b.dehydrated!==null){if(S.alternate===null)throw Error(l(340));ji()}return b=S.flags,b&65536?(S.flags=b&-65537|128,S):null;case 19:return bn(Sn),null;case 4:return Vi(),null;case 10:return ao(S.type._context),null;case 22:case 23:return Wo(),null;case 24:return null;default:return null}}var oa=!1,Un=!1,gh=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Wi(b,S){var B=b.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(ce){Cn(b,S,ce)}else B.current=null}function Io(b,S,B){try{B()}catch(ce){Cn(b,S,ce)}}var du=!1;function bh(b,S){if(qa=sn,b=zl(),La(b)){if("selectionStart"in b)var B={start:b.selectionStart,end:b.selectionEnd};else e:{B=(B=b.ownerDocument)&&B.defaultView||window;var ce=B.getSelection&&B.getSelection();if(ce&&ce.rangeCount!==0){B=ce.anchorNode;var we=ce.anchorOffset,Ae=ce.focusNode;ce=ce.focusOffset;try{B.nodeType,Ae.nodeType}catch{B=null;break e}var Re=0,Be=-1,He=-1,at=0,yt=0,wt=b,gt=null;t:for(;;){for(var Nt;wt!==B||we!==0&&wt.nodeType!==3||(Be=Re+we),wt!==Ae||ce!==0&&wt.nodeType!==3||(He=Re+ce),wt.nodeType===3&&(Re+=wt.nodeValue.length),(Nt=wt.firstChild)!==null;)gt=wt,wt=Nt;for(;;){if(wt===b)break t;if(gt===B&&++at===we&&(Be=Re),gt===Ae&&++yt===ce&&(He=Re),(Nt=wt.nextSibling)!==null)break;wt=gt,gt=wt.parentNode}wt=Nt}B=Be===-1||He===-1?null:{start:Be,end:He}}else B=null}B=B||{start:0,end:0}}else B=null;for(Wa={focusedElem:b,selectionRange:B},sn=!1,Lt=S;Lt!==null;)if(S=Lt,b=S.child,(S.subtreeFlags&1028)!==0&&b!==null)b.return=S,Lt=b;else for(;Lt!==null;){S=Lt;try{var jt=S.alternate;if(S.flags&1024)switch(S.tag){case 0:case 11:case 15:break;case 1:if(jt!==null){var zt=jt.memoizedProps,kn=jt.memoizedState,Qe=S.stateNode,qe=Qe.getSnapshotBeforeUpdate(S.elementType===S.type?zt:br(S.type,zt),kn);Qe.__reactInternalSnapshotBeforeUpdate=qe}break;case 3:var et=S.stateNode.containerInfo;et.nodeType===1?et.textContent="":et.nodeType===9&&et.documentElement&&et.removeChild(et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(_t){Cn(S,S.return,_t)}if(b=S.sibling,b!==null){b.return=S.return,Lt=b;break}Lt=S.return}return jt=du,du=!1,jt}function As(b,S,B){var ce=S.updateQueue;if(ce=ce!==null?ce.lastEffect:null,ce!==null){var we=ce=ce.next;do{if((we.tag&b)===b){var Ae=we.destroy;we.destroy=void 0,Ae!==void 0&&Io(S,B,Ae)}we=we.next}while(we!==ce)}}function la(b,S){if(S=S.updateQueue,S=S!==null?S.lastEffect:null,S!==null){var B=S=S.next;do{if((B.tag&b)===b){var ce=B.create;B.destroy=ce()}B=B.next}while(B!==S)}}function No(b){var S=b.ref;if(S!==null){var B=b.stateNode;switch(b.tag){case 5:b=B;break;default:b=B}typeof S=="function"?S(b):S.current=b}}function hu(b){var S=b.alternate;S!==null&&(b.alternate=null,hu(S)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(S=b.stateNode,S!==null&&(delete S[Cr],delete S[ps],delete S[Ka],delete S[Qd],delete S[eh])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function fu(b){return b.tag===5||b.tag===3||b.tag===4}function pu(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||fu(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function Do(b,S,B){var ce=b.tag;if(ce===5||ce===6)b=b.stateNode,S?B.nodeType===8?B.parentNode.insertBefore(b,S):B.insertBefore(b,S):(B.nodeType===8?(S=B.parentNode,S.insertBefore(b,B)):(S=B,S.appendChild(b)),B=B._reactRootContainer,B!=null||S.onclick!==null||(S.onclick=Bs));else if(ce!==4&&(b=b.child,b!==null))for(Do(b,S,B),b=b.sibling;b!==null;)Do(b,S,B),b=b.sibling}function Lo(b,S,B){var ce=b.tag;if(ce===5||ce===6)b=b.stateNode,S?B.insertBefore(b,S):B.appendChild(b);else if(ce!==4&&(b=b.child,b!==null))for(Lo(b,S,B),b=b.sibling;b!==null;)Lo(b,S,B),b=b.sibling}var In=null,yr=!1;function Qr(b,S,B){for(B=B.child;B!==null;)mu(b,S,B),B=B.sibling}function mu(b,S,B){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Dn,B)}catch{}switch(B.tag){case 5:Un||Wi(B,S);case 6:var ce=In,we=yr;In=null,Qr(b,S,B),In=ce,yr=we,In!==null&&(yr?(b=In,B=B.stateNode,b.nodeType===8?b.parentNode.removeChild(B):b.removeChild(B)):In.removeChild(B.stateNode));break;case 18:In!==null&&(yr?(b=In,B=B.stateNode,b.nodeType===8?Za(b.parentNode,B):b.nodeType===1&&Za(b,B),Gt(b)):Za(In,B.stateNode));break;case 4:ce=In,we=yr,In=B.stateNode.containerInfo,yr=!0,Qr(b,S,B),In=ce,yr=we;break;case 0:case 11:case 14:case 15:if(!Un&&(ce=B.updateQueue,ce!==null&&(ce=ce.lastEffect,ce!==null))){we=ce=ce.next;do{var Ae=we,Re=Ae.destroy;Ae=Ae.tag,Re!==void 0&&(Ae&2||Ae&4)&&Io(B,S,Re),we=we.next}while(we!==ce)}Qr(b,S,B);break;case 1:if(!Un&&(Wi(B,S),ce=B.stateNode,typeof ce.componentWillUnmount=="function"))try{ce.props=B.memoizedProps,ce.state=B.memoizedState,ce.componentWillUnmount()}catch(Be){Cn(B,S,Be)}Qr(b,S,B);break;case 21:Qr(b,S,B);break;case 22:B.mode&1?(Un=(ce=Un)||B.memoizedState!==null,Qr(b,S,B),Un=ce):Qr(b,S,B);break;default:Qr(b,S,B)}}function gu(b){var S=b.updateQueue;if(S!==null){b.updateQueue=null;var B=b.stateNode;B===null&&(B=b.stateNode=new gh),S.forEach(function(ce){var we=Eh.bind(null,b,ce);B.has(ce)||(B.add(ce),ce.then(we,we))})}}function xr(b,S){var B=S.deletions;if(B!==null)for(var ce=0;ce<B.length;ce++){var we=B[ce];try{var Ae=b,Re=S,Be=Re;e:for(;Be!==null;){switch(Be.tag){case 5:In=Be.stateNode,yr=!1;break e;case 3:In=Be.stateNode.containerInfo,yr=!0;break e;case 4:In=Be.stateNode.containerInfo,yr=!0;break e}Be=Be.return}if(In===null)throw Error(l(160));mu(Ae,Re,we),In=null,yr=!1;var He=we.alternate;He!==null&&(He.return=null),we.return=null}catch(at){Cn(we,S,at)}}if(S.subtreeFlags&12854)for(S=S.child;S!==null;)bu(S,b),S=S.sibling}function bu(b,S){var B=b.alternate,ce=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(xr(S,b),Er(b),ce&4){try{As(3,b,b.return),la(3,b)}catch(zt){Cn(b,b.return,zt)}try{As(5,b,b.return)}catch(zt){Cn(b,b.return,zt)}}break;case 1:xr(S,b),Er(b),ce&512&&B!==null&&Wi(B,B.return);break;case 5:if(xr(S,b),Er(b),ce&512&&B!==null&&Wi(B,B.return),b.flags&32){var we=b.stateNode;try{je(we,"")}catch(zt){Cn(b,b.return,zt)}}if(ce&4&&(we=b.stateNode,we!=null)){var Ae=b.memoizedProps,Re=B!==null?B.memoizedProps:Ae,Be=b.type,He=b.updateQueue;if(b.updateQueue=null,He!==null)try{Be==="input"&&Ae.type==="radio"&&Ae.name!=null&&W(we,Ae),ct(Be,Re);var at=ct(Be,Ae);for(Re=0;Re<He.length;Re+=2){var yt=He[Re],wt=He[Re+1];yt==="style"?$e(we,wt):yt==="dangerouslySetInnerHTML"?Pe(we,wt):yt==="children"?je(we,wt):v(we,yt,wt,at)}switch(Be){case"input":ue(we,Ae);break;case"textarea":ve(we,Ae);break;case"select":var gt=we._wrapperState.wasMultiple;we._wrapperState.wasMultiple=!!Ae.multiple;var Nt=Ae.value;Nt!=null?ge(we,!!Ae.multiple,Nt,!1):gt!==!!Ae.multiple&&(Ae.defaultValue!=null?ge(we,!!Ae.multiple,Ae.defaultValue,!0):ge(we,!!Ae.multiple,Ae.multiple?[]:"",!1))}we[ps]=Ae}catch(zt){Cn(b,b.return,zt)}}break;case 6:if(xr(S,b),Er(b),ce&4){if(b.stateNode===null)throw Error(l(162));we=b.stateNode,Ae=b.memoizedProps;try{we.nodeValue=Ae}catch(zt){Cn(b,b.return,zt)}}break;case 3:if(xr(S,b),Er(b),ce&4&&B!==null&&B.memoizedState.isDehydrated)try{Gt(S.containerInfo)}catch(zt){Cn(b,b.return,zt)}break;case 4:xr(S,b),Er(b);break;case 13:xr(S,b),Er(b),we=b.child,we.flags&8192&&(Ae=we.memoizedState!==null,we.stateNode.isHidden=Ae,!Ae||we.alternate!==null&&we.alternate.memoizedState!==null||(jo=nt())),ce&4&&gu(b);break;case 22:if(yt=B!==null&&B.memoizedState!==null,b.mode&1?(Un=(at=Un)||yt,xr(S,b),Un=at):xr(S,b),Er(b),ce&8192){if(at=b.memoizedState!==null,(b.stateNode.isHidden=at)&&!yt&&b.mode&1)for(Lt=b,yt=b.child;yt!==null;){for(wt=Lt=yt;Lt!==null;){switch(gt=Lt,Nt=gt.child,gt.tag){case 0:case 11:case 14:case 15:As(4,gt,gt.return);break;case 1:Wi(gt,gt.return);var jt=gt.stateNode;if(typeof jt.componentWillUnmount=="function"){ce=gt,B=gt.return;try{S=ce,jt.props=S.memoizedProps,jt.state=S.memoizedState,jt.componentWillUnmount()}catch(zt){Cn(ce,B,zt)}}break;case 5:Wi(gt,gt.return);break;case 22:if(gt.memoizedState!==null){Su(wt);continue}}Nt!==null?(Nt.return=gt,Lt=Nt):Su(wt)}yt=yt.sibling}e:for(yt=null,wt=b;;){if(wt.tag===5){if(yt===null){yt=wt;try{we=wt.stateNode,at?(Ae=we.style,typeof Ae.setProperty=="function"?Ae.setProperty("display","none","important"):Ae.display="none"):(Be=wt.stateNode,He=wt.memoizedProps.style,Re=He!=null&&He.hasOwnProperty("display")?He.display:null,Be.style.display=Fe("display",Re))}catch(zt){Cn(b,b.return,zt)}}}else if(wt.tag===6){if(yt===null)try{wt.stateNode.nodeValue=at?"":wt.memoizedProps}catch(zt){Cn(b,b.return,zt)}}else if((wt.tag!==22&&wt.tag!==23||wt.memoizedState===null||wt===b)&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===b)break e;for(;wt.sibling===null;){if(wt.return===null||wt.return===b)break e;yt===wt&&(yt=null),wt=wt.return}yt===wt&&(yt=null),wt.sibling.return=wt.return,wt=wt.sibling}}break;case 19:xr(S,b),Er(b),ce&4&&gu(b);break;case 21:break;default:xr(S,b),Er(b)}}function Er(b){var S=b.flags;if(S&2){try{e:{for(var B=b.return;B!==null;){if(fu(B)){var ce=B;break e}B=B.return}throw Error(l(160))}switch(ce.tag){case 5:var we=ce.stateNode;ce.flags&32&&(je(we,""),ce.flags&=-33);var Ae=pu(b);Lo(b,Ae,we);break;case 3:case 4:var Re=ce.stateNode.containerInfo,Be=pu(b);Do(b,Be,Re);break;default:throw Error(l(161))}}catch(He){Cn(b,b.return,He)}b.flags&=-3}S&4096&&(b.flags&=-4097)}function yh(b,S,B){Lt=b,yu(b)}function yu(b,S,B){for(var ce=(b.mode&1)!==0;Lt!==null;){var we=Lt,Ae=we.child;if(we.tag===22&&ce){var Re=we.memoizedState!==null||oa;if(!Re){var Be=we.alternate,He=Be!==null&&Be.memoizedState!==null||Un;Be=oa;var at=Un;if(oa=Re,(Un=He)&&!at)for(Lt=we;Lt!==null;)Re=Lt,He=Re.child,Re.tag===22&&Re.memoizedState!==null?wu(we):He!==null?(He.return=Re,Lt=He):wu(we);for(;Ae!==null;)Lt=Ae,yu(Ae),Ae=Ae.sibling;Lt=we,oa=Be,Un=at}xu(b)}else we.subtreeFlags&8772&&Ae!==null?(Ae.return=we,Lt=Ae):xu(b)}}function xu(b){for(;Lt!==null;){var S=Lt;if(S.flags&8772){var B=S.alternate;try{if(S.flags&8772)switch(S.tag){case 0:case 11:case 15:Un||la(5,S);break;case 1:var ce=S.stateNode;if(S.flags&4&&!Un)if(B===null)ce.componentDidMount();else{var we=S.elementType===S.type?B.memoizedProps:br(S.type,B.memoizedProps);ce.componentDidUpdate(we,B.memoizedState,ce.__reactInternalSnapshotBeforeUpdate)}var Ae=S.updateQueue;Ae!==null&&xc(S,Ae,ce);break;case 3:var Re=S.updateQueue;if(Re!==null){if(B=null,S.child!==null)switch(S.child.tag){case 5:B=S.child.stateNode;break;case 1:B=S.child.stateNode}xc(S,Re,B)}break;case 5:var Be=S.stateNode;if(B===null&&S.flags&4){B=Be;var He=S.memoizedProps;switch(S.type){case"button":case"input":case"select":case"textarea":He.autoFocus&&B.focus();break;case"img":He.src&&(B.src=He.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(S.memoizedState===null){var at=S.alternate;if(at!==null){var yt=at.memoizedState;if(yt!==null){var wt=yt.dehydrated;wt!==null&&Gt(wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Un||S.flags&512&&No(S)}catch(gt){Cn(S,S.return,gt)}}if(S===b){Lt=null;break}if(B=S.sibling,B!==null){B.return=S.return,Lt=B;break}Lt=S.return}}function Su(b){for(;Lt!==null;){var S=Lt;if(S===b){Lt=null;break}var B=S.sibling;if(B!==null){B.return=S.return,Lt=B;break}Lt=S.return}}function wu(b){for(;Lt!==null;){var S=Lt;try{switch(S.tag){case 0:case 11:case 15:var B=S.return;try{la(4,S)}catch(He){Cn(S,B,He)}break;case 1:var ce=S.stateNode;if(typeof ce.componentDidMount=="function"){var we=S.return;try{ce.componentDidMount()}catch(He){Cn(S,we,He)}}var Ae=S.return;try{No(S)}catch(He){Cn(S,Ae,He)}break;case 5:var Re=S.return;try{No(S)}catch(He){Cn(S,Re,He)}}}catch(He){Cn(S,S.return,He)}if(S===b){Lt=null;break}var Be=S.sibling;if(Be!==null){Be.return=S.return,Lt=Be;break}Lt=S.return}}var xh=Math.ceil,ca=M.ReactCurrentDispatcher,$o=M.ReactCurrentOwner,cr=M.ReactCurrentBatchConfig,ln=0,Fn=null,Tn=null,Nn=0,tr=0,Xi=Gr(0),Mn=0,Es=null,xi=0,ua=0,Bo=0,Ts=null,Yn=null,jo=0,Gi=1/0,Dr=null,da=!1,Uo=null,ei=null,ha=!1,ti=null,fa=0,_s=0,zo=null,pa=-1,ma=0;function qn(){return ln&6?nt():pa!==-1?pa:pa=nt()}function ni(b){return b.mode&1?ln&2&&Nn!==0?Nn&-Nn:nh.transition!==null?(ma===0&&(ma=Ei()),ma):(b=on,b!==0||(b=window.event,b=b===void 0?16:Qt(b.type)),b):1}function Sr(b,S,B,ce){if(50<_s)throw _s=0,zo=null,Error(l(185));vr(b,B,ce),(!(ln&2)||b!==Fn)&&(b===Fn&&(!(ln&2)&&(ua|=B),Mn===4&&ri(b,Nn)),Jn(b,ce),B===1&&ln===0&&!(S.mode&1)&&(Gi=nt()+500,Hs&&Kr()))}function Jn(b,S){var B=b.callbackNode;ns(b,S);var ce=Br(b,b===Fn?Nn:0);if(ce===0)B!==null&&Dt(B),b.callbackNode=null,b.callbackPriority=0;else if(S=ce&-ce,b.callbackPriority!==S){if(B!=null&&Dt(B),S===1)b.tag===0?th(Cu.bind(null,b)):oc(Cu.bind(null,b)),Yd(function(){!(ln&6)&&Kr()}),B=null;else{switch(Ti(ce)){case 1:B=Et;break;case 4:B=Zt;break;case 16:B=hn;break;case 536870912:B=fr;break;default:B=hn}B=Ru(B,vu.bind(null,b))}b.callbackPriority=S,b.callbackNode=B}}function vu(b,S){if(pa=-1,ma=0,ln&6)throw Error(l(327));var B=b.callbackNode;if(Zi()&&b.callbackNode!==B)return null;var ce=Br(b,b===Fn?Nn:0);if(ce===0)return null;if(ce&30||ce&b.expiredLanes||S)S=ga(b,ce);else{S=ce;var we=ln;ln|=2;var Ae=Au();(Fn!==b||Nn!==S)&&(Dr=null,Gi=nt()+500,wi(b,S));do try{vh();break}catch(Be){ku(b,Be)}while(!0);so(),ca.current=Ae,ln=we,Tn!==null?S=0:(Fn=null,Nn=0,S=Mn)}if(S!==0){if(S===2&&(we=ai(b),we!==0&&(ce=we,S=Ho(b,we))),S===1)throw B=Es,wi(b,0),ri(b,ce),Jn(b,nt()),B;if(S===6)ri(b,ce);else{if(we=b.current.alternate,!(ce&30)&&!Sh(we)&&(S=ga(b,ce),S===2&&(Ae=ai(b),Ae!==0&&(ce=Ae,S=Ho(b,Ae))),S===1))throw B=Es,wi(b,0),ri(b,ce),Jn(b,nt()),B;switch(b.finishedWork=we,b.finishedLanes=ce,S){case 0:case 1:throw Error(l(345));case 2:vi(b,Yn,Dr);break;case 3:if(ri(b,ce),(ce&130023424)===ce&&(S=jo+500-nt(),10<S)){if(Br(b,0)!==0)break;if(we=b.suspendedLanes,(we&ce)!==ce){qn(),b.pingedLanes|=b.suspendedLanes&we;break}b.timeoutHandle=Ga(vi.bind(null,b,Yn,Dr),S);break}vi(b,Yn,Dr);break;case 4:if(ri(b,ce),(ce&4194240)===ce)break;for(S=b.eventTimes,we=-1;0<ce;){var Re=31-zn(ce);Ae=1<<Re,Re=S[Re],Re>we&&(we=Re),ce&=~Ae}if(ce=we,ce=nt()-ce,ce=(120>ce?120:480>ce?480:1080>ce?1080:1920>ce?1920:3e3>ce?3e3:4320>ce?4320:1960*xh(ce/1960))-ce,10<ce){b.timeoutHandle=Ga(vi.bind(null,b,Yn,Dr),ce);break}vi(b,Yn,Dr);break;case 5:vi(b,Yn,Dr);break;default:throw Error(l(329))}}}return Jn(b,nt()),b.callbackNode===B?vu.bind(null,b):null}function Ho(b,S){var B=Ts;return b.current.memoizedState.isDehydrated&&(wi(b,S).flags|=256),b=ga(b,S),b!==2&&(S=Yn,Yn=B,S!==null&&Vo(S)),b}function Vo(b){Yn===null?Yn=b:Yn.push.apply(Yn,b)}function Sh(b){for(var S=b;;){if(S.flags&16384){var B=S.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var ce=0;ce<B.length;ce++){var we=B[ce],Ae=we.getSnapshot;we=we.value;try{if(!mr(Ae(),we))return!1}catch{return!1}}}if(B=S.child,S.subtreeFlags&16384&&B!==null)B.return=S,S=B;else{if(S===b)break;for(;S.sibling===null;){if(S.return===null||S.return===b)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function ri(b,S){for(S&=~Bo,S&=~ua,b.suspendedLanes|=S,b.pingedLanes&=~S,b=b.expirationTimes;0<S;){var B=31-zn(S),ce=1<<B;b[B]=-1,S&=~ce}}function Cu(b){if(ln&6)throw Error(l(327));Zi();var S=Br(b,0);if(!(S&1))return Jn(b,nt()),null;var B=ga(b,S);if(b.tag!==0&&B===2){var ce=ai(b);ce!==0&&(S=ce,B=Ho(b,ce))}if(B===1)throw B=Es,wi(b,0),ri(b,S),Jn(b,nt()),B;if(B===6)throw Error(l(345));return b.finishedWork=b.current.alternate,b.finishedLanes=S,vi(b,Yn,Dr),Jn(b,nt()),null}function qo(b,S){var B=ln;ln|=1;try{return b(S)}finally{ln=B,ln===0&&(Gi=nt()+500,Hs&&Kr())}}function Si(b){ti!==null&&ti.tag===0&&!(ln&6)&&Zi();var S=ln;ln|=1;var B=cr.transition,ce=on;try{if(cr.transition=null,on=1,b)return b()}finally{on=ce,cr.transition=B,ln=S,!(ln&6)&&Kr()}}function Wo(){tr=Xi.current,bn(Xi)}function wi(b,S){b.finishedWork=null,b.finishedLanes=0;var B=b.timeoutHandle;if(B!==-1&&(b.timeoutHandle=-1,Kd(B)),Tn!==null)for(B=Tn.return;B!==null;){var ce=B;switch(eo(ce),ce.tag){case 1:ce=ce.type.childContextTypes,ce!=null&&Us();break;case 3:Vi(),bn(Gn),bn($n),po();break;case 5:ho(ce);break;case 4:Vi();break;case 13:bn(Sn);break;case 19:bn(Sn);break;case 10:ao(ce.type._context);break;case 22:case 23:Wo()}B=B.return}if(Fn=b,Tn=b=ii(b.current,null),Nn=tr=S,Mn=0,Es=null,Bo=ua=xi=0,Yn=Ts=null,gi!==null){for(S=0;S<gi.length;S++)if(B=gi[S],ce=B.interleaved,ce!==null){B.interleaved=null;var we=ce.next,Ae=B.pending;if(Ae!==null){var Re=Ae.next;Ae.next=we,ce.next=Re}B.pending=ce}gi=null}return b}function ku(b,S){do{var B=Tn;try{if(so(),Qs.current=ra,ea){for(var ce=wn.memoizedState;ce!==null;){var we=ce.queue;we!==null&&(we.pending=null),ce=ce.next}ea=!1}if(yi=0,Rn=On=wn=null,Ss=!1,ws=0,$o.current=null,B===null||B.return===null){Mn=1,Es=S,Tn=null;break}e:{var Ae=b,Re=B.return,Be=B,He=S;if(S=Nn,Be.flags|=32768,He!==null&&typeof He=="object"&&typeof He.then=="function"){var at=He,yt=Be,wt=yt.tag;if(!(yt.mode&1)&&(wt===0||wt===11||wt===15)){var gt=yt.alternate;gt?(yt.updateQueue=gt.updateQueue,yt.memoizedState=gt.memoizedState,yt.lanes=gt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var Nt=Zc(Re);if(Nt!==null){Nt.flags&=-257,Kc(Nt,Re,Be,Ae,S),Nt.mode&1&&Gc(Ae,at,S),S=Nt,He=at;var jt=S.updateQueue;if(jt===null){var zt=new Set;zt.add(He),S.updateQueue=zt}else jt.add(He);break e}else{if(!(S&1)){Gc(Ae,at,S),Xo();break e}He=Error(l(426))}}else if(xn&&Be.mode&1){var kn=Zc(Re);if(kn!==null){!(kn.flags&65536)&&(kn.flags|=256),Kc(kn,Re,Be,Ae,S),ro(qi(He,Be));break e}}Ae=He=qi(He,Be),Mn!==4&&(Mn=2),Ts===null?Ts=[Ae]:Ts.push(Ae),Ae=Re;do{switch(Ae.tag){case 3:Ae.flags|=65536,S&=-S,Ae.lanes|=S;var Qe=Wc(Ae,He,S);yc(Ae,Qe);break e;case 1:Be=He;var qe=Ae.type,et=Ae.stateNode;if(!(Ae.flags&128)&&(typeof qe.getDerivedStateFromError=="function"||et!==null&&typeof et.componentDidCatch=="function"&&(ei===null||!ei.has(et)))){Ae.flags|=65536,S&=-S,Ae.lanes|=S;var _t=Xc(Ae,Be,S);yc(Ae,_t);break e}}Ae=Ae.return}while(Ae!==null)}Tu(B)}catch(qt){S=qt,Tn===B&&B!==null&&(Tn=B=B.return);continue}break}while(!0)}function Au(){var b=ca.current;return ca.current=ra,b===null?ra:b}function Xo(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Fn===null||!(xi&268435455)&&!(ua&268435455)||ri(Fn,Nn)}function ga(b,S){var B=ln;ln|=2;var ce=Au();(Fn!==b||Nn!==S)&&(Dr=null,wi(b,S));do try{wh();break}catch(we){ku(b,we)}while(!0);if(so(),ln=B,ca.current=ce,Tn!==null)throw Error(l(261));return Fn=null,Nn=0,Mn}function wh(){for(;Tn!==null;)Eu(Tn)}function vh(){for(;Tn!==null&&!Bt();)Eu(Tn)}function Eu(b){var S=Mu(b.alternate,b,tr);b.memoizedProps=b.pendingProps,S===null?Tu(b):Tn=S,$o.current=null}function Tu(b){var S=b;do{var B=S.alternate;if(b=S.return,S.flags&32768){if(B=mh(B,S),B!==null){B.flags&=32767,Tn=B;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Mn=6,Tn=null;return}}else if(B=ph(B,S,tr),B!==null){Tn=B;return}if(S=S.sibling,S!==null){Tn=S;return}Tn=S=b}while(S!==null);Mn===0&&(Mn=5)}function vi(b,S,B){var ce=on,we=cr.transition;try{cr.transition=null,on=1,Ch(b,S,B,ce)}finally{cr.transition=we,on=ce}return null}function Ch(b,S,B,ce){do Zi();while(ti!==null);if(ln&6)throw Error(l(327));B=b.finishedWork;var we=b.finishedLanes;if(B===null)return null;if(b.finishedWork=null,b.finishedLanes=0,B===b.current)throw Error(l(177));b.callbackNode=null,b.callbackPriority=0;var Ae=B.lanes|B.childLanes;if(li(b,Ae),b===Fn&&(Tn=Fn=null,Nn=0),!(B.subtreeFlags&2064)&&!(B.flags&2064)||ha||(ha=!0,Ru(hn,function(){return Zi(),null})),Ae=(B.flags&15990)!==0,B.subtreeFlags&15990||Ae){Ae=cr.transition,cr.transition=null;var Re=on;on=1;var Be=ln;ln|=4,$o.current=null,bh(b,B),bu(B,b),Hd(Wa),sn=!!qa,Wa=qa=null,b.current=B,yh(B),Ue(),ln=Be,on=Re,cr.transition=Ae}else b.current=B;if(ha&&(ha=!1,ti=b,fa=we),Ae=b.pendingLanes,Ae===0&&(ei=null),Ji(B.stateNode),Jn(b,nt()),S!==null)for(ce=b.onRecoverableError,B=0;B<S.length;B++)we=S[B],ce(we.value,{componentStack:we.stack,digest:we.digest});if(da)throw da=!1,b=Uo,Uo=null,b;return fa&1&&b.tag!==0&&Zi(),Ae=b.pendingLanes,Ae&1?b===zo?_s++:(_s=0,zo=b):_s=0,Kr(),null}function Zi(){if(ti!==null){var b=Ti(fa),S=cr.transition,B=on;try{if(cr.transition=null,on=16>b?16:b,ti===null)var ce=!1;else{if(b=ti,ti=null,fa=0,ln&6)throw Error(l(331));var we=ln;for(ln|=4,Lt=b.current;Lt!==null;){var Ae=Lt,Re=Ae.child;if(Lt.flags&16){var Be=Ae.deletions;if(Be!==null){for(var He=0;He<Be.length;He++){var at=Be[He];for(Lt=at;Lt!==null;){var yt=Lt;switch(yt.tag){case 0:case 11:case 15:As(8,yt,Ae)}var wt=yt.child;if(wt!==null)wt.return=yt,Lt=wt;else for(;Lt!==null;){yt=Lt;var gt=yt.sibling,Nt=yt.return;if(hu(yt),yt===at){Lt=null;break}if(gt!==null){gt.return=Nt,Lt=gt;break}Lt=Nt}}}var jt=Ae.alternate;if(jt!==null){var zt=jt.child;if(zt!==null){jt.child=null;do{var kn=zt.sibling;zt.sibling=null,zt=kn}while(zt!==null)}}Lt=Ae}}if(Ae.subtreeFlags&2064&&Re!==null)Re.return=Ae,Lt=Re;else e:for(;Lt!==null;){if(Ae=Lt,Ae.flags&2048)switch(Ae.tag){case 0:case 11:case 15:As(9,Ae,Ae.return)}var Qe=Ae.sibling;if(Qe!==null){Qe.return=Ae.return,Lt=Qe;break e}Lt=Ae.return}}var qe=b.current;for(Lt=qe;Lt!==null;){Re=Lt;var et=Re.child;if(Re.subtreeFlags&2064&&et!==null)et.return=Re,Lt=et;else e:for(Re=qe;Lt!==null;){if(Be=Lt,Be.flags&2048)try{switch(Be.tag){case 0:case 11:case 15:la(9,Be)}}catch(qt){Cn(Be,Be.return,qt)}if(Be===Re){Lt=null;break e}var _t=Be.sibling;if(_t!==null){_t.return=Be.return,Lt=_t;break e}Lt=Be.return}}if(ln=we,Kr(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Dn,b)}catch{}ce=!0}return ce}finally{on=B,cr.transition=S}}return!1}function _u(b,S,B){S=qi(B,S),S=Wc(b,S,1),b=Jr(b,S,1),S=qn(),b!==null&&(vr(b,1,S),Jn(b,S))}function Cn(b,S,B){if(b.tag===3)_u(b,b,B);else for(;S!==null;){if(S.tag===3){_u(S,b,B);break}else if(S.tag===1){var ce=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof ce.componentDidCatch=="function"&&(ei===null||!ei.has(ce))){b=qi(B,b),b=Xc(S,b,1),S=Jr(S,b,1),b=qn(),S!==null&&(vr(S,1,b),Jn(S,b));break}}S=S.return}}function kh(b,S,B){var ce=b.pingCache;ce!==null&&ce.delete(S),S=qn(),b.pingedLanes|=b.suspendedLanes&B,Fn===b&&(Nn&B)===B&&(Mn===4||Mn===3&&(Nn&130023424)===Nn&&500>nt()-jo?wi(b,0):Bo|=B),Jn(b,S)}function Ou(b,S){S===0&&(b.mode&1?(S=$r,$r<<=1,!($r&130023424)&&($r=4194304)):S=1);var B=qn();b=Pr(b,S),b!==null&&(vr(b,S,B),Jn(b,B))}function Ah(b){var S=b.memoizedState,B=0;S!==null&&(B=S.retryLane),Ou(b,B)}function Eh(b,S){var B=0;switch(b.tag){case 13:var ce=b.stateNode,we=b.memoizedState;we!==null&&(B=we.retryLane);break;case 19:ce=b.stateNode;break;default:throw Error(l(314))}ce!==null&&ce.delete(S),Ou(b,B)}var Mu;Mu=function(b,S,B){if(b!==null)if(b.memoizedProps!==S.pendingProps||Gn.current)Kn=!0;else{if(!(b.lanes&B)&&!(S.flags&128))return Kn=!1,fh(b,S,B);Kn=!!(b.flags&131072)}else Kn=!1,xn&&S.flags&1048576&&lc(S,qs,S.index);switch(S.lanes=0,S.tag){case 2:var ce=S.type;aa(b,S),b=S.pendingProps;var we=Li(S,$n.current);Hi(S,B),we=bo(null,S,ce,b,we,B);var Ae=yo();return S.flags|=1,typeof we=="object"&&we!==null&&typeof we.render=="function"&&we.$$typeof===void 0?(S.tag=1,S.memoizedState=null,S.updateQueue=null,Zn(ce)?(Ae=!0,zs(S)):Ae=!1,S.memoizedState=we.state!==null&&we.state!==void 0?we.state:null,co(S),we.updater=ia,S.stateNode=we,we._reactInternals=S,ko(S,ce,b,B),S=_o(null,S,ce,!0,Ae,B)):(S.tag=0,xn&&Ae&&Qa(S),Vn(null,S,we,B),S=S.child),S;case 16:ce=S.elementType;e:{switch(aa(b,S),b=S.pendingProps,we=ce._init,ce=we(ce._payload),S.type=ce,we=S.tag=_h(ce),b=br(ce,b),we){case 0:S=To(null,S,ce,b,B);break e;case 1:S=nu(null,S,ce,b,B);break e;case 11:S=Yc(null,S,ce,b,B);break e;case 14:S=Jc(null,S,ce,br(ce.type,b),B);break e}throw Error(l(306,ce,""))}return S;case 0:return ce=S.type,we=S.pendingProps,we=S.elementType===ce?we:br(ce,we),To(b,S,ce,we,B);case 1:return ce=S.type,we=S.pendingProps,we=S.elementType===ce?we:br(ce,we),nu(b,S,ce,we,B);case 3:e:{if(ru(S),b===null)throw Error(l(387));ce=S.pendingProps,Ae=S.memoizedState,we=Ae.element,bc(b,S),Ys(S,ce,null,B);var Re=S.memoizedState;if(ce=Re.element,Ae.isDehydrated)if(Ae={element:ce,isDehydrated:!1,cache:Re.cache,pendingSuspenseBoundaries:Re.pendingSuspenseBoundaries,transitions:Re.transitions},S.updateQueue.baseState=Ae,S.memoizedState=Ae,S.flags&256){we=qi(Error(l(423)),S),S=iu(b,S,ce,B,we);break e}else if(ce!==we){we=qi(Error(l(424)),S),S=iu(b,S,ce,B,we);break e}else for(er=Xr(S.stateNode.containerInfo.firstChild),Qn=S,xn=!0,gr=null,B=mc(S,null,ce,B),S.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(ji(),ce===we){S=Nr(b,S,B);break e}Vn(b,S,ce,B)}S=S.child}return S;case 5:return Sc(S),b===null&&no(S),ce=S.type,we=S.pendingProps,Ae=b!==null?b.memoizedProps:null,Re=we.children,Xa(ce,we)?Re=null:Ae!==null&&Xa(ce,Ae)&&(S.flags|=32),tu(b,S),Vn(b,S,Re,B),S.child;case 6:return b===null&&no(S),null;case 13:return su(b,S,B);case 4:return uo(S,S.stateNode.containerInfo),ce=S.pendingProps,b===null?S.child=Ui(S,null,ce,B):Vn(b,S,ce,B),S.child;case 11:return ce=S.type,we=S.pendingProps,we=S.elementType===ce?we:br(ce,we),Yc(b,S,ce,we,B);case 7:return Vn(b,S,S.pendingProps,B),S.child;case 8:return Vn(b,S,S.pendingProps.children,B),S.child;case 12:return Vn(b,S,S.pendingProps.children,B),S.child;case 10:e:{if(ce=S.type._context,we=S.pendingProps,Ae=S.memoizedProps,Re=we.value,pn(Gs,ce._currentValue),ce._currentValue=Re,Ae!==null)if(mr(Ae.value,Re)){if(Ae.children===we.children&&!Gn.current){S=Nr(b,S,B);break e}}else for(Ae=S.child,Ae!==null&&(Ae.return=S);Ae!==null;){var Be=Ae.dependencies;if(Be!==null){Re=Ae.child;for(var He=Be.firstContext;He!==null;){if(He.context===ce){if(Ae.tag===1){He=Ir(-1,B&-B),He.tag=2;var at=Ae.updateQueue;if(at!==null){at=at.shared;var yt=at.pending;yt===null?He.next=He:(He.next=yt.next,yt.next=He),at.pending=He}}Ae.lanes|=B,He=Ae.alternate,He!==null&&(He.lanes|=B),oo(Ae.return,B,S),Be.lanes|=B;break}He=He.next}}else if(Ae.tag===10)Re=Ae.type===S.type?null:Ae.child;else if(Ae.tag===18){if(Re=Ae.return,Re===null)throw Error(l(341));Re.lanes|=B,Be=Re.alternate,Be!==null&&(Be.lanes|=B),oo(Re,B,S),Re=Ae.sibling}else Re=Ae.child;if(Re!==null)Re.return=Ae;else for(Re=Ae;Re!==null;){if(Re===S){Re=null;break}if(Ae=Re.sibling,Ae!==null){Ae.return=Re.return,Re=Ae;break}Re=Re.return}Ae=Re}Vn(b,S,we.children,B),S=S.child}return S;case 9:return we=S.type,ce=S.pendingProps.children,Hi(S,B),we=or(we),ce=ce(we),S.flags|=1,Vn(b,S,ce,B),S.child;case 14:return ce=S.type,we=br(ce,S.pendingProps),we=br(ce.type,we),Jc(b,S,ce,we,B);case 15:return Qc(b,S,S.type,S.pendingProps,B);case 17:return ce=S.type,we=S.pendingProps,we=S.elementType===ce?we:br(ce,we),aa(b,S),S.tag=1,Zn(ce)?(b=!0,zs(S)):b=!1,Hi(S,B),Vc(S,ce,we),ko(S,ce,we,B),_o(null,S,ce,!0,b,B);case 19:return ou(b,S,B);case 22:return eu(b,S,B)}throw Error(l(156,S.tag))};function Ru(b,S){return Ct(b,S)}function Th(b,S,B,ce){this.tag=b,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ce,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(b,S,B,ce){return new Th(b,S,B,ce)}function Go(b){return b=b.prototype,!(!b||!b.isReactComponent)}function _h(b){if(typeof b=="function")return Go(b)?1:0;if(b!=null){if(b=b.$$typeof,b===D)return 11;if(b===j)return 14}return 2}function ii(b,S){var B=b.alternate;return B===null?(B=ur(b.tag,S,b.key,b.mode),B.elementType=b.elementType,B.type=b.type,B.stateNode=b.stateNode,B.alternate=b,b.alternate=B):(B.pendingProps=S,B.type=b.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=b.flags&14680064,B.childLanes=b.childLanes,B.lanes=b.lanes,B.child=b.child,B.memoizedProps=b.memoizedProps,B.memoizedState=b.memoizedState,B.updateQueue=b.updateQueue,S=b.dependencies,B.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},B.sibling=b.sibling,B.index=b.index,B.ref=b.ref,B}function ba(b,S,B,ce,we,Ae){var Re=2;if(ce=b,typeof b=="function")Go(b)&&(Re=1);else if(typeof b=="string")Re=5;else e:switch(b){case J:return Ci(B.children,we,Ae,S);case _:Re=8,we|=8;break;case L:return b=ur(12,B,S,we|2),b.elementType=L,b.lanes=Ae,b;case ne:return b=ur(13,B,S,we),b.elementType=ne,b.lanes=Ae,b;case F:return b=ur(19,B,S,we),b.elementType=F,b.lanes=Ae,b;case Y:return ya(B,we,Ae,S);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case K:Re=10;break e;case $:Re=9;break e;case D:Re=11;break e;case j:Re=14;break e;case se:Re=16,ce=null;break e}throw Error(l(130,b==null?b:typeof b,""))}return S=ur(Re,B,S,we),S.elementType=b,S.type=ce,S.lanes=Ae,S}function Ci(b,S,B,ce){return b=ur(7,b,ce,S),b.lanes=B,b}function ya(b,S,B,ce){return b=ur(22,b,ce,S),b.elementType=Y,b.lanes=B,b.stateNode={isHidden:!1},b}function Zo(b,S,B){return b=ur(6,b,null,S),b.lanes=B,b}function Ko(b,S,B){return S=ur(4,b.children!==null?b.children:[],b.key,S),S.lanes=B,S.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},S}function Oh(b,S,B,ce,we){this.tag=S,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=ce,this.onRecoverableError=we,this.mutableSourceEagerHydrationData=null}function Yo(b,S,B,ce,we,Ae,Re,Be,He){return b=new Oh(b,S,B,Be,He),S===1?(S=1,Ae===!0&&(S|=8)):S=0,Ae=ur(3,null,null,S),b.current=Ae,Ae.stateNode=b,Ae.memoizedState={element:ce,isDehydrated:B,cache:null,transitions:null,pendingSuspenseBoundaries:null},co(Ae),b}function Mh(b,S,B){var ce=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:ce==null?null:""+ce,children:b,containerInfo:S,implementation:B}}function Fu(b){if(!b)return Zr;b=b._reactInternals;e:{if(Vt(b)!==b||b.tag!==1)throw Error(l(170));var S=b;do{switch(S.tag){case 3:S=S.stateNode.context;break e;case 1:if(Zn(S.type)){S=S.stateNode.__reactInternalMemoizedMergedChildContext;break e}}S=S.return}while(S!==null);throw Error(l(171))}if(b.tag===1){var B=b.type;if(Zn(B))return sc(b,B,S)}return S}function Pu(b,S,B,ce,we,Ae,Re,Be,He){return b=Yo(B,ce,!0,b,we,Ae,Re,Be,He),b.context=Fu(null),B=b.current,ce=qn(),we=ni(B),Ae=Ir(ce,we),Ae.callback=S??null,Jr(B,Ae,we),b.current.lanes=we,vr(b,we,ce),Jn(b,ce),b}function xa(b,S,B,ce){var we=S.current,Ae=qn(),Re=ni(we);return B=Fu(B),S.context===null?S.context=B:S.pendingContext=B,S=Ir(Ae,Re),S.payload={element:b},ce=ce===void 0?null:ce,ce!==null&&(S.callback=ce),b=Jr(we,S,Re),b!==null&&(Sr(b,we,Re,Ae),Ks(b,we,Re)),Re}function Sa(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function Iu(b,S){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var B=b.retryLane;b.retryLane=B!==0&&B<S?B:S}}function Jo(b,S){Iu(b,S),(b=b.alternate)&&Iu(b,S)}var Nu=typeof reportError=="function"?reportError:function(b){console.error(b)};function Qo(b){this._internalRoot=b}wa.prototype.render=Qo.prototype.render=function(b){var S=this._internalRoot;if(S===null)throw Error(l(409));xa(b,S,null,null)},wa.prototype.unmount=Qo.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var S=b.containerInfo;Si(function(){xa(null,b,null,null)}),S[Or]=null}};function wa(b){this._internalRoot=b}wa.prototype.unstable_scheduleHydration=function(b){if(b){var S=_i();b={blockedOn:null,target:b,priority:S};for(var B=0;B<Hn.length&&S!==0&&S<Hn[B].priority;B++);Hn.splice(B,0,b),B===0&&Le(b)}};function el(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function va(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function Du(){}function Rh(b,S,B,ce,we){if(we){if(typeof ce=="function"){var Ae=ce;ce=function(){var at=Sa(Re);Ae.call(at)}}var Re=Pu(S,ce,b,0,null,!1,!1,"",Du);return b._reactRootContainer=Re,b[Or]=Re.current,hs(b.nodeType===8?b.parentNode:b),Si(),Re}for(;we=b.lastChild;)b.removeChild(we);if(typeof ce=="function"){var Be=ce;ce=function(){var at=Sa(He);Be.call(at)}}var He=Yo(b,0,!1,null,null,!1,!1,"",Du);return b._reactRootContainer=He,b[Or]=He.current,hs(b.nodeType===8?b.parentNode:b),Si(function(){xa(S,He,B,ce)}),He}function Ca(b,S,B,ce,we){var Ae=B._reactRootContainer;if(Ae){var Re=Ae;if(typeof we=="function"){var Be=we;we=function(){var He=Sa(Re);Be.call(He)}}xa(S,Re,b,we)}else Re=Rh(B,S,b,we,ce);return Sa(Re)}jr=function(b){switch(b.tag){case 3:var S=b.stateNode;if(S.current.memoizedState.isDehydrated){var B=wr(S.pendingLanes);B!==0&&(ci(S,B|1),Jn(S,nt()),!(ln&6)&&(Gi=nt()+500,Kr()))}break;case 13:Si(function(){var ce=Pr(b,1);if(ce!==null){var we=qn();Sr(ce,b,1,we)}}),Jo(b,1)}},Ur=function(b){if(b.tag===13){var S=Pr(b,134217728);if(S!==null){var B=qn();Sr(S,b,134217728,B)}Jo(b,134217728)}},ui=function(b){if(b.tag===13){var S=ni(b),B=Pr(b,S);if(B!==null){var ce=qn();Sr(B,b,S,ce)}Jo(b,S)}},_i=function(){return on},Oi=function(b,S){var B=on;try{return on=b,S()}finally{on=B}},St=function(b,S,B){switch(S){case"input":if(ue(b,B),S=B.name,B.type==="radio"&&S!=null){for(B=b;B.parentNode;)B=B.parentNode;for(B=B.querySelectorAll("input[name="+JSON.stringify(""+S)+'][type="radio"]'),S=0;S<B.length;S++){var ce=B[S];if(ce!==b&&ce.form===b.form){var we=js(ce);if(!we)throw Error(l(90));ee(ce),ue(ce,we)}}}break;case"textarea":ve(b,B);break;case"select":S=B.value,S!=null&&ge(b,!!B.multiple,S,!1)}},st=qo,Ge=Si;var Fh={usingClientEntryPoint:!1,Events:[ms,Ni,js,ot,lt,qo]},Os={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ph={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=Wt(b),b===null?null:b.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Dn=ka.inject(Ph),Wn=ka}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fh,reactDom_production_min.createPortal=function(b,S){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!el(S))throw Error(l(200));return Mh(b,S,null,B)},reactDom_production_min.createRoot=function(b,S){if(!el(b))throw Error(l(299));var B=!1,ce="",we=Nu;return S!=null&&(S.unstable_strictMode===!0&&(B=!0),S.identifierPrefix!==void 0&&(ce=S.identifierPrefix),S.onRecoverableError!==void 0&&(we=S.onRecoverableError)),S=Yo(b,1,!1,null,null,B,!1,ce,we),b[Or]=S.current,hs(b.nodeType===8?b.parentNode:b),new Qo(S)},reactDom_production_min.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var S=b._reactInternals;if(S===void 0)throw typeof b.render=="function"?Error(l(188)):(b=Object.keys(b).join(","),Error(l(268,b)));return b=Wt(S),b=b===null?null:b.stateNode,b},reactDom_production_min.flushSync=function(b){return Si(b)},reactDom_production_min.hydrate=function(b,S,B){if(!va(S))throw Error(l(200));return Ca(null,b,S,!0,B)},reactDom_production_min.hydrateRoot=function(b,S,B){if(!el(b))throw Error(l(405));var ce=B!=null&&B.hydratedSources||null,we=!1,Ae="",Re=Nu;if(B!=null&&(B.unstable_strictMode===!0&&(we=!0),B.identifierPrefix!==void 0&&(Ae=B.identifierPrefix),B.onRecoverableError!==void 0&&(Re=B.onRecoverableError)),S=Pu(S,null,b,1,B??null,we,!1,Ae,Re),b[Or]=S.current,hs(b),ce)for(b=0;b<ce.length;b++)B=ce[b],we=B._getVersion,we=we(B._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[B,we]:S.mutableSourceEagerHydrationData.push(B,we);return new wa(S)},reactDom_production_min.render=function(b,S,B){if(!va(S))throw Error(l(200));return Ca(null,b,S,!1,B)},reactDom_production_min.unmountComponentAtNode=function(b){if(!va(b))throw Error(l(40));return b._reactRootContainer?(Si(function(){Ca(null,null,b,!1,function(){b._reactRootContainer=null,b[Or]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=qo,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(b,S,B,ce){if(!va(B))throw Error(l(200));if(b==null||b._reactInternals===void 0)throw Error(l(38));return Ca(b,S,B,!1,ce)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();function setRef$6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$6(...t){return e=>{let l=!1;const c=t.map(f=>{const h=setRef$6(f,e);return!l&&typeof h=="function"&&(l=!0),h});if(l)return()=>{for(let f=0;f<c.length;f++){const h=c[f];typeof h=="function"?h():setRef$6(t[f],null)}}}}function useComposedRefs$5(...t){return reactExports.useCallback(composeRefs$6(...t),t)}function createSlot(t){const e=createSlotClone(t),l=reactExports.forwardRef((c,f)=>{const{children:h,...p}=c,d=reactExports.Children.toArray(h),m=d.find(isSlottable$3);if(m){const y=m.props.children,x=d.map(u=>u===m?reactExports.Children.count(y)>1?reactExports.Children.only(null):reactExports.isValidElement(y)?y.props.children:null:u);return jsxRuntimeExports.jsx(e,{...p,ref:f,children:reactExports.isValidElement(y)?reactExports.cloneElement(y,void 0,x):null})}return jsxRuntimeExports.jsx(e,{...p,ref:f,children:h})});return l.displayName=`${t}.Slot`,l}var Slot$4=createSlot("Slot");function createSlotClone(t){const e=reactExports.forwardRef((l,c)=>{const{children:f,...h}=l,p=reactExports.isValidElement(f)?getElementRef$4(f):void 0,d=useComposedRefs$5(p,c);if(reactExports.isValidElement(f)){const m=mergeProps$3(h,f.props);return f.type!==reactExports.Fragment&&(m.ref=d),reactExports.cloneElement(f,m)}return reactExports.Children.count(f)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable$3(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps$3(t,e){const l={...e};for(const c in e){const f=t[c],h=e[c];/^on[A-Z]/.test(c)?f&&h?l[c]=(...d)=>{const m=h(...d);return f(...d),m}:f&&(l[c]=f):c==="style"?l[c]={...f,...h}:c==="className"&&(l[c]=[f,h].filter(Boolean).join(" "))}return{...t,...l}}function getElementRef$4(t){var c,f;let e=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,l=e&&"isReactWarning"in e&&e.isReactWarning;return l?t.ref:(e=(f=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:f.get,l=e&&"isReactWarning"in e&&e.isReactWarning,l?t.props.ref:t.props.ref||t.ref)}function r$1(t){var e,l,c="";if(typeof t=="string"||typeof t=="number")c+=t;else if(typeof t=="object")if(Array.isArray(t)){var f=t.length;for(e=0;e<f;e++)t[e]&&(l=r$1(t[e]))&&(c&&(c+=" "),c+=l)}else for(l in t)t[l]&&(c&&(c+=" "),c+=l);return c}function clsx(){for(var t,e,l=0,c="",f=arguments.length;l<f;l++)(t=arguments[l])&&(e=r$1(t))&&(c&&(c+=" "),c+=e);return c}const falsyToString=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cx=clsx,cva=(t,e)=>l=>{var c;if((e==null?void 0:e.variants)==null)return cx(t,l==null?void 0:l.class,l==null?void 0:l.className);const{variants:f,defaultVariants:h}=e,p=Object.keys(f).map(y=>{const x=l==null?void 0:l[y],u=h==null?void 0:h[y];if(x===null)return null;const w=falsyToString(x)||falsyToString(u);return f[y][w]}),d=l&&Object.entries(l).reduce((y,x)=>{let[u,w]=x;return w===void 0||(y[u]=w),y},{}),m=e==null||(c=e.compoundVariants)===null||c===void 0?void 0:c.reduce((y,x)=>{let{class:u,className:w,...T}=x;return Object.entries(T).every(C=>{let[k,A]=C;return Array.isArray(A)?A.includes({...h,...d}[k]):{...h,...d}[k]===A})?[...y,u,w]:y},[]);return cx(t,p,m,l==null?void 0:l.class,l==null?void 0:l.className)},CLASS_PART_SEPARATOR="-",createClassGroupUtils=t=>{const e=createClassMap(t),{conflictingClassGroups:l,conflictingClassGroupModifiers:c}=t;return{getClassGroupId:p=>{const d=p.split(CLASS_PART_SEPARATOR);return d[0]===""&&d.length!==1&&d.shift(),getGroupRecursive(d,e)||getGroupIdForArbitraryProperty(p)},getConflictingClassGroupIds:(p,d)=>{const m=l[p]||[];return d&&c[p]?[...m,...c[p]]:m}}},getGroupRecursive=(t,e)=>{var p;if(t.length===0)return e.classGroupId;const l=t[0],c=e.nextPart.get(l),f=c?getGroupRecursive(t.slice(1),c):void 0;if(f)return f;if(e.validators.length===0)return;const h=t.join(CLASS_PART_SEPARATOR);return(p=e.validators.find(({validator:d})=>d(h)))==null?void 0:p.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=t=>{if(arbitraryPropertyRegex.test(t)){const e=arbitraryPropertyRegex.exec(t)[1],l=e==null?void 0:e.substring(0,e.indexOf(":"));if(l)return"arbitrary.."+l}},createClassMap=t=>{const{theme:e,prefix:l}=t,c={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(t.classGroups),l).forEach(([h,p])=>{processClassesRecursively(p,c,h,e)}),c},processClassesRecursively=(t,e,l,c)=>{t.forEach(f=>{if(typeof f=="string"){const h=f===""?e:getPart(e,f);h.classGroupId=l;return}if(typeof f=="function"){if(isThemeGetter(f)){processClassesRecursively(f(c),e,l,c);return}e.validators.push({validator:f,classGroupId:l});return}Object.entries(f).forEach(([h,p])=>{processClassesRecursively(p,getPart(e,h),l,c)})})},getPart=(t,e)=>{let l=t;return e.split(CLASS_PART_SEPARATOR).forEach(c=>{l.nextPart.has(c)||l.nextPart.set(c,{nextPart:new Map,validators:[]}),l=l.nextPart.get(c)}),l},isThemeGetter=t=>t.isThemeGetter,getPrefixedClassGroupEntries=(t,e)=>e?t.map(([l,c])=>{const f=c.map(h=>typeof h=="string"?e+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(([p,d])=>[e+p,d])):h);return[l,f]}):t,createLruCache=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,l=new Map,c=new Map;const f=(h,p)=>{l.set(h,p),e++,e>t&&(e=0,c=l,l=new Map)};return{get(h){let p=l.get(h);if(p!==void 0)return p;if((p=c.get(h))!==void 0)return f(h,p),p},set(h,p){l.has(h)?l.set(h,p):f(h,p)}}},IMPORTANT_MODIFIER="!",createParseClassName=t=>{const{separator:e,experimentalParseClassName:l}=t,c=e.length===1,f=e[0],h=e.length,p=d=>{const m=[];let y=0,x=0,u;for(let A=0;A<d.length;A++){let g=d[A];if(y===0){if(g===f&&(c||d.slice(A,A+h)===e)){m.push(d.slice(x,A)),x=A+h;continue}if(g==="/"){u=A;continue}}g==="["?y++:g==="]"&&y--}const w=m.length===0?d:d.substring(x),T=w.startsWith(IMPORTANT_MODIFIER),C=T?w.substring(1):w,k=u&&u>x?u-x:void 0;return{modifiers:m,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:k}};return l?d=>l({className:d,parseClassName:p}):p},sortModifiers=t=>{if(t.length<=1)return t;const e=[];let l=[];return t.forEach(c=>{c[0]==="["?(e.push(...l.sort(),c),l=[]):l.push(c)}),e.push(...l.sort()),e},createConfigUtils=t=>({cache:createLruCache(t.cacheSize),parseClassName:createParseClassName(t),...createClassGroupUtils(t)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(t,e)=>{const{parseClassName:l,getClassGroupId:c,getConflictingClassGroupIds:f}=e,h=[],p=t.trim().split(SPLIT_CLASSES_REGEX);let d="";for(let m=p.length-1;m>=0;m-=1){const y=p[m],{modifiers:x,hasImportantModifier:u,baseClassName:w,maybePostfixModifierPosition:T}=l(y);let C=!!T,k=c(C?w.substring(0,T):w);if(!k){if(!C){d=y+(d.length>0?" "+d:d);continue}if(k=c(w),!k){d=y+(d.length>0?" "+d:d);continue}C=!1}const A=sortModifiers(x).join(":"),g=u?A+IMPORTANT_MODIFIER:A,E=g+k;if(h.includes(E))continue;h.push(E);const v=f(k,C);for(let M=0;M<v.length;++M){const R=v[M];h.push(g+R)}d=y+(d.length>0?" "+d:d)}return d};function twJoin(){let t=0,e,l,c="";for(;t<arguments.length;)(e=arguments[t++])&&(l=toValue(e))&&(c&&(c+=" "),c+=l);return c}const toValue=t=>{if(typeof t=="string")return t;let e,l="";for(let c=0;c<t.length;c++)t[c]&&(e=toValue(t[c]))&&(l&&(l+=" "),l+=e);return l};function createTailwindMerge(t,...e){let l,c,f,h=p;function p(m){const y=e.reduce((x,u)=>u(x),t());return l=createConfigUtils(y),c=l.cache.get,f=l.cache.set,h=d,d(m)}function d(m){const y=c(m);if(y)return y;const x=mergeClassList(m,l);return f(m,x),x}return function(){return h(twJoin.apply(null,arguments))}}const fromTheme=t=>{const e=l=>l[t]||[];return e.isThemeGetter=!0,e},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=t=>isNumber$3(t)||stringLengths.has(t)||fractionRegex.test(t),isArbitraryLength=t=>getIsArbitraryValue(t,"length",isLengthOnly),isNumber$3=t=>!!t&&!Number.isNaN(Number(t)),isArbitraryNumber=t=>getIsArbitraryValue(t,"number",isNumber$3),isInteger=t=>!!t&&Number.isInteger(Number(t)),isPercent=t=>t.endsWith("%")&&isNumber$3(t.slice(0,-1)),isArbitraryValue=t=>arbitraryValueRegex.test(t),isTshirtSize=t=>tshirtUnitRegex.test(t),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=t=>getIsArbitraryValue(t,sizeLabels,isNever),isArbitraryPosition=t=>getIsArbitraryValue(t,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=t=>getIsArbitraryValue(t,imageLabels,isImage),isArbitraryShadow=t=>getIsArbitraryValue(t,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(t,e,l)=>{const c=arbitraryValueRegex.exec(t);return c?c[1]?typeof e=="string"?c[1]===e:e.has(c[1]):l(c[2]):!1},isLengthOnly=t=>lengthUnitRegex.test(t)&&!colorFunctionRegex.test(t),isNever=()=>!1,isShadow=t=>shadowRegex.test(t),isImage=t=>imageRegex.test(t),getDefaultConfig=()=>{const t=fromTheme("colors"),e=fromTheme("spacing"),l=fromTheme("blur"),c=fromTheme("brightness"),f=fromTheme("borderColor"),h=fromTheme("borderRadius"),p=fromTheme("borderSpacing"),d=fromTheme("borderWidth"),m=fromTheme("contrast"),y=fromTheme("grayscale"),x=fromTheme("hueRotate"),u=fromTheme("invert"),w=fromTheme("gap"),T=fromTheme("gradientColorStops"),C=fromTheme("gradientColorStopPositions"),k=fromTheme("inset"),A=fromTheme("margin"),g=fromTheme("opacity"),E=fromTheme("padding"),v=fromTheme("saturate"),M=fromTheme("scale"),R=fromTheme("sepia"),I=fromTheme("skew"),J=fromTheme("space"),_=fromTheme("translate"),L=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",isArbitraryValue,e],D=()=>[isArbitraryValue,e],ne=()=>["",isLength,isArbitraryLength],F=()=>["auto",isNumber$3,isArbitraryValue],j=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",isArbitraryValue],N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[isNumber$3,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:O(),borderColor:[t],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:D(),borderWidth:ne(),contrast:O(),grayscale:Q(),hueRotate:O(),invert:Q(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:$(),margin:$(),opacity:O(),padding:D(),saturate:O(),scale:O(),sepia:Q(),skew:O(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),isArbitraryValue]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[J]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[J]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,e]}],"min-w":[{"min-w":[isArbitraryValue,e,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,e,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$3,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:se()}],"border-color":[{border:[f]}],"border-color-x":[{"border-x":[f]}],"border-color-y":[{"border-y":[f]}],"border-color-s":[{"border-s":[f]}],"border-color-e":[{"border-e":[f]}],"border-color-t":[{"border-t":[f]}],"border-color-r":[{"border-r":[f]}],"border-color-b":[{"border-b":[f]}],"border-color-l":[{"border-l":[f]}],"divide-color":[{divide:[f]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[l]}],brightness:[{brightness:[c]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[l]}],"backdrop-brightness":[{"backdrop-brightness":[c]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[p]}],"border-spacing-x":[{"border-spacing-x":[p]}],"border-spacing-y":[{"border-spacing-y":[p]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...t){return twMerge(clsx(t))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:t,variant:e,size:l,asChild:c=!1,...f},h)=>{const p=c?Slot$4:"button";return jsxRuntimeExports.jsx(p,{className:cn(buttonVariants({variant:e,size:l,className:t})),ref:h,...f})});Button.displayName="Button";const Card=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("div",{ref:l,className:cn("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("div",{ref:l,className:cn("flex flex-col space-y-1.5 p-6",t),...e}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("div",{ref:l,className:cn("font-semibold leading-none tracking-tight",t),...e}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("div",{ref:l,className:cn("text-sm text-muted-foreground",t),...e}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("div",{ref:l,className:cn("p-6 pt-0",t),...e}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("div",{ref:l,className:cn("flex items-center p-6 pt-0",t),...e}));CardFooter.displayName="CardFooter";var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs$1(reactDomExports);var NODES$5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$5=NODES$5.reduce((t,e)=>{const l=createSlot(`Primitive.${e}`),c=reactExports.forwardRef((f,h)=>{const{asChild:p,...d}=f,m=p?l:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...d,ref:h})});return c.displayName=`Primitive.${e}`,{...t,[e]:c}},{}),NAME$4="Label",Label$3=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive$5.label,{...t,ref:e,onMouseDown:l=>{var f;l.target.closest("button, input, select, textarea")||((f=t.onMouseDown)==null||f.call(t,l),!l.defaultPrevented&&l.detail>1&&l.preventDefault())}}));Label$3.displayName=NAME$4;var Root$4=Label$3;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$2=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Root$4,{ref:l,className:cn(labelVariants(),t),...e}));Label$2.displayName=Root$4.displayName;const Input=reactExports.forwardRef(({className:t,type:e,...l},c)=>jsxRuntimeExports.jsx("input",{type:e,className:cn("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:c,...l}));Input.displayName="Input";function clamp$1(t,[e,l]){return Math.min(l,Math.max(e,t))}function composeEventHandlers$4(t,e,{checkForDefaultPrevented:l=!0}={}){return function(f){if(t==null||t(f),l===!1||!f.defaultPrevented)return e==null?void 0:e(f)}}function createContextScope$4(t,e=[]){let l=[];function c(h,p){const d=reactExports.createContext(p),m=l.length;l=[...l,p];const y=u=>{var g;const{scope:w,children:T,...C}=u,k=((g=w==null?void 0:w[t])==null?void 0:g[m])||d,A=reactExports.useMemo(()=>C,Object.values(C));return jsxRuntimeExports.jsx(k.Provider,{value:A,children:T})};y.displayName=h+"Provider";function x(u,w){var k;const T=((k=w==null?void 0:w[t])==null?void 0:k[m])||d,C=reactExports.useContext(T);if(C)return C;if(p!==void 0)return p;throw new Error(`\`${u}\` must be used within \`${h}\``)}return[y,x]}const f=()=>{const h=l.map(p=>reactExports.createContext(p));return function(d){const m=(d==null?void 0:d[t])||h;return reactExports.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return f.scopeName=t,[c,composeContextScopes$4(f,...e)]}function composeContextScopes$4(...t){const e=t[0];if(t.length===1)return e;const l=()=>{const c=t.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(h){const p=c.reduce((d,{useScope:m,scopeName:y})=>{const u=m(h)[`__scope${y}`];return{...d,...u}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return l.scopeName=e.scopeName,l}function setRef$5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$5(...t){return e=>{let l=!1;const c=t.map(f=>{const h=setRef$5(f,e);return!l&&typeof h=="function"&&(l=!0),h});if(l)return()=>{for(let f=0;f<c.length;f++){const h=c[f];typeof h=="function"?h():setRef$5(t[f],null)}}}}function useComposedRefs$4(...t){return reactExports.useCallback(composeRefs$5(...t),t)}var Slot$3=reactExports.forwardRef((t,e)=>{const{children:l,...c}=t,f=reactExports.Children.toArray(l),h=f.find(isSlottable$2);if(h){const p=h.props.children,d=f.map(m=>m===h?reactExports.Children.count(p)>1?reactExports.Children.only(null):reactExports.isValidElement(p)?p.props.children:null:m);return jsxRuntimeExports.jsx(SlotClone$2,{...c,ref:e,children:reactExports.isValidElement(p)?reactExports.cloneElement(p,void 0,d):null})}return jsxRuntimeExports.jsx(SlotClone$2,{...c,ref:e,children:l})});Slot$3.displayName="Slot";var SlotClone$2=reactExports.forwardRef((t,e)=>{const{children:l,...c}=t;if(reactExports.isValidElement(l)){const f=getElementRef$3(l);return reactExports.cloneElement(l,{...mergeProps$2(c,l.props),ref:e?composeRefs$5(e,f):f})}return reactExports.Children.count(l)>1?reactExports.Children.only(null):null});SlotClone$2.displayName="SlotClone";var Slottable$2=({children:t})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t});function isSlottable$2(t){return reactExports.isValidElement(t)&&t.type===Slottable$2}function mergeProps$2(t,e){const l={...e};for(const c in e){const f=t[c],h=e[c];/^on[A-Z]/.test(c)?f&&h?l[c]=(...d)=>{h(...d),f(...d)}:f&&(l[c]=f):c==="style"?l[c]={...f,...h}:c==="className"&&(l[c]=[f,h].filter(Boolean).join(" "))}return{...t,...l}}function getElementRef$3(t){var c,f;let e=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,l=e&&"isReactWarning"in e&&e.isReactWarning;return l?t.ref:(e=(f=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:f.get,l=e&&"isReactWarning"in e&&e.isReactWarning,l?t.props.ref:t.props.ref||t.ref)}function createCollection$3(t){const e=t+"CollectionProvider",[l,c]=createContextScope$4(e),[f,h]=l(e,{collectionRef:{current:null},itemMap:new Map}),p=T=>{const{scope:C,children:k}=T,A=React2.useRef(null),g=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(f,{scope:C,itemMap:g,collectionRef:A,children:k})};p.displayName=e;const d=t+"CollectionSlot",m=React2.forwardRef((T,C)=>{const{scope:k,children:A}=T,g=h(d,k),E=useComposedRefs$4(C,g.collectionRef);return jsxRuntimeExports.jsx(Slot$3,{ref:E,children:A})});m.displayName=d;const y=t+"CollectionItemSlot",x="data-radix-collection-item",u=React2.forwardRef((T,C)=>{const{scope:k,children:A,...g}=T,E=React2.useRef(null),v=useComposedRefs$4(C,E),M=h(y,k);return React2.useEffect(()=>(M.itemMap.set(E,{ref:E,...g}),()=>void M.itemMap.delete(E))),jsxRuntimeExports.jsx(Slot$3,{[x]:"",ref:v,children:A})});u.displayName=y;function w(T){const C=h(t+"CollectionConsumer",T);return React2.useCallback(()=>{const A=C.collectionRef.current;if(!A)return[];const g=Array.from(A.querySelectorAll(`[${x}]`));return Array.from(C.itemMap.values()).sort((M,R)=>g.indexOf(M.ref.current)-g.indexOf(R.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:p,Slot:m,ItemSlot:u},w,c]}var DirectionContext$2=reactExports.createContext(void 0);function useDirection$2(t){const e=reactExports.useContext(DirectionContext$2);return t||e||"ltr"}var Slot$2=reactExports.forwardRef((t,e)=>{const{children:l,...c}=t,f=reactExports.Children.toArray(l),h=f.find(isSlottable$1);if(h){const p=h.props.children,d=f.map(m=>m===h?reactExports.Children.count(p)>1?reactExports.Children.only(null):reactExports.isValidElement(p)?p.props.children:null:m);return jsxRuntimeExports.jsx(SlotClone$1,{...c,ref:e,children:reactExports.isValidElement(p)?reactExports.cloneElement(p,void 0,d):null})}return jsxRuntimeExports.jsx(SlotClone$1,{...c,ref:e,children:l})});Slot$2.displayName="Slot";var SlotClone$1=reactExports.forwardRef((t,e)=>{const{children:l,...c}=t;if(reactExports.isValidElement(l)){const f=getElementRef$2(l);return reactExports.cloneElement(l,{...mergeProps$1(c,l.props),ref:e?composeRefs$5(e,f):f})}return reactExports.Children.count(l)>1?reactExports.Children.only(null):null});SlotClone$1.displayName="SlotClone";var Slottable$1=({children:t})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t});function isSlottable$1(t){return reactExports.isValidElement(t)&&t.type===Slottable$1}function mergeProps$1(t,e){const l={...e};for(const c in e){const f=t[c],h=e[c];/^on[A-Z]/.test(c)?f&&h?l[c]=(...d)=>{h(...d),f(...d)}:f&&(l[c]=f):c==="style"?l[c]={...f,...h}:c==="className"&&(l[c]=[f,h].filter(Boolean).join(" "))}return{...t,...l}}function getElementRef$2(t){var c,f;let e=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,l=e&&"isReactWarning"in e&&e.isReactWarning;return l?t.ref:(e=(f=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:f.get,l=e&&"isReactWarning"in e&&e.isReactWarning,l?t.props.ref:t.props.ref||t.ref)}var NODES$4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive$4=NODES$4.reduce((t,e)=>{const l=reactExports.forwardRef((c,f)=>{const{asChild:h,...p}=c,d=h?Slot$2:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(d,{...p,ref:f})});return l.displayName=`Primitive.${e}`,{...t,[e]:l}},{});function dispatchDiscreteCustomEvent$2(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}function useCallbackRef$4(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...l)=>{var c;return(c=e.current)==null?void 0:c.call(e,...l)},[])}function useEscapeKeydown$2(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$4(t);reactExports.useEffect(()=>{const c=f=>{f.key==="Escape"&&l(f)};return e.addEventListener("keydown",c,{capture:!0}),()=>e.removeEventListener("keydown",c,{capture:!0})},[l,e])}var DISMISSABLE_LAYER_NAME$2="DismissableLayer",CONTEXT_UPDATE$2="dismissableLayer.update",POINTER_DOWN_OUTSIDE$2="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE$2="dismissableLayer.focusOutside",originalBodyPointerEvents$2,DismissableLayerContext$2=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer$2=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:d,...m}=t,y=reactExports.useContext(DismissableLayerContext$2),[x,u]=reactExports.useState(null),w=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=reactExports.useState({}),C=useComposedRefs$4(e,J=>u(J)),k=Array.from(y.layers),[A]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),g=k.indexOf(A),E=x?k.indexOf(x):-1,v=y.layersWithOutsidePointerEventsDisabled.size>0,M=E>=g,R=usePointerDownOutside$2(J=>{const _=J.target,L=[...y.branches].some(K=>K.contains(_));!M||L||(f==null||f(J),p==null||p(J),J.defaultPrevented||d==null||d())},w),I=useFocusOutside$2(J=>{const _=J.target;[...y.branches].some(K=>K.contains(_))||(h==null||h(J),p==null||p(J),J.defaultPrevented||d==null||d())},w);return useEscapeKeydown$2(J=>{E===y.layers.size-1&&(c==null||c(J),!J.defaultPrevented&&d&&(J.preventDefault(),d()))},w),reactExports.useEffect(()=>{if(x)return l&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents$2=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(x)),y.layers.add(x),dispatchUpdate$2(),()=>{l&&y.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=originalBodyPointerEvents$2)}},[x,w,l,y]),reactExports.useEffect(()=>()=>{x&&(y.layers.delete(x),y.layersWithOutsidePointerEventsDisabled.delete(x),dispatchUpdate$2())},[x,y]),reactExports.useEffect(()=>{const J=()=>T({});return document.addEventListener(CONTEXT_UPDATE$2,J),()=>document.removeEventListener(CONTEXT_UPDATE$2,J)},[]),jsxRuntimeExports.jsx(Primitive$4.div,{...m,ref:C,style:{pointerEvents:v?M?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers$4(t.onFocusCapture,I.onFocusCapture),onBlurCapture:composeEventHandlers$4(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:composeEventHandlers$4(t.onPointerDownCapture,R.onPointerDownCapture)})});DismissableLayer$2.displayName=DISMISSABLE_LAYER_NAME$2;var BRANCH_NAME$2="DismissableLayerBranch",DismissableLayerBranch$2=reactExports.forwardRef((t,e)=>{const l=reactExports.useContext(DismissableLayerContext$2),c=reactExports.useRef(null),f=useComposedRefs$4(e,c);return reactExports.useEffect(()=>{const h=c.current;if(h)return l.branches.add(h),()=>{l.branches.delete(h)}},[l.branches]),jsxRuntimeExports.jsx(Primitive$4.div,{...t,ref:f})});DismissableLayerBranch$2.displayName=BRANCH_NAME$2;function usePointerDownOutside$2(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$4(t),c=reactExports.useRef(!1),f=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const h=d=>{if(d.target&&!c.current){let m=function(){handleAndDispatchCustomEvent$3(POINTER_DOWN_OUTSIDE$2,l,y,{discrete:!0})};const y={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",f.current),f.current=m,e.addEventListener("click",f.current,{once:!0})):m()}else e.removeEventListener("click",f.current);c.current=!1},p=window.setTimeout(()=>{e.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(p),e.removeEventListener("pointerdown",h),e.removeEventListener("click",f.current)}},[e,l]),{onPointerDownCapture:()=>c.current=!0}}function useFocusOutside$2(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$4(t),c=reactExports.useRef(!1);return reactExports.useEffect(()=>{const f=h=>{h.target&&!c.current&&handleAndDispatchCustomEvent$3(FOCUS_OUTSIDE$2,l,{originalEvent:h},{discrete:!1})};return e.addEventListener("focusin",f),()=>e.removeEventListener("focusin",f)},[e,l]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function dispatchUpdate$2(){const t=new CustomEvent(CONTEXT_UPDATE$2);document.dispatchEvent(t)}function handleAndDispatchCustomEvent$3(t,e,l,{discrete:c}){const f=l.originalEvent.target,h=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:l});e&&f.addEventListener(t,e,{once:!0}),c?dispatchDiscreteCustomEvent$2(f,h):f.dispatchEvent(h)}var count$4=0;function useFocusGuards$1(){reactExports.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??createFocusGuard$1()),document.body.insertAdjacentElement("beforeend",t[1]??createFocusGuard$1()),count$4++,()=>{count$4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),count$4--}},[])}function createFocusGuard$1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var AUTOFOCUS_ON_MOUNT$1="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT$1="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$2={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME$1="FocusScope",FocusScope$1=reactExports.forwardRef((t,e)=>{const{loop:l=!1,trapped:c=!1,onMountAutoFocus:f,onUnmountAutoFocus:h,...p}=t,[d,m]=reactExports.useState(null),y=useCallbackRef$4(f),x=useCallbackRef$4(h),u=reactExports.useRef(null),w=useComposedRefs$4(e,k=>m(k)),T=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(c){let k=function(v){if(T.paused||!d)return;const M=v.target;d.contains(M)?u.current=M:focus$2(u.current,{select:!0})},A=function(v){if(T.paused||!d)return;const M=v.relatedTarget;M!==null&&(d.contains(M)||focus$2(u.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const R of v)R.removedNodes.length>0&&focus$2(d)};document.addEventListener("focusin",k),document.addEventListener("focusout",A);const E=new MutationObserver(g);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",A),E.disconnect()}}},[c,d,T.paused]),reactExports.useEffect(()=>{if(d){focusScopesStack$1.add(T);const k=document.activeElement;if(!d.contains(k)){const g=new CustomEvent(AUTOFOCUS_ON_MOUNT$1,EVENT_OPTIONS$2);d.addEventListener(AUTOFOCUS_ON_MOUNT$1,y),d.dispatchEvent(g),g.defaultPrevented||(focusFirst$4(removeLinks$1(getTabbableCandidates$2(d)),{select:!0}),document.activeElement===k&&focus$2(d))}return()=>{d.removeEventListener(AUTOFOCUS_ON_MOUNT$1,y),setTimeout(()=>{const g=new CustomEvent(AUTOFOCUS_ON_UNMOUNT$1,EVENT_OPTIONS$2);d.addEventListener(AUTOFOCUS_ON_UNMOUNT$1,x),d.dispatchEvent(g),g.defaultPrevented||focus$2(k??document.body,{select:!0}),d.removeEventListener(AUTOFOCUS_ON_UNMOUNT$1,x),focusScopesStack$1.remove(T)},0)}}},[d,y,x,T]);const C=reactExports.useCallback(k=>{if(!l&&!c||T.paused)return;const A=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,g=document.activeElement;if(A&&g){const E=k.currentTarget,[v,M]=getTabbableEdges$1(E);v&&M?!k.shiftKey&&g===M?(k.preventDefault(),l&&focus$2(v,{select:!0})):k.shiftKey&&g===v&&(k.preventDefault(),l&&focus$2(M,{select:!0})):g===E&&k.preventDefault()}},[l,c,T.paused]);return jsxRuntimeExports.jsx(Primitive$4.div,{tabIndex:-1,...p,ref:w,onKeyDown:C})});FocusScope$1.displayName=FOCUS_SCOPE_NAME$1;function focusFirst$4(t,{select:e=!1}={}){const l=document.activeElement;for(const c of t)if(focus$2(c,{select:e}),document.activeElement!==l)return}function getTabbableEdges$1(t){const e=getTabbableCandidates$2(t),l=findVisible$1(e,t),c=findVisible$1(e.reverse(),t);return[l,c]}function getTabbableCandidates$2(t){const e=[],l=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const f=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||f?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)e.push(l.currentNode);return e}function findVisible$1(t,e){for(const l of t)if(!isHidden$1(l,{upTo:e}))return l}function isHidden$1(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function isSelectableInput$1(t){return t instanceof HTMLInputElement&&"select"in t}function focus$2(t,{select:e=!1}={}){if(t&&t.focus){const l=document.activeElement;t.focus({preventScroll:!0}),t!==l&&isSelectableInput$1(t)&&e&&t.select()}}var focusScopesStack$1=createFocusScopesStack$1();function createFocusScopesStack$1(){let t=[];return{add(e){const l=t[0];e!==l&&(l==null||l.pause()),t=arrayRemove$1(t,e),t.unshift(e)},remove(e){var l;t=arrayRemove$1(t,e),(l=t[0])==null||l.resume()}}}function arrayRemove$1(t,e){const l=[...t],c=l.indexOf(e);return c!==-1&&l.splice(c,1),l}function removeLinks$1(t){return t.filter(e=>e.tagName!=="A")}var useLayoutEffect2$5=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId$2=React.useId||(()=>{}),count$3=0;function useId$2(t){const[e,l]=reactExports.useState(useReactId$2());return useLayoutEffect2$5(()=>{l(c=>c??String(count$3++))},[t]),e?`radix-${e}`:""}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor$1=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(t,e,l){return max(t,min(e,l))}function evaluate(t,e){return typeof t=="function"?t(e):t}function getSide$1(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return t==="x"?"y":"x"}function getAxisLength(t){return t==="y"?"height":"width"}function getSideAxis(t){return["top","bottom"].includes(getSide$1(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,e,l){l===void 0&&(l=!1);const c=getAlignment(t),f=getAlignmentAxis(t),h=getAxisLength(f);let p=f==="x"?c===(l?"end":"start")?"right":"left":c==="start"?"bottom":"top";return e.reference[h]>e.floating[h]&&(p=getOppositePlacement(p)),[p,getOppositePlacement(p)]}function getExpandedPlacements(t){const e=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,e=>oppositeAlignmentMap[e])}function getSideList(t,e,l){const c=["left","right"],f=["right","left"],h=["top","bottom"],p=["bottom","top"];switch(t){case"top":case"bottom":return l?e?f:c:e?c:f;case"left":case"right":return e?h:p;default:return[]}}function getOppositeAxisPlacements(t,e,l,c){const f=getAlignment(t);let h=getSideList(getSide$1(t),l==="start",c);return f&&(h=h.map(p=>p+"-"+f),e&&(h=h.concat(h.map(getOppositeAlignmentPlacement)))),h}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(t){return{top:0,right:0,bottom:0,left:0,...t}}function getPaddingObject(t){return typeof t!="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){const{x:e,y:l,width:c,height:f}=t;return{width:c,height:f,top:l,left:e,right:e+c,bottom:l+f,x:e,y:l}}function computeCoordsFromPlacement(t,e,l){let{reference:c,floating:f}=t;const h=getSideAxis(e),p=getAlignmentAxis(e),d=getAxisLength(p),m=getSide$1(e),y=h==="y",x=c.x+c.width/2-f.width/2,u=c.y+c.height/2-f.height/2,w=c[d]/2-f[d]/2;let T;switch(m){case"top":T={x,y:c.y-f.height};break;case"bottom":T={x,y:c.y+c.height};break;case"right":T={x:c.x+c.width,y:u};break;case"left":T={x:c.x-f.width,y:u};break;default:T={x:c.x,y:c.y}}switch(getAlignment(e)){case"start":T[p]-=w*(l&&y?-1:1);break;case"end":T[p]+=w*(l&&y?-1:1);break}return T}const computePosition$1=async(t,e,l)=>{const{placement:c="bottom",strategy:f="absolute",middleware:h=[],platform:p}=l,d=h.filter(Boolean),m=await(p.isRTL==null?void 0:p.isRTL(e));let y=await p.getElementRects({reference:t,floating:e,strategy:f}),{x,y:u}=computeCoordsFromPlacement(y,c,m),w=c,T={},C=0;for(let k=0;k<d.length;k++){const{name:A,fn:g}=d[k],{x:E,y:v,data:M,reset:R}=await g({x,y:u,initialPlacement:c,placement:w,strategy:f,middlewareData:T,rects:y,platform:p,elements:{reference:t,floating:e}});x=E??x,u=v??u,T={...T,[A]:{...T[A],...M}},R&&C<=50&&(C++,typeof R=="object"&&(R.placement&&(w=R.placement),R.rects&&(y=R.rects===!0?await p.getElementRects({reference:t,floating:e,strategy:f}):R.rects),{x,y:u}=computeCoordsFromPlacement(y,w,m)),k=-1)}return{x,y:u,placement:w,strategy:f,middlewareData:T}};async function detectOverflow(t,e){var l;e===void 0&&(e={});const{x:c,y:f,platform:h,rects:p,elements:d,strategy:m}=t,{boundary:y="clippingAncestors",rootBoundary:x="viewport",elementContext:u="floating",altBoundary:w=!1,padding:T=0}=evaluate(e,t),C=getPaddingObject(T),A=d[w?u==="floating"?"reference":"floating":u],g=rectToClientRect(await h.getClippingRect({element:(l=await(h.isElement==null?void 0:h.isElement(A)))==null||l?A:A.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(d.floating)),boundary:y,rootBoundary:x,strategy:m})),E=u==="floating"?{x:c,y:f,width:p.floating.width,height:p.floating.height}:p.reference,v=await(h.getOffsetParent==null?void 0:h.getOffsetParent(d.floating)),M=await(h.isElement==null?void 0:h.isElement(v))?await(h.getScale==null?void 0:h.getScale(v))||{x:1,y:1}:{x:1,y:1},R=rectToClientRect(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:v,strategy:m}):E);return{top:(g.top-R.top+C.top)/M.y,bottom:(R.bottom-g.bottom+C.bottom)/M.y,left:(g.left-R.left+C.left)/M.x,right:(R.right-g.right+C.right)/M.x}}const arrow$4=t=>({name:"arrow",options:t,async fn(e){const{x:l,y:c,placement:f,rects:h,platform:p,elements:d,middlewareData:m}=e,{element:y,padding:x=0}=evaluate(t,e)||{};if(y==null)return{};const u=getPaddingObject(x),w={x:l,y:c},T=getAlignmentAxis(f),C=getAxisLength(T),k=await p.getDimensions(y),A=T==="y",g=A?"top":"left",E=A?"bottom":"right",v=A?"clientHeight":"clientWidth",M=h.reference[C]+h.reference[T]-w[T]-h.floating[C],R=w[T]-h.reference[T],I=await(p.getOffsetParent==null?void 0:p.getOffsetParent(y));let J=I?I[v]:0;(!J||!await(p.isElement==null?void 0:p.isElement(I)))&&(J=d.floating[v]||h.floating[C]);const _=M/2-R/2,L=J/2-k[C]/2-1,K=min(u[g],L),$=min(u[E],L),D=K,ne=J-k[C]-$,F=J/2-k[C]/2+_,j=clamp(D,F,ne),se=!m.arrow&&getAlignment(f)!=null&&F!==j&&h.reference[C]/2-(F<D?K:$)-k[C]/2<0,Y=se?F<D?F-D:F-ne:0;return{[T]:w[T]+Y,data:{[T]:j,centerOffset:F-j-Y,...se&&{alignmentOffset:Y}},reset:se}}}),flip$2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var l,c;const{placement:f,middlewareData:h,rects:p,initialPlacement:d,platform:m,elements:y}=e,{mainAxis:x=!0,crossAxis:u=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:k=!0,...A}=evaluate(t,e);if((l=h.arrow)!=null&&l.alignmentOffset)return{};const g=getSide$1(f),E=getSideAxis(d),v=getSide$1(d)===d,M=await(m.isRTL==null?void 0:m.isRTL(y.floating)),R=w||(v||!k?[getOppositePlacement(d)]:getExpandedPlacements(d)),I=C!=="none";!w&&I&&R.push(...getOppositeAxisPlacements(d,k,C,M));const J=[d,...R],_=await detectOverflow(e,A),L=[];let K=((c=h.flip)==null?void 0:c.overflows)||[];if(x&&L.push(_[g]),u){const F=getAlignmentSides(f,p,M);L.push(_[F[0]],_[F[1]])}if(K=[...K,{placement:f,overflows:L}],!L.every(F=>F<=0)){var $,D;const F=((($=h.flip)==null?void 0:$.index)||0)+1,j=J[F];if(j)return{data:{index:F,overflows:K},reset:{placement:j}};let se=(D=K.filter(Y=>Y.overflows[0]<=0).sort((Y,q)=>Y.overflows[1]-q.overflows[1])[0])==null?void 0:D.placement;if(!se)switch(T){case"bestFit":{var ne;const Y=(ne=K.filter(q=>{if(I){const Q=getSideAxis(q.placement);return Q===E||Q==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Q=>Q>0).reduce((Q,N)=>Q+N,0)]).sort((q,Q)=>q[1]-Q[1])[0])==null?void 0:ne[0];Y&&(se=Y);break}case"initialPlacement":se=d;break}if(f!==se)return{reset:{placement:se}}}return{}}}};function getSideOffsets(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function isAnySideFullyClipped(t){return sides.some(e=>t[e]>=0)}const hide$2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:l}=e,{strategy:c="referenceHidden",...f}=evaluate(t,e);switch(c){case"referenceHidden":{const h=await detectOverflow(e,{...f,elementContext:"reference"}),p=getSideOffsets(h,l.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:isAnySideFullyClipped(p)}}}case"escaped":{const h=await detectOverflow(e,{...f,altBoundary:!0}),p=getSideOffsets(h,l.floating);return{data:{escapedOffsets:p,escaped:isAnySideFullyClipped(p)}}}default:return{}}}}};async function convertValueToCoords(t,e){const{placement:l,platform:c,elements:f}=t,h=await(c.isRTL==null?void 0:c.isRTL(f.floating)),p=getSide$1(l),d=getAlignment(l),m=getSideAxis(l)==="y",y=["left","top"].includes(p)?-1:1,x=h&&m?-1:1,u=evaluate(e,t);let{mainAxis:w,crossAxis:T,alignmentAxis:C}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return d&&typeof C=="number"&&(T=d==="end"?C*-1:C),m?{x:T*x,y:w*y}:{x:w*y,y:T*x}}const offset$2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var l,c;const{x:f,y:h,placement:p,middlewareData:d}=e,m=await convertValueToCoords(e,t);return p===((l=d.offset)==null?void 0:l.placement)&&(c=d.arrow)!=null&&c.alignmentOffset?{}:{x:f+m.x,y:h+m.y,data:{...m,placement:p}}}}},shift$3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:l,y:c,placement:f}=e,{mainAxis:h=!0,crossAxis:p=!1,limiter:d={fn:A=>{let{x:g,y:E}=A;return{x:g,y:E}}},...m}=evaluate(t,e),y={x:l,y:c},x=await detectOverflow(e,m),u=getSideAxis(getSide$1(f)),w=getOppositeAxis(u);let T=y[w],C=y[u];if(h){const A=w==="y"?"top":"left",g=w==="y"?"bottom":"right",E=T+x[A],v=T-x[g];T=clamp(E,T,v)}if(p){const A=u==="y"?"top":"left",g=u==="y"?"bottom":"right",E=C+x[A],v=C-x[g];C=clamp(E,C,v)}const k=d.fn({...e,[w]:T,[u]:C});return{...k,data:{x:k.x-l,y:k.y-c,enabled:{[w]:h,[u]:p}}}}}},limitShift$2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:l,y:c,placement:f,rects:h,middlewareData:p}=e,{offset:d=0,mainAxis:m=!0,crossAxis:y=!0}=evaluate(t,e),x={x:l,y:c},u=getSideAxis(f),w=getOppositeAxis(u);let T=x[w],C=x[u];const k=evaluate(d,e),A=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(m){const v=w==="y"?"height":"width",M=h.reference[w]-h.floating[v]+A.mainAxis,R=h.reference[w]+h.reference[v]-A.mainAxis;T<M?T=M:T>R&&(T=R)}if(y){var g,E;const v=w==="y"?"width":"height",M=["top","left"].includes(getSide$1(f)),R=h.reference[u]-h.floating[v]+(M&&((g=p.offset)==null?void 0:g[u])||0)+(M?0:A.crossAxis),I=h.reference[u]+h.reference[v]+(M?0:((E=p.offset)==null?void 0:E[u])||0)-(M?A.crossAxis:0);C<R?C=R:C>I&&(C=I)}return{[w]:T,[u]:C}}}},size$2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var l,c;const{placement:f,rects:h,platform:p,elements:d}=e,{apply:m=()=>{},...y}=evaluate(t,e),x=await detectOverflow(e,y),u=getSide$1(f),w=getAlignment(f),T=getSideAxis(f)==="y",{width:C,height:k}=h.floating;let A,g;u==="top"||u==="bottom"?(A=u,g=w===(await(p.isRTL==null?void 0:p.isRTL(d.floating))?"start":"end")?"left":"right"):(g=u,A=w==="end"?"top":"bottom");const E=k-x.top-x.bottom,v=C-x.left-x.right,M=min(k-x[A],E),R=min(C-x[g],v),I=!e.middlewareData.shift;let J=M,_=R;if((l=e.middlewareData.shift)!=null&&l.enabled.x&&(_=v),(c=e.middlewareData.shift)!=null&&c.enabled.y&&(J=E),I&&!w){const K=max(x.left,0),$=max(x.right,0),D=max(x.top,0),ne=max(x.bottom,0);T?_=C-2*(K!==0||$!==0?K+$:max(x.left,x.right)):J=k-2*(D!==0||ne!==0?D+ne:max(x.top,x.bottom))}await m({...e,availableWidth:_,availableHeight:J});const L=await p.getDimensions(d.floating);return C!==L.width||k!==L.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(t){var e;return(e=(isNode(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function isNode(t){return hasWindow()?t instanceof Node||t instanceof getWindow(t).Node:!1}function isElement(t){return hasWindow()?t instanceof Element||t instanceof getWindow(t).Element:!1}function isHTMLElement$2(t){return hasWindow()?t instanceof HTMLElement||t instanceof getWindow(t).HTMLElement:!1}function isShadowRoot(t){return!hasWindow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof getWindow(t).ShadowRoot}function isOverflowElement(t){const{overflow:e,overflowX:l,overflowY:c,display:f}=getComputedStyle$1(t);return/auto|scroll|overlay|hidden|clip/.test(e+c+l)&&!["inline","contents"].includes(f)}function isTableElement(t){return["table","td","th"].includes(getNodeName(t))}function isTopLayer(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function isContainingBlock(t){const e=isWebKit(),l=isElement(t)?getComputedStyle$1(t):t;return["transform","translate","scale","rotate","perspective"].some(c=>l[c]?l[c]!=="none":!1)||(l.containerType?l.containerType!=="normal":!1)||!e&&(l.backdropFilter?l.backdropFilter!=="none":!1)||!e&&(l.filter?l.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(c=>(l.willChange||"").includes(c))||["paint","layout","strict","content"].some(c=>(l.contain||"").includes(c))}function getContainingBlock(t){let e=getParentNode(t);for(;isHTMLElement$2(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(t){return["html","body","#document"].includes(getNodeName(t))}function getComputedStyle$1(t){return getWindow(t).getComputedStyle(t)}function getNodeScroll(t){return isElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function getParentNode(t){if(getNodeName(t)==="html")return t;const e=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(t){const e=getParentNode(t);return isLastTraversableNode(e)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement$2(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(t,e,l){var c;e===void 0&&(e=[]),l===void 0&&(l=!0);const f=getNearestOverflowAncestor(t),h=f===((c=t.ownerDocument)==null?void 0:c.body),p=getWindow(f);if(h){const d=getFrameElement(p);return e.concat(p,p.visualViewport||[],isOverflowElement(f)?f:[],d&&l?getOverflowAncestors(d):[])}return e.concat(f,getOverflowAncestors(f,[],l))}function getFrameElement(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function getCssDimensions(t){const e=getComputedStyle$1(t);let l=parseFloat(e.width)||0,c=parseFloat(e.height)||0;const f=isHTMLElement$2(t),h=f?t.offsetWidth:l,p=f?t.offsetHeight:c,d=round(l)!==h||round(c)!==p;return d&&(l=h,c=p),{width:l,height:c,$:d}}function unwrapElement$1(t){return isElement(t)?t:t.contextElement}function getScale(t){const e=unwrapElement$1(t);if(!isHTMLElement$2(e))return createCoords(1);const l=e.getBoundingClientRect(),{width:c,height:f,$:h}=getCssDimensions(e);let p=(h?round(l.width):l.width)/c,d=(h?round(l.height):l.height)/f;return(!p||!Number.isFinite(p))&&(p=1),(!d||!Number.isFinite(d))&&(d=1),{x:p,y:d}}const noOffsets=createCoords(0);function getVisualOffsets(t){const e=getWindow(t);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(t,e,l){return e===void 0&&(e=!1),!l||e&&l!==getWindow(t)?!1:e}function getBoundingClientRect(t,e,l,c){e===void 0&&(e=!1),l===void 0&&(l=!1);const f=t.getBoundingClientRect(),h=unwrapElement$1(t);let p=createCoords(1);e&&(c?isElement(c)&&(p=getScale(c)):p=getScale(t));const d=shouldAddVisualOffsets(h,l,c)?getVisualOffsets(h):createCoords(0);let m=(f.left+d.x)/p.x,y=(f.top+d.y)/p.y,x=f.width/p.x,u=f.height/p.y;if(h){const w=getWindow(h),T=c&&isElement(c)?getWindow(c):c;let C=w,k=getFrameElement(C);for(;k&&c&&T!==C;){const A=getScale(k),g=k.getBoundingClientRect(),E=getComputedStyle$1(k),v=g.left+(k.clientLeft+parseFloat(E.paddingLeft))*A.x,M=g.top+(k.clientTop+parseFloat(E.paddingTop))*A.y;m*=A.x,y*=A.y,x*=A.x,u*=A.y,m+=v,y+=M,C=getWindow(k),k=getFrameElement(C)}}return rectToClientRect({width:x,height:u,x:m,y})}function getWindowScrollBarX(t,e){const l=getNodeScroll(t).scrollLeft;return e?e.left+l:getBoundingClientRect(getDocumentElement(t)).left+l}function getHTMLOffset(t,e,l){l===void 0&&(l=!1);const c=t.getBoundingClientRect(),f=c.left+e.scrollLeft-(l?0:getWindowScrollBarX(t,c)),h=c.top+e.scrollTop;return{x:f,y:h}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:e,rect:l,offsetParent:c,strategy:f}=t;const h=f==="fixed",p=getDocumentElement(c),d=e?isTopLayer(e.floating):!1;if(c===p||d&&h)return l;let m={scrollLeft:0,scrollTop:0},y=createCoords(1);const x=createCoords(0),u=isHTMLElement$2(c);if((u||!u&&!h)&&((getNodeName(c)!=="body"||isOverflowElement(p))&&(m=getNodeScroll(c)),isHTMLElement$2(c))){const T=getBoundingClientRect(c);y=getScale(c),x.x=T.x+c.clientLeft,x.y=T.y+c.clientTop}const w=p&&!u&&!h?getHTMLOffset(p,m,!0):createCoords(0);return{width:l.width*y.x,height:l.height*y.y,x:l.x*y.x-m.scrollLeft*y.x+x.x+w.x,y:l.y*y.y-m.scrollTop*y.y+x.y+w.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getDocumentRect(t){const e=getDocumentElement(t),l=getNodeScroll(t),c=t.ownerDocument.body,f=max(e.scrollWidth,e.clientWidth,c.scrollWidth,c.clientWidth),h=max(e.scrollHeight,e.clientHeight,c.scrollHeight,c.clientHeight);let p=-l.scrollLeft+getWindowScrollBarX(t);const d=-l.scrollTop;return getComputedStyle$1(c).direction==="rtl"&&(p+=max(e.clientWidth,c.clientWidth)-f),{width:f,height:h,x:p,y:d}}function getViewportRect(t,e){const l=getWindow(t),c=getDocumentElement(t),f=l.visualViewport;let h=c.clientWidth,p=c.clientHeight,d=0,m=0;if(f){h=f.width,p=f.height;const y=isWebKit();(!y||y&&e==="fixed")&&(d=f.offsetLeft,m=f.offsetTop)}return{width:h,height:p,x:d,y:m}}function getInnerBoundingClientRect(t,e){const l=getBoundingClientRect(t,!0,e==="fixed"),c=l.top+t.clientTop,f=l.left+t.clientLeft,h=isHTMLElement$2(t)?getScale(t):createCoords(1),p=t.clientWidth*h.x,d=t.clientHeight*h.y,m=f*h.x,y=c*h.y;return{width:p,height:d,x:m,y}}function getClientRectFromClippingAncestor(t,e,l){let c;if(e==="viewport")c=getViewportRect(t,l);else if(e==="document")c=getDocumentRect(getDocumentElement(t));else if(isElement(e))c=getInnerBoundingClientRect(e,l);else{const f=getVisualOffsets(t);c={x:e.x-f.x,y:e.y-f.y,width:e.width,height:e.height}}return rectToClientRect(c)}function hasFixedPositionAncestor(t,e){const l=getParentNode(t);return l===e||!isElement(l)||isLastTraversableNode(l)?!1:getComputedStyle$1(l).position==="fixed"||hasFixedPositionAncestor(l,e)}function getClippingElementAncestors(t,e){const l=e.get(t);if(l)return l;let c=getOverflowAncestors(t,[],!1).filter(d=>isElement(d)&&getNodeName(d)!=="body"),f=null;const h=getComputedStyle$1(t).position==="fixed";let p=h?getParentNode(t):t;for(;isElement(p)&&!isLastTraversableNode(p);){const d=getComputedStyle$1(p),m=isContainingBlock(p);!m&&d.position==="fixed"&&(f=null),(h?!m&&!f:!m&&d.position==="static"&&!!f&&["absolute","fixed"].includes(f.position)||isOverflowElement(p)&&!m&&hasFixedPositionAncestor(t,p))?c=c.filter(x=>x!==p):f=d,p=getParentNode(p)}return e.set(t,c),c}function getClippingRect(t){let{element:e,boundary:l,rootBoundary:c,strategy:f}=t;const p=[...l==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(l),c],d=p[0],m=p.reduce((y,x)=>{const u=getClientRectFromClippingAncestor(e,x,f);return y.top=max(u.top,y.top),y.right=min(u.right,y.right),y.bottom=min(u.bottom,y.bottom),y.left=max(u.left,y.left),y},getClientRectFromClippingAncestor(e,d,f));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function getDimensions(t){const{width:e,height:l}=getCssDimensions(t);return{width:e,height:l}}function getRectRelativeToOffsetParent(t,e,l){const c=isHTMLElement$2(e),f=getDocumentElement(e),h=l==="fixed",p=getBoundingClientRect(t,!0,h,e);let d={scrollLeft:0,scrollTop:0};const m=createCoords(0);if(c||!c&&!h)if((getNodeName(e)!=="body"||isOverflowElement(f))&&(d=getNodeScroll(e)),c){const w=getBoundingClientRect(e,!0,h,e);m.x=w.x+e.clientLeft,m.y=w.y+e.clientTop}else f&&(m.x=getWindowScrollBarX(f));const y=f&&!c&&!h?getHTMLOffset(f,d):createCoords(0),x=p.left+d.scrollLeft-m.x-y.x,u=p.top+d.scrollTop-m.y-y.y;return{x,y:u,width:p.width,height:p.height}}function isStaticPositioned(t){return getComputedStyle$1(t).position==="static"}function getTrueOffsetParent(t,e){if(!isHTMLElement$2(t)||getComputedStyle$1(t).position==="fixed")return null;if(e)return e(t);let l=t.offsetParent;return getDocumentElement(t)===l&&(l=l.ownerDocument.body),l}function getOffsetParent(t,e){const l=getWindow(t);if(isTopLayer(t))return l;if(!isHTMLElement$2(t)){let f=getParentNode(t);for(;f&&!isLastTraversableNode(f);){if(isElement(f)&&!isStaticPositioned(f))return f;f=getParentNode(f)}return l}let c=getTrueOffsetParent(t,e);for(;c&&isTableElement(c)&&isStaticPositioned(c);)c=getTrueOffsetParent(c,e);return c&&isLastTraversableNode(c)&&isStaticPositioned(c)&&!isContainingBlock(c)?l:c||getContainingBlock(t)||l}const getElementRects=async function(t){const e=this.getOffsetParent||getOffsetParent,l=this.getDimensions,c=await l(t.floating);return{reference:getRectRelativeToOffsetParent(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:c.width,height:c.height}}};function isRTL(t){return getComputedStyle$1(t).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function observeMove(t,e){let l=null,c;const f=getDocumentElement(t);function h(){var d;clearTimeout(c),(d=l)==null||d.disconnect(),l=null}function p(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),h();const y=t.getBoundingClientRect(),{left:x,top:u,width:w,height:T}=y;if(d||e(),!w||!T)return;const C=floor$1(u),k=floor$1(f.clientWidth-(x+w)),A=floor$1(f.clientHeight-(u+T)),g=floor$1(x),v={rootMargin:-C+"px "+-k+"px "+-A+"px "+-g+"px",threshold:max(0,min(1,m))||1};let M=!0;function R(I){const J=I[0].intersectionRatio;if(J!==m){if(!M)return p();J?p(!1,J):c=setTimeout(()=>{p(!1,1e-7)},1e3)}J===1&&!rectsAreEqual(y,t.getBoundingClientRect())&&p(),M=!1}try{l=new IntersectionObserver(R,{...v,root:f.ownerDocument})}catch{l=new IntersectionObserver(R,v)}l.observe(t)}return p(!0),h}function autoUpdate(t,e,l,c){c===void 0&&(c={});const{ancestorScroll:f=!0,ancestorResize:h=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=c,y=unwrapElement$1(t),x=f||h?[...y?getOverflowAncestors(y):[],...getOverflowAncestors(e)]:[];x.forEach(g=>{f&&g.addEventListener("scroll",l,{passive:!0}),h&&g.addEventListener("resize",l)});const u=y&&d?observeMove(y,l):null;let w=-1,T=null;p&&(T=new ResizeObserver(g=>{let[E]=g;E&&E.target===y&&T&&(T.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var v;(v=T)==null||v.observe(e)})),l()}),y&&!m&&T.observe(y),T.observe(e));let C,k=m?getBoundingClientRect(t):null;m&&A();function A(){const g=getBoundingClientRect(t);k&&!rectsAreEqual(k,g)&&l(),k=g,C=requestAnimationFrame(A)}return l(),()=>{var g;x.forEach(E=>{f&&E.removeEventListener("scroll",l),h&&E.removeEventListener("resize",l)}),u==null||u(),(g=T)==null||g.disconnect(),T=null,m&&cancelAnimationFrame(C)}}const offset$1=offset$2,shift$2=shift$3,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$3=arrow$4,limitShift$1=limitShift$2,computePosition=(t,e,l)=>{const c=new Map,f={platform:platform$2,...l},h={...f.platform,_c:c};return computePosition$1(t,e,{...f,platform:h})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual$2(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let l,c,f;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(l=t.length,l!==e.length)return!1;for(c=l;c--!==0;)if(!deepEqual$2(t[c],e[c]))return!1;return!0}if(f=Object.keys(t),l=f.length,l!==Object.keys(e).length)return!1;for(c=l;c--!==0;)if(!{}.hasOwnProperty.call(e,f[c]))return!1;for(c=l;c--!==0;){const h=f[c];if(!(h==="_owner"&&t.$$typeof)&&!deepEqual$2(t[h],e[h]))return!1}return!0}return t!==t&&e!==e}function getDPR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(t,e){const l=getDPR(t);return Math.round(e*l)/l}function useLatestRef(t){const e=reactExports.useRef(t);return index$1(()=>{e.current=t}),e}function useFloating(t){t===void 0&&(t={});const{placement:e="bottom",strategy:l="absolute",middleware:c=[],platform:f,elements:{reference:h,floating:p}={},transform:d=!0,whileElementsMounted:m,open:y}=t,[x,u]=reactExports.useState({x:0,y:0,strategy:l,placement:e,middlewareData:{},isPositioned:!1}),[w,T]=reactExports.useState(c);deepEqual$2(w,c)||T(c);const[C,k]=reactExports.useState(null),[A,g]=reactExports.useState(null),E=reactExports.useCallback(q=>{q!==I.current&&(I.current=q,k(q))},[]),v=reactExports.useCallback(q=>{q!==J.current&&(J.current=q,g(q))},[]),M=h||C,R=p||A,I=reactExports.useRef(null),J=reactExports.useRef(null),_=reactExports.useRef(x),L=m!=null,K=useLatestRef(m),$=useLatestRef(f),D=useLatestRef(y),ne=reactExports.useCallback(()=>{if(!I.current||!J.current)return;const q={placement:e,strategy:l,middleware:w};$.current&&(q.platform=$.current),computePosition(I.current,J.current,q).then(Q=>{const N={...Q,isPositioned:D.current!==!1};F.current&&!deepEqual$2(_.current,N)&&(_.current=N,reactDomExports.flushSync(()=>{u(N)}))})},[w,e,l,$,D]);index$1(()=>{y===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,u(q=>({...q,isPositioned:!1})))},[y]);const F=reactExports.useRef(!1);index$1(()=>(F.current=!0,()=>{F.current=!1}),[]),index$1(()=>{if(M&&(I.current=M),R&&(J.current=R),M&&R){if(K.current)return K.current(M,R,ne);ne()}},[M,R,ne,K,L]);const j=reactExports.useMemo(()=>({reference:I,floating:J,setReference:E,setFloating:v}),[E,v]),se=reactExports.useMemo(()=>({reference:M,floating:R}),[M,R]),Y=reactExports.useMemo(()=>{const q={position:l,left:0,top:0};if(!se.floating)return q;const Q=roundByDPR(se.floating,x.x),N=roundByDPR(se.floating,x.y);return d?{...q,transform:"translate("+Q+"px, "+N+"px)",...getDPR(se.floating)>=1.5&&{willChange:"transform"}}:{position:l,left:Q,top:N}},[l,d,se.floating,x.x,x.y]);return reactExports.useMemo(()=>({...x,update:ne,refs:j,elements:se,floatingStyles:Y}),[x,ne,j,se,Y])}const arrow$1=t=>{function e(l){return{}.hasOwnProperty.call(l,"current")}return{name:"arrow",options:t,fn(l){const{element:c,padding:f}=typeof t=="function"?t(l):t;return c&&e(c)?c.current!=null?arrow$3({element:c.current,padding:f}).fn(l):{}:c?arrow$3({element:c,padding:f}).fn(l):{}}}},offset=(t,e)=>({...offset$1(t),options:[t,e]}),shift$1=(t,e)=>({...shift$2(t),options:[t,e]}),limitShift=(t,e)=>({...limitShift$1(t),options:[t,e]}),flip=(t,e)=>({...flip$1(t),options:[t,e]}),size=(t,e)=>({...size$1(t),options:[t,e]}),hide=(t,e)=>({...hide$1(t),options:[t,e]}),arrow$2=(t,e)=>({...arrow$1(t),options:[t,e]});var NAME$3="Arrow",Arrow$3=reactExports.forwardRef((t,e)=>{const{children:l,width:c=10,height:f=5,...h}=t;return jsxRuntimeExports.jsx(Primitive$4.svg,{...h,ref:e,width:c,height:f,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?l:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$3.displayName=NAME$3;var Root$3=Arrow$3;function useSize$1(t){const[e,l]=reactExports.useState(void 0);return useLayoutEffect2$5(()=>{if(t){l({width:t.offsetWidth,height:t.offsetHeight});const c=new ResizeObserver(f=>{if(!Array.isArray(f)||!f.length)return;const h=f[0];let p,d;if("borderBoxSize"in h){const m=h.borderBoxSize,y=Array.isArray(m)?m[0]:m;p=y.inlineSize,d=y.blockSize}else p=t.offsetWidth,d=t.offsetHeight;l({width:p,height:d})});return c.observe(t,{box:"border-box"}),()=>c.unobserve(t)}else l(void 0)},[t]),e}var POPPER_NAME$1="Popper",[createPopperContext$1,createPopperScope$1]=createContextScope$4(POPPER_NAME$1),[PopperProvider$1,usePopperContext$1]=createPopperContext$1(POPPER_NAME$1),Popper$1=t=>{const{__scopePopper:e,children:l}=t,[c,f]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider$1,{scope:e,anchor:c,onAnchorChange:f,children:l})};Popper$1.displayName=POPPER_NAME$1;var ANCHOR_NAME$2="PopperAnchor",PopperAnchor$1=reactExports.forwardRef((t,e)=>{const{__scopePopper:l,virtualRef:c,...f}=t,h=usePopperContext$1(ANCHOR_NAME$2,l),p=reactExports.useRef(null),d=useComposedRefs$4(e,p);return reactExports.useEffect(()=>{h.onAnchorChange((c==null?void 0:c.current)||p.current)}),c?null:jsxRuntimeExports.jsx(Primitive$4.div,{...f,ref:d})});PopperAnchor$1.displayName=ANCHOR_NAME$2;var CONTENT_NAME$4="PopperContent",[PopperContentProvider$1,useContentContext$1]=createPopperContext$1(CONTENT_NAME$4),PopperContent$1=reactExports.forwardRef((t,e)=>{var re,be,ye,Ce,me,ee;const{__scopePopper:l,side:c="bottom",sideOffset:f=0,align:h="center",alignOffset:p=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:y=[],collisionPadding:x=0,sticky:u="partial",hideWhenDetached:w=!1,updatePositionStrategy:T="optimized",onPlaced:C,...k}=t,A=usePopperContext$1(CONTENT_NAME$4,l),[g,E]=reactExports.useState(null),v=useComposedRefs$4(e,te=>E(te)),[M,R]=reactExports.useState(null),I=useSize$1(M),J=(I==null?void 0:I.width)??0,_=(I==null?void 0:I.height)??0,L=c+(h!=="center"?"-"+h:""),K=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},$=Array.isArray(y)?y:[y],D=$.length>0,ne={padding:K,boundary:$.filter(isNotNull$1),altBoundary:D},{refs:F,floatingStyles:j,placement:se,isPositioned:Y,middlewareData:q}=useFloating({strategy:"fixed",placement:L,whileElementsMounted:(...te)=>autoUpdate(...te,{animationFrame:T==="always"}),elements:{reference:A.anchor},middleware:[offset({mainAxis:f+_,alignmentAxis:p}),m&&shift$1({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?limitShift():void 0,...ne}),m&&flip({...ne}),size({...ne,apply:({elements:te,rects:oe,availableWidth:V,availableHeight:W})=>{const{width:ue,height:he}=oe.reference,pe=te.floating.style;pe.setProperty("--radix-popper-available-width",`${V}px`),pe.setProperty("--radix-popper-available-height",`${W}px`),pe.setProperty("--radix-popper-anchor-width",`${ue}px`),pe.setProperty("--radix-popper-anchor-height",`${he}px`)}}),M&&arrow$2({element:M,padding:d}),transformOrigin$1({arrowWidth:J,arrowHeight:_}),w&&hide({strategy:"referenceHidden",...ne})]}),[Q,N]=getSideAndAlignFromPlacement$1(se),O=useCallbackRef$4(C);useLayoutEffect2$5(()=>{Y&&(O==null||O())},[Y,O]);const H=(re=q.arrow)==null?void 0:re.x,G=(be=q.arrow)==null?void 0:be.y,le=((ye=q.arrow)==null?void 0:ye.centerOffset)!==0,[fe,ae]=reactExports.useState();return useLayoutEffect2$5(()=>{g&&ae(window.getComputedStyle(g).zIndex)},[g]),jsxRuntimeExports.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:Y?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Ce=q.transformOrigin)==null?void 0:Ce.x,(me=q.transformOrigin)==null?void 0:me.y].join(" "),...((ee=q.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:jsxRuntimeExports.jsx(PopperContentProvider$1,{scope:l,placedSide:Q,onArrowChange:R,arrowX:H,arrowY:G,shouldHideArrow:le,children:jsxRuntimeExports.jsx(Primitive$4.div,{"data-side":Q,"data-align":N,...k,ref:v,style:{...k.style,animation:Y?void 0:"none"}})})})});PopperContent$1.displayName=CONTENT_NAME$4;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE$1={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow$1=reactExports.forwardRef(function(e,l){const{__scopePopper:c,...f}=e,h=useContentContext$1(ARROW_NAME$4,c),p=OPPOSITE_SIDE$1[h.placedSide];return jsxRuntimeExports.jsx("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[p]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$3,{...f,ref:l,style:{...f.style,display:"block"}})})});PopperArrow$1.displayName=ARROW_NAME$4;function isNotNull$1(t){return t!==null}var transformOrigin$1=t=>({name:"transformOrigin",options:t,fn(e){var A,g,E;const{placement:l,rects:c,middlewareData:f}=e,p=((A=f.arrow)==null?void 0:A.centerOffset)!==0,d=p?0:t.arrowWidth,m=p?0:t.arrowHeight,[y,x]=getSideAndAlignFromPlacement$1(l),u={start:"0%",center:"50%",end:"100%"}[x],w=(((g=f.arrow)==null?void 0:g.x)??0)+d/2,T=(((E=f.arrow)==null?void 0:E.y)??0)+m/2;let C="",k="";return y==="bottom"?(C=p?u:`${w}px`,k=`${-m}px`):y==="top"?(C=p?u:`${w}px`,k=`${c.floating.height+m}px`):y==="right"?(C=`${-m}px`,k=p?u:`${T}px`):y==="left"&&(C=`${c.floating.width+m}px`,k=p?u:`${T}px`),{data:{x:C,y:k}}}});function getSideAndAlignFromPlacement$1(t){const[e,l="center"]=t.split("-");return[e,l]}var Root2$4=Popper$1,Anchor$1=PopperAnchor$1,Content$1=PopperContent$1,Arrow$2=PopperArrow$1,PORTAL_NAME$5="Portal",Portal$4=reactExports.forwardRef((t,e)=>{var d;const{container:l,...c}=t,[f,h]=reactExports.useState(!1);useLayoutEffect2$5(()=>h(!0),[]);const p=l||f&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return p?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$4.div,{...c,ref:e}),p):null});Portal$4.displayName=PORTAL_NAME$5;var Slot$1=reactExports.forwardRef((t,e)=>{const{children:l,...c}=t,f=reactExports.Children.toArray(l),h=f.find(isSlottable);if(h){const p=h.props.children,d=f.map(m=>m===h?reactExports.Children.count(p)>1?reactExports.Children.only(null):reactExports.isValidElement(p)?p.props.children:null:m);return jsxRuntimeExports.jsx(SlotClone,{...c,ref:e,children:reactExports.isValidElement(p)?reactExports.cloneElement(p,void 0,d):null})}return jsxRuntimeExports.jsx(SlotClone,{...c,ref:e,children:l})});Slot$1.displayName="Slot";var SlotClone=reactExports.forwardRef((t,e)=>{const{children:l,...c}=t;if(reactExports.isValidElement(l)){const f=getElementRef$1(l);return reactExports.cloneElement(l,{...mergeProps(c,l.props),ref:e?composeRefs$5(e,f):f})}return reactExports.Children.count(l)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:t})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t});function isSlottable(t){return reactExports.isValidElement(t)&&t.type===Slottable}function mergeProps(t,e){const l={...e};for(const c in e){const f=t[c],h=e[c];/^on[A-Z]/.test(c)?f&&h?l[c]=(...d)=>{h(...d),f(...d)}:f&&(l[c]=f):c==="style"?l[c]={...f,...h}:c==="className"&&(l[c]=[f,h].filter(Boolean).join(" "))}return{...t,...l}}function getElementRef$1(t){var c,f;let e=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,l=e&&"isReactWarning"in e&&e.isReactWarning;return l?t.ref:(e=(f=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:f.get,l=e&&"isReactWarning"in e&&e.isReactWarning,l?t.props.ref:t.props.ref||t.ref)}function useControllableState$3({prop:t,defaultProp:e,onChange:l=()=>{}}){const[c,f]=useUncontrolledState$3({defaultProp:e,onChange:l}),h=t!==void 0,p=h?t:c,d=useCallbackRef$4(l),m=reactExports.useCallback(y=>{if(h){const u=typeof y=="function"?y(t):y;u!==t&&d(u)}else f(y)},[h,t,f,d]);return[p,m]}function useUncontrolledState$3({defaultProp:t,onChange:e}){const l=reactExports.useState(t),[c]=l,f=reactExports.useRef(c),h=useCallbackRef$4(e);return reactExports.useEffect(()=>{f.current!==c&&(h(c),f.current=c)},[c,f,h]),l}function usePrevious(t){const e=reactExports.useRef({value:t,previous:t});return reactExports.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var NAME$2="VisuallyHidden",VisuallyHidden$1=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive$4.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));VisuallyHidden$1.displayName=NAME$2;var getDefaultParent=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(t){return t&&(t.host||unwrapHost(t.parentNode))},correctTargets=function(t,e){return e.map(function(l){if(t.contains(l))return l;var c=unwrapHost(l);return c&&t.contains(c)?c:(console.error("aria-hidden",l,"in not contained inside",t,". Doing nothing"),null)}).filter(function(l){return!!l})},applyAttributeToOthers=function(t,e,l,c){var f=correctTargets(e,Array.isArray(t)?t:[t]);markerMap[l]||(markerMap[l]=new WeakMap);var h=markerMap[l],p=[],d=new Set,m=new Set(f),y=function(u){!u||d.has(u)||(d.add(u),y(u.parentNode))};f.forEach(y);var x=function(u){!u||m.has(u)||Array.prototype.forEach.call(u.children,function(w){if(d.has(w))x(w);else try{var T=w.getAttribute(c),C=T!==null&&T!=="false",k=(counterMap.get(w)||0)+1,A=(h.get(w)||0)+1;counterMap.set(w,k),h.set(w,A),p.push(w),k===1&&C&&uncontrolledNodes.set(w,!0),A===1&&w.setAttribute(l,"true"),C||w.setAttribute(c,"true")}catch(g){console.error("aria-hidden: cannot operate on ",w,g)}})};return x(e),d.clear(),lockCount++,function(){p.forEach(function(u){var w=counterMap.get(u)-1,T=h.get(u)-1;counterMap.set(u,w),h.set(u,T),w||(uncontrolledNodes.has(u)||u.removeAttribute(c),uncontrolledNodes.delete(u)),T||u.removeAttribute(l)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(t,e,l){l===void 0&&(l="data-aria-hidden");var c=Array.from(Array.isArray(t)?t:[t]),f=getDefaultParent(t);return f?(c.push.apply(c,Array.from(f.querySelectorAll("[aria-live]"))),applyAttributeToOthers(c,f,l,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(e){for(var l,c=1,f=arguments.length;c<f;c++){l=arguments[c];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(e[h]=l[h])}return e},__assign.apply(this,arguments)};function __rest(t,e){var l={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&e.indexOf(c)<0&&(l[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,c=Object.getOwnPropertySymbols(t);f<c.length;f++)e.indexOf(c[f])<0&&Object.prototype.propertyIsEnumerable.call(t,c[f])&&(l[c[f]]=t[c[f]]);return l}function __spreadArray(t,e,l){if(l||arguments.length===2)for(var c=0,f=e.length,h;c<f;c++)(h||!(c in e))&&(h||(h=Array.prototype.slice.call(e,0,c)),h[c]=e[c]);return t.concat(h||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function useCallbackRef$3(t,e){var l=reactExports.useState(function(){return{value:t,callback:e,facade:{get current(){return l.value},set current(c){var f=l.value;f!==c&&(l.value=c,l.callback(c,f))}}}})[0];return l.callback=e,l.facade}var useIsomorphicLayoutEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(t,e){var l=useCallbackRef$3(null,function(c){return t.forEach(function(f){return assignRef(f,c)})});return useIsomorphicLayoutEffect$2(function(){var c=currentValues.get(l);if(c){var f=new Set(c),h=new Set(t),p=l.current;f.forEach(function(d){h.has(d)||assignRef(d,null)}),h.forEach(function(d){f.has(d)||assignRef(d,p)})}currentValues.set(l,t)},[t]),l}function ItoI(t){return t}function innerCreateMedium(t,e){e===void 0&&(e=ItoI);var l=[],c=!1,f={read:function(){if(c)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return l.length?l[l.length-1]:t},useMedium:function(h){var p=e(h,c);return l.push(p),function(){l=l.filter(function(d){return d!==p})}},assignSyncMedium:function(h){for(c=!0;l.length;){var p=l;l=[],p.forEach(h)}l={push:function(d){return h(d)},filter:function(){return l}}},assignMedium:function(h){c=!0;var p=[];if(l.length){var d=l;l=[],d.forEach(h),p=l}var m=function(){var x=p;p=[],x.forEach(h)},y=function(){return Promise.resolve().then(m)};y(),l={push:function(x){p.push(x),y()},filter:function(x){return p=p.filter(x),l}}}};return f}function createSidecarMedium(t){t===void 0&&(t={});var e=innerCreateMedium(null);return e.options=__assign({async:!0,ssr:!1},t),e}var SideCar$1=function(t){var e=t.sideCar,l=__rest(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var c=e.read();if(!c)throw new Error("Sidecar medium not found");return reactExports.createElement(c,__assign({},l))};SideCar$1.isSideCarExport=!0;function exportSidecar(t,e){return t.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(t,e){var l=reactExports.useRef(null),c=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),f=c[0],h=c[1],p=t.forwardProps,d=t.children,m=t.className,y=t.removeScrollBar,x=t.enabled,u=t.shards,w=t.sideCar,T=t.noIsolation,C=t.inert,k=t.allowPinchZoom,A=t.as,g=A===void 0?"div":A,E=t.gapMode,v=__rest(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=w,R=useMergeRefs([l,e]),I=__assign(__assign({},v),f);return reactExports.createElement(reactExports.Fragment,null,x&&reactExports.createElement(M,{sideCar:effectCar,removeScrollBar:y,shards:u,noIsolation:T,inert:C,setCallbacks:h,allowPinchZoom:!!k,lockRef:l,gapMode:E}),p?reactExports.cloneElement(reactExports.Children.only(d),__assign(__assign({},I),{ref:R})):reactExports.createElement(g,__assign({},I,{className:m,ref:R}),d))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=getNonce();return e&&t.setAttribute("nonce",e),t}function injectStyles(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function insertStyleTag(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var stylesheetSingleton=function(){var t=0,e=null;return{add:function(l){t==0&&(e=makeStyleTag())&&(injectStyles(e,l),insertStyleTag(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var t=stylesheetSingleton();return function(e,l){reactExports.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&l])}},styleSingleton=function(){var t=styleHookSingleton(),e=function(l){var c=l.styles,f=l.dynamic;return t(c,f),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse=function(t){return parseInt(t||"",10)||0},getOffset=function(t){var e=window.getComputedStyle(document.body),l=e[t==="padding"?"paddingLeft":"marginLeft"],c=e[t==="padding"?"paddingTop":"marginTop"],f=e[t==="padding"?"paddingRight":"marginRight"];return[parse(l),parse(c),parse(f)]},getGapWidth=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zeroGap;var e=getOffset(t),l=document.documentElement.clientWidth,c=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,c-l+e[2]-e[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(t,e,l,c){var f=t.left,h=t.top,p=t.right,d=t.gap;return l===void 0&&(l="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(c,`;
   padding-right: `).concat(d,"px ").concat(c,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(c,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(c,";"),l==="margin"&&`
    padding-left: `.concat(f,`px;
    padding-top: `).concat(h,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(c,`;
    `),l==="padding"&&"padding-right: ".concat(d,"px ").concat(c,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(d,"px ").concat(c,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(d,"px ").concat(c,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(c,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(c,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(d,`px;
  }
`)},getCurrentUseCounter=function(){var t=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(t)?t:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var t=getCurrentUseCounter()-1;t<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,t.toString())}},[])},RemoveScrollBar=function(t){var e=t.noRelative,l=t.noImportant,c=t.gapMode,f=c===void 0?"margin":c;useLockAttribute();var h=reactExports.useMemo(function(){return getGapWidth(f)},[f]);return reactExports.createElement(Style,{styles:getStyles(h,!e,f,l?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(t){return t.tagName==="TEXTAREA"},elementCanBeScrolled=function(t,e){if(!(t instanceof Element))return!1;var l=window.getComputedStyle(t);return l[e]!=="hidden"&&!(l.overflowY===l.overflowX&&!alwaysContainsScroll(t)&&l[e]==="visible")},elementCouldBeVScrolled=function(t){return elementCanBeScrolled(t,"overflowY")},elementCouldBeHScrolled=function(t){return elementCanBeScrolled(t,"overflowX")},locationCouldBeScrolled=function(t,e){var l=e.ownerDocument,c=e;do{typeof ShadowRoot<"u"&&c instanceof ShadowRoot&&(c=c.host);var f=elementCouldBeScrolled(t,c);if(f){var h=getScrollVariables(t,c),p=h[1],d=h[2];if(p>d)return!0}c=c.parentNode}while(c&&c!==l.body);return!1},getVScrollVariables=function(t){var e=t.scrollTop,l=t.scrollHeight,c=t.clientHeight;return[e,l,c]},getHScrollVariables=function(t){var e=t.scrollLeft,l=t.scrollWidth,c=t.clientWidth;return[e,l,c]},elementCouldBeScrolled=function(t,e){return t==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(t,e){return t==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(t,e){return t==="h"&&e==="rtl"?-1:1},handleScroll=function(t,e,l,c,f){var h=getDirectionFactor(t,window.getComputedStyle(e).direction),p=h*c,d=l.target,m=e.contains(d),y=!1,x=p>0,u=0,w=0;do{var T=getScrollVariables(t,d),C=T[0],k=T[1],A=T[2],g=k-A-h*C;(C||g)&&elementCouldBeScrolled(t,d)&&(u+=g,w+=C),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!m&&d!==document.body||m&&(e.contains(d)||e===d));return(x&&Math.abs(u)<1||!x&&Math.abs(w)<1)&&(y=!0),y},getTouchXY=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(t){return[t.deltaX,t.deltaY]},extractRef=function(t){return t&&"current"in t?t.current:t},deltaCompare=function(t,e){return t[0]===e[0]&&t[1]===e[1]},generateStyle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(t){var e=reactExports.useRef([]),l=reactExports.useRef([0,0]),c=reactExports.useRef(),f=reactExports.useState(idCounter++)[0],h=reactExports.useState(styleSingleton)[0],p=reactExports.useRef(t);reactExports.useEffect(function(){p.current=t},[t]),reactExports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(f));var k=__spreadArray([t.lockRef.current],(t.shards||[]).map(extractRef),!0).filter(Boolean);return k.forEach(function(A){return A.classList.add("allow-interactivity-".concat(f))}),function(){document.body.classList.remove("block-interactivity-".concat(f)),k.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(f))})}}},[t.inert,t.lockRef.current,t.shards]);var d=reactExports.useCallback(function(k,A){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!p.current.allowPinchZoom;var g=getTouchXY(k),E=l.current,v="deltaX"in k?k.deltaX:E[0]-g[0],M="deltaY"in k?k.deltaY:E[1]-g[1],R,I=k.target,J=Math.abs(v)>Math.abs(M)?"h":"v";if("touches"in k&&J==="h"&&I.type==="range")return!1;var _=locationCouldBeScrolled(J,I);if(!_)return!0;if(_?R=J:(R=J==="v"?"h":"v",_=locationCouldBeScrolled(J,I)),!_)return!1;if(!c.current&&"changedTouches"in k&&(v||M)&&(c.current=R),!R)return!0;var L=c.current||R;return handleScroll(L,A,k,L==="h"?v:M)},[]),m=reactExports.useCallback(function(k){var A=k;if(!(!lockStack.length||lockStack[lockStack.length-1]!==h)){var g="deltaY"in A?getDeltaXY(A):getTouchXY(A),E=e.current.filter(function(R){return R.name===A.type&&(R.target===A.target||A.target===R.shadowParent)&&deltaCompare(R.delta,g)})[0];if(E&&E.should){A.cancelable&&A.preventDefault();return}if(!E){var v=(p.current.shards||[]).map(extractRef).filter(Boolean).filter(function(R){return R.contains(A.target)}),M=v.length>0?d(A,v[0]):!p.current.noIsolation;M&&A.cancelable&&A.preventDefault()}}},[]),y=reactExports.useCallback(function(k,A,g,E){var v={name:k,delta:A,target:g,should:E,shadowParent:getOutermostShadowParent(g)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(M){return M!==v})},1)},[]),x=reactExports.useCallback(function(k){l.current=getTouchXY(k),c.current=void 0},[]),u=reactExports.useCallback(function(k){y(k.type,getDeltaXY(k),k.target,d(k,t.lockRef.current))},[]),w=reactExports.useCallback(function(k){y(k.type,getTouchXY(k),k.target,d(k,t.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(h),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:w}),document.addEventListener("wheel",m,nonPassive),document.addEventListener("touchmove",m,nonPassive),document.addEventListener("touchstart",x,nonPassive),function(){lockStack=lockStack.filter(function(k){return k!==h}),document.removeEventListener("wheel",m,nonPassive),document.removeEventListener("touchmove",m,nonPassive),document.removeEventListener("touchstart",x,nonPassive)}},[]);var T=t.removeScrollBar,C=t.inert;return reactExports.createElement(reactExports.Fragment,null,C?reactExports.createElement(h,{styles:generateStyle(f)}):null,T?reactExports.createElement(RemoveScrollBar,{gapMode:t.gapMode}):null)}function getOutermostShadowParent(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(t,e){return reactExports.createElement(RemoveScroll,__assign({},t,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS$1=[" ","Enter"],SELECT_NAME="Select",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection$3(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope$4(SELECT_NAME,[createCollectionScope$3,createPopperScope$1]),usePopperScope$1=createPopperScope$1(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=t=>{const{__scopeSelect:e,children:l,open:c,defaultOpen:f,onOpenChange:h,value:p,defaultValue:d,onValueChange:m,dir:y,name:x,autoComplete:u,disabled:w,required:T,form:C}=t,k=usePopperScope$1(e),[A,g]=reactExports.useState(null),[E,v]=reactExports.useState(null),[M,R]=reactExports.useState(!1),I=useDirection$2(y),[J=!1,_]=useControllableState$3({prop:c,defaultProp:f,onChange:h}),[L,K]=useControllableState$3({prop:p,defaultProp:d,onChange:m}),$=reactExports.useRef(null),D=A?C||!!A.closest("form"):!0,[ne,F]=reactExports.useState(new Set),j=Array.from(ne).map(se=>se.props.value).join(";");return jsxRuntimeExports.jsx(Root2$4,{...k,children:jsxRuntimeExports.jsxs(SelectProvider,{required:T,scope:e,trigger:A,onTriggerChange:g,valueNode:E,onValueNodeChange:v,valueNodeHasChildren:M,onValueNodeHasChildrenChange:R,contentId:useId$2(),value:L,onValueChange:K,open:J,onOpenChange:_,dir:I,triggerPointerDownPosRef:$,disabled:w,children:[jsxRuntimeExports.jsx(Collection$3.Provider,{scope:e,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:t.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(se=>{F(Y=>new Set(Y).add(se))},[]),onNativeOptionRemove:reactExports.useCallback(se=>{F(Y=>{const q=new Set(Y);return q.delete(se),q})},[]),children:l})}),D?jsxRuntimeExports.jsxs(BubbleSelect,{"aria-hidden":!0,required:T,tabIndex:-1,name:x,autoComplete:u,value:L,onChange:se=>K(se.target.value),disabled:w,form:C,children:[L===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(ne)]},j):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$1="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,disabled:c=!1,...f}=t,h=usePopperScope$1(l),p=useSelectContext(TRIGGER_NAME$1,l),d=p.disabled||c,m=useComposedRefs$4(e,p.onTriggerChange),y=useCollection$3(l),x=reactExports.useRef("touch"),[u,w,T]=useTypeaheadSearch(k=>{const A=y().filter(v=>!v.disabled),g=A.find(v=>v.value===p.value),E=findNextItem(A,k,g);E!==void 0&&p.onValueChange(E.value)}),C=k=>{d||(p.onOpenChange(!0),T()),k&&(p.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...h,children:jsxRuntimeExports.jsx(Primitive$4.button,{type:"button",role:"combobox","aria-controls":p.contentId,"aria-expanded":p.open,"aria-required":p.required,"aria-autocomplete":"none",dir:p.dir,"data-state":p.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":shouldShowPlaceholder(p.value)?"":void 0,...f,ref:m,onClick:composeEventHandlers$4(f.onClick,k=>{k.currentTarget.focus(),x.current!=="mouse"&&C(k)}),onPointerDown:composeEventHandlers$4(f.onPointerDown,k=>{x.current=k.pointerType;const A=k.target;A.hasPointerCapture(k.pointerId)&&A.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(C(k),k.preventDefault())}),onKeyDown:composeEventHandlers$4(f.onKeyDown,k=>{const A=u.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&w(k.key),!(A&&k.key===" ")&&OPEN_KEYS.includes(k.key)&&(C(),k.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$1;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,className:c,style:f,children:h,placeholder:p="",...d}=t,m=useSelectContext(VALUE_NAME,l),{onValueNodeHasChildrenChange:y}=m,x=h!==void 0,u=useComposedRefs$4(e,m.onValueNodeChange);return useLayoutEffect2$5(()=>{y(x)},[y,x]),jsxRuntimeExports.jsx(Primitive$4.span,{...d,ref:u,style:{pointerEvents:"none"},children:shouldShowPlaceholder(m.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:p}):h})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,children:c,...f}=t;return jsxRuntimeExports.jsx(Primitive$4.span,{"aria-hidden":!0,...f,ref:e,children:c||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$4="SelectPortal",SelectPortal=t=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...t});SelectPortal.displayName=PORTAL_NAME$4;var CONTENT_NAME$3="SelectContent",SelectContent$1=reactExports.forwardRef((t,e)=>{const l=useSelectContext(CONTENT_NAME$3,t.__scopeSelect),[c,f]=reactExports.useState();if(useLayoutEffect2$5(()=>{f(new DocumentFragment)},[]),!l.open){const h=c;return h?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:t.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:t.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:t.children})})}),h):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...t,ref:e})});SelectContent$1.displayName=CONTENT_NAME$3;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$3),CONTENT_IMPL_NAME="SelectContentImpl",SelectContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,position:c="item-aligned",onCloseAutoFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,side:d,sideOffset:m,align:y,alignOffset:x,arrowPadding:u,collisionBoundary:w,collisionPadding:T,sticky:C,hideWhenDetached:k,avoidCollisions:A,...g}=t,E=useSelectContext(CONTENT_NAME$3,l),[v,M]=reactExports.useState(null),[R,I]=reactExports.useState(null),J=useComposedRefs$4(e,re=>M(re)),[_,L]=reactExports.useState(null),[K,$]=reactExports.useState(null),D=useCollection$3(l),[ne,F]=reactExports.useState(!1),j=reactExports.useRef(!1);reactExports.useEffect(()=>{if(v)return hideOthers(v)},[v]),useFocusGuards$1();const se=reactExports.useCallback(re=>{const[be,...ye]=D().map(ee=>ee.ref.current),[Ce]=ye.slice(-1),me=document.activeElement;for(const ee of re)if(ee===me||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===be&&R&&(R.scrollTop=0),ee===Ce&&R&&(R.scrollTop=R.scrollHeight),ee==null||ee.focus(),document.activeElement!==me))return},[D,R]),Y=reactExports.useCallback(()=>se([_,v]),[se,_,v]);reactExports.useEffect(()=>{ne&&Y()},[ne,Y]);const{onOpenChange:q,triggerPointerDownPosRef:Q}=E;reactExports.useEffect(()=>{if(v){let re={x:0,y:0};const be=Ce=>{var me,ee;re={x:Math.abs(Math.round(Ce.pageX)-(((me=Q.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((ee=Q.current)==null?void 0:ee.y)??0))}},ye=Ce=>{re.x<=10&&re.y<=10?Ce.preventDefault():v.contains(Ce.target)||q(!1),document.removeEventListener("pointermove",be),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",ye,{capture:!0})}}},[v,q,Q]),reactExports.useEffect(()=>{const re=()=>q(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[q]);const[N,O]=useTypeaheadSearch(re=>{const be=D().filter(me=>!me.disabled),ye=be.find(me=>me.ref.current===document.activeElement),Ce=findNextItem(be,re,ye);Ce&&setTimeout(()=>Ce.ref.current.focus())}),H=reactExports.useCallback((re,be,ye)=>{const Ce=!j.current&&!ye;(E.value!==void 0&&E.value===be||Ce)&&(L(re),Ce&&(j.current=!0))},[E.value]),G=reactExports.useCallback(()=>v==null?void 0:v.focus(),[v]),le=reactExports.useCallback((re,be,ye)=>{const Ce=!j.current&&!ye;(E.value!==void 0&&E.value===be||Ce)&&$(re)},[E.value]),fe=c==="popper"?SelectPopperPosition:SelectItemAlignedPosition,ae=fe===SelectPopperPosition?{side:d,sideOffset:m,align:y,alignOffset:x,arrowPadding:u,collisionBoundary:w,collisionPadding:T,sticky:C,hideWhenDetached:k,avoidCollisions:A}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:l,content:v,viewport:R,onViewportChange:I,itemRefCallback:H,selectedItem:_,onItemLeave:G,itemTextRefCallback:le,focusSelectedItem:Y,selectedItemText:K,position:c,isPositioned:ne,searchRef:N,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope$1,{asChild:!0,trapped:E.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:composeEventHandlers$4(f,re=>{var be;(be=E.trigger)==null||be.focus({preventScroll:!0}),re.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer$2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:jsxRuntimeExports.jsx(fe,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:re=>re.preventDefault(),...g,...ae,onPlaced:()=>F(!0),ref:J,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:composeEventHandlers$4(g.onKeyDown,re=>{const be=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!be&&re.key.length===1&&O(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Ce=D().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const me=re.target,ee=Ce.indexOf(me);Ce=Ce.slice(ee+1)}setTimeout(()=>se(Ce)),re.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,onPlaced:c,...f}=t,h=useSelectContext(CONTENT_NAME$3,l),p=useSelectContentContext(CONTENT_NAME$3,l),[d,m]=reactExports.useState(null),[y,x]=reactExports.useState(null),u=useComposedRefs$4(e,J=>x(J)),w=useCollection$3(l),T=reactExports.useRef(!1),C=reactExports.useRef(!0),{viewport:k,selectedItem:A,selectedItemText:g,focusSelectedItem:E}=p,v=reactExports.useCallback(()=>{if(h.trigger&&h.valueNode&&d&&y&&k&&A&&g){const J=h.trigger.getBoundingClientRect(),_=y.getBoundingClientRect(),L=h.valueNode.getBoundingClientRect(),K=g.getBoundingClientRect();if(h.dir!=="rtl"){const me=K.left-_.left,ee=L.left-me,te=J.left-ee,oe=J.width+te,V=Math.max(oe,_.width),W=window.innerWidth-CONTENT_MARGIN,ue=clamp$1(ee,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,W-V)]);d.style.minWidth=oe+"px",d.style.left=ue+"px"}else{const me=_.right-K.right,ee=window.innerWidth-L.right-me,te=window.innerWidth-J.right-ee,oe=J.width+te,V=Math.max(oe,_.width),W=window.innerWidth-CONTENT_MARGIN,ue=clamp$1(ee,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,W-V)]);d.style.minWidth=oe+"px",d.style.right=ue+"px"}const $=w(),D=window.innerHeight-CONTENT_MARGIN*2,ne=k.scrollHeight,F=window.getComputedStyle(y),j=parseInt(F.borderTopWidth,10),se=parseInt(F.paddingTop,10),Y=parseInt(F.borderBottomWidth,10),q=parseInt(F.paddingBottom,10),Q=j+se+ne+q+Y,N=Math.min(A.offsetHeight*5,Q),O=window.getComputedStyle(k),H=parseInt(O.paddingTop,10),G=parseInt(O.paddingBottom,10),le=J.top+J.height/2-CONTENT_MARGIN,fe=D-le,ae=A.offsetHeight/2,re=A.offsetTop+ae,be=j+se+re,ye=Q-be;if(be<=le){const me=$.length>0&&A===$[$.length-1].ref.current;d.style.bottom="0px";const ee=y.clientHeight-k.offsetTop-k.offsetHeight,te=Math.max(fe,ae+(me?G:0)+ee+Y),oe=be+te;d.style.height=oe+"px"}else{const me=$.length>0&&A===$[0].ref.current;d.style.top="0px";const te=Math.max(le,j+k.offsetTop+(me?H:0)+ae)+ye;d.style.height=te+"px",k.scrollTop=be-le+k.offsetTop}d.style.margin=`${CONTENT_MARGIN}px 0`,d.style.minHeight=N+"px",d.style.maxHeight=D+"px",c==null||c(),requestAnimationFrame(()=>T.current=!0)}},[w,h.trigger,h.valueNode,d,y,k,A,g,h.dir,c]);useLayoutEffect2$5(()=>v(),[v]);const[M,R]=reactExports.useState();useLayoutEffect2$5(()=>{y&&R(window.getComputedStyle(y).zIndex)},[y]);const I=reactExports.useCallback(J=>{J&&C.current===!0&&(v(),E==null||E(),C.current=!1)},[v,E]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:l,contentWrapper:d,shouldExpandOnScrollRef:T,onScrollButtonChange:I,children:jsxRuntimeExports.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:jsxRuntimeExports.jsx(Primitive$4.div,{...f,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...f.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,align:c="start",collisionPadding:f=CONTENT_MARGIN,...h}=t,p=usePopperScope$1(l);return jsxRuntimeExports.jsx(Content$1,{...p,...h,ref:e,align:c,collisionPadding:f,style:{boxSizing:"border-box",...h.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$3,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,nonce:c,...f}=t,h=useSelectContentContext(VIEWPORT_NAME$1,l),p=useSelectViewportContext(VIEWPORT_NAME$1,l),d=useComposedRefs$4(e,h.onViewportChange),m=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:l,children:jsxRuntimeExports.jsx(Primitive$4.div,{"data-radix-select-viewport":"",role:"presentation",...f,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...f.style},onScroll:composeEventHandlers$4(f.onScroll,y=>{const x=y.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:w}=p;if(w!=null&&w.current&&u){const T=Math.abs(m.current-x.scrollTop);if(T>0){const C=window.innerHeight-CONTENT_MARGIN*2,k=parseFloat(u.style.minHeight),A=parseFloat(u.style.height),g=Math.max(k,A);if(g<C){const E=g+T,v=Math.min(C,E),M=E-v;u.style.height=v+"px",u.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,u.style.justifyContent="flex-end")}}}m.current=x.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME$3="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$3),SelectGroup=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,...c}=t,f=useId$2();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:l,id:f,children:jsxRuntimeExports.jsx(Primitive$4.div,{role:"group","aria-labelledby":f,...c,ref:e})})});SelectGroup.displayName=GROUP_NAME$3;var LABEL_NAME$2="SelectLabel",SelectLabel$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,...c}=t,f=useSelectGroupContext(LABEL_NAME$2,l);return jsxRuntimeExports.jsx(Primitive$4.div,{id:f.id,...c,ref:e})});SelectLabel$1.displayName=LABEL_NAME$2;var ITEM_NAME$3="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$3),SelectItem$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,value:c,disabled:f=!1,textValue:h,...p}=t,d=useSelectContext(ITEM_NAME$3,l),m=useSelectContentContext(ITEM_NAME$3,l),y=d.value===c,[x,u]=reactExports.useState(h??""),[w,T]=reactExports.useState(!1),C=useComposedRefs$4(e,E=>{var v;return(v=m.itemRefCallback)==null?void 0:v.call(m,E,c,f)}),k=useId$2(),A=reactExports.useRef("touch"),g=()=>{f||(d.onValueChange(c),d.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:l,value:c,disabled:f,textId:k,isSelected:y,onItemTextChange:reactExports.useCallback(E=>{u(v=>v||((E==null?void 0:E.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:l,value:c,disabled:f,textValue:x,children:jsxRuntimeExports.jsx(Primitive$4.div,{role:"option","aria-labelledby":k,"data-highlighted":w?"":void 0,"aria-selected":y&&w,"data-state":y?"checked":"unchecked","aria-disabled":f||void 0,"data-disabled":f?"":void 0,tabIndex:f?void 0:-1,...p,ref:C,onFocus:composeEventHandlers$4(p.onFocus,()=>T(!0)),onBlur:composeEventHandlers$4(p.onBlur,()=>T(!1)),onClick:composeEventHandlers$4(p.onClick,()=>{A.current!=="mouse"&&g()}),onPointerUp:composeEventHandlers$4(p.onPointerUp,()=>{A.current==="mouse"&&g()}),onPointerDown:composeEventHandlers$4(p.onPointerDown,E=>{A.current=E.pointerType}),onPointerMove:composeEventHandlers$4(p.onPointerMove,E=>{var v;A.current=E.pointerType,f?(v=m.onItemLeave)==null||v.call(m):A.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers$4(p.onPointerLeave,E=>{var v;E.currentTarget===document.activeElement&&((v=m.onItemLeave)==null||v.call(m))}),onKeyDown:composeEventHandlers$4(p.onKeyDown,E=>{var M;((M=m.searchRef)==null?void 0:M.current)!==""&&E.key===" "||(SELECTION_KEYS$1.includes(E.key)&&g(),E.key===" "&&E.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$3;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,className:c,style:f,...h}=t,p=useSelectContext(ITEM_TEXT_NAME,l),d=useSelectContentContext(ITEM_TEXT_NAME,l),m=useSelectItemContext(ITEM_TEXT_NAME,l),y=useSelectNativeOptionsContext(ITEM_TEXT_NAME,l),[x,u]=reactExports.useState(null),w=useComposedRefs$4(e,g=>u(g),m.onItemTextChange,g=>{var E;return(E=d.itemTextRefCallback)==null?void 0:E.call(d,g,m.value,m.disabled)}),T=x==null?void 0:x.textContent,C=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:m.value,disabled:m.disabled,children:T},m.value),[m.disabled,m.value,T]),{onNativeOptionAdd:k,onNativeOptionRemove:A}=y;return useLayoutEffect2$5(()=>(k(C),()=>A(C)),[k,A,C]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$4.span,{id:m.textId,...h,ref:w}),m.isSelected&&p.valueNode&&!p.valueNodeHasChildren?reactDomExports.createPortal(h.children,p.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME$1="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,...c}=t;return useSelectItemContext(ITEM_INDICATOR_NAME$1,l).isSelected?jsxRuntimeExports.jsx(Primitive$4.span,{"aria-hidden":!0,...c,ref:e}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((t,e)=>{const l=useSelectContentContext(SCROLL_UP_BUTTON_NAME,t.__scopeSelect),c=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,t.__scopeSelect),[f,h]=reactExports.useState(!1),p=useComposedRefs$4(e,c.onScrollButtonChange);return useLayoutEffect2$5(()=>{if(l.viewport&&l.isPositioned){let d=function(){const y=m.scrollTop>0;h(y)};const m=l.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[l.viewport,l.isPositioned]),f?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...t,ref:p,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=l;d&&m&&(d.scrollTop=d.scrollTop-m.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((t,e)=>{const l=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,t.__scopeSelect),c=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,t.__scopeSelect),[f,h]=reactExports.useState(!1),p=useComposedRefs$4(e,c.onScrollButtonChange);return useLayoutEffect2$5(()=>{if(l.viewport&&l.isPositioned){let d=function(){const y=m.scrollHeight-m.clientHeight,x=Math.ceil(m.scrollTop)<y;h(x)};const m=l.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[l.viewport,l.isPositioned]),f?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...t,ref:p,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=l;d&&m&&(d.scrollTop=d.scrollTop+m.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,onAutoScroll:c,...f}=t,h=useSelectContentContext("SelectScrollButton",l),p=reactExports.useRef(null),d=useCollection$3(l),m=reactExports.useCallback(()=>{p.current!==null&&(window.clearInterval(p.current),p.current=null)},[]);return reactExports.useEffect(()=>()=>m(),[m]),useLayoutEffect2$5(()=>{var x;const y=d().find(u=>u.ref.current===document.activeElement);(x=y==null?void 0:y.ref.current)==null||x.scrollIntoView({block:"nearest"})},[d]),jsxRuntimeExports.jsx(Primitive$4.div,{"aria-hidden":!0,...f,ref:e,style:{flexShrink:0,...f.style},onPointerDown:composeEventHandlers$4(f.onPointerDown,()=>{p.current===null&&(p.current=window.setInterval(c,50))}),onPointerMove:composeEventHandlers$4(f.onPointerMove,()=>{var y;(y=h.onItemLeave)==null||y.call(h),p.current===null&&(p.current=window.setInterval(c,50))}),onPointerLeave:composeEventHandlers$4(f.onPointerLeave,()=>{m()})})}),SEPARATOR_NAME$2="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,...c}=t;return jsxRuntimeExports.jsx(Primitive$4.div,{"aria-hidden":!0,...c,ref:e})});SelectSeparator$1.displayName=SEPARATOR_NAME$2;var ARROW_NAME$3="SelectArrow",SelectArrow=reactExports.forwardRef((t,e)=>{const{__scopeSelect:l,...c}=t,f=usePopperScope$1(l),h=useSelectContext(ARROW_NAME$3,l),p=useSelectContentContext(ARROW_NAME$3,l);return h.open&&p.position==="popper"?jsxRuntimeExports.jsx(Arrow$2,{...f,...c,ref:e}):null});SelectArrow.displayName=ARROW_NAME$3;function shouldShowPlaceholder(t){return t===""||t===void 0}var BubbleSelect=reactExports.forwardRef((t,e)=>{const{value:l,...c}=t,f=reactExports.useRef(null),h=useComposedRefs$4(e,f),p=usePrevious(l);return reactExports.useEffect(()=>{const d=f.current,m=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(m,"value").set;if(p!==l&&x){const u=new Event("change",{bubbles:!0});x.call(d,l),d.dispatchEvent(u)}},[p,l]),jsxRuntimeExports.jsx(VisuallyHidden$1,{asChild:!0,children:jsxRuntimeExports.jsx("select",{...c,ref:h,defaultValue:l})})});BubbleSelect.displayName="BubbleSelect";function useTypeaheadSearch(t){const e=useCallbackRef$4(t),l=reactExports.useRef(""),c=reactExports.useRef(0),f=reactExports.useCallback(p=>{const d=l.current+p;e(d),function m(y){l.current=y,window.clearTimeout(c.current),y!==""&&(c.current=window.setTimeout(()=>m(""),1e3))}(d)},[e]),h=reactExports.useCallback(()=>{l.current="",window.clearTimeout(c.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(c.current),[]),[l,f,h]}function findNextItem(t,e,l){const f=e.length>1&&Array.from(e).every(y=>y===e[0])?e[0]:e,h=l?t.indexOf(l):-1;let p=wrapArray$2(t,Math.max(h,0));f.length===1&&(p=p.filter(y=>y!==l));const m=p.find(y=>y.textValue.toLowerCase().startsWith(f.toLowerCase()));return m!==l?m:void 0}function wrapArray$2(t,e){return t.map((l,c)=>t[(e+c)%t.length])}var Root2$3=Select$1,Trigger$1=SelectTrigger$1,Value=SelectValue$1,Icon$1=SelectIcon,Portal$3=SelectPortal,Content2$2=SelectContent$1,Viewport$1=SelectViewport,Label$1=SelectLabel$1,Item$2=SelectItem$1,ItemText=SelectItemText,ItemIndicator$1=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$1=SelectSeparator$1;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...t)=>t.filter((e,l,c)=>!!e&&e.trim()!==""&&c.indexOf(e)===l).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:f="",children:h,iconNode:p,...d},m)=>reactExports.createElement("svg",{ref:m,...defaultAttributes,width:e,height:e,stroke:t,strokeWidth:c?Number(l)*24/Number(e):l,className:mergeClasses("lucide",f),...d},[...p.map(([y,x])=>reactExports.createElement(y,x)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(t,e)=>{const l=reactExports.forwardRef(({className:c,...f},h)=>reactExports.createElement(Icon,{ref:h,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(t)}`,c),...f}));return l.displayName=`${t}`,l};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("Check",__iconNode$d);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("ChevronDown",__iconNode$c);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("ChevronRight",__iconNode$b);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("ChevronUp",__iconNode$a);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14 16-4-4 4-4",key:"ojs7w8"}]],CircleChevronLeft=createLucideIcon("CircleChevronLeft",__iconNode$9);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Circle=createLucideIcon("Circle",__iconNode$8);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("Copy",__iconNode$7);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("FileText",__iconNode$6);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("LoaderCircle",__iconNode$5);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Moon=createLucideIcon("Moon",__iconNode$4);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("RefreshCw",__iconNode$3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("Sun",__iconNode$2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Trash2=createLucideIcon("Trash2",__iconNode$1);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("X",__iconNode),Select=Root2$3,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:t,children:e,...l},c)=>jsxRuntimeExports.jsxs(Trigger$1,{ref:c,className:cn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[e,jsxRuntimeExports.jsx(Icon$1,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger$1.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:l,className:cn("flex cursor-default items-center justify-center py-1",t),...e,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:l,className:cn("flex cursor-default items-center justify-center py-1",t),...e,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:t,children:e,position:l="popper",...c},f)=>jsxRuntimeExports.jsx(Portal$3,{children:jsxRuntimeExports.jsxs(Content2$2,{ref:f,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...c,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$2.displayName;const SelectLabel=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Label$1,{ref:l,className:cn("px-2 py-1.5 text-sm font-semibold",t),...e}));SelectLabel.displayName=Label$1.displayName;const SelectItem=reactExports.forwardRef(({className:t,children:e,...l},c)=>jsxRuntimeExports.jsxs(Item$2,{ref:c,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[jsxRuntimeExports.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator$1,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:e})]}));SelectItem.displayName=Item$2.displayName;const SelectSeparator=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Separator$1,{ref:l,className:cn("-mx-1 my-1 h-px bg-muted",t),...e}));SelectSeparator.displayName=Separator$1.displayName;var isCheckBoxInput=t=>t.type==="checkbox",isDateObject=t=>t instanceof Date,isNullOrUndefined=t=>t==null;const isObjectType=t=>typeof t=="object";var isObject$2=t=>!isNullOrUndefined(t)&&!Array.isArray(t)&&isObjectType(t)&&!isDateObject(t),getEventValue=t=>isObject$2(t)&&t.target?isCheckBoxInput(t.target)?t.target.checked:t.target.value:t,getNodeParentName=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,isNameInFieldArray=(t,e)=>t.has(getNodeParentName(e)),isPlainObject$2=t=>{const e=t.constructor&&t.constructor.prototype;return isObject$2(e)&&e.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(t){let e;const l=Array.isArray(t),c=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(isWeb&&(t instanceof Blob||c))&&(l||isObject$2(t)))if(e=l?[]:{},!l&&!isPlainObject$2(t))e=t;else for(const f in t)t.hasOwnProperty(f)&&(e[f]=cloneObject(t[f]));else return t;return e}var compact=t=>Array.isArray(t)?t.filter(Boolean):[],isUndefined$1=t=>t===void 0,get=(t,e,l)=>{if(!e||!isObject$2(t))return l;const c=compact(e.split(/[,[\].]+?/)).reduce((f,h)=>isNullOrUndefined(f)?f:f[h],t);return isUndefined$1(c)||c===t?isUndefined$1(t[e])?l:t[e]:c},isBoolean$1=t=>typeof t=="boolean",isKey=t=>/^\w*$/.test(t),stringToPath=t=>compact(t.replace(/["|']|\]/g,"").split(/\.|\[/)),set=(t,e,l)=>{let c=-1;const f=isKey(e)?[e]:stringToPath(e),h=f.length,p=h-1;for(;++c<h;){const d=f[c];let m=l;if(c!==p){const y=t[d];m=isObject$2(y)||Array.isArray(y)?y:isNaN(+f[c+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=m,t=t[d]}};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React2.createContext(null),useFormContext=()=>React2.useContext(HookFormContext),FormProvider=t=>{const{children:e,...l}=t;return React2.createElement(HookFormContext.Provider,{value:l},e)};var getProxyFormState=(t,e,l,c=!0)=>{const f={defaultValues:e._defaultValues};for(const h in t)Object.defineProperty(f,h,{get:()=>{const p=h;return e._proxyFormState[p]!==VALIDATION_MODE.all&&(e._proxyFormState[p]=!c||VALIDATION_MODE.all),l&&(l[p]=!0),t[p]}});return f};const useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useFormState(t){const e=useFormContext(),{control:l=e.control,disabled:c,name:f,exact:h}=t,[p,d]=React2.useState(l._formState),m=React2.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return useIsomorphicLayoutEffect$1(()=>l._subscribe({name:f,formState:m.current,exact:h,callback:y=>{!c&&d({...l._formState,...y})}}),[f,c,h]),React2.useEffect(()=>{m.current.isValid&&l._setValid(!0)},[l]),React2.useMemo(()=>getProxyFormState(p,l,m.current,!1),[p,l])}var isString$3=t=>typeof t=="string",generateWatchOutput=(t,e,l,c,f)=>isString$3(t)?(c&&e.watch.add(t),get(l,t,f)):Array.isArray(t)?t.map(h=>(c&&e.watch.add(h),get(l,h))):(c&&(e.watchAll=!0),l);function useWatch(t){const e=useFormContext(),{control:l=e.control,name:c,defaultValue:f,disabled:h,exact:p}=t,d=React2.useRef(f),[m,y]=React2.useState(l._getWatch(c,d.current));return useIsomorphicLayoutEffect$1(()=>l._subscribe({name:c,formState:{values:!0},exact:p,callback:x=>!h&&y(generateWatchOutput(c,l._names,x.values||l._formValues,!1,d.current))}),[c,l,h,p]),React2.useEffect(()=>l._removeUnmounted()),m}function useController(t){const e=useFormContext(),{name:l,disabled:c,control:f=e.control,shouldUnregister:h}=t,p=isNameInFieldArray(f._names.array,l),d=useWatch({control:f,name:l,defaultValue:get(f._formValues,l,get(f._defaultValues,l,t.defaultValue)),exact:!0}),m=useFormState({control:f,name:l,exact:!0}),y=React2.useRef(t),x=React2.useRef(f.register(l,{...t.rules,value:d,...isBoolean$1(t.disabled)?{disabled:t.disabled}:{}})),u=React2.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get(m.errors,l)},isDirty:{enumerable:!0,get:()=>!!get(m.dirtyFields,l)},isTouched:{enumerable:!0,get:()=>!!get(m.touchedFields,l)},isValidating:{enumerable:!0,get:()=>!!get(m.validatingFields,l)},error:{enumerable:!0,get:()=>get(m.errors,l)}}),[m,l]),w=React2.useCallback(A=>x.current.onChange({target:{value:getEventValue(A),name:l},type:EVENTS.CHANGE}),[l]),T=React2.useCallback(()=>x.current.onBlur({target:{value:get(f._formValues,l),name:l},type:EVENTS.BLUR}),[l,f._formValues]),C=React2.useCallback(A=>{const g=get(f._fields,l);g&&A&&(g._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:E=>A.setCustomValidity(E),reportValidity:()=>A.reportValidity()})},[f._fields,l]),k=React2.useMemo(()=>({name:l,value:d,...isBoolean$1(c)||m.disabled?{disabled:m.disabled||c}:{},onChange:w,onBlur:T,ref:C}),[l,c,m.disabled,w,T,C,d]);return React2.useEffect(()=>{const A=f._options.shouldUnregister||h;f.register(l,{...y.current.rules,...isBoolean$1(y.current.disabled)?{disabled:y.current.disabled}:{}});const g=(E,v)=>{const M=get(f._fields,E);M&&M._f&&(M._f.mount=v)};if(g(l,!0),A){const E=cloneObject(get(f._options.defaultValues,l));set(f._defaultValues,l,E),isUndefined$1(get(f._formValues,l))&&set(f._formValues,l,E)}return!p&&f.register(l),()=>{(p?A&&!f._state.action:A)?f.unregister(l):g(l,!1)}},[l,f,p,h]),React2.useEffect(()=>{f._setDisabledField({disabled:c,name:l})},[c,l,f]),React2.useMemo(()=>({field:k,formState:m,fieldState:u}),[k,m,u])}const Controller=t=>t.render(useController(t));var appendErrors=(t,e,l,c,f)=>e?{...l[t],types:{...l[t]&&l[t].types?l[t].types:{},[c]:f||!0}}:{},convertToArrayPayload=t=>Array.isArray(t)?t:[t],createSubject=()=>{let t=[];return{get observers(){return t},next:f=>{for(const h of t)h.next&&h.next(f)},subscribe:f=>(t.push(f),{unsubscribe:()=>{t=t.filter(h=>h!==f)}}),unsubscribe:()=>{t=[]}}},isPrimitive=t=>isNullOrUndefined(t)||!isObjectType(t);function deepEqual$1(t,e){if(isPrimitive(t)||isPrimitive(e))return t===e;if(isDateObject(t)&&isDateObject(e))return t.getTime()===e.getTime();const l=Object.keys(t),c=Object.keys(e);if(l.length!==c.length)return!1;for(const f of l){const h=t[f];if(!c.includes(f))return!1;if(f!=="ref"){const p=e[f];if(isDateObject(h)&&isDateObject(p)||isObject$2(h)&&isObject$2(p)||Array.isArray(h)&&Array.isArray(p)?!deepEqual$1(h,p):h!==p)return!1}}return!0}var isEmptyObject$1=t=>isObject$2(t)&&!Object.keys(t).length,isFileInput=t=>t.type==="file",isFunction$6=t=>typeof t=="function",isHTMLElement$1=t=>{if(!isWeb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=t=>t.type==="select-multiple",isRadioInput=t=>t.type==="radio",isRadioOrCheckbox=t=>isRadioInput(t)||isCheckBoxInput(t),live=t=>isHTMLElement$1(t)&&t.isConnected;function baseGet(t,e){const l=e.slice(0,-1).length;let c=0;for(;c<l;)t=isUndefined$1(t)?c++:t[e[c++]];return t}function isEmptyArray(t){for(const e in t)if(t.hasOwnProperty(e)&&!isUndefined$1(t[e]))return!1;return!0}function unset(t,e){const l=Array.isArray(e)?e:isKey(e)?[e]:stringToPath(e),c=l.length===1?t:baseGet(t,l),f=l.length-1,h=l[f];return c&&delete c[h],f!==0&&(isObject$2(c)&&isEmptyObject$1(c)||Array.isArray(c)&&isEmptyArray(c))&&unset(t,l.slice(0,-1)),t}var objectHasFunction=t=>{for(const e in t)if(isFunction$6(t[e]))return!0;return!1};function markFieldsDirty(t,e={}){const l=Array.isArray(t);if(isObject$2(t)||l)for(const c in t)Array.isArray(t[c])||isObject$2(t[c])&&!objectHasFunction(t[c])?(e[c]=Array.isArray(t[c])?[]:{},markFieldsDirty(t[c],e[c])):isNullOrUndefined(t[c])||(e[c]=!0);return e}function getDirtyFieldsFromDefaultValues(t,e,l){const c=Array.isArray(t);if(isObject$2(t)||c)for(const f in t)Array.isArray(t[f])||isObject$2(t[f])&&!objectHasFunction(t[f])?isUndefined$1(e)||isPrimitive(l[f])?l[f]=Array.isArray(t[f])?markFieldsDirty(t[f],[]):{...markFieldsDirty(t[f])}:getDirtyFieldsFromDefaultValues(t[f],isNullOrUndefined(e)?{}:e[f],l[f]):l[f]=!deepEqual$1(t[f],e[f]);return l}var getDirtyFields=(t,e)=>getDirtyFieldsFromDefaultValues(t,e,markFieldsDirty(e));const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(l=>l&&l.checked&&!l.disabled).map(l=>l.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!isUndefined$1(t[0].attributes.value)?isUndefined$1(t[0].value)||t[0].value===""?validResult:{value:t[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(t,{valueAsNumber:e,valueAsDate:l,setValueAs:c})=>isUndefined$1(t)?t:e?t===""?NaN:t&&+t:l&&isString$3(t)?new Date(t):c?c(t):t;const defaultReturn={isValid:!1,value:null};var getRadioValue=t=>Array.isArray(t)?t.reduce((e,l)=>l&&l.checked&&!l.disabled?{isValid:!0,value:l.value}:e,defaultReturn):defaultReturn;function getFieldValue(t){const e=t.ref;return isFileInput(e)?e.files:isRadioInput(e)?getRadioValue(t.refs).value:isMultipleSelect(e)?[...e.selectedOptions].map(({value:l})=>l):isCheckBoxInput(e)?getCheckboxValue(t.refs).value:getFieldValueAs(isUndefined$1(e.value)?t.ref.value:e.value,t)}var getResolverOptions=(t,e,l,c)=>{const f={};for(const h of t){const p=get(e,h);p&&set(f,h,p._f)}return{criteriaMode:l,names:[...t],fields:f,shouldUseNativeValidation:c}},isRegex=t=>t instanceof RegExp,getRuleValue=t=>isUndefined$1(t)?t:isRegex(t)?t.source:isObject$2(t)?isRegex(t.value)?t.value.source:t.value:t,getValidationModes=t=>({isOnSubmit:!t||t===VALIDATION_MODE.onSubmit,isOnBlur:t===VALIDATION_MODE.onBlur,isOnChange:t===VALIDATION_MODE.onChange,isOnAll:t===VALIDATION_MODE.all,isOnTouch:t===VALIDATION_MODE.onTouched});const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=t=>!!t&&!!t.validate&&!!(isFunction$6(t.validate)&&t.validate.constructor.name===ASYNC_FUNCTION||isObject$2(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ASYNC_FUNCTION)),hasValidation=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),isWatched=(t,e,l)=>!l&&(e.watchAll||e.watch.has(t)||[...e.watch].some(c=>t.startsWith(c)&&/^\.\w+/.test(t.slice(c.length))));const iterateFieldsByAction=(t,e,l,c)=>{for(const f of l||Object.keys(t)){const h=get(t,f);if(h){const{_f:p,...d}=h;if(p){if(p.refs&&p.refs[0]&&e(p.refs[0],f)&&!c)return!0;if(p.ref&&e(p.ref,p.name)&&!c)return!0;if(iterateFieldsByAction(d,e))break}else if(isObject$2(d)&&iterateFieldsByAction(d,e))break}}};function schemaErrorLookup(t,e,l){const c=get(t,l);if(c||isKey(l))return{error:c,name:l};const f=l.split(".");for(;f.length;){const h=f.join("."),p=get(e,h),d=get(t,h);if(p&&!Array.isArray(p)&&l!==h)return{name:l};if(d&&d.type)return{name:h,error:d};f.pop()}return{name:l}}var shouldRenderFormState=(t,e,l,c)=>{l(t);const{name:f,...h}=t;return isEmptyObject$1(h)||Object.keys(h).length>=Object.keys(e).length||Object.keys(h).find(p=>e[p]===(!c||VALIDATION_MODE.all))},shouldSubscribeByName=(t,e,l)=>!t||!e||t===e||convertToArrayPayload(t).some(c=>c&&(l?c===e:c.startsWith(e)||e.startsWith(c))),skipValidation=(t,e,l,c,f)=>f.isOnAll?!1:!l&&f.isOnTouch?!(e||t):(l?c.isOnBlur:f.isOnBlur)?!t:(l?c.isOnChange:f.isOnChange)?t:!0,unsetEmptyArray=(t,e)=>!compact(get(t,e)).length&&unset(t,e),updateFieldArrayRootError=(t,e,l)=>{const c=convertToArrayPayload(get(t,l));return set(c,"root",e[l]),set(t,l,c),t},isMessage=t=>isString$3(t);function getValidateError(t,e,l="validate"){if(isMessage(t)||Array.isArray(t)&&t.every(isMessage)||isBoolean$1(t)&&!t)return{type:l,message:isMessage(t)?t:"",ref:e}}var getValueAndMessage=t=>isObject$2(t)&&!isRegex(t)?t:{value:t,message:""},validateField=async(t,e,l,c,f,h)=>{const{ref:p,refs:d,required:m,maxLength:y,minLength:x,min:u,max:w,pattern:T,validate:C,name:k,valueAsNumber:A,mount:g}=t._f,E=get(l,k);if(!g||e.has(k))return{};const v=d?d[0]:p,M=D=>{f&&v.reportValidity&&(v.setCustomValidity(isBoolean$1(D)?"":D||""),v.reportValidity())},R={},I=isRadioInput(p),J=isCheckBoxInput(p),_=I||J,L=(A||isFileInput(p))&&isUndefined$1(p.value)&&isUndefined$1(E)||isHTMLElement$1(p)&&p.value===""||E===""||Array.isArray(E)&&!E.length,K=appendErrors.bind(null,k,c,R),$=(D,ne,F,j=INPUT_VALIDATION_RULES.maxLength,se=INPUT_VALIDATION_RULES.minLength)=>{const Y=D?ne:F;R[k]={type:D?j:se,message:Y,ref:p,...K(D?j:se,Y)}};if(h?!Array.isArray(E)||!E.length:m&&(!_&&(L||isNullOrUndefined(E))||isBoolean$1(E)&&!E||J&&!getCheckboxValue(d).isValid||I&&!getRadioValue(d).isValid)){const{value:D,message:ne}=isMessage(m)?{value:!!m,message:m}:getValueAndMessage(m);if(D&&(R[k]={type:INPUT_VALIDATION_RULES.required,message:ne,ref:v,...K(INPUT_VALIDATION_RULES.required,ne)},!c))return M(ne),R}if(!L&&(!isNullOrUndefined(u)||!isNullOrUndefined(w))){let D,ne;const F=getValueAndMessage(w),j=getValueAndMessage(u);if(!isNullOrUndefined(E)&&!isNaN(E)){const se=p.valueAsNumber||E&&+E;isNullOrUndefined(F.value)||(D=se>F.value),isNullOrUndefined(j.value)||(ne=se<j.value)}else{const se=p.valueAsDate||new Date(E),Y=N=>new Date(new Date().toDateString()+" "+N),q=p.type=="time",Q=p.type=="week";isString$3(F.value)&&E&&(D=q?Y(E)>Y(F.value):Q?E>F.value:se>new Date(F.value)),isString$3(j.value)&&E&&(ne=q?Y(E)<Y(j.value):Q?E<j.value:se<new Date(j.value))}if((D||ne)&&($(!!D,F.message,j.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!c))return M(R[k].message),R}if((y||x)&&!L&&(isString$3(E)||h&&Array.isArray(E))){const D=getValueAndMessage(y),ne=getValueAndMessage(x),F=!isNullOrUndefined(D.value)&&E.length>+D.value,j=!isNullOrUndefined(ne.value)&&E.length<+ne.value;if((F||j)&&($(F,D.message,ne.message),!c))return M(R[k].message),R}if(T&&!L&&isString$3(E)){const{value:D,message:ne}=getValueAndMessage(T);if(isRegex(D)&&!E.match(D)&&(R[k]={type:INPUT_VALIDATION_RULES.pattern,message:ne,ref:p,...K(INPUT_VALIDATION_RULES.pattern,ne)},!c))return M(ne),R}if(C){if(isFunction$6(C)){const D=await C(E,l),ne=getValidateError(D,v);if(ne&&(R[k]={...ne,...K(INPUT_VALIDATION_RULES.validate,ne.message)},!c))return M(ne.message),R}else if(isObject$2(C)){let D={};for(const ne in C){if(!isEmptyObject$1(D)&&!c)break;const F=getValidateError(await C[ne](E,l),v,ne);F&&(D={...F,...K(ne,F.message)},M(F.message),c&&(R[k]=D))}if(!isEmptyObject$1(D)&&(R[k]={ref:v,...D},!c))return R}}return M(!0),R};const defaultOptions$1={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(t={}){let e={...defaultOptions$1,...t},l={submitCount:0,isDirty:!1,isReady:!1,isLoading:isFunction$6(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const c={};let f=isObject$2(e.defaultValues)||isObject$2(e.values)?cloneObject(e.defaultValues||e.values)||{}:{},h=e.shouldUnregister?{}:cloneObject(f),p={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,y=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...x};const w={array:createSubject(),state:createSubject()},T=getValidationModes(e.mode),C=getValidationModes(e.reValidateMode),k=e.criteriaMode===VALIDATION_MODE.all,A=de=>xe=>{clearTimeout(y),y=setTimeout(de,xe)},g=async de=>{if(!e.disabled&&(x.isValid||u.isValid||de)){const xe=e.resolver?isEmptyObject$1((await L()).errors):await $(c,!0);xe!==l.isValid&&w.state.next({isValid:xe})}},E=(de,xe)=>{!e.disabled&&(x.isValidating||x.validatingFields||u.isValidating||u.validatingFields)&&((de||Array.from(d.mount)).forEach(ve=>{ve&&(xe?set(l.validatingFields,ve,xe):unset(l.validatingFields,ve))}),w.state.next({validatingFields:l.validatingFields,isValidating:!isEmptyObject$1(l.validatingFields)}))},v=(de,xe=[],ve,Ee,Te=!0,_e=!0)=>{if(Ee&&ve&&!e.disabled){if(p.action=!0,_e&&Array.isArray(get(c,de))){const Oe=ve(get(c,de),Ee.argA,Ee.argB);Te&&set(c,de,Oe)}if(_e&&Array.isArray(get(l.errors,de))){const Oe=ve(get(l.errors,de),Ee.argA,Ee.argB);Te&&set(l.errors,de,Oe),unsetEmptyArray(l.errors,de)}if((x.touchedFields||u.touchedFields)&&_e&&Array.isArray(get(l.touchedFields,de))){const Oe=ve(get(l.touchedFields,de),Ee.argA,Ee.argB);Te&&set(l.touchedFields,de,Oe)}(x.dirtyFields||u.dirtyFields)&&(l.dirtyFields=getDirtyFields(f,h)),w.state.next({name:de,isDirty:ne(de,xe),dirtyFields:l.dirtyFields,errors:l.errors,isValid:l.isValid})}else set(h,de,xe)},M=(de,xe)=>{set(l.errors,de,xe),w.state.next({errors:l.errors})},R=de=>{l.errors=de,w.state.next({errors:l.errors,isValid:!1})},I=(de,xe,ve,Ee)=>{const Te=get(c,de);if(Te){const _e=get(h,de,isUndefined$1(ve)?get(f,de):ve);isUndefined$1(_e)||Ee&&Ee.defaultChecked||xe?set(h,de,xe?_e:getFieldValue(Te._f)):se(de,_e),p.mount&&g()}},J=(de,xe,ve,Ee,Te)=>{let _e=!1,Oe=!1;const Pe={name:de};if(!e.disabled){if(!ve||Ee){(x.isDirty||u.isDirty)&&(Oe=l.isDirty,l.isDirty=Pe.isDirty=ne(),_e=Oe!==Pe.isDirty);const je=deepEqual$1(get(f,de),xe);Oe=!!get(l.dirtyFields,de),je?unset(l.dirtyFields,de):set(l.dirtyFields,de,!0),Pe.dirtyFields=l.dirtyFields,_e=_e||(x.dirtyFields||u.dirtyFields)&&Oe!==!je}if(ve){const je=get(l.touchedFields,de);je||(set(l.touchedFields,de,ve),Pe.touchedFields=l.touchedFields,_e=_e||(x.touchedFields||u.touchedFields)&&je!==ve)}_e&&Te&&w.state.next(Pe)}return _e?Pe:{}},_=(de,xe,ve,Ee)=>{const Te=get(l.errors,de),_e=(x.isValid||u.isValid)&&isBoolean$1(xe)&&l.isValid!==xe;if(e.delayError&&ve?(m=A(()=>M(de,ve)),m(e.delayError)):(clearTimeout(y),m=null,ve?set(l.errors,de,ve):unset(l.errors,de)),(ve?!deepEqual$1(Te,ve):Te)||!isEmptyObject$1(Ee)||_e){const Oe={...Ee,..._e&&isBoolean$1(xe)?{isValid:xe}:{},errors:l.errors,name:de};l={...l,...Oe},w.state.next(Oe)}},L=async de=>{E(de,!0);const xe=await e.resolver(h,e.context,getResolverOptions(de||d.mount,c,e.criteriaMode,e.shouldUseNativeValidation));return E(de),xe},K=async de=>{const{errors:xe}=await L(de);if(de)for(const ve of de){const Ee=get(xe,ve);Ee?set(l.errors,ve,Ee):unset(l.errors,ve)}else l.errors=xe;return xe},$=async(de,xe,ve={valid:!0})=>{for(const Ee in de){const Te=de[Ee];if(Te){const{_f:_e,...Oe}=Te;if(_e){const Pe=d.array.has(_e.name),je=Te._f&&hasPromiseValidation(Te._f);je&&x.validatingFields&&E([Ee],!0);const De=await validateField(Te,d.disabled,h,k,e.shouldUseNativeValidation&&!xe,Pe);if(je&&x.validatingFields&&E([Ee]),De[_e.name]&&(ve.valid=!1,xe))break;!xe&&(get(De,_e.name)?Pe?updateFieldArrayRootError(l.errors,De,_e.name):set(l.errors,_e.name,De[_e.name]):unset(l.errors,_e.name))}!isEmptyObject$1(Oe)&&await $(Oe,xe,ve)}}return ve.valid},D=()=>{for(const de of d.unMount){const xe=get(c,de);xe&&(xe._f.refs?xe._f.refs.every(ve=>!live(ve)):!live(xe._f.ref))&&ye(de)}d.unMount=new Set},ne=(de,xe)=>!e.disabled&&(de&&xe&&set(h,de,xe),!deepEqual$1(H(),f)),F=(de,xe,ve)=>generateWatchOutput(de,d,{...p.mount?h:isUndefined$1(xe)?f:isString$3(de)?{[de]:xe}:xe},ve,xe),j=de=>compact(get(p.mount?h:f,de,e.shouldUnregister?get(f,de,[]):[])),se=(de,xe,ve={})=>{const Ee=get(c,de);let Te=xe;if(Ee){const _e=Ee._f;_e&&(!_e.disabled&&set(h,de,getFieldValueAs(xe,_e)),Te=isHTMLElement$1(_e.ref)&&isNullOrUndefined(xe)?"":xe,isMultipleSelect(_e.ref)?[..._e.ref.options].forEach(Oe=>Oe.selected=Te.includes(Oe.value)):_e.refs?isCheckBoxInput(_e.ref)?_e.refs.length>1?_e.refs.forEach(Oe=>(!Oe.defaultChecked||!Oe.disabled)&&(Oe.checked=Array.isArray(Te)?!!Te.find(Pe=>Pe===Oe.value):Te===Oe.value)):_e.refs[0]&&(_e.refs[0].checked=!!Te):_e.refs.forEach(Oe=>Oe.checked=Oe.value===Te):isFileInput(_e.ref)?_e.ref.value="":(_e.ref.value=Te,_e.ref.type||w.state.next({name:de,values:cloneObject(h)})))}(ve.shouldDirty||ve.shouldTouch)&&J(de,Te,ve.shouldTouch,ve.shouldDirty,!0),ve.shouldValidate&&O(de)},Y=(de,xe,ve)=>{for(const Ee in xe){const Te=xe[Ee],_e=`${de}.${Ee}`,Oe=get(c,_e);(d.array.has(de)||isObject$2(Te)||Oe&&!Oe._f)&&!isDateObject(Te)?Y(_e,Te,ve):se(_e,Te,ve)}},q=(de,xe,ve={})=>{const Ee=get(c,de),Te=d.array.has(de),_e=cloneObject(xe);set(h,de,_e),Te?(w.array.next({name:de,values:cloneObject(h)}),(x.isDirty||x.dirtyFields||u.isDirty||u.dirtyFields)&&ve.shouldDirty&&w.state.next({name:de,dirtyFields:getDirtyFields(f,h),isDirty:ne(de,_e)})):Ee&&!Ee._f&&!isNullOrUndefined(_e)?Y(de,_e,ve):se(de,_e,ve),isWatched(de,d)&&w.state.next({...l}),w.state.next({name:p.mount?de:void 0,values:cloneObject(h)})},Q=async de=>{p.mount=!0;const xe=de.target;let ve=xe.name,Ee=!0;const Te=get(c,ve),_e=Oe=>{Ee=Number.isNaN(Oe)||isDateObject(Oe)&&isNaN(Oe.getTime())||deepEqual$1(Oe,get(h,ve,Oe))};if(Te){let Oe,Pe;const je=xe.type?getFieldValue(Te._f):getEventValue(de),De=de.type===EVENTS.BLUR||de.type===EVENTS.FOCUS_OUT,Me=!hasValidation(Te._f)&&!e.resolver&&!get(l.errors,ve)&&!Te._f.deps||skipValidation(De,get(l.touchedFields,ve),l.isSubmitted,C,T),Fe=isWatched(ve,d,De);set(h,ve,je),De?(Te._f.onBlur&&Te._f.onBlur(de),m&&m(0)):Te._f.onChange&&Te._f.onChange(de);const $e=J(ve,je,De),tt=!isEmptyObject$1($e)||Fe;if(!De&&w.state.next({name:ve,type:de.type,values:cloneObject(h)}),Me)return(x.isValid||u.isValid)&&(e.mode==="onBlur"?De&&g():De||g()),tt&&w.state.next({name:ve,...Fe?{}:$e});if(!De&&Fe&&w.state.next({...l}),e.resolver){const{errors:ut}=await L([ve]);if(_e(je),Ee){const ct=schemaErrorLookup(l.errors,c,ve),mt=schemaErrorLookup(ut,c,ct.name||ve);Oe=mt.error,ve=mt.name,Pe=isEmptyObject$1(ut)}}else E([ve],!0),Oe=(await validateField(Te,d.disabled,h,k,e.shouldUseNativeValidation))[ve],E([ve]),_e(je),Ee&&(Oe?Pe=!1:(x.isValid||u.isValid)&&(Pe=await $(c,!0)));Ee&&(Te._f.deps&&O(Te._f.deps),_(ve,Pe,Oe,$e))}},N=(de,xe)=>{if(get(l.errors,xe)&&de.focus)return de.focus(),1},O=async(de,xe={})=>{let ve,Ee;const Te=convertToArrayPayload(de);if(e.resolver){const _e=await K(isUndefined$1(de)?de:Te);ve=isEmptyObject$1(_e),Ee=de?!Te.some(Oe=>get(_e,Oe)):ve}else de?(Ee=(await Promise.all(Te.map(async _e=>{const Oe=get(c,_e);return await $(Oe&&Oe._f?{[_e]:Oe}:Oe)}))).every(Boolean),!(!Ee&&!l.isValid)&&g()):Ee=ve=await $(c);return w.state.next({...!isString$3(de)||(x.isValid||u.isValid)&&ve!==l.isValid?{}:{name:de},...e.resolver||!de?{isValid:ve}:{},errors:l.errors}),xe.shouldFocus&&!Ee&&iterateFieldsByAction(c,N,de?Te:d.mount),Ee},H=de=>{const xe={...p.mount?h:f};return isUndefined$1(de)?xe:isString$3(de)?get(xe,de):de.map(ve=>get(xe,ve))},G=(de,xe)=>({invalid:!!get((xe||l).errors,de),isDirty:!!get((xe||l).dirtyFields,de),error:get((xe||l).errors,de),isValidating:!!get(l.validatingFields,de),isTouched:!!get((xe||l).touchedFields,de)}),le=de=>{de&&convertToArrayPayload(de).forEach(xe=>unset(l.errors,xe)),w.state.next({errors:de?l.errors:{}})},fe=(de,xe,ve)=>{const Ee=(get(c,de,{_f:{}})._f||{}).ref,Te=get(l.errors,de)||{},{ref:_e,message:Oe,type:Pe,...je}=Te;set(l.errors,de,{...je,...xe,ref:Ee}),w.state.next({name:de,errors:l.errors,isValid:!1}),ve&&ve.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},ae=(de,xe)=>isFunction$6(de)?w.state.subscribe({next:ve=>de(F(void 0,xe),ve)}):F(de,xe,!0),re=de=>w.state.subscribe({next:xe=>{shouldSubscribeByName(de.name,xe.name,de.exact)&&shouldRenderFormState(xe,de.formState||x,pe,de.reRenderRoot)&&de.callback({values:{...h},...l,...xe})}}).unsubscribe,be=de=>(p.mount=!0,u={...u,...de.formState},re({...de,formState:u})),ye=(de,xe={})=>{for(const ve of de?convertToArrayPayload(de):d.mount)d.mount.delete(ve),d.array.delete(ve),xe.keepValue||(unset(c,ve),unset(h,ve)),!xe.keepError&&unset(l.errors,ve),!xe.keepDirty&&unset(l.dirtyFields,ve),!xe.keepTouched&&unset(l.touchedFields,ve),!xe.keepIsValidating&&unset(l.validatingFields,ve),!e.shouldUnregister&&!xe.keepDefaultValue&&unset(f,ve);w.state.next({values:cloneObject(h)}),w.state.next({...l,...xe.keepDirty?{isDirty:ne()}:{}}),!xe.keepIsValid&&g()},Ce=({disabled:de,name:xe})=>{(isBoolean$1(de)&&p.mount||de||d.disabled.has(xe))&&(de?d.disabled.add(xe):d.disabled.delete(xe))},me=(de,xe={})=>{let ve=get(c,de);const Ee=isBoolean$1(xe.disabled)||isBoolean$1(e.disabled);return set(c,de,{...ve||{},_f:{...ve&&ve._f?ve._f:{ref:{name:de}},name:de,mount:!0,...xe}}),d.mount.add(de),ve?Ce({disabled:isBoolean$1(xe.disabled)?xe.disabled:e.disabled,name:de}):I(de,!0,xe.value),{...Ee?{disabled:xe.disabled||e.disabled}:{},...e.progressive?{required:!!xe.required,min:getRuleValue(xe.min),max:getRuleValue(xe.max),minLength:getRuleValue(xe.minLength),maxLength:getRuleValue(xe.maxLength),pattern:getRuleValue(xe.pattern)}:{},name:de,onChange:Q,onBlur:Q,ref:Te=>{if(Te){me(de,xe),ve=get(c,de);const _e=isUndefined$1(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,Oe=isRadioOrCheckbox(_e),Pe=ve._f.refs||[];if(Oe?Pe.find(je=>je===_e):_e===ve._f.ref)return;set(c,de,{_f:{...ve._f,...Oe?{refs:[...Pe.filter(live),_e,...Array.isArray(get(f,de))?[{}]:[]],ref:{type:_e.type,name:de}}:{ref:_e}}}),I(de,!1,void 0,_e)}else ve=get(c,de,{}),ve._f&&(ve._f.mount=!1),(e.shouldUnregister||xe.shouldUnregister)&&!(isNameInFieldArray(d.array,de)&&p.action)&&d.unMount.add(de)}}},ee=()=>e.shouldFocusError&&iterateFieldsByAction(c,N,d.mount),te=de=>{isBoolean$1(de)&&(w.state.next({disabled:de}),iterateFieldsByAction(c,(xe,ve)=>{const Ee=get(c,ve);Ee&&(xe.disabled=Ee._f.disabled||de,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(Te=>{Te.disabled=Ee._f.disabled||de}))},0,!1))},oe=(de,xe)=>async ve=>{let Ee;ve&&(ve.preventDefault&&ve.preventDefault(),ve.persist&&ve.persist());let Te=cloneObject(h);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:_e,values:Oe}=await L();l.errors=_e,Te=Oe}else await $(c);if(d.disabled.size)for(const _e of d.disabled)set(Te,_e,void 0);if(unset(l.errors,"root"),isEmptyObject$1(l.errors)){w.state.next({errors:{}});try{await de(Te,ve)}catch(_e){Ee=_e}}else xe&&await xe({...l.errors},ve),ee(),setTimeout(ee);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject$1(l.errors)&&!Ee,submitCount:l.submitCount+1,errors:l.errors}),Ee)throw Ee},V=(de,xe={})=>{get(c,de)&&(isUndefined$1(xe.defaultValue)?q(de,cloneObject(get(f,de))):(q(de,xe.defaultValue),set(f,de,cloneObject(xe.defaultValue))),xe.keepTouched||unset(l.touchedFields,de),xe.keepDirty||(unset(l.dirtyFields,de),l.isDirty=xe.defaultValue?ne(de,cloneObject(get(f,de))):ne()),xe.keepError||(unset(l.errors,de),x.isValid&&g()),w.state.next({...l}))},W=(de,xe={})=>{const ve=de?cloneObject(de):f,Ee=cloneObject(ve),Te=isEmptyObject$1(de),_e=Te?f:Ee;if(xe.keepDefaultValues||(f=ve),!xe.keepValues){if(xe.keepDirtyValues){const Oe=new Set([...d.mount,...Object.keys(getDirtyFields(f,h))]);for(const Pe of Array.from(Oe))get(l.dirtyFields,Pe)?set(_e,Pe,get(h,Pe)):q(Pe,get(_e,Pe))}else{if(isWeb&&isUndefined$1(de))for(const Oe of d.mount){const Pe=get(c,Oe);if(Pe&&Pe._f){const je=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(isHTMLElement$1(je)){const De=je.closest("form");if(De){De.reset();break}}}}for(const Oe of d.mount)q(Oe,get(_e,Oe))}h=cloneObject(_e),w.array.next({values:{..._e}}),w.state.next({values:{..._e}})}d={mount:xe.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},p.mount=!x.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues,p.watch=!!e.shouldUnregister,w.state.next({submitCount:xe.keepSubmitCount?l.submitCount:0,isDirty:Te?!1:xe.keepDirty?l.isDirty:!!(xe.keepDefaultValues&&!deepEqual$1(de,f)),isSubmitted:xe.keepIsSubmitted?l.isSubmitted:!1,dirtyFields:Te?{}:xe.keepDirtyValues?xe.keepDefaultValues&&h?getDirtyFields(f,h):l.dirtyFields:xe.keepDefaultValues&&de?getDirtyFields(f,de):xe.keepDirty?l.dirtyFields:{},touchedFields:xe.keepTouched?l.touchedFields:{},errors:xe.keepErrors?l.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?l.isSubmitSuccessful:!1,isSubmitting:!1})},ue=(de,xe)=>W(isFunction$6(de)?de(h):de,xe),he=(de,xe={})=>{const ve=get(c,de),Ee=ve&&ve._f;if(Ee){const Te=Ee.refs?Ee.refs[0]:Ee.ref;Te.focus&&(Te.focus(),xe.shouldSelect&&isFunction$6(Te.select)&&Te.select())}},pe=de=>{l={...l,...de}},ge={control:{register:me,unregister:ye,getFieldState:G,handleSubmit:oe,setError:fe,_subscribe:re,_runSchema:L,_getWatch:F,_getDirty:ne,_setValid:g,_setFieldArray:v,_setDisabledField:Ce,_setErrors:R,_getFieldArray:j,_reset:W,_resetDefaultValues:()=>isFunction$6(e.defaultValues)&&e.defaultValues().then(de=>{ue(de,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:te,_subjects:w,_proxyFormState:x,get _fields(){return c},get _formValues(){return h},get _state(){return p},set _state(de){p=de},get _defaultValues(){return f},get _names(){return d},set _names(de){d=de},get _formState(){return l},get _options(){return e},set _options(de){e={...e,...de}}},subscribe:be,trigger:O,register:me,handleSubmit:oe,watch:ae,setValue:q,getValues:H,reset:ue,resetField:V,clearErrors:le,unregister:ye,setError:fe,setFocus:he,getFieldState:G};return{...ge,formControl:ge}}function useForm(t={}){const e=React2.useRef(void 0),l=React2.useRef(void 0),[c,f]=React2.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$6(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:isFunction$6(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:createFormControl(t),formState:c},t.formControl&&t.defaultValues&&!isFunction$6(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const h=e.current.control;return h._options=t,useIsomorphicLayoutEffect$1(()=>{const p=h._subscribe({formState:h._proxyFormState,callback:()=>f({...h._formState}),reRenderRoot:!0});return f(d=>({...d,isReady:!0})),h._formState.isReady=!0,p},[h]),React2.useEffect(()=>h._disableForm(t.disabled),[h,t.disabled]),React2.useEffect(()=>{t.mode&&(h._options.mode=t.mode),t.reValidateMode&&(h._options.reValidateMode=t.reValidateMode),t.errors&&!isEmptyObject$1(t.errors)&&h._setErrors(t.errors)},[h,t.errors,t.mode,t.reValidateMode]),React2.useEffect(()=>{t.shouldUnregister&&h._subjects.state.next({values:h._getWatch()})},[h,t.shouldUnregister]),React2.useEffect(()=>{if(h._proxyFormState.isDirty){const p=h._getDirty();p!==c.isDirty&&h._subjects.state.next({isDirty:p})}},[h,c.isDirty]),React2.useEffect(()=>{t.values&&!deepEqual$1(t.values,l.current)?(h._reset(t.values,h._options.resetOptions),l.current=t.values,f(p=>({...p}))):h._resetDefaultValues()},[h,t.values]),React2.useEffect(()=>{h._state.mount||(h._setValid(),h._state.mount=!0),h._state.watch&&(h._state.watch=!1,h._subjects.state.next({...h._formState})),h._removeUnmounted()}),e.current.formState=getProxyFormState(c,h),e.current}const r=(t,e,l)=>{if(t&&"reportValidity"in t){const c=get(l,e);t.setCustomValidity(c&&c.message||""),t.reportValidity()}},o=(t,e)=>{for(const l in e.fields){const c=e.fields[l];c&&c.ref&&"reportValidity"in c.ref?r(c.ref,l,t):c&&c.refs&&c.refs.forEach(f=>r(f,l,t))}},s$1=(t,e)=>{e.shouldUseNativeValidation&&o(t,e);const l={};for(const c in t){const f=get(e.fields,c),h=Object.assign(t[c]||{},{ref:f&&f.ref});if(i$1(e.names||Object.keys(t),c)){const p=Object.assign({},get(l,c));set(p,"root",h),set(l,c,p)}else set(l,c,h)}return l},i$1=(t,e)=>{const l=n$1(e);return t.some(c=>n$1(c).match(`^${l}\\.\\d+`))};function n$1(t){return t.replace(/\]|\[/g,"")}function n(t,e){for(var l={};t.length;){var c=t[0],f=c.code,h=c.message,p=c.path.join(".");if(!l[p])if("unionErrors"in c){var d=c.unionErrors[0].errors[0];l[p]={message:d.message,type:d.code}}else l[p]={message:h,type:f};if("unionErrors"in c&&c.unionErrors.forEach(function(x){return x.errors.forEach(function(u){return t.push(u)})}),e){var m=l[p].types,y=m&&m[c.code];l[p]=appendErrors(p,e,l,f,y?[].concat(y,c.message):c.message)}t.shift()}return l}function s(t,e,l){return l===void 0&&(l={}),function(c,f,h){try{return Promise.resolve(function(p,d){try{var m=Promise.resolve(t[l.mode==="sync"?"parse":"parseAsync"](c,e)).then(function(y){return h.shouldUseNativeValidation&&o({},h),{errors:{},values:l.raw?Object.assign({},c):y}})}catch(y){return d(y)}return m&&m.then?m.then(void 0,d):m}(0,function(p){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(p))return{values:{},errors:s$1(n(p.errors,!h.shouldUseNativeValidation&&h.criteriaMode==="all"),h)};throw p}))}catch(p){return Promise.reject(p)}}}var util;(function(t){t.assertEqual=f=>f;function e(f){}t.assertIs=e;function l(f){throw new Error}t.assertNever=l,t.arrayToEnum=f=>{const h={};for(const p of f)h[p]=p;return h},t.getValidEnumValues=f=>{const h=t.objectKeys(f).filter(d=>typeof f[f[d]]!="number"),p={};for(const d of h)p[d]=f[d];return t.objectValues(p)},t.objectValues=f=>t.objectKeys(f).map(function(h){return f[h]}),t.objectKeys=typeof Object.keys=="function"?f=>Object.keys(f):f=>{const h=[];for(const p in f)Object.prototype.hasOwnProperty.call(f,p)&&h.push(p);return h},t.find=(f,h)=>{for(const p of f)if(h(p))return p},t.isInteger=typeof Number.isInteger=="function"?f=>Number.isInteger(f):f=>typeof f=="number"&&isFinite(f)&&Math.floor(f)===f;function c(f,h=" | "){return f.map(p=>typeof p=="string"?`'${p}'`:p).join(h)}t.joinValues=c,t.jsonStringifyReplacer=(f,h)=>typeof h=="bigint"?h.toString():h})(util||(util={}));var objectUtil;(function(t){t.mergeShapes=(e,l)=>({...e,...l})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=t=>{switch(typeof t){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(t)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(t)?ZodParsedType.array:t===null?ZodParsedType.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&t instanceof Map?ZodParsedType.map:typeof Set<"u"&&t instanceof Set?ZodParsedType.set:typeof Date<"u"&&t instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=c=>{this.issues=[...this.issues,c]},this.addIssues=(c=[])=>{this.issues=[...this.issues,...c]};const l=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,l):this.__proto__=l,this.name="ZodError",this.issues=e}format(e){const l=e||function(h){return h.message},c={_errors:[]},f=h=>{for(const p of h.issues)if(p.code==="invalid_union")p.unionErrors.map(f);else if(p.code==="invalid_return_type")f(p.returnTypeError);else if(p.code==="invalid_arguments")f(p.argumentsError);else if(p.path.length===0)c._errors.push(l(p));else{let d=c,m=0;for(;m<p.path.length;){const y=p.path[m];m===p.path.length-1?(d[y]=d[y]||{_errors:[]},d[y]._errors.push(l(p))):d[y]=d[y]||{_errors:[]},d=d[y],m++}}};return f(this),c}static assert(e){if(!(e instanceof ZodError))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=l=>l.message){const l={},c=[];for(const f of this.issues)f.path.length>0?(l[f.path[0]]=l[f.path[0]]||[],l[f.path[0]].push(e(f))):c.push(e(f));return{formErrors:c,fieldErrors:l}}get formErrors(){return this.flatten()}}ZodError.create=t=>new ZodError(t);const errorMap=(t,e)=>{let l;switch(t.code){case ZodIssueCode.invalid_type:t.received===ZodParsedType.undefined?l="Required":l=`Expected ${t.expected}, received ${t.received}`;break;case ZodIssueCode.invalid_literal:l=`Invalid literal value, expected ${JSON.stringify(t.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:l=`Unrecognized key(s) in object: ${util.joinValues(t.keys,", ")}`;break;case ZodIssueCode.invalid_union:l="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:l=`Invalid discriminator value. Expected ${util.joinValues(t.options)}`;break;case ZodIssueCode.invalid_enum_value:l=`Invalid enum value. Expected ${util.joinValues(t.options)}, received '${t.received}'`;break;case ZodIssueCode.invalid_arguments:l="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:l="Invalid function return type";break;case ZodIssueCode.invalid_date:l="Invalid date";break;case ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(l=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(l=`${l} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?l=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?l=`Invalid input: must end with "${t.validation.endsWith}"`:util.assertNever(t.validation):t.validation!=="regex"?l=`Invalid ${t.validation}`:l="Invalid";break;case ZodIssueCode.too_small:t.type==="array"?l=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?l=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?l=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?l=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:l="Invalid input";break;case ZodIssueCode.too_big:t.type==="array"?l=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?l=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?l=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?l=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?l=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:l="Invalid input";break;case ZodIssueCode.custom:l="Invalid input";break;case ZodIssueCode.invalid_intersection_types:l="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:l=`Number must be a multiple of ${t.multipleOf}`;break;case ZodIssueCode.not_finite:l="Number must be finite";break;default:l=e.defaultError,util.assertNever(t)}return{message:l}};let overrideErrorMap=errorMap;function setErrorMap(t){overrideErrorMap=t}function getErrorMap(){return overrideErrorMap}const makeIssue=t=>{const{data:e,path:l,errorMaps:c,issueData:f}=t,h=[...l,...f.path||[]],p={...f,path:h};if(f.message!==void 0)return{...f,path:h,message:f.message};let d="";const m=c.filter(y=>!!y).slice().reverse();for(const y of m)d=y(p,{data:e,defaultError:d}).message;return{...f,path:h,message:d}},EMPTY_PATH=[];function addIssueToContext(t,e){const l=getErrorMap(),c=makeIssue({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l,l===errorMap?void 0:errorMap].filter(f=>!!f)});t.common.issues.push(c)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,l){const c=[];for(const f of l){if(f.status==="aborted")return INVALID;f.status==="dirty"&&e.dirty(),c.push(f.value)}return{status:e.value,value:c}}static async mergeObjectAsync(e,l){const c=[];for(const f of l){const h=await f.key,p=await f.value;c.push({key:h,value:p})}return ParseStatus.mergeObjectSync(e,c)}static mergeObjectSync(e,l){const c={};for(const f of l){const{key:h,value:p}=f;if(h.status==="aborted"||p.status==="aborted")return INVALID;h.status==="dirty"&&e.dirty(),p.status==="dirty"&&e.dirty(),h.value!=="__proto__"&&(typeof p.value<"u"||f.alwaysSet)&&(c[h.value]=p.value)}return{status:e.value,value:c}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=t=>({status:"dirty",value:t}),OK=t=>({status:"valid",value:t}),isAborted=t=>t.status==="aborted",isDirty=t=>t.status==="dirty",isValid=t=>t.status==="valid",isAsync=t=>typeof Promise<"u"&&t instanceof Promise;function __classPrivateFieldGet(t,e,l,c){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function __classPrivateFieldSet(t,e,l,c,f){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,l),l}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(e,l,c,f){this._cachedPath=[],this.parent=e,this.data=l,this._path=c,this._key=f}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(t,e)=>{if(isValid(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const l=new ZodError(t.common.issues);return this._error=l,this._error}}};function processCreateParams(t){if(!t)return{};const{errorMap:e,invalid_type_error:l,required_error:c,description:f}=t;if(e&&(l||c))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:f}:{errorMap:(p,d)=>{var m,y;const{message:x}=t;return p.code==="invalid_enum_value"?{message:x??d.defaultError}:typeof d.data>"u"?{message:(m=x??c)!==null&&m!==void 0?m:d.defaultError}:p.code!=="invalid_type"?{message:d.defaultError}:{message:(y=x??l)!==null&&y!==void 0?y:d.defaultError}},description:f}}class ZodType{get description(){return this._def.description}_getType(e){return getParsedType(e.data)}_getOrReturnCtx(e,l){return l||{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const l=this._parse(e);if(isAsync(l))throw new Error("Synchronous parse encountered promise.");return l}_parseAsync(e){const l=this._parse(e);return Promise.resolve(l)}parse(e,l){const c=this.safeParse(e,l);if(c.success)return c.data;throw c.error}safeParse(e,l){var c;const f={common:{issues:[],async:(c=l==null?void 0:l.async)!==null&&c!==void 0?c:!1,contextualErrorMap:l==null?void 0:l.errorMap},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},h=this._parseSync({data:e,path:f.path,parent:f});return handleResult(f,h)}"~validate"(e){var l,c;const f={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)};if(!this["~standard"].async)try{const h=this._parseSync({data:e,path:[],parent:f});return isValid(h)?{value:h.value}:{issues:f.common.issues}}catch(h){!((c=(l=h==null?void 0:h.message)===null||l===void 0?void 0:l.toLowerCase())===null||c===void 0)&&c.includes("encountered")&&(this["~standard"].async=!0),f.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:f}).then(h=>isValid(h)?{value:h.value}:{issues:f.common.issues})}async parseAsync(e,l){const c=await this.safeParseAsync(e,l);if(c.success)return c.data;throw c.error}async safeParseAsync(e,l){const c={common:{issues:[],contextualErrorMap:l==null?void 0:l.errorMap,async:!0},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},f=this._parse({data:e,path:c.path,parent:c}),h=await(isAsync(f)?f:Promise.resolve(f));return handleResult(c,h)}refine(e,l){const c=f=>typeof l=="string"||typeof l>"u"?{message:l}:typeof l=="function"?l(f):l;return this._refinement((f,h)=>{const p=e(f),d=()=>h.addIssue({code:ZodIssueCode.custom,...c(f)});return typeof Promise<"u"&&p instanceof Promise?p.then(m=>m?!0:(d(),!1)):p?!0:(d(),!1)})}refinement(e,l){return this._refinement((c,f)=>e(c)?!0:(f.addIssue(typeof l=="function"?l(c,f):l),!1))}_refinement(e){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:l=>this["~validate"](l)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const l=typeof e=="function"?e:()=>e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:l,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){const l=typeof e=="function"?e:()=>e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:l,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(e){const l=this.constructor;return new l({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const l=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${l}`}function timeRegex(t){return new RegExp(`^${timeRegexSource(t)}$`)}function datetimeRegex(t){let e=`${dateRegexSource}T${timeRegexSource(t)}`;const l=[];return l.push(t.local?"Z?":"Z"),t.offset&&l.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${l.join("|")})`,new RegExp(`^${e}$`)}function isValidIP(t,e){return!!((e==="v4"||!e)&&ipv4Regex.test(t)||(e==="v6"||!e)&&ipv6Regex.test(t))}function isValidJWT(t,e){if(!jwtRegex.test(t))return!1;try{const[l]=t.split("."),c=l.replace(/-/g,"+").replace(/_/g,"/").padEnd(l.length+(4-l.length%4)%4,"="),f=JSON.parse(atob(c));return!(typeof f!="object"||f===null||!f.typ||!f.alg||e&&f.alg!==e)}catch{return!1}}function isValidCidr(t,e){return!!((e==="v4"||!e)&&ipv4CidrRegex.test(t)||(e==="v6"||!e)&&ipv6CidrRegex.test(t))}class ZodString extends ZodType{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ZodParsedType.string){const h=this._getOrReturnCtx(e);return addIssueToContext(h,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:h.parsedType}),INVALID}const c=new ParseStatus;let f;for(const h of this._def.checks)if(h.kind==="min")e.data.length<h.value&&(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),c.dirty());else if(h.kind==="max")e.data.length>h.value&&(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!1,message:h.message}),c.dirty());else if(h.kind==="length"){const p=e.data.length>h.value,d=e.data.length<h.value;(p||d)&&(f=this._getOrReturnCtx(e,f),p?addIssueToContext(f,{code:ZodIssueCode.too_big,maximum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}):d&&addIssueToContext(f,{code:ZodIssueCode.too_small,minimum:h.value,type:"string",inclusive:!0,exact:!0,message:h.message}),c.dirty())}else if(h.kind==="email")emailRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"email",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty());else if(h.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"emoji",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty());else if(h.kind==="uuid")uuidRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"uuid",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty());else if(h.kind==="nanoid")nanoidRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty());else if(h.kind==="cuid")cuidRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"cuid",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty());else if(h.kind==="cuid2")cuid2Regex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty());else if(h.kind==="ulid")ulidRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"ulid",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty());else if(h.kind==="url")try{new URL(e.data)}catch{f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"url",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty()}else h.kind==="regex"?(h.regex.lastIndex=0,h.regex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"regex",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty())):h.kind==="trim"?e.data=e.data.trim():h.kind==="includes"?e.data.includes(h.value,h.position)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.invalid_string,validation:{includes:h.value,position:h.position},message:h.message}),c.dirty()):h.kind==="toLowerCase"?e.data=e.data.toLowerCase():h.kind==="toUpperCase"?e.data=e.data.toUpperCase():h.kind==="startsWith"?e.data.startsWith(h.value)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.invalid_string,validation:{startsWith:h.value},message:h.message}),c.dirty()):h.kind==="endsWith"?e.data.endsWith(h.value)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.invalid_string,validation:{endsWith:h.value},message:h.message}),c.dirty()):h.kind==="datetime"?datetimeRegex(h).test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.invalid_string,validation:"datetime",message:h.message}),c.dirty()):h.kind==="date"?dateRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.invalid_string,validation:"date",message:h.message}),c.dirty()):h.kind==="time"?timeRegex(h).test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.invalid_string,validation:"time",message:h.message}),c.dirty()):h.kind==="duration"?durationRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"duration",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty()):h.kind==="ip"?isValidIP(e.data,h.version)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"ip",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty()):h.kind==="jwt"?isValidJWT(e.data,h.alg)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"jwt",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty()):h.kind==="cidr"?isValidCidr(e.data,h.version)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"cidr",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty()):h.kind==="base64"?base64Regex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"base64",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty()):h.kind==="base64url"?base64urlRegex.test(e.data)||(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{validation:"base64url",code:ZodIssueCode.invalid_string,message:h.message}),c.dirty()):util.assertNever(h);return{status:c.value,value:e.data}}_regex(e,l,c){return this.refinement(f=>e.test(f),{validation:l,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(c)})}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...errorUtil.errToObj(e)})}datetime(e){var l,c;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(l=e==null?void 0:e.offset)!==null&&l!==void 0?l:!1,local:(c=e==null?void 0:e.local)!==null&&c!==void 0?c:!1,...errorUtil.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...errorUtil.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...errorUtil.errToObj(e)})}regex(e,l){return this._addCheck({kind:"regex",regex:e,...errorUtil.errToObj(l)})}includes(e,l){return this._addCheck({kind:"includes",value:e,position:l==null?void 0:l.position,...errorUtil.errToObj(l==null?void 0:l.message)})}startsWith(e,l){return this._addCheck({kind:"startsWith",value:e,...errorUtil.errToObj(l)})}endsWith(e,l){return this._addCheck({kind:"endsWith",value:e,...errorUtil.errToObj(l)})}min(e,l){return this._addCheck({kind:"min",value:e,...errorUtil.errToObj(l)})}max(e,l){return this._addCheck({kind:"max",value:e,...errorUtil.errToObj(l)})}length(e,l){return this._addCheck({kind:"length",value:e,...errorUtil.errToObj(l)})}nonempty(e){return this.min(1,errorUtil.errToObj(e))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxLength(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}ZodString.create=t=>{var e;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...processCreateParams(t)})};function floatSafeRemainder(t,e){const l=(t.toString().split(".")[1]||"").length,c=(e.toString().split(".")[1]||"").length,f=l>c?l:c,h=parseInt(t.toFixed(f).replace(".","")),p=parseInt(e.toFixed(f).replace(".",""));return h%p/Math.pow(10,f)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ZodParsedType.number){const h=this._getOrReturnCtx(e);return addIssueToContext(h,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:h.parsedType}),INVALID}let c;const f=new ParseStatus;for(const h of this._def.checks)h.kind==="int"?util.isInteger(e.data)||(c=this._getOrReturnCtx(e,c),addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:h.message}),f.dirty()):h.kind==="min"?(h.inclusive?e.data<h.value:e.data<=h.value)&&(c=this._getOrReturnCtx(e,c),addIssueToContext(c,{code:ZodIssueCode.too_small,minimum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),f.dirty()):h.kind==="max"?(h.inclusive?e.data>h.value:e.data>=h.value)&&(c=this._getOrReturnCtx(e,c),addIssueToContext(c,{code:ZodIssueCode.too_big,maximum:h.value,type:"number",inclusive:h.inclusive,exact:!1,message:h.message}),f.dirty()):h.kind==="multipleOf"?floatSafeRemainder(e.data,h.value)!==0&&(c=this._getOrReturnCtx(e,c),addIssueToContext(c,{code:ZodIssueCode.not_multiple_of,multipleOf:h.value,message:h.message}),f.dirty()):h.kind==="finite"?Number.isFinite(e.data)||(c=this._getOrReturnCtx(e,c),addIssueToContext(c,{code:ZodIssueCode.not_finite,message:h.message}),f.dirty()):util.assertNever(h);return{status:f.value,value:e.data}}gte(e,l){return this.setLimit("min",e,!0,errorUtil.toString(l))}gt(e,l){return this.setLimit("min",e,!1,errorUtil.toString(l))}lte(e,l){return this.setLimit("max",e,!0,errorUtil.toString(l))}lt(e,l){return this.setLimit("max",e,!1,errorUtil.toString(l))}setLimit(e,l,c,f){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:c,message:errorUtil.toString(f)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:errorUtil.toString(l)})}finite(e){return this._addCheck({kind:"finite",message:errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(e)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&util.isInteger(e.value))}get isFinite(){let e=null,l=null;for(const c of this._def.checks){if(c.kind==="finite"||c.kind==="int"||c.kind==="multipleOf")return!0;c.kind==="min"?(l===null||c.value>l)&&(l=c.value):c.kind==="max"&&(e===null||c.value<e)&&(e=c.value)}return Number.isFinite(l)&&Number.isFinite(e)}}ZodNumber.create=t=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...processCreateParams(t)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ZodParsedType.bigint)return this._getInvalidInput(e);let c;const f=new ParseStatus;for(const h of this._def.checks)h.kind==="min"?(h.inclusive?e.data<h.value:e.data<=h.value)&&(c=this._getOrReturnCtx(e,c),addIssueToContext(c,{code:ZodIssueCode.too_small,type:"bigint",minimum:h.value,inclusive:h.inclusive,message:h.message}),f.dirty()):h.kind==="max"?(h.inclusive?e.data>h.value:e.data>=h.value)&&(c=this._getOrReturnCtx(e,c),addIssueToContext(c,{code:ZodIssueCode.too_big,type:"bigint",maximum:h.value,inclusive:h.inclusive,message:h.message}),f.dirty()):h.kind==="multipleOf"?e.data%h.value!==BigInt(0)&&(c=this._getOrReturnCtx(e,c),addIssueToContext(c,{code:ZodIssueCode.not_multiple_of,multipleOf:h.value,message:h.message}),f.dirty()):util.assertNever(h);return{status:f.value,value:e.data}}_getInvalidInput(e){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:l.parsedType}),INVALID}gte(e,l){return this.setLimit("min",e,!0,errorUtil.toString(l))}gt(e,l){return this.setLimit("min",e,!1,errorUtil.toString(l))}lte(e,l){return this.setLimit("max",e,!0,errorUtil.toString(l))}lt(e,l){return this.setLimit("max",e,!1,errorUtil.toString(l))}setLimit(e,l,c,f){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:c,message:errorUtil.toString(f)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:errorUtil.toString(l)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}ZodBigInt.create=t=>{var e;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...processCreateParams(t)})};class ZodBoolean extends ZodType{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ZodParsedType.boolean){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:c.parsedType}),INVALID}return OK(e.data)}}ZodBoolean.create=t=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...processCreateParams(t)});class ZodDate extends ZodType{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ZodParsedType.date){const h=this._getOrReturnCtx(e);return addIssueToContext(h,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:h.parsedType}),INVALID}if(isNaN(e.data.getTime())){const h=this._getOrReturnCtx(e);return addIssueToContext(h,{code:ZodIssueCode.invalid_date}),INVALID}const c=new ParseStatus;let f;for(const h of this._def.checks)h.kind==="min"?e.data.getTime()<h.value&&(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.too_small,message:h.message,inclusive:!0,exact:!1,minimum:h.value,type:"date"}),c.dirty()):h.kind==="max"?e.data.getTime()>h.value&&(f=this._getOrReturnCtx(e,f),addIssueToContext(f,{code:ZodIssueCode.too_big,message:h.message,inclusive:!0,exact:!1,maximum:h.value,type:"date"}),c.dirty()):util.assertNever(h);return{status:c.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,l){return this._addCheck({kind:"min",value:e.getTime(),message:errorUtil.toString(l)})}max(e,l){return this._addCheck({kind:"max",value:e.getTime(),message:errorUtil.toString(l)})}get minDate(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e!=null?new Date(e):null}}ZodDate.create=t=>new ZodDate({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(t)});class ZodSymbol extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.symbol){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:c.parsedType}),INVALID}return OK(e.data)}}ZodSymbol.create=t=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(t)});class ZodUndefined extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.undefined){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:c.parsedType}),INVALID}return OK(e.data)}}ZodUndefined.create=t=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(t)});class ZodNull extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.null){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:c.parsedType}),INVALID}return OK(e.data)}}ZodNull.create=t=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(t)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(e){return OK(e.data)}}ZodAny.create=t=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(t)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(e){return OK(e.data)}}ZodUnknown.create=t=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(t)});class ZodNever extends ZodType{_parse(e){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:l.parsedType}),INVALID}}ZodNever.create=t=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(t)});class ZodVoid extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.undefined){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:c.parsedType}),INVALID}return OK(e.data)}}ZodVoid.create=t=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(t)});class ZodArray extends ZodType{_parse(e){const{ctx:l,status:c}=this._processInputParams(e),f=this._def;if(l.parsedType!==ZodParsedType.array)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:l.parsedType}),INVALID;if(f.exactLength!==null){const p=l.data.length>f.exactLength.value,d=l.data.length<f.exactLength.value;(p||d)&&(addIssueToContext(l,{code:p?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:d?f.exactLength.value:void 0,maximum:p?f.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:f.exactLength.message}),c.dirty())}if(f.minLength!==null&&l.data.length<f.minLength.value&&(addIssueToContext(l,{code:ZodIssueCode.too_small,minimum:f.minLength.value,type:"array",inclusive:!0,exact:!1,message:f.minLength.message}),c.dirty()),f.maxLength!==null&&l.data.length>f.maxLength.value&&(addIssueToContext(l,{code:ZodIssueCode.too_big,maximum:f.maxLength.value,type:"array",inclusive:!0,exact:!1,message:f.maxLength.message}),c.dirty()),l.common.async)return Promise.all([...l.data].map((p,d)=>f.type._parseAsync(new ParseInputLazyPath(l,p,l.path,d)))).then(p=>ParseStatus.mergeArray(c,p));const h=[...l.data].map((p,d)=>f.type._parseSync(new ParseInputLazyPath(l,p,l.path,d)));return ParseStatus.mergeArray(c,h)}get element(){return this._def.type}min(e,l){return new ZodArray({...this._def,minLength:{value:e,message:errorUtil.toString(l)}})}max(e,l){return new ZodArray({...this._def,maxLength:{value:e,message:errorUtil.toString(l)}})}length(e,l){return new ZodArray({...this._def,exactLength:{value:e,message:errorUtil.toString(l)}})}nonempty(e){return this.min(1,e)}}ZodArray.create=(t,e)=>new ZodArray({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(e)});function deepPartialify(t){if(t instanceof ZodObject){const e={};for(const l in t.shape){const c=t.shape[l];e[l]=ZodOptional.create(deepPartialify(c))}return new ZodObject({...t._def,shape:()=>e})}else return t instanceof ZodArray?new ZodArray({...t._def,type:deepPartialify(t.element)}):t instanceof ZodOptional?ZodOptional.create(deepPartialify(t.unwrap())):t instanceof ZodNullable?ZodNullable.create(deepPartialify(t.unwrap())):t instanceof ZodTuple?ZodTuple.create(t.items.map(e=>deepPartialify(e))):t}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),l=util.objectKeys(e);return this._cached={shape:e,keys:l}}_parse(e){if(this._getType(e)!==ZodParsedType.object){const y=this._getOrReturnCtx(e);return addIssueToContext(y,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:y.parsedType}),INVALID}const{status:c,ctx:f}=this._processInputParams(e),{shape:h,keys:p}=this._getCached(),d=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const y in f.data)p.includes(y)||d.push(y);const m=[];for(const y of p){const x=h[y],u=f.data[y];m.push({key:{status:"valid",value:y},value:x._parse(new ParseInputLazyPath(f,u,f.path,y)),alwaysSet:y in f.data})}if(this._def.catchall instanceof ZodNever){const y=this._def.unknownKeys;if(y==="passthrough")for(const x of d)m.push({key:{status:"valid",value:x},value:{status:"valid",value:f.data[x]}});else if(y==="strict")d.length>0&&(addIssueToContext(f,{code:ZodIssueCode.unrecognized_keys,keys:d}),c.dirty());else if(y!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const y=this._def.catchall;for(const x of d){const u=f.data[x];m.push({key:{status:"valid",value:x},value:y._parse(new ParseInputLazyPath(f,u,f.path,x)),alwaysSet:x in f.data})}}return f.common.async?Promise.resolve().then(async()=>{const y=[];for(const x of m){const u=await x.key,w=await x.value;y.push({key:u,value:w,alwaysSet:x.alwaysSet})}return y}).then(y=>ParseStatus.mergeObjectSync(c,y)):ParseStatus.mergeObjectSync(c,m)}get shape(){return this._def.shape()}strict(e){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(l,c)=>{var f,h,p,d;const m=(p=(h=(f=this._def).errorMap)===null||h===void 0?void 0:h.call(f,l,c).message)!==null&&p!==void 0?p:c.defaultError;return l.code==="unrecognized_keys"?{message:(d=errorUtil.errToObj(e).message)!==null&&d!==void 0?d:m}:{message:m}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(e,l){return this.augment({[e]:l})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){const l={};return util.objectKeys(e).forEach(c=>{e[c]&&this.shape[c]&&(l[c]=this.shape[c])}),new ZodObject({...this._def,shape:()=>l})}omit(e){const l={};return util.objectKeys(this.shape).forEach(c=>{e[c]||(l[c]=this.shape[c])}),new ZodObject({...this._def,shape:()=>l})}deepPartial(){return deepPartialify(this)}partial(e){const l={};return util.objectKeys(this.shape).forEach(c=>{const f=this.shape[c];e&&!e[c]?l[c]=f:l[c]=f.optional()}),new ZodObject({...this._def,shape:()=>l})}required(e){const l={};return util.objectKeys(this.shape).forEach(c=>{if(e&&!e[c])l[c]=this.shape[c];else{let h=this.shape[c];for(;h instanceof ZodOptional;)h=h._def.innerType;l[c]=h}}),new ZodObject({...this._def,shape:()=>l})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(t,e)=>new ZodObject({shape:()=>t,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)});ZodObject.strictCreate=(t,e)=>new ZodObject({shape:()=>t,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)});ZodObject.lazycreate=(t,e)=>new ZodObject({shape:t,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(e)});class ZodUnion extends ZodType{_parse(e){const{ctx:l}=this._processInputParams(e),c=this._def.options;function f(h){for(const d of h)if(d.result.status==="valid")return d.result;for(const d of h)if(d.result.status==="dirty")return l.common.issues.push(...d.ctx.common.issues),d.result;const p=h.map(d=>new ZodError(d.ctx.common.issues));return addIssueToContext(l,{code:ZodIssueCode.invalid_union,unionErrors:p}),INVALID}if(l.common.async)return Promise.all(c.map(async h=>{const p={...l,common:{...l.common,issues:[]},parent:null};return{result:await h._parseAsync({data:l.data,path:l.path,parent:p}),ctx:p}})).then(f);{let h;const p=[];for(const m of c){const y={...l,common:{...l.common,issues:[]},parent:null},x=m._parseSync({data:l.data,path:l.path,parent:y});if(x.status==="valid")return x;x.status==="dirty"&&!h&&(h={result:x,ctx:y}),y.common.issues.length&&p.push(y.common.issues)}if(h)return l.common.issues.push(...h.ctx.common.issues),h.result;const d=p.map(m=>new ZodError(m));return addIssueToContext(l,{code:ZodIssueCode.invalid_union,unionErrors:d}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(t,e)=>new ZodUnion({options:t,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(e)});const getDiscriminator=t=>t instanceof ZodLazy?getDiscriminator(t.schema):t instanceof ZodEffects?getDiscriminator(t.innerType()):t instanceof ZodLiteral?[t.value]:t instanceof ZodEnum?t.options:t instanceof ZodNativeEnum?util.objectValues(t.enum):t instanceof ZodDefault?getDiscriminator(t._def.innerType):t instanceof ZodUndefined?[void 0]:t instanceof ZodNull?[null]:t instanceof ZodOptional?[void 0,...getDiscriminator(t.unwrap())]:t instanceof ZodNullable?[null,...getDiscriminator(t.unwrap())]:t instanceof ZodBranded||t instanceof ZodReadonly?getDiscriminator(t.unwrap()):t instanceof ZodCatch?getDiscriminator(t._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(e){const{ctx:l}=this._processInputParams(e);if(l.parsedType!==ZodParsedType.object)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:l.parsedType}),INVALID;const c=this.discriminator,f=l.data[c],h=this.optionsMap.get(f);return h?l.common.async?h._parseAsync({data:l.data,path:l.path,parent:l}):h._parseSync({data:l.data,path:l.path,parent:l}):(addIssueToContext(l,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,l,c){const f=new Map;for(const h of l){const p=getDiscriminator(h.shape[e]);if(!p.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of p){if(f.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);f.set(d,h)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:e,options:l,optionsMap:f,...processCreateParams(c)})}}function mergeValues(t,e){const l=getParsedType(t),c=getParsedType(e);if(t===e)return{valid:!0,data:t};if(l===ZodParsedType.object&&c===ZodParsedType.object){const f=util.objectKeys(e),h=util.objectKeys(t).filter(d=>f.indexOf(d)!==-1),p={...t,...e};for(const d of h){const m=mergeValues(t[d],e[d]);if(!m.valid)return{valid:!1};p[d]=m.data}return{valid:!0,data:p}}else if(l===ZodParsedType.array&&c===ZodParsedType.array){if(t.length!==e.length)return{valid:!1};const f=[];for(let h=0;h<t.length;h++){const p=t[h],d=e[h],m=mergeValues(p,d);if(!m.valid)return{valid:!1};f.push(m.data)}return{valid:!0,data:f}}else return l===ZodParsedType.date&&c===ZodParsedType.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ZodIntersection extends ZodType{_parse(e){const{status:l,ctx:c}=this._processInputParams(e),f=(h,p)=>{if(isAborted(h)||isAborted(p))return INVALID;const d=mergeValues(h.value,p.value);return d.valid?((isDirty(h)||isDirty(p))&&l.dirty(),{status:l.value,value:d.data}):(addIssueToContext(c,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([h,p])=>f(h,p)):f(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}ZodIntersection.create=(t,e,l)=>new ZodIntersection({left:t,right:e,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(l)});class ZodTuple extends ZodType{_parse(e){const{status:l,ctx:c}=this._processInputParams(e);if(c.parsedType!==ZodParsedType.array)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:c.parsedType}),INVALID;if(c.data.length<this._def.items.length)return addIssueToContext(c,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&c.data.length>this._def.items.length&&(addIssueToContext(c,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.dirty());const h=[...c.data].map((p,d)=>{const m=this._def.items[d]||this._def.rest;return m?m._parse(new ParseInputLazyPath(c,p,c.path,d)):null}).filter(p=>!!p);return c.common.async?Promise.all(h).then(p=>ParseStatus.mergeArray(l,p)):ParseStatus.mergeArray(l,h)}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}}ZodTuple.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:t,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(e)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:c}=this._processInputParams(e);if(c.parsedType!==ZodParsedType.object)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:c.parsedType}),INVALID;const f=[],h=this._def.keyType,p=this._def.valueType;for(const d in c.data)f.push({key:h._parse(new ParseInputLazyPath(c,d,c.path,d)),value:p._parse(new ParseInputLazyPath(c,c.data[d],c.path,d)),alwaysSet:d in c.data});return c.common.async?ParseStatus.mergeObjectAsync(l,f):ParseStatus.mergeObjectSync(l,f)}get element(){return this._def.valueType}static create(e,l,c){return l instanceof ZodType?new ZodRecord({keyType:e,valueType:l,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(c)}):new ZodRecord({keyType:ZodString.create(),valueType:e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(l)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:c}=this._processInputParams(e);if(c.parsedType!==ZodParsedType.map)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:c.parsedType}),INVALID;const f=this._def.keyType,h=this._def.valueType,p=[...c.data.entries()].map(([d,m],y)=>({key:f._parse(new ParseInputLazyPath(c,d,c.path,[y,"key"])),value:h._parse(new ParseInputLazyPath(c,m,c.path,[y,"value"]))}));if(c.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const m of p){const y=await m.key,x=await m.value;if(y.status==="aborted"||x.status==="aborted")return INVALID;(y.status==="dirty"||x.status==="dirty")&&l.dirty(),d.set(y.value,x.value)}return{status:l.value,value:d}})}else{const d=new Map;for(const m of p){const y=m.key,x=m.value;if(y.status==="aborted"||x.status==="aborted")return INVALID;(y.status==="dirty"||x.status==="dirty")&&l.dirty(),d.set(y.value,x.value)}return{status:l.value,value:d}}}}ZodMap.create=(t,e,l)=>new ZodMap({valueType:e,keyType:t,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(l)});class ZodSet extends ZodType{_parse(e){const{status:l,ctx:c}=this._processInputParams(e);if(c.parsedType!==ZodParsedType.set)return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:c.parsedType}),INVALID;const f=this._def;f.minSize!==null&&c.data.size<f.minSize.value&&(addIssueToContext(c,{code:ZodIssueCode.too_small,minimum:f.minSize.value,type:"set",inclusive:!0,exact:!1,message:f.minSize.message}),l.dirty()),f.maxSize!==null&&c.data.size>f.maxSize.value&&(addIssueToContext(c,{code:ZodIssueCode.too_big,maximum:f.maxSize.value,type:"set",inclusive:!0,exact:!1,message:f.maxSize.message}),l.dirty());const h=this._def.valueType;function p(m){const y=new Set;for(const x of m){if(x.status==="aborted")return INVALID;x.status==="dirty"&&l.dirty(),y.add(x.value)}return{status:l.value,value:y}}const d=[...c.data.values()].map((m,y)=>h._parse(new ParseInputLazyPath(c,m,c.path,y)));return c.common.async?Promise.all(d).then(m=>p(m)):p(d)}min(e,l){return new ZodSet({...this._def,minSize:{value:e,message:errorUtil.toString(l)}})}max(e,l){return new ZodSet({...this._def,maxSize:{value:e,message:errorUtil.toString(l)}})}size(e,l){return this.min(e,l).max(e,l)}nonempty(e){return this.min(1,e)}}ZodSet.create=(t,e)=>new ZodSet({valueType:t,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(e)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:l}=this._processInputParams(e);if(l.parsedType!==ZodParsedType.function)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:l.parsedType}),INVALID;function c(d,m){return makeIssue({data:d,path:l.path,errorMaps:[l.common.contextualErrorMap,l.schemaErrorMap,getErrorMap(),errorMap].filter(y=>!!y),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:m}})}function f(d,m){return makeIssue({data:d,path:l.path,errorMaps:[l.common.contextualErrorMap,l.schemaErrorMap,getErrorMap(),errorMap].filter(y=>!!y),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:m}})}const h={errorMap:l.common.contextualErrorMap},p=l.data;if(this._def.returns instanceof ZodPromise){const d=this;return OK(async function(...m){const y=new ZodError([]),x=await d._def.args.parseAsync(m,h).catch(T=>{throw y.addIssue(c(m,T)),y}),u=await Reflect.apply(p,this,x);return await d._def.returns._def.type.parseAsync(u,h).catch(T=>{throw y.addIssue(f(u,T)),y})})}else{const d=this;return OK(function(...m){const y=d._def.args.safeParse(m,h);if(!y.success)throw new ZodError([c(m,y.error)]);const x=Reflect.apply(p,this,y.data),u=d._def.returns.safeParse(x,h);if(!u.success)throw new ZodError([f(x,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ZodFunction({...this._def,args:ZodTuple.create(e).rest(ZodUnknown.create())})}returns(e){return new ZodFunction({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,l,c){return new ZodFunction({args:e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:l||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(c)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){const{ctx:l}=this._processInputParams(e);return this._def.getter()._parse({data:l.data,path:l.path,parent:l})}}ZodLazy.create=(t,e)=>new ZodLazy({getter:t,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(e)});class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){const l=this._getOrReturnCtx(e);return addIssueToContext(l,{received:l.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}ZodLiteral.create=(t,e)=>new ZodLiteral({value:t,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(e)});function createZodEnum(t,e){return new ZodEnum({values:t,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(e)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const l=this._getOrReturnCtx(e),c=this._def.values;return addIssueToContext(l,{expected:util.joinValues(c),received:l.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(e.data)){const l=this._getOrReturnCtx(e),c=this._def.values;return addIssueToContext(l,{received:l.data,code:ZodIssueCode.invalid_enum_value,options:c}),INVALID}return OK(e.data)}get options(){return this._def.values}get enum(){const e={};for(const l of this._def.values)e[l]=l;return e}get Values(){const e={};for(const l of this._def.values)e[l]=l;return e}get Enum(){const e={};for(const l of this._def.values)e[l]=l;return e}extract(e,l=this._def){return ZodEnum.create(e,{...this._def,...l})}exclude(e,l=this._def){return ZodEnum.create(this.options.filter(c=>!e.includes(c)),{...this._def,...l})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(e){const l=util.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(e);if(c.parsedType!==ZodParsedType.string&&c.parsedType!==ZodParsedType.number){const f=util.objectValues(l);return addIssueToContext(c,{expected:util.joinValues(f),received:c.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(e.data)){const f=util.objectValues(l);return addIssueToContext(c,{received:c.data,code:ZodIssueCode.invalid_enum_value,options:f}),INVALID}return OK(e.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(t,e)=>new ZodNativeEnum({values:t,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(e)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){const{ctx:l}=this._processInputParams(e);if(l.parsedType!==ZodParsedType.promise&&l.common.async===!1)return addIssueToContext(l,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:l.parsedType}),INVALID;const c=l.parsedType===ZodParsedType.promise?l.data:Promise.resolve(l.data);return OK(c.then(f=>this._def.type.parseAsync(f,{path:l.path,errorMap:l.common.contextualErrorMap})))}}ZodPromise.create=(t,e)=>new ZodPromise({type:t,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(e)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:l,ctx:c}=this._processInputParams(e),f=this._def.effect||null,h={addIssue:p=>{addIssueToContext(c,p),p.fatal?l.abort():l.dirty()},get path(){return c.path}};if(h.addIssue=h.addIssue.bind(h),f.type==="preprocess"){const p=f.transform(c.data,h);if(c.common.async)return Promise.resolve(p).then(async d=>{if(l.value==="aborted")return INVALID;const m=await this._def.schema._parseAsync({data:d,path:c.path,parent:c});return m.status==="aborted"?INVALID:m.status==="dirty"||l.value==="dirty"?DIRTY(m.value):m});{if(l.value==="aborted")return INVALID;const d=this._def.schema._parseSync({data:p,path:c.path,parent:c});return d.status==="aborted"?INVALID:d.status==="dirty"||l.value==="dirty"?DIRTY(d.value):d}}if(f.type==="refinement"){const p=d=>{const m=f.refinement(d,h);if(c.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(c.common.async===!1){const d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return d.status==="aborted"?INVALID:(d.status==="dirty"&&l.dirty(),p(d.value),{status:l.value,value:d.value})}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(d=>d.status==="aborted"?INVALID:(d.status==="dirty"&&l.dirty(),p(d.value).then(()=>({status:l.value,value:d.value}))))}if(f.type==="transform")if(c.common.async===!1){const p=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!isValid(p))return p;const d=f.transform(p.value,h);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:l.value,value:d}}else return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(p=>isValid(p)?Promise.resolve(f.transform(p.value,h)).then(d=>({status:l.value,value:d})):p);util.assertNever(f)}}ZodEffects.create=(t,e,l)=>new ZodEffects({schema:t,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:e,...processCreateParams(l)});ZodEffects.createWithPreprocess=(t,e,l)=>new ZodEffects({schema:e,effect:{type:"preprocess",transform:t},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(l)});class ZodOptional extends ZodType{_parse(e){return this._getType(e)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodOptional.create=(t,e)=>new ZodOptional({innerType:t,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(e)});class ZodNullable extends ZodType{_parse(e){return this._getType(e)===ZodParsedType.null?OK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodNullable.create=(t,e)=>new ZodNullable({innerType:t,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(e)});class ZodDefault extends ZodType{_parse(e){const{ctx:l}=this._processInputParams(e);let c=l.data;return l.parsedType===ZodParsedType.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:l.path,parent:l})}removeDefault(){return this._def.innerType}}ZodDefault.create=(t,e)=>new ZodDefault({innerType:t,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...processCreateParams(e)});class ZodCatch extends ZodType{_parse(e){const{ctx:l}=this._processInputParams(e),c={...l,common:{...l.common,issues:[]}},f=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return isAsync(f)?f.then(h=>({status:"valid",value:h.status==="valid"?h.value:this._def.catchValue({get error(){return new ZodError(c.common.issues)},input:c.data})})):{status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new ZodError(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(t,e)=>new ZodCatch({innerType:t,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...processCreateParams(e)});class ZodNaN extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.nan){const c=this._getOrReturnCtx(e);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:c.parsedType}),INVALID}return{status:"valid",value:e.data}}}ZodNaN.create=t=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(t)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(e){const{ctx:l}=this._processInputParams(e),c=l.data;return this._def.type._parse({data:c,path:l.path,parent:l})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(e){const{status:l,ctx:c}=this._processInputParams(e);if(c.common.async)return(async()=>{const h=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return h.status==="aborted"?INVALID:h.status==="dirty"?(l.dirty(),DIRTY(h.value)):this._def.out._parseAsync({data:h.value,path:c.path,parent:c})})();{const f=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return f.status==="aborted"?INVALID:f.status==="dirty"?(l.dirty(),{status:"dirty",value:f.value}):this._def.out._parseSync({data:f.value,path:c.path,parent:c})}}static create(e,l){return new ZodPipeline({in:e,out:l,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(e){const l=this._def.innerType._parse(e),c=f=>(isValid(f)&&(f.value=Object.freeze(f.value)),f);return isAsync(l)?l.then(f=>c(f)):c(l)}unwrap(){return this._def.innerType}}ZodReadonly.create=(t,e)=>new ZodReadonly({innerType:t,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(e)});function cleanParams(t,e){const l=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof l=="string"?{message:l}:l}function custom(t,e={},l){return t?ZodAny.create().superRefine((c,f)=>{var h,p;const d=t(c);if(d instanceof Promise)return d.then(m=>{var y,x;if(!m){const u=cleanParams(e,c),w=(x=(y=u.fatal)!==null&&y!==void 0?y:l)!==null&&x!==void 0?x:!0;f.addIssue({code:"custom",...u,fatal:w})}});if(!d){const m=cleanParams(e,c),y=(p=(h=m.fatal)!==null&&h!==void 0?h:l)!==null&&p!==void 0?p:!0;f.addIssue({code:"custom",...m,fatal:y})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(t,e={message:`Input not instance of ${t.name}`})=>custom(l=>l instanceof t,e),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:t=>ZodString.create({...t,coerce:!0}),number:t=>ZodNumber.create({...t,coerce:!0}),boolean:t=>ZodBoolean.create({...t,coerce:!0}),bigint:t=>ZodBigInt.create({...t,coerce:!0}),date:t=>ZodDate.create({...t,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const Form=FormProvider,FormFieldContext=reactExports.createContext({}),FormField=({...t})=>jsxRuntimeExports.jsx(FormFieldContext.Provider,{value:{name:t.name},children:jsxRuntimeExports.jsx(Controller,{...t})}),useFormField=()=>{const t=reactExports.useContext(FormFieldContext),e=reactExports.useContext(FormItemContext),{getFieldState:l,formState:c}=useFormContext(),f=l(t.name,c);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:h}=e;return{id:h,name:t.name,formItemId:`${h}-form-item`,formDescriptionId:`${h}-form-item-description`,formMessageId:`${h}-form-item-message`,...f}},FormItemContext=reactExports.createContext({}),FormItem=reactExports.forwardRef(({className:t,...e},l)=>{const c=reactExports.useId();return jsxRuntimeExports.jsx(FormItemContext.Provider,{value:{id:c},children:jsxRuntimeExports.jsx("div",{ref:l,className:cn("space-y-2",t),...e})})});FormItem.displayName="FormItem";const FormLabel=reactExports.forwardRef(({className:t,...e},l)=>{const{error:c,formItemId:f}=useFormField();return jsxRuntimeExports.jsx(Label$2,{ref:l,className:cn(c&&"text-destructive",t),htmlFor:f,...e})});FormLabel.displayName="FormLabel";const FormControl=reactExports.forwardRef(({...t},e)=>{const{error:l,formItemId:c,formDescriptionId:f,formMessageId:h}=useFormField();return jsxRuntimeExports.jsx(Slot$4,{ref:e,id:c,"aria-describedby":l?`${f} ${h}`:`${f}`,"aria-invalid":!!l,...t})});FormControl.displayName="FormControl";const FormDescription=reactExports.forwardRef(({className:t,...e},l)=>{const{formDescriptionId:c}=useFormField();return jsxRuntimeExports.jsx("p",{ref:l,id:c,className:cn("text-[0.8rem] text-muted-foreground",t),...e})});FormDescription.displayName="FormDescription";const FormMessage=reactExports.forwardRef(({className:t,children:e,...l},c)=>{const{error:f,formMessageId:h}=useFormField(),p=f?String((f==null?void 0:f.message)??""):e;return p?jsxRuntimeExports.jsx("p",{ref:c,id:h,className:cn("text-[0.8rem] font-medium text-destructive",t),...l,children:p}):null});FormMessage.displayName="FormMessage";const Textarea=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:l,...e}));Textarea.displayName="Textarea";reactExports.createContext(void 0);function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(e,l){module.exports=l()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=O,e.bytesToString=te,e.createPromiseCapability=je,e.createValidAbsoluteUrl=G,e.getModificationDate=Pe,e.getVerbosityLevel=Y,e.info=q,e.isArrayBuffer=_e,e.isArrayEqual=Oe,e.objectFromMap=ue,e.objectSize=W,e.setVerbosityLevel=se,e.shadow=le,e.string32=V,e.stringToBytes=oe,e.stringToPDFString=ve,e.stringToUTF8String=Ee,e.unreachable=N,e.utf8StringToString=Te,e.warn=Q;const l=[1,0,0,1,0,0];e.IDENTITY_MATRIX=l;const c=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=c;const f=1.35;e.LINE_FACTOR=f;const h=.35;e.LINE_DESCENT_FACTOR=h;const p=h/f;e.BASELINE_FACTOR=p;const d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=d;const m={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=m;const y="pdfjs_internal_editor_";e.AnnotationEditorPrefix=y;const x={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=x;const u={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=u;const w={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=w;const T={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=T;const C={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=C;const k={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=k;const A={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=A;const g={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=g;const E={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=E;const v={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=v;const M={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=M;const R={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=R;const I={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=I;const J={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=J;const _={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=_;const L={O:"PageOpen",C:"PageClose"};e.PageActionEventType=L;const K={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=K;const $={NONE:0,BINARY:1};e.CMapCompressionType=$;const D={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=D;const ne={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=ne;const F={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=F;let j=K.WARNINGS;function se(De){Number.isInteger(De)&&(j=De)}function Y(){return j}function q(De){j>=K.INFOS&&console.log(`Info: ${De}`)}function Q(De){j>=K.WARNINGS&&console.log(`Warning: ${De}`)}function N(De){throw new Error(De)}function O(De,Me){De||N(Me)}function H(De){if(!De)return!1;switch(De.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function G(De,Me=null,Fe=null){if(!De)return null;try{if(Fe&&typeof De=="string"){if(Fe.addDefaultProtocol&&De.startsWith("www.")){const tt=De.match(/\./g);tt&&tt.length>=2&&(De=`http://${De}`)}if(Fe.tryConvertEncoding)try{De=Ee(De)}catch{}}const $e=Me?new URL(De,Me):new URL(De);if(H($e))return $e}catch{}return null}function le(De,Me,Fe,$e=!1){return Object.defineProperty(De,Me,{value:Fe,enumerable:!$e,configurable:!0,writable:!1}),Fe}const fe=function(){function Me(Fe,$e){this.constructor===Me&&N("Cannot initialize BaseException."),this.message=Fe,this.name=$e}return Me.prototype=new Error,Me.constructor=Me,Me}();e.BaseException=fe;class ae extends fe{constructor(Me,Fe){super(Me,"PasswordException"),this.code=Fe}}e.PasswordException=ae;class re extends fe{constructor(Me,Fe){super(Me,"UnknownErrorException"),this.details=Fe}}e.UnknownErrorException=re;class be extends fe{constructor(Me){super(Me,"InvalidPDFException")}}e.InvalidPDFException=be;class ye extends fe{constructor(Me){super(Me,"MissingPDFException")}}e.MissingPDFException=ye;class Ce extends fe{constructor(Me,Fe){super(Me,"UnexpectedResponseException"),this.status=Fe}}e.UnexpectedResponseException=Ce;class me extends fe{constructor(Me){super(Me,"FormatError")}}e.FormatError=me;class ee extends fe{constructor(Me){super(Me,"AbortException")}}e.AbortException=ee;function te(De){(typeof De!="object"||De===null||De.length===void 0)&&N("Invalid argument for bytesToString");const Me=De.length,Fe=8192;if(Me<Fe)return String.fromCharCode.apply(null,De);const $e=[];for(let tt=0;tt<Me;tt+=Fe){const ut=Math.min(tt+Fe,Me),ct=De.subarray(tt,ut);$e.push(String.fromCharCode.apply(null,ct))}return $e.join("")}function oe(De){typeof De!="string"&&N("Invalid argument for stringToBytes");const Me=De.length,Fe=new Uint8Array(Me);for(let $e=0;$e<Me;++$e)Fe[$e]=De.charCodeAt($e)&255;return Fe}function V(De){return String.fromCharCode(De>>24&255,De>>16&255,De>>8&255,De&255)}function W(De){return Object.keys(De).length}function ue(De){const Me=Object.create(null);for(const[Fe,$e]of De)Me[Fe]=$e;return Me}function he(){const De=new Uint8Array(4);return De[0]=1,new Uint32Array(De.buffer,0,1)[0]===1}function pe(){try{return new Function(""),!0}catch{return!1}}class Se{static get isLittleEndian(){return le(this,"isLittleEndian",he())}static get isEvalSupported(){return le(this,"isEvalSupported",pe())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?le(this,"platform",{isWin:!1,isMac:!1}):le(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}e.FeatureTest=Se;const ge=[...Array(256).keys()].map(De=>De.toString(16).padStart(2,"0"));class de{static makeHexColor(Me,Fe,$e){return`#${ge[Me]}${ge[Fe]}${ge[$e]}`}static scaleMinMax(Me,Fe){let $e;Me[0]?(Me[0]<0&&($e=Fe[0],Fe[0]=Fe[1],Fe[1]=$e),Fe[0]*=Me[0],Fe[1]*=Me[0],Me[3]<0&&($e=Fe[2],Fe[2]=Fe[3],Fe[3]=$e),Fe[2]*=Me[3],Fe[3]*=Me[3]):($e=Fe[0],Fe[0]=Fe[2],Fe[2]=$e,$e=Fe[1],Fe[1]=Fe[3],Fe[3]=$e,Me[1]<0&&($e=Fe[2],Fe[2]=Fe[3],Fe[3]=$e),Fe[2]*=Me[1],Fe[3]*=Me[1],Me[2]<0&&($e=Fe[0],Fe[0]=Fe[1],Fe[1]=$e),Fe[0]*=Me[2],Fe[1]*=Me[2]),Fe[0]+=Me[4],Fe[1]+=Me[4],Fe[2]+=Me[5],Fe[3]+=Me[5]}static transform(Me,Fe){return[Me[0]*Fe[0]+Me[2]*Fe[1],Me[1]*Fe[0]+Me[3]*Fe[1],Me[0]*Fe[2]+Me[2]*Fe[3],Me[1]*Fe[2]+Me[3]*Fe[3],Me[0]*Fe[4]+Me[2]*Fe[5]+Me[4],Me[1]*Fe[4]+Me[3]*Fe[5]+Me[5]]}static applyTransform(Me,Fe){const $e=Me[0]*Fe[0]+Me[1]*Fe[2]+Fe[4],tt=Me[0]*Fe[1]+Me[1]*Fe[3]+Fe[5];return[$e,tt]}static applyInverseTransform(Me,Fe){const $e=Fe[0]*Fe[3]-Fe[1]*Fe[2],tt=(Me[0]*Fe[3]-Me[1]*Fe[2]+Fe[2]*Fe[5]-Fe[4]*Fe[3])/$e,ut=(-Me[0]*Fe[1]+Me[1]*Fe[0]+Fe[4]*Fe[1]-Fe[5]*Fe[0])/$e;return[tt,ut]}static getAxialAlignedBoundingBox(Me,Fe){const $e=de.applyTransform(Me,Fe),tt=de.applyTransform(Me.slice(2,4),Fe),ut=de.applyTransform([Me[0],Me[3]],Fe),ct=de.applyTransform([Me[2],Me[1]],Fe);return[Math.min($e[0],tt[0],ut[0],ct[0]),Math.min($e[1],tt[1],ut[1],ct[1]),Math.max($e[0],tt[0],ut[0],ct[0]),Math.max($e[1],tt[1],ut[1],ct[1])]}static inverseTransform(Me){const Fe=Me[0]*Me[3]-Me[1]*Me[2];return[Me[3]/Fe,-Me[1]/Fe,-Me[2]/Fe,Me[0]/Fe,(Me[2]*Me[5]-Me[4]*Me[3])/Fe,(Me[4]*Me[1]-Me[5]*Me[0])/Fe]}static singularValueDecompose2dScale(Me){const Fe=[Me[0],Me[2],Me[1],Me[3]],$e=Me[0]*Fe[0]+Me[1]*Fe[2],tt=Me[0]*Fe[1]+Me[1]*Fe[3],ut=Me[2]*Fe[0]+Me[3]*Fe[2],ct=Me[2]*Fe[1]+Me[3]*Fe[3],mt=($e+ct)/2,Ze=Math.sqrt(($e+ct)**2-4*($e*ct-ut*tt))/2,St=mt+Ze||1,Rt=mt-Ze||1;return[Math.sqrt(St),Math.sqrt(Rt)]}static normalizeRect(Me){const Fe=Me.slice(0);return Me[0]>Me[2]&&(Fe[0]=Me[2],Fe[2]=Me[0]),Me[1]>Me[3]&&(Fe[1]=Me[3],Fe[3]=Me[1]),Fe}static intersect(Me,Fe){const $e=Math.max(Math.min(Me[0],Me[2]),Math.min(Fe[0],Fe[2])),tt=Math.min(Math.max(Me[0],Me[2]),Math.max(Fe[0],Fe[2]));if($e>tt)return null;const ut=Math.max(Math.min(Me[1],Me[3]),Math.min(Fe[1],Fe[3])),ct=Math.min(Math.max(Me[1],Me[3]),Math.max(Fe[1],Fe[3]));return ut>ct?null:[$e,ut,tt,ct]}static bezierBoundingBox(Me,Fe,$e,tt,ut,ct,mt,Ze){const St=[],Rt=[[],[]];let $t,dt,ot,lt,st,Ge,Ke,rt;for(let Je=0;Je<2;++Je){if(Je===0?(dt=6*Me-12*$e+6*ut,$t=-3*Me+9*$e-9*ut+3*mt,ot=3*$e-3*Me):(dt=6*Fe-12*tt+6*ct,$t=-3*Fe+9*tt-9*ct+3*Ze,ot=3*tt-3*Fe),Math.abs($t)<1e-12){if(Math.abs(dt)<1e-12)continue;lt=-ot/dt,0<lt&&lt<1&&St.push(lt);continue}Ke=dt*dt-4*ot*$t,rt=Math.sqrt(Ke),!(Ke<0)&&(st=(-dt+rt)/(2*$t),0<st&&st<1&&St.push(st),Ge=(-dt-rt)/(2*$t),0<Ge&&Ge<1&&St.push(Ge))}let ze=St.length,Ve;const Ye=ze;for(;ze--;)lt=St[ze],Ve=1-lt,Rt[0][ze]=Ve*Ve*Ve*Me+3*Ve*Ve*lt*$e+3*Ve*lt*lt*ut+lt*lt*lt*mt,Rt[1][ze]=Ve*Ve*Ve*Fe+3*Ve*Ve*lt*tt+3*Ve*lt*lt*ct+lt*lt*lt*Ze;return Rt[0][Ye]=Me,Rt[1][Ye]=Fe,Rt[0][Ye+1]=mt,Rt[1][Ye+1]=Ze,Rt[0].length=Rt[1].length=Ye+2,[Math.min(...Rt[0]),Math.min(...Rt[1]),Math.max(...Rt[0]),Math.max(...Rt[1])]}}e.Util=de;const xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ve(De){if(De[0]>=""){let Fe;if(De[0]===""&&De[1]===""?Fe="utf-16be":De[0]===""&&De[1]===""?Fe="utf-16le":De[0]===""&&De[1]===""&&De[2]===""&&(Fe="utf-8"),Fe)try{const $e=new TextDecoder(Fe,{fatal:!0}),tt=oe(De);return $e.decode(tt)}catch($e){Q(`stringToPDFString: "${$e}".`)}}const Me=[];for(let Fe=0,$e=De.length;Fe<$e;Fe++){const tt=xe[De.charCodeAt(Fe)];Me.push(tt?String.fromCharCode(tt):De.charAt(Fe))}return Me.join("")}function Ee(De){return decodeURIComponent(escape(De))}function Te(De){return unescape(encodeURIComponent(De))}function _e(De){return typeof De=="object"&&De!==null&&De.byteLength!==void 0}function Oe(De,Me){if(De.length!==Me.length)return!1;for(let Fe=0,$e=De.length;Fe<$e;Fe++)if(De[Fe]!==Me[Fe])return!1;return!0}function Pe(De=new Date){return[De.getUTCFullYear().toString(),(De.getUTCMonth()+1).toString().padStart(2,"0"),De.getUTCDate().toString().padStart(2,"0"),De.getUTCHours().toString().padStart(2,"0"),De.getUTCMinutes().toString().padStart(2,"0"),De.getUTCSeconds().toString().padStart(2,"0")].join("")}function je(){const De=Object.create(null);let Me=!1;return Object.defineProperty(De,"settled",{get(){return Me}}),De.promise=new Promise(function(Fe,$e){De.resolve=function(tt){Me=!0,Fe(tt)},De.reject=function(tt){Me=!0,$e(tt)}}),De}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,e,c,f,h,p,d,m,y,x,rl,w,T,il,k,A;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:E,NodeCMapReaderFactory:v,NodeStandardFontDataFactory:M}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=E,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=v,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=M}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:E}=__w_pdfjs_require__(21);createPDFNetworkStream=v=>new E(v)}else{const{PDFNetworkStream:E}=__w_pdfjs_require__(24),{PDFFetchStream:v}=__w_pdfjs_require__(25);createPDFNetworkStream=M=>(0,_display_utils.isValidFetchUrl)(M.url)?new v(M):new E(M)}function getDocument(E){if(typeof E=="string"||E instanceof URL)E={url:E};else if((0,_util.isArrayBuffer)(E))E={data:E};else if(E instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),E={range:E};else if(typeof E!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!E.url&&!E.data&&!E.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const v=new PDFDocumentLoadingTask,M=E.url?getUrlProp(E.url):null,R=E.data?getDataProp(E.data):null,I=E.httpHeaders||null,J=E.withCredentials===!0,_=E.password??null,L=E.range instanceof PDFDataRangeTransport?E.range:null,K=Number.isInteger(E.rangeChunkSize)&&E.rangeChunkSize>0?E.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let $=E.worker instanceof PDFWorker?E.worker:null;const D=E.verbosity,ne=typeof E.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(E.docBaseUrl)?E.docBaseUrl:null,F=typeof E.cMapUrl=="string"?E.cMapUrl:null,j=E.cMapPacked!==!1,se=E.CMapReaderFactory||DefaultCMapReaderFactory,Y=typeof E.standardFontDataUrl=="string"?E.standardFontDataUrl:null,q=E.StandardFontDataFactory||DefaultStandardFontDataFactory,Q=E.stopAtErrors!==!0,N=Number.isInteger(E.maxImageSize)&&E.maxImageSize>-1?E.maxImageSize:-1,O=E.isEvalSupported!==!1,H=typeof E.isOffscreenCanvasSupported=="boolean"?E.isOffscreenCanvasSupported:!_is_node.isNodeJS,G=typeof E.disableFontFace=="boolean"?E.disableFontFace:_is_node.isNodeJS,le=E.fontExtraProperties===!0,fe=E.enableXfa===!0,ae=E.ownerDocument||globalThis.document,re=E.disableRange===!0,be=E.disableStream===!0,ye=E.disableAutoFetch===!0,Ce=E.pdfBug===!0,me=L?L.length:E.length??NaN,ee=typeof E.useSystemFonts=="boolean"?E.useSystemFonts:!_is_node.isNodeJS&&!G,te=typeof E.useWorkerFetch=="boolean"?E.useWorkerFetch:se===_display_utils.DOMCMapReaderFactory&&q===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(F,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Y,document.baseURI),oe=null;(0,_util.setVerbosityLevel)(D);const V=te?null:{cMapReaderFactory:new se({baseUrl:F,isCompressed:j}),standardFontDataFactory:new q({baseUrl:Y})};if(!$){const pe={verbosity:D,port:_worker_options.GlobalWorkerOptions.workerPort};$=pe.port?PDFWorker.fromPort(pe):new PDFWorker(pe),v._worker=$}const W=v.docId,ue={docId:W,apiVersion:"3.4.120",data:R,password:_,disableAutoFetch:ye,rangeChunkSize:K,length:me,docBaseUrl:ne,enableXfa:fe,evaluatorOptions:{maxImageSize:N,disableFontFace:G,ignoreErrors:Q,isEvalSupported:O,isOffscreenCanvasSupported:H,fontExtraProperties:le,useSystemFonts:ee,cMapUrl:te?F:null,standardFontDataUrl:te?Y:null}},he={ignoreErrors:Q,isEvalSupported:O,disableFontFace:G,fontExtraProperties:le,enableXfa:fe,ownerDocument:ae,disableAutoFetch:ye,pdfBug:Ce,styleElement:oe};return $.promise.then(function(){if(v.destroyed)throw new Error("Loading aborted");const pe=_fetchDocument($,ue),Se=new Promise(function(ge){let de;L?de=new _transport_stream.PDFDataTransportStream({length:me,initialData:L.initialData,progressiveDone:L.progressiveDone,contentDispositionFilename:L.contentDispositionFilename,disableRange:re,disableStream:be},L):R||(de=createPDFNetworkStream({url:M,length:me,httpHeaders:I,withCredentials:J,rangeChunkSize:K,disableRange:re,disableStream:be})),ge(de)});return Promise.all([pe,Se]).then(function([ge,de]){if(v.destroyed)throw new Error("Loading aborted");const xe=new _message_handler.MessageHandler(W,ge,$.port),ve=new WorkerTransport(xe,v,de,he,V);v._transport=ve,xe.send("Ready",null)})}).catch(v._capability.reject),v}async function _fetchDocument(E,v){if(E.destroyed)throw new Error("Worker was destroyed");const M=await E.messageHandler.sendWithPromise("GetDocRequest",v,v.data?[v.data.buffer]:null);if(E.destroyed)throw new Error("Worker was destroyed");return M}function getUrlProp(E){if(E instanceof URL)return E.href;try{return new URL(E,window.location).href}catch{if(_is_node.isNodeJS&&typeof E=="string")return E}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(E){if(_is_node.isNodeJS&&typeof Buffer<"u"&&E instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(E);if(E instanceof Uint8Array&&E.byteLength===E.buffer.byteLength)return E;if(typeof E=="string")return(0,_util.stringToBytes)(E);if(typeof E=="object"&&!isNaN(E==null?void 0:E.length)||(0,_util.isArrayBuffer)(E))return new Uint8Array(E);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const l=class l{constructor(){xt(this,e,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${nl(l,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return Ie(this,e)}set onUnsupportedFeature(v){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),Mt(this,e,v)}get promise(){return this._capability.promise}async destroy(){var v;this.destroyed=!0,await((v=this._transport)==null?void 0:v.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t=new WeakMap,e=new WeakMap,xt(l,t,0);let PDFDocumentLoadingTask=l;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(v,M,R=!1,I=null){this.length=v,this.initialData=M,this.progressiveDone=R,this.contentDispositionFilename=I,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(v){this._rangeListeners.push(v)}addProgressListener(v){this._progressListeners.push(v)}addProgressiveReadListener(v){this._progressiveReadListeners.push(v)}addProgressiveDoneListener(v){this._progressiveDoneListeners.push(v)}onDataRange(v,M){for(const R of this._rangeListeners)R(v,M)}onDataProgress(v,M){this._readyCapability.promise.then(()=>{for(const R of this._progressListeners)R(v,M)})}onDataProgressiveRead(v){this._readyCapability.promise.then(()=>{for(const M of this._progressiveReadListeners)M(v)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const v of this._progressiveDoneListeners)v()})}transportReady(){this._readyCapability.resolve()}requestDataRange(v,M){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(v,M){this._pdfInfo=v,this._transport=M}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(v){return this._transport.getPage(v)}getPageIndex(v){return this._transport.getPageIndex(v)}getDestinations(){return this._transport.getDestinations()}getDestination(v){return this._transport.getDestination(v)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(v=!1){return this._transport.startCleanup(v||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(v,M,R,I,J=!1){this._pageIndex=v,this._pageInfo=M,this._ownerDocument=I,this._transport=R,this._stats=J?new _display_utils.StatTimer:null,this._pdfBug=J,this.commonObjs=R.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:v,rotation:M=this.rotate,offsetX:R=0,offsetY:I=0,dontFlip:J=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:v,rotation:M,offsetX:R,offsetY:I,dontFlip:J})}getAnnotations({intent:v="display"}={}){const M=this._transport.getRenderingIntent(v);return this._transport.getAnnotations(this._pageIndex,M.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var v;return((v=this._transport._htmlForXfa)==null?void 0:v.children[this._pageIndex])||null}render({canvasContext:v,viewport:M,intent:R="display",annotationMode:I=_util.AnnotationMode.ENABLE,transform:J=null,canvasFactory:_=null,background:L=null,optionalContentConfigPromise:K=null,annotationCanvasMap:$=null,pageColors:D=null,printAnnotationStorage:ne=null}){var O,H;(O=this._stats)==null||O.time("Overall");const F=this._transport.getRenderingIntent(R,I,ne);this.pendingCleanup=!1,K||(K=this._transport.getOptionalContentConfig());let j=this._intentStates.get(F.cacheKey);j||(j=Object.create(null),this._intentStates.set(F.cacheKey,j)),j.streamReaderCancelTimeout&&(clearTimeout(j.streamReaderCancelTimeout),j.streamReaderCancelTimeout=null);const se=_||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Y=!!(F.renderingIntent&_util.RenderingIntentFlag.PRINT);j.displayReadyCapability||(j.displayReadyCapability=(0,_util.createPromiseCapability)(),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(F));const q=G=>{var le,fe;j.renderTasks.delete(Q),(this.cleanupAfterRender||Y)&&(this.pendingCleanup=!0),this._tryCleanup(),G?(Q.capability.reject(G),this._abortOperatorList({intentState:j,reason:G instanceof Error?G:new Error(G)})):Q.capability.resolve(),(le=this._stats)==null||le.timeEnd("Rendering"),(fe=this._stats)==null||fe.timeEnd("Overall")},Q=new InternalRenderTask({callback:q,params:{canvasContext:v,viewport:M,transform:J,background:L},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:$,operatorList:j.operatorList,pageIndex:this._pageIndex,canvasFactory:se,useRequestAnimationFrame:!Y,pdfBug:this._pdfBug,pageColors:D});(j.renderTasks||(j.renderTasks=new Set)).add(Q);const N=Q.task;return Promise.all([j.displayReadyCapability.promise,K]).then(([G,le])=>{var fe;if(this.pendingCleanup){q();return}(fe=this._stats)==null||fe.time("Rendering"),Q.initializeGraphics({transparency:G,optionalContentConfig:le}),Q.operatorListChanged()}).catch(q),N}getOperatorList({intent:v="display",annotationMode:M=_util.AnnotationMode.ENABLE,printAnnotationStorage:R=null}={}){var K;function I(){_.operatorList.lastChunk&&(_.opListReadCapability.resolve(_.operatorList),_.renderTasks.delete(L))}const J=this._transport.getRenderingIntent(v,M,R,!0);let _=this._intentStates.get(J.cacheKey);_||(_=Object.create(null),this._intentStates.set(J.cacheKey,_));let L;return _.opListReadCapability||(L=Object.create(null),L.operatorListChanged=I,_.opListReadCapability=(0,_util.createPromiseCapability)(),(_.renderTasks||(_.renderTasks=new Set)).add(L),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(J)),_.opListReadCapability.promise}streamTextContent({disableCombineTextItems:v=!1,includeMarkedContent:M=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:v!==!0,includeMarkedContent:M===!0},{highWaterMark:100,size(I){return I.items.length}})}getTextContent(v={}){if(this._transport._htmlForXfa)return this.getXfa().then(R=>_xfa_text.XfaText.textContent(R));const M=this.streamTextContent(v);return new Promise(function(R,I){function J(){_.read().then(function({value:K,done:$}){if($){R(L);return}Object.assign(L.styles,K.styles),L.items.push(...K.items),J()},I)}const _=M.getReader(),L={items:[],styles:Object.create(null)};J()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const v=[];for(const M of this._intentStates.values())if(this._abortOperatorList({intentState:M,reason:new Error("Page was destroyed."),force:!0}),!M.opListReadCapability)for(const R of M.renderTasks)v.push(R.completed),R.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(v)}cleanup(v=!1){return this.pendingCleanup=!0,this._tryCleanup(v)}_tryCleanup(v=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:M,operatorList:R}of this._intentStates.values())if(M.size>0||!R.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),v&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(v,M){var I,J;const R=this._intentStates.get(M);R&&((I=this._stats)==null||I.timeEnd("Page Request"),(J=R.displayReadyCapability)==null||J.resolve(v))}_renderPageChunk(v,M){for(let R=0,I=v.length;R<I;R++)M.operatorList.fnArray.push(v.fnArray[R]),M.operatorList.argsArray.push(v.argsArray[R]);M.operatorList.lastChunk=v.lastChunk,M.operatorList.separateAnnots=v.separateAnnots;for(const R of M.renderTasks)R.operatorListChanged();v.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:v,cacheKey:M,annotationStorageMap:R}){const J=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:v,cacheKey:M,annotationStorage:R}).getReader(),_=this._intentStates.get(M);_.streamReader=J;const L=()=>{J.read().then(({value:K,done:$})=>{if($){_.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(K,_),L())},K=>{if(_.streamReader=null,!this._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(const $ of _.renderTasks)$.operatorListChanged();this._tryCleanup()}if(_.displayReadyCapability)_.displayReadyCapability.reject(K);else if(_.opListReadCapability)_.opListReadCapability.reject(K);else throw K}})};L()}_abortOperatorList({intentState:v,reason:M,force:R=!1}){if(v.streamReader){if(v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null),!R){if(v.renderTasks.size>0)return;if(M instanceof _display_utils.RenderingCancelledException){let I=RENDERING_CANCELLED_TIMEOUT;M.extraDelay>0&&M.extraDelay<1e3&&(I+=M.extraDelay),v.streamReaderCancelTimeout=setTimeout(()=>{v.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:v,reason:M,force:!0})},I);return}}if(v.streamReader.cancel(new _util.AbortException(M.message)).catch(()=>{}),v.streamReader=null,!this._transport.destroyed){for(const[I,J]of this._intentStates)if(J===v){this._intentStates.delete(I);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){xt(this,c,new Set);xt(this,f,Promise.resolve())}postMessage(v,M){const R={data:structuredClone(v,M)};Ie(this,f).then(()=>{for(const I of Ie(this,c))I.call(this,R)})}addEventListener(v,M){Ie(this,c).add(M)}removeEventListener(v,M){Ie(this,c).delete(M)}terminate(){Ie(this,c).clear()}}c=new WeakMap,f=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const E=(h=document==null?void 0:document.currentScript)==null?void 0:h.src;E&&(PDFWorkerUtil.fallbackWorkerSrc=E.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(E,v){let M;try{if(M=new URL(E),!M.origin||M.origin==="null")return!1}catch{return!1}const R=new URL(v,M);return M.origin===R.origin},PDFWorkerUtil.createCDNWrapper=function(E){const v=`importScripts("${E}");`;return URL.createObjectURL(new Blob([v]))}}const _PDFWorker=class _PDFWorker{constructor({name:E=null,port:v=null,verbosity:M=(0,_util.getVerbosityLevel)()}={}){if(v&&Ie(_PDFWorker,p).has(v))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=E,this.destroyed=!1,this.verbosity=M,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,v){Ie(_PDFWorker,p).set(v,this),this._initializeFromPort(v);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(E){this._port=E,this._messageHandler=new _message_handler.MessageHandler("main","worker",E),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:E}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,E)||(E=PDFWorkerUtil.createCDNWrapper(new URL(E,window.location).href));const v=new Worker(E),M=new _message_handler.MessageHandler("main","worker",v),R=()=>{v.removeEventListener("error",I),M.destroy(),v.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},I=()=>{this._webWorker||R()};v.addEventListener("error",I),M.on("test",_=>{if(v.removeEventListener("error",I),this.destroyed){R();return}_?(this._messageHandler=M,this._port=v,this._webWorker=v,this._readyCapability.resolve(),M.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),M.destroy(),v.terminate())}),M.on("ready",_=>{if(v.removeEventListener("error",I),this.destroyed){R();return}try{J()}catch{this._setupFakeWorker()}});const J=()=>{const _=new Uint8Array;M.send("test",_,[_.buffer])};J();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(E=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const v=new LoopbackPort;this._port=v;const M=`fake${PDFWorkerUtil.fakeWorkerId++}`,R=new _message_handler.MessageHandler(M+"_worker",M,v);E.setup(R,v);const I=new _message_handler.MessageHandler(M,M+"_worker",v);this._messageHandler=I,this._readyCapability.resolve(),I.send("configure",{verbosity:this.verbosity})}).catch(E=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${E.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ie(_PDFWorker,p).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(E){if(!(E!=null&&E.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ie(this,p).has(E.port)?Ie(this,p).get(E.port):new _PDFWorker(E)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var E;try{return((E=globalThis.pdfjsWorker)==null?void 0:E.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};p=new WeakMap,xt(_PDFWorker,p,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(v,M,R,I,J){xt(this,x);xt(this,d,new Map);xt(this,m,new Map);xt(this,y,new Map);this.messageHandler=v,this.loadingTask=M,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:I.ownerDocument,styleElement:I.styleElement}),this._params=I,this.cMapReaderFactory=J==null?void 0:J.cMapReaderFactory,this.standardFontDataFactory=J==null?void 0:J.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=R,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(v,M=_util.AnnotationMode.ENABLE,R=null,I=!1){let J=_util.RenderingIntentFlag.DISPLAY,_=null;switch(v){case"any":J=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":J=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${v}`)}switch(M){case _util.AnnotationMode.DISABLE:J+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:J+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:J+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,_=(J&_util.RenderingIntentFlag.PRINT&&R instanceof _annotation_storage.PrintAnnotationStorage?R:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${M}`)}return I&&(J+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:J,cacheKey:`${J}_${_annotation_storage.AnnotationStorage.getHash(_)}`,annotationStorageMap:_}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const v=[];for(const R of Ie(this,m).values())v.push(R._destroy());Ie(this,m).clear(),Ie(this,y).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const M=this.messageHandler.sendWithPromise("Terminate",null);return v.push(M),Promise.all(v).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ie(this,d).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:v,loadingTask:M}=this;v.on("GetReader",(R,I)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=J=>{this._lastProgress={loaded:J.loaded,total:J.total}},I.onPull=()=>{this._fullReader.read().then(function({value:J,done:_}){if(_){I.close();return}(0,_util.assert)(J instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),I.enqueue(new Uint8Array(J),1,[J])}).catch(J=>{I.error(J)})},I.onCancel=J=>{this._fullReader.cancel(J),I.ready.catch(_=>{if(!this.destroyed)throw _})}}),v.on("ReaderHeadersReady",R=>{const I=(0,_util.createPromiseCapability)(),J=this._fullReader;return J.headersReady.then(()=>{var _;(!J.isStreamingSupported||!J.isRangeSupported)&&(this._lastProgress&&((_=M.onProgress)==null||_.call(M,this._lastProgress)),J.onProgress=L=>{var K;(K=M.onProgress)==null||K.call(M,{loaded:L.loaded,total:L.total})}),I.resolve({isStreamingSupported:J.isStreamingSupported,isRangeSupported:J.isRangeSupported,contentLength:J.contentLength})},I.reject),I.promise}),v.on("GetRangeReader",(R,I)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const J=this._networkStream.getRangeReader(R.begin,R.end);if(!J){I.close();return}I.onPull=()=>{J.read().then(function({value:_,done:L}){if(L){I.close();return}(0,_util.assert)(_ instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),I.enqueue(new Uint8Array(_),1,[_])}).catch(_=>{I.error(_)})},I.onCancel=_=>{J.cancel(_),I.ready.catch(L=>{if(!this.destroyed)throw L})}}),v.on("GetDoc",({pdfInfo:R})=>{this._numPages=R.numPages,this._htmlForXfa=R.htmlForXfa,delete R.htmlForXfa,M._capability.resolve(new PDFDocumentProxy(R,this))}),v.on("DocException",function(R){let I;switch(R.name){case"PasswordException":I=new _util.PasswordException(R.message,R.code);break;case"InvalidPDFException":I=new _util.InvalidPDFException(R.message);break;case"MissingPDFException":I=new _util.MissingPDFException(R.message);break;case"UnexpectedResponseException":I=new _util.UnexpectedResponseException(R.message,R.status);break;case"UnknownErrorException":I=new _util.UnknownErrorException(R.message,R.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}M._capability.reject(I)}),v.on("PasswordRequest",R=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),M.onPassword){const I=J=>{J instanceof Error?this._passwordCapability.reject(J):this._passwordCapability.resolve({password:J})};try{M.onPassword(I,R.code)}catch(J){this._passwordCapability.reject(J)}}else this._passwordCapability.reject(new _util.PasswordException(R.message,R.code));return this._passwordCapability.promise}),v.on("DataLoaded",R=>{var I;(I=M.onProgress)==null||I.call(M,{loaded:R.length,total:R.length}),this.downloadInfoCapability.resolve(R)}),v.on("StartRenderPage",R=>{if(this.destroyed)return;Ie(this,m).get(R.pageIndex)._startRenderPage(R.transparency,R.cacheKey)}),v.on("commonobj",([R,I,J])=>{var _;if(!this.destroyed&&!this.commonObjs.has(R))switch(I){case"Font":const L=this._params;if("error"in J){const D=J.error;(0,_util.warn)(`Error during font loading: ${D}`),this.commonObjs.resolve(R,D);break}let K=null;L.pdfBug&&((_=globalThis.FontInspector)!=null&&_.enabled)&&(K={registerFont(D,ne){globalThis.FontInspector.fontAdded(D,ne)}});const $=new _font_loader.FontFaceObject(J,{isEvalSupported:L.isEvalSupported,disableFontFace:L.disableFontFace,ignoreErrors:L.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:K});this.fontLoader.bind($).catch(D=>v.sendWithPromise("FontFallback",{id:R})).finally(()=>{!L.fontExtraProperties&&$.data&&($.data=null),this.commonObjs.resolve(R,$)});break;case"FontPath":case"Image":this.commonObjs.resolve(R,J);break;default:throw new Error(`Got unknown common object type ${I}`)}}),v.on("obj",([R,I,J,_])=>{var K;if(this.destroyed)return;const L=Ie(this,m).get(I);if(!L.objs.has(R))switch(J){case"Image":L.objs.resolve(R,_);const $=8e6;if(_){let D;if(_.bitmap){const{width:ne,height:F}=_;D=ne*F*4}else D=((K=_.data)==null?void 0:K.length)||0;D>$&&(L.cleanupAfterRender=!0)}break;case"Pattern":L.objs.resolve(R,_);break;default:throw new Error(`Got unknown object type ${J}`)}}),v.on("DocProgress",R=>{var I;this.destroyed||(I=M.onProgress)==null||I.call(M,{loaded:R.loaded,total:R.total})}),v.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),v.on("FetchBuiltInCMap",R=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(R):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),v.on("FetchStandardFontData",R=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(R):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:v}){var M,R;this.destroyed||(R=(M=this.loadingTask).onUnsupportedFeature)==null||R.call(M,v)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var v;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((v=this._fullReader)==null?void 0:v.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(v){if(!Number.isInteger(v)||v<=0||v>this._numPages)return Promise.reject(new Error("Invalid page request."));const M=v-1,R=Ie(this,y).get(M);if(R)return R;const I=this.messageHandler.sendWithPromise("GetPage",{pageIndex:M}).then(J=>{if(this.destroyed)throw new Error("Transport destroyed");const _=new PDFPageProxy(M,J,this,this._params.ownerDocument,this._params.pdfBug);return Ie(this,m).set(M,_),_});return Ie(this,y).set(M,I),I}getPageIndex(v){return typeof v!="object"||v===null||!Number.isInteger(v.num)||v.num<0||!Number.isInteger(v.gen)||v.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:v.num,gen:v.gen})}getAnnotations(v,M){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:v,intent:M})}getFieldObjects(){return ht(this,x,rl).call(this,"GetFieldObjects")}hasJSActions(){return ht(this,x,rl).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(v){return typeof v!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:v})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(v){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:v})}getStructTree(v){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:v})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(v=>new _optional_content_config.OptionalContentConfig(v))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const v="GetMetadata",M=Ie(this,d).get(v);if(M)return M;const R=this.messageHandler.sendWithPromise(v,null).then(I=>{var J,_;return{info:I[0],metadata:I[1]?new _metadata.Metadata(I[1]):null,contentDispositionFilename:((J=this._fullReader)==null?void 0:J.filename)??null,contentLength:((_=this._fullReader)==null?void 0:_.contentLength)??null}});return Ie(this,d).set(v,R),R}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(v=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const M of Ie(this,m).values())if(!M.cleanup())throw new Error(`startCleanup: Page ${M.pageNumber} is currently rendering.`);this.commonObjs.clear(),v||this.fontLoader.clear(),Ie(this,d).clear()}}get loadingParams(){const{disableAutoFetch:v,enableXfa:M}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:v,enableXfa:M})}}d=new WeakMap,m=new WeakMap,y=new WeakMap,x=new WeakSet,rl=function(v,M=null){const R=Ie(this,d).get(v);if(R)return R;const I=this.messageHandler.sendWithPromise(v,M);return Ie(this,d).set(v,I),I};class PDFObjects{constructor(){xt(this,T);xt(this,w,Object.create(null))}get(v,M=null){if(M){const I=ht(this,T,il).call(this,v);return I.capability.promise.then(()=>M(I.data)),null}const R=Ie(this,w)[v];if(!(R!=null&&R.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${v}.`);return R.data}has(v){const M=Ie(this,w)[v];return(M==null?void 0:M.capability.settled)||!1}resolve(v,M=null){const R=ht(this,T,il).call(this,v);R.data=M,R.capability.resolve()}clear(){var v;for(const M in Ie(this,w)){const{data:R}=Ie(this,w)[M];(v=R==null?void 0:R.bitmap)==null||v.close()}Mt(this,w,Object.create(null))}}w=new WeakMap,T=new WeakSet,il=function(v){const M=Ie(this,w)[v];return M||(Ie(this,w)[v]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(v){xt(this,k,null);Mt(this,k,v),this.onContinue=null}get promise(){return Ie(this,k).capability.promise}cancel(v=0){Ie(this,k).cancel(null,v)}get separateAnnots(){const{separateAnnots:v}=Ie(this,k).operatorList;if(!v)return!1;const{annotationCanvasMap:M}=Ie(this,k);return v.form||v.canvas&&(M==null?void 0:M.size)>0}}k=new WeakMap,exports.RenderTask=RenderTask;const g=class g{constructor({callback:v,params:M,objs:R,commonObjs:I,annotationCanvasMap:J,operatorList:_,pageIndex:L,canvasFactory:K,useRequestAnimationFrame:$=!1,pdfBug:D=!1,pageColors:ne=null}){this.callback=v,this.params=M,this.objs=R,this.commonObjs=I,this.annotationCanvasMap=J,this.operatorListIdx=null,this.operatorList=_,this._pageIndex=L,this.canvasFactory=K,this._pdfBug=D,this.pageColors=ne,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=$===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=M.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:v=!1,optionalContentConfig:M}){var L,K;if(this.cancelled)return;if(this._canvas){if(Ie(g,A).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ie(g,A).add(this._canvas)}this._pdfBug&&((L=globalThis.StepperManager)!=null&&L.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:R,viewport:I,transform:J,background:_}=this.params;this.gfx=new _canvas.CanvasGraphics(R,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:M},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:J,viewport:I,transparency:v,background:_}),this.operatorListIdx=0,this.graphicsReady=!0,(K=this.graphicsReadyCallback)==null||K.call(this)}cancel(v=null,M=0){var R;this.running=!1,this.cancelled=!0,(R=this.gfx)==null||R.endDrawing(),this._canvas&&Ie(g,A).delete(this._canvas),this.callback(v||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",M))}operatorListChanged(){var v;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(v=this.stepper)==null||v.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Ie(g,A).delete(this._canvas),this.callback())))}};A=new WeakMap,xt(g,A,new WeakSet);let InternalRenderTask=g;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(t,e,l)=>{var m,y,x,$u,w;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var c=l(1),f=l(4),h=l(8);class p{constructor(){xt(this,x);xt(this,m,!1);xt(this,y,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(C,k){const A=Ie(this,y).get(C);return A===void 0?k:Object.assign(k,A)}getRawValue(C){return Ie(this,y).get(C)}remove(C){if(Ie(this,y).delete(C),Ie(this,y).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const k of Ie(this,y).values())if(k instanceof f.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(C,k){const A=Ie(this,y).get(C);let g=!1;if(A!==void 0)for(const[E,v]of Object.entries(k))A[E]!==v&&(g=!0,A[E]=v);else g=!0,Ie(this,y).set(C,k);g&&ht(this,x,$u).call(this),k instanceof f.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(k.constructor._type)}has(C){return Ie(this,y).has(C)}getAll(){return Ie(this,y).size>0?(0,c.objectFromMap)(Ie(this,y)):null}setAll(C){for(const[k,A]of Object.entries(C))this.setValue(k,A)}get size(){return Ie(this,y).size}resetModified(){Ie(this,m)&&(Mt(this,m,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new d(this)}get serializable(){if(Ie(this,y).size===0)return null;const C=new Map;for(const[k,A]of Ie(this,y)){const g=A instanceof f.AnnotationEditor?A.serialize():A;g&&C.set(k,g)}return C}static getHash(C){if(!C)return"";const k=new h.MurmurHash3_64;for(const[A,g]of C)k.update(`${A}:${JSON.stringify(g)}`);return k.hexdigest()}}m=new WeakMap,y=new WeakMap,x=new WeakSet,$u=function(){Ie(this,m)||(Mt(this,m,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=p;class d extends p{constructor(k){super();xt(this,w,null);Mt(this,w,structuredClone(k.serializable))}get print(){(0,c.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ie(this,w)}}w=new WeakMap,e.PrintAnnotationStorage=d},(t,e,l)=>{var p,d,m,y,x,u;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var c=l(5),f=l(1);const w=class w{constructor(C){xt(this,p,this.focusin.bind(this));xt(this,d,this.focusout.bind(this));xt(this,m,!1);xt(this,y,!1);xt(this,x,!1);yn(this,"_uiManager",null);xt(this,u,w._zIndex++);this.constructor===w&&(0,f.unreachable)("Cannot initialize AnnotationEditor."),this.parent=C.parent,this.id=C.id,this.width=this.height=null,this.pageIndex=C.parent.pageIndex,this.name=C.name,this.div=null,this._uiManager=C.uiManager;const{rotation:k,rawDims:{pageWidth:A,pageHeight:g,pageX:E,pageY:v}}=this.parent.viewport;this.rotation=k,this.pageDimensions=[A,g],this.pageTranslation=[E,v];const[M,R]=this.parentDimensions;this.x=C.x/M,this.y=C.y/R,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,f.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(C){this._uiManager.addCommands(C)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ie(this,u)}setParent(C){C!==null&&(this.pageIndex=C.pageIndex,this.pageDimensions=C.pageDimensions),this.parent=C}focusin(C){Ie(this,m)?Mt(this,m,!1):this.parent.setSelected(this)}focusout(C){var A;if(!this.isAttachedToDOM)return;const k=C.relatedTarget;k!=null&&k.closest(`#${this.id}`)||(C.preventDefault(),(A=this.parent)!=null&&A.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(C){const k=this.parent.div.getBoundingClientRect();this.startX=C.clientX-k.x,this.startY=C.clientY-k.y,C.dataTransfer.setData("text/plain",this.id),C.dataTransfer.effectAllowed="move"}setAt(C,k,A,g){const[E,v]=this.parentDimensions;[A,g]=this.screenToPageTranslation(A,g),this.x=(C+A)/E,this.y=(k+g)/v,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(C,k){const[A,g]=this.parentDimensions;[C,k]=this.screenToPageTranslation(C,k),this.x+=C/A,this.y+=k/g,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(C,k){switch(this.parentRotation){case 90:return[k,-C];case 180:return[-C,-k];case 270:return[-k,C];default:return[C,k]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:C}=this._uiManager.viewParameters,[k,A]=this.pageDimensions;return[k*C,A*C]}setDims(C,k){const[A,g]=this.parentDimensions;this.div.style.width=`${100*C/A}%`,this.div.style.height=`${100*k/g}%`}fixDims(){const{style:C}=this.div,{height:k,width:A}=C,g=A.endsWith("%"),E=k.endsWith("%");if(g&&E)return;const[v,M]=this.parentDimensions;g||(C.width=`${100*parseFloat(A)/v}%`),E||(C.height=`${100*parseFloat(k)/M}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ie(this,p)),this.div.addEventListener("focusout",Ie(this,d));const[C,k]=this.getInitialTranslation();return this.translate(C,k),(0,c.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(C){const{isMac:k}=f.FeatureTest.platform;if(C.button!==0||C.ctrlKey&&k){C.preventDefault();return}C.ctrlKey&&!k||C.shiftKey||C.metaKey&&k?this.parent.toggleSelected(this):this.parent.setSelected(this),Mt(this,m,!0)}getRect(C,k){const A=this.parentScale,[g,E]=this.pageDimensions,[v,M]=this.pageTranslation,R=C/A,I=k/A,J=this.x*g,_=this.y*E,L=this.width*g,K=this.height*E;switch(this.rotation){case 0:return[J+R+v,E-_-I-K+M,J+R+L+v,E-_-I+M];case 90:return[J+I+v,E-_+R+M,J+I+K+v,E-_+R+L+M];case 180:return[J-R-L+v,E-_+I+M,J-R+v,E-_+I+K+M];case 270:return[J-I-K+v,E-_-R-L+M,J-I+v,E-_-R+M];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(C,k){const[A,g,E,v]=C,M=E-A,R=v-g;switch(this.rotation){case 0:return[A,k-v,M,R];case 90:return[A,k-g,R,M];case 180:return[E,k-g,M,R];case 270:return[E,k-v,R,M];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Mt(this,x,!0)}disableEditMode(){Mt(this,x,!1)}isInEditMode(){return Ie(this,x)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var C;(C=this.div)==null||C.addEventListener("focusin",Ie(this,p))}serialize(){(0,f.unreachable)("An editor must be serializable")}static deserialize(C,k,A){const g=new this.prototype.constructor({parent:k,id:k.getNextId(),uiManager:A});g.rotation=C.rotation;const[E,v]=g.pageDimensions,[M,R,I,J]=g.getRectInCurrentCoords(C.rect,v);return g.x=M/E,g.y=R/v,g.width=I/E,g.height=J/v,g}remove(){this.div.removeEventListener("focusin",Ie(this,p)),this.div.removeEventListener("focusout",Ie(this,d)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var C;(C=this.div)==null||C.classList.add("selectedEditor")}unselect(){var C;(C=this.div)==null||C.classList.remove("selectedEditor")}updateParams(C,k){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return Ie(this,y)}set isEditing(C){Mt(this,y,C),C?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};p=new WeakMap,d=new WeakMap,m=new WeakMap,y=new WeakMap,x=new WeakMap,u=new WeakMap,yn(w,"_colorManager",new c.ColorManager),yn(w,"_zIndex",1);let h=w;e.AnnotationEditor=h},(t,e,l)=>{var w,T,C,k,A,g,Bu,M,R,I,J,_,L,K,$,D,ne,F,j,se,Y,q,Q,N,O,H,G,le,fe,ae,re,ju,sl,Uu,zu,dr,Ms,Hu,Vu,al,Rs,ol;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=h,e.opacityToHex=p;var c=l(1),f=l(6);function h(Se,ge,de){for(const xe of de)ge.addEventListener(xe,Se[xe].bind(Se))}function p(Se){return Math.round(Math.min(255,Math.max(1,255*Se))).toString(16).padStart(2,"0")}class d{constructor(){xt(this,w,0)}getId(){return`${c.AnnotationEditorPrefix}${nl(this,w)._++}`}}w=new WeakMap;class m{constructor(ge=128){xt(this,T,[]);xt(this,C,!1);xt(this,k);xt(this,A,-1);Mt(this,k,ge)}add({cmd:ge,undo:de,mustExec:xe,type:ve=NaN,overwriteIfSameType:Ee=!1,keepUndo:Te=!1}){if(xe&&ge(),Ie(this,C))return;const _e={cmd:ge,undo:de,type:ve};if(Ie(this,A)===-1){Ie(this,T).length>0&&(Ie(this,T).length=0),Mt(this,A,0),Ie(this,T).push(_e);return}if(Ee&&Ie(this,T)[Ie(this,A)].type===ve){Te&&(_e.undo=Ie(this,T)[Ie(this,A)].undo),Ie(this,T)[Ie(this,A)]=_e;return}const Oe=Ie(this,A)+1;Oe===Ie(this,k)?Ie(this,T).splice(0,1):(Mt(this,A,Oe),Oe<Ie(this,T).length&&Ie(this,T).splice(Oe)),Ie(this,T).push(_e)}undo(){Ie(this,A)!==-1&&(Mt(this,C,!0),Ie(this,T)[Ie(this,A)].undo(),Mt(this,C,!1),Mt(this,A,Ie(this,A)-1))}redo(){Ie(this,A)<Ie(this,T).length-1&&(Mt(this,A,Ie(this,A)+1),Mt(this,C,!0),Ie(this,T)[Ie(this,A)].cmd(),Mt(this,C,!1))}hasSomethingToUndo(){return Ie(this,A)!==-1}hasSomethingToRedo(){return Ie(this,A)<Ie(this,T).length-1}destroy(){Mt(this,T,null)}}T=new WeakMap,C=new WeakMap,k=new WeakMap,A=new WeakMap,e.CommandManager=m;class y{constructor(ge){xt(this,g);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:de}=c.FeatureTest.platform;for(const[xe,ve]of ge)for(const Ee of xe){const Te=Ee.startsWith("mac+");de&&Te?(this.callbacks.set(Ee.slice(4),ve),this.allKeys.add(Ee.split("+").at(-1))):!de&&!Te&&(this.callbacks.set(Ee,ve),this.allKeys.add(Ee.split("+").at(-1)))}}exec(ge,de){if(!this.allKeys.has(de.key))return;const xe=this.callbacks.get(ht(this,g,Bu).call(this,de));xe&&(xe.bind(ge)(),de.stopPropagation(),de.preventDefault())}}g=new WeakSet,Bu=function(ge){ge.altKey&&this.buffer.push("alt"),ge.ctrlKey&&this.buffer.push("ctrl"),ge.metaKey&&this.buffer.push("meta"),ge.shiftKey&&this.buffer.push("shift"),this.buffer.push(ge.key);const de=this.buffer.join("+");return this.buffer.length=0,de},e.KeyboardManager=y;const v=class v{get _colors(){const ge=new Map([["CanvasText",null],["Canvas",null]]);return(0,f.getColorValues)(ge),(0,c.shadow)(this,"_colors",ge)}convert(ge){const de=(0,f.getRGB)(ge);if(!window.matchMedia("(forced-colors: active)").matches)return de;for(const[xe,ve]of this._colors)if(ve.every((Ee,Te)=>Ee===de[Te]))return v._colorsMapping.get(xe);return de}getHexCode(ge){const de=this._colors.get(ge);return de?c.Util.makeHexColor(...de):ge}};yn(v,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let x=v;e.ColorManager=x;const pe=class pe{constructor(ge,de,xe){xt(this,re);xt(this,M,null);xt(this,R,new Map);xt(this,I,new Map);xt(this,J,null);xt(this,_,new m);xt(this,L,0);xt(this,K,null);xt(this,$,new Set);xt(this,D,null);xt(this,ne,new d);xt(this,F,!1);xt(this,j,c.AnnotationEditorType.NONE);xt(this,se,new Set);xt(this,Y,this.copy.bind(this));xt(this,q,this.cut.bind(this));xt(this,Q,this.paste.bind(this));xt(this,N,this.keydown.bind(this));xt(this,O,this.onEditingAction.bind(this));xt(this,H,this.onPageChanging.bind(this));xt(this,G,this.onScaleChanging.bind(this));xt(this,le,this.onRotationChanging.bind(this));xt(this,fe,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});xt(this,ae,null);Mt(this,ae,ge),Mt(this,D,de),Ie(this,D)._on("editingaction",Ie(this,O)),Ie(this,D)._on("pagechanging",Ie(this,H)),Ie(this,D)._on("scalechanging",Ie(this,G)),Ie(this,D)._on("rotationchanging",Ie(this,le)),Mt(this,J,xe),this.viewParameters={realScale:f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ht(this,re,sl).call(this),Ie(this,D)._off("editingaction",Ie(this,O)),Ie(this,D)._off("pagechanging",Ie(this,H)),Ie(this,D)._off("scalechanging",Ie(this,G)),Ie(this,D)._off("rotationchanging",Ie(this,le));for(const ge of Ie(this,I).values())ge.destroy();Ie(this,I).clear(),Ie(this,R).clear(),Ie(this,$).clear(),Mt(this,M,null),Ie(this,se).clear(),Ie(this,_).destroy()}onPageChanging({pageNumber:ge}){Mt(this,L,ge-1)}focusMainContainer(){Ie(this,ae).focus()}addShouldRescale(ge){Ie(this,$).add(ge)}removeShouldRescale(ge){Ie(this,$).delete(ge)}onScaleChanging({scale:ge}){this.commitOrRemove(),this.viewParameters.realScale=ge*f.PixelsPerInch.PDF_TO_CSS_UNITS;for(const de of Ie(this,$))de.onScaleChanging()}onRotationChanging({pagesRotation:ge}){this.commitOrRemove(),this.viewParameters.rotation=ge}addToAnnotationStorage(ge){!ge.isEmpty()&&Ie(this,J)&&!Ie(this,J).has(ge.id)&&Ie(this,J).setValue(ge.id,ge)}copy(ge){if(ge.preventDefault(),Ie(this,M)&&Ie(this,M).commitOrRemove(),!this.hasSelection)return;const de=[];for(const xe of Ie(this,se))xe.isEmpty()||de.push(xe.serialize());de.length!==0&&ge.clipboardData.setData("application/pdfjs",JSON.stringify(de))}cut(ge){this.copy(ge),this.delete()}paste(ge){ge.preventDefault();let de=ge.clipboardData.getData("application/pdfjs");if(!de)return;try{de=JSON.parse(de)}catch(ve){(0,c.warn)(`paste: "${ve.message}".`);return}if(!Array.isArray(de))return;this.unselectAll();const xe=Ie(this,I).get(Ie(this,L));try{const ve=[];for(const _e of de){const Oe=xe.deserialize(_e);if(!Oe)return;ve.push(Oe)}const Ee=()=>{for(const _e of ve)ht(this,re,al).call(this,_e);ht(this,re,ol).call(this,ve)},Te=()=>{for(const _e of ve)_e.remove()};this.addCommands({cmd:Ee,undo:Te,mustExec:!0})}catch(ve){(0,c.warn)(`paste: "${ve.message}".`)}}keydown(ge){var de;(de=this.getActive())!=null&&de.shouldGetKeyboardEvents()||pe._keyboardManager.exec(this,ge)}onEditingAction(ge){["undo","redo","delete","selectAll"].includes(ge.name)&&this[ge.name]()}setEditingState(ge){ge?(ht(this,re,ju).call(this),ht(this,re,Uu).call(this),ht(this,re,dr).call(this,{isEditing:Ie(this,j)!==c.AnnotationEditorType.NONE,isEmpty:ht(this,re,Rs).call(this),hasSomethingToUndo:Ie(this,_).hasSomethingToUndo(),hasSomethingToRedo:Ie(this,_).hasSomethingToRedo(),hasSelectedEditor:!1})):(ht(this,re,sl).call(this),ht(this,re,zu).call(this),ht(this,re,dr).call(this,{isEditing:!1}))}registerEditorTypes(ge){if(!Ie(this,K)){Mt(this,K,ge);for(const de of Ie(this,K))ht(this,re,Ms).call(this,de.defaultPropertiesToUpdate)}}getId(){return Ie(this,ne).getId()}get currentLayer(){return Ie(this,I).get(Ie(this,L))}get currentPageIndex(){return Ie(this,L)}addLayer(ge){Ie(this,I).set(ge.pageIndex,ge),Ie(this,F)?ge.enable():ge.disable()}removeLayer(ge){Ie(this,I).delete(ge.pageIndex)}updateMode(ge){if(Mt(this,j,ge),ge===c.AnnotationEditorType.NONE)this.setEditingState(!1),ht(this,re,Vu).call(this);else{this.setEditingState(!0),ht(this,re,Hu).call(this);for(const de of Ie(this,I).values())de.updateMode(ge)}}updateToolbar(ge){ge!==Ie(this,j)&&Ie(this,D).dispatch("switchannotationeditormode",{source:this,mode:ge})}updateParams(ge,de){if(Ie(this,K)){for(const xe of Ie(this,se))xe.updateParams(ge,de);for(const xe of Ie(this,K))xe.updateDefaultParams(ge,de)}}getEditors(ge){const de=[];for(const xe of Ie(this,R).values())xe.pageIndex===ge&&de.push(xe);return de}getEditor(ge){return Ie(this,R).get(ge)}addEditor(ge){Ie(this,R).set(ge.id,ge)}removeEditor(ge){var de;Ie(this,R).delete(ge.id),this.unselect(ge),(de=Ie(this,J))==null||de.remove(ge.id)}setActiveEditor(ge){Ie(this,M)!==ge&&(Mt(this,M,ge),ge&&ht(this,re,Ms).call(this,ge.propertiesToUpdate))}toggleSelected(ge){if(Ie(this,se).has(ge)){Ie(this,se).delete(ge),ge.unselect(),ht(this,re,dr).call(this,{hasSelectedEditor:this.hasSelection});return}Ie(this,se).add(ge),ge.select(),ht(this,re,Ms).call(this,ge.propertiesToUpdate),ht(this,re,dr).call(this,{hasSelectedEditor:!0})}setSelected(ge){for(const de of Ie(this,se))de!==ge&&de.unselect();Ie(this,se).clear(),Ie(this,se).add(ge),ge.select(),ht(this,re,Ms).call(this,ge.propertiesToUpdate),ht(this,re,dr).call(this,{hasSelectedEditor:!0})}isSelected(ge){return Ie(this,se).has(ge)}unselect(ge){ge.unselect(),Ie(this,se).delete(ge),ht(this,re,dr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ie(this,se).size!==0}undo(){Ie(this,_).undo(),ht(this,re,dr).call(this,{hasSomethingToUndo:Ie(this,_).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ht(this,re,Rs).call(this)})}redo(){Ie(this,_).redo(),ht(this,re,dr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ie(this,_).hasSomethingToRedo(),isEmpty:ht(this,re,Rs).call(this)})}addCommands(ge){Ie(this,_).add(ge),ht(this,re,dr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ht(this,re,Rs).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ge=[...Ie(this,se)],de=()=>{for(const ve of ge)ve.remove()},xe=()=>{for(const ve of ge)ht(this,re,al).call(this,ve)};this.addCommands({cmd:de,undo:xe,mustExec:!0})}commitOrRemove(){var ge;(ge=Ie(this,M))==null||ge.commitOrRemove()}selectAll(){for(const ge of Ie(this,se))ge.commit();ht(this,re,ol).call(this,Ie(this,R).values())}unselectAll(){if(Ie(this,M)){Ie(this,M).commitOrRemove();return}if(Ie(this,se).size!==0){for(const ge of Ie(this,se))ge.unselect();Ie(this,se).clear(),ht(this,re,dr).call(this,{hasSelectedEditor:!1})}}isActive(ge){return Ie(this,M)===ge}getActive(){return Ie(this,M)}getMode(){return Ie(this,j)}};M=new WeakMap,R=new WeakMap,I=new WeakMap,J=new WeakMap,_=new WeakMap,L=new WeakMap,K=new WeakMap,$=new WeakMap,D=new WeakMap,ne=new WeakMap,F=new WeakMap,j=new WeakMap,se=new WeakMap,Y=new WeakMap,q=new WeakMap,Q=new WeakMap,N=new WeakMap,O=new WeakMap,H=new WeakMap,G=new WeakMap,le=new WeakMap,fe=new WeakMap,ae=new WeakMap,re=new WeakSet,ju=function(){Ie(this,ae).addEventListener("keydown",Ie(this,N))},sl=function(){Ie(this,ae).removeEventListener("keydown",Ie(this,N))},Uu=function(){document.addEventListener("copy",Ie(this,Y)),document.addEventListener("cut",Ie(this,q)),document.addEventListener("paste",Ie(this,Q))},zu=function(){document.removeEventListener("copy",Ie(this,Y)),document.removeEventListener("cut",Ie(this,q)),document.removeEventListener("paste",Ie(this,Q))},dr=function(ge){Object.entries(ge).some(([xe,ve])=>Ie(this,fe)[xe]!==ve)&&Ie(this,D).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ie(this,fe),ge)})},Ms=function(ge){Ie(this,D).dispatch("annotationeditorparamschanged",{source:this,details:ge})},Hu=function(){if(!Ie(this,F)){Mt(this,F,!0);for(const ge of Ie(this,I).values())ge.enable()}},Vu=function(){if(this.unselectAll(),Ie(this,F)){Mt(this,F,!1);for(const ge of Ie(this,I).values())ge.disable()}},al=function(ge){const de=Ie(this,I).get(ge.pageIndex);de?de.addOrRebuild(ge):this.addEditor(ge)},Rs=function(){if(Ie(this,R).size===0)return!0;if(Ie(this,R).size===1)for(const ge of Ie(this,R).values())return ge.isEmpty();return!1},ol=function(ge){Ie(this,se).clear();for(const de of ge)de.isEmpty()||(Ie(this,se).add(de),de.select());ht(this,re,dr).call(this,{hasSelectedEditor:!0})},yn(pe,"_keyboardManager",new y([[["ctrl+a","mac+meta+a"],pe.prototype.selectAll],[["ctrl+z","mac+meta+z"],pe.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],pe.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],pe.prototype.delete],[["Escape","mac+Escape"],pe.prototype.unselectAll]]));let u=pe;e.AnnotationEditorUIManager=u},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=I,e.getColorValues=$,e.getCurrentTransform=D,e.getCurrentTransformInverse=ne,e.getFilenameFromUrl=g,e.getPdfFilenameFromUrl=E,e.getRGB=K,e.getXfaPageViewport=L,e.isDataScheme=k,e.isPdfFile=A,e.isValidFetchUrl=M,e.loadScript=R,e.setLayerDimensions=F;var c=l(7),f=l(1);const h="http://www.w3.org/2000/svg",p="pdfjs_internal_id_";e.AnnotationPrefix=p;const j=class j{};yn(j,"CSS",96),yn(j,"PDF",72),yn(j,"PDF_TO_CSS_UNITS",j.CSS/j.PDF);let d=j;e.PixelsPerInch=d;class m extends c.BaseCanvasFactory{constructor({ownerDocument:Y=globalThis.document}={}){super(),this._document=Y}_createCanvas(Y,q){const Q=this._document.createElement("canvas");return Q.width=Y,Q.height=q,Q}}e.DOMCanvasFactory=m;async function y(se,Y=!1){if(M(se,document.baseURI)){const q=await fetch(se);if(!q.ok)throw new Error(q.statusText);return Y?new Uint8Array(await q.arrayBuffer()):(0,f.stringToBytes)(await q.text())}return new Promise((q,Q)=>{const N=new XMLHttpRequest;N.open("GET",se,!0),Y&&(N.responseType="arraybuffer"),N.onreadystatechange=()=>{if(N.readyState===XMLHttpRequest.DONE){if(N.status===200||N.status===0){let O;if(Y&&N.response?O=new Uint8Array(N.response):!Y&&N.responseText&&(O=(0,f.stringToBytes)(N.responseText)),O){q(O);return}}Q(new Error(N.statusText))}},N.send(null)})}class x extends c.BaseCMapReaderFactory{_fetchData(Y,q){return y(Y,this.isCompressed).then(Q=>({cMapData:Q,compressionType:q}))}}e.DOMCMapReaderFactory=x;class u extends c.BaseStandardFontDataFactory{_fetchData(Y){return y(Y,!0)}}e.DOMStandardFontDataFactory=u;class w extends c.BaseSVGFactory{_createSVG(Y){return document.createElementNS(h,Y)}}e.DOMSVGFactory=w;class T{constructor({viewBox:Y,scale:q,rotation:Q,offsetX:N=0,offsetY:O=0,dontFlip:H=!1}){this.viewBox=Y,this.scale=q,this.rotation=Q,this.offsetX=N,this.offsetY=O;const G=(Y[2]+Y[0])/2,le=(Y[3]+Y[1])/2;let fe,ae,re,be;switch(Q%=360,Q<0&&(Q+=360),Q){case 180:fe=-1,ae=0,re=0,be=1;break;case 90:fe=0,ae=1,re=1,be=0;break;case 270:fe=0,ae=-1,re=-1,be=0;break;case 0:fe=1,ae=0,re=0,be=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}H&&(re=-re,be=-be);let ye,Ce,me,ee;fe===0?(ye=Math.abs(le-Y[1])*q+N,Ce=Math.abs(G-Y[0])*q+O,me=(Y[3]-Y[1])*q,ee=(Y[2]-Y[0])*q):(ye=Math.abs(G-Y[0])*q+N,Ce=Math.abs(le-Y[1])*q+O,me=(Y[2]-Y[0])*q,ee=(Y[3]-Y[1])*q),this.transform=[fe*q,ae*q,re*q,be*q,ye-fe*q*G-re*q*le,Ce-ae*q*G-be*q*le],this.width=me,this.height=ee}get rawDims(){const{viewBox:Y}=this;return(0,f.shadow)(this,"rawDims",{pageWidth:Y[2]-Y[0],pageHeight:Y[3]-Y[1],pageX:Y[0],pageY:Y[1]})}clone({scale:Y=this.scale,rotation:q=this.rotation,offsetX:Q=this.offsetX,offsetY:N=this.offsetY,dontFlip:O=!1}={}){return new T({viewBox:this.viewBox.slice(),scale:Y,rotation:q,offsetX:Q,offsetY:N,dontFlip:O})}convertToViewportPoint(Y,q){return f.Util.applyTransform([Y,q],this.transform)}convertToViewportRectangle(Y){const q=f.Util.applyTransform([Y[0],Y[1]],this.transform),Q=f.Util.applyTransform([Y[2],Y[3]],this.transform);return[q[0],q[1],Q[0],Q[1]]}convertToPdfPoint(Y,q){return f.Util.applyInverseTransform([Y,q],this.transform)}}e.PageViewport=T;class C extends f.BaseException{constructor(Y,q,Q=0){super(Y,"RenderingCancelledException"),this.type=q,this.extraDelay=Q}}e.RenderingCancelledException=C;function k(se){const Y=se.length;let q=0;for(;q<Y&&se[q].trim()==="";)q++;return se.substring(q,q+5).toLowerCase()==="data:"}function A(se){return typeof se=="string"&&/\.pdf$/i.test(se)}function g(se,Y=!1){return Y||([se]=se.split(/[#?]/,1)),se.substring(se.lastIndexOf("/")+1)}function E(se,Y="document.pdf"){if(typeof se!="string")return Y;if(k(se))return(0,f.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const q=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,N=q.exec(se);let O=Q.exec(N[1])||Q.exec(N[2])||Q.exec(N[3]);if(O&&(O=O[0],O.includes("%")))try{O=Q.exec(decodeURIComponent(O))[0]}catch{}return O||Y}class v{constructor(){yn(this,"started",Object.create(null));yn(this,"times",[])}time(Y){Y in this.started&&(0,f.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,f.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let q=0;for(const{name:Q}of this.times)q=Math.max(Q.length,q);for(const{name:Q,start:N,end:O}of this.times)Y.push(`${Q.padEnd(q)} ${O-N}ms
`);return Y.join("")}}e.StatTimer=v;function M(se,Y){try{const{protocol:q}=Y?new URL(se,Y):new URL(se);return q==="http:"||q==="https:"}catch{return!1}}function R(se,Y=!1){return new Promise((q,Q)=>{const N=document.createElement("script");N.src=se,N.onload=function(O){Y&&N.remove(),q(O)},N.onerror=function(){Q(new Error(`Cannot load script at: ${N.src}`))},(document.head||document.documentElement).append(N)})}function I(se){console.log("Deprecated API usage: "+se)}let J;class _{static toDateObject(Y){if(!Y||typeof Y!="string")return null;J||(J=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const q=J.exec(Y);if(!q)return null;const Q=parseInt(q[1],10);let N=parseInt(q[2],10);N=N>=1&&N<=12?N-1:0;let O=parseInt(q[3],10);O=O>=1&&O<=31?O:1;let H=parseInt(q[4],10);H=H>=0&&H<=23?H:0;let G=parseInt(q[5],10);G=G>=0&&G<=59?G:0;let le=parseInt(q[6],10);le=le>=0&&le<=59?le:0;const fe=q[7]||"Z";let ae=parseInt(q[8],10);ae=ae>=0&&ae<=23?ae:0;let re=parseInt(q[9],10)||0;return re=re>=0&&re<=59?re:0,fe==="-"?(H+=ae,G+=re):fe==="+"&&(H-=ae,G-=re),new Date(Date.UTC(Q,N,O,H,G,le))}}e.PDFDateString=_;function L(se,{scale:Y=1,rotation:q=0}){const{width:Q,height:N}=se.attributes.style,O=[0,0,parseInt(Q),parseInt(N)];return new T({viewBox:O,scale:Y,rotation:q})}function K(se){if(se.startsWith("#")){const Y=parseInt(se.slice(1),16);return[(Y&16711680)>>16,(Y&65280)>>8,Y&255]}return se.startsWith("rgb(")?se.slice(4,-1).split(",").map(Y=>parseInt(Y)):se.startsWith("rgba(")?se.slice(5,-1).split(",").map(Y=>parseInt(Y)).slice(0,3):((0,f.warn)(`Not a valid color format: "${se}"`),[0,0,0])}function $(se){const Y=document.createElement("span");Y.style.visibility="hidden",document.body.append(Y);for(const q of se.keys()){Y.style.color=q;const Q=window.getComputedStyle(Y).color;se.set(q,K(Q))}Y.remove()}function D(se){const{a:Y,b:q,c:Q,d:N,e:O,f:H}=se.getTransform();return[Y,q,Q,N,O,H]}function ne(se){const{a:Y,b:q,c:Q,d:N,e:O,f:H}=se.getTransform().invertSelf();return[Y,q,Q,N,O,H]}function F(se,Y,q=!1,Q=!0){if(Y instanceof T){const{pageWidth:N,pageHeight:O}=Y.rawDims,{style:H}=se,G=`calc(var(--scale-factor) * ${N}px)`,le=`calc(var(--scale-factor) * ${O}px)`;!q||Y.rotation%180===0?(H.width=G,H.height=le):(H.width=le,H.height=G)}Q&&se.setAttribute("data-main-rotation",Y.rotation)}},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var c=l(1);class f{constructor(){this.constructor===f&&(0,c.unreachable)("Cannot initialize BaseCanvasFactory.")}create(y,x){if(y<=0||x<=0)throw new Error("Invalid canvas size");const u=this._createCanvas(y,x);return{canvas:u,context:u.getContext("2d")}}reset(y,x,u){if(!y.canvas)throw new Error("Canvas is not specified");if(x<=0||u<=0)throw new Error("Invalid canvas size");y.canvas.width=x,y.canvas.height=u}destroy(y){if(!y.canvas)throw new Error("Canvas is not specified");y.canvas.width=0,y.canvas.height=0,y.canvas=null,y.context=null}_createCanvas(y,x){(0,c.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=f;class h{constructor({baseUrl:y=null,isCompressed:x=!0}){this.constructor===h&&(0,c.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=y,this.isCompressed=x}async fetch({name:y}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!y)throw new Error("CMap name must be specified.");const x=this.baseUrl+y+(this.isCompressed?".bcmap":""),u=this.isCompressed?c.CMapCompressionType.BINARY:c.CMapCompressionType.NONE;return this._fetchData(x,u).catch(w=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${x}`)})}_fetchData(y,x){(0,c.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=h;class p{constructor({baseUrl:y=null}){this.constructor===p&&(0,c.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=y}async fetch({filename:y}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!y)throw new Error("Font filename must be specified.");const x=`${this.baseUrl}${y}`;return this._fetchData(x).catch(u=>{throw new Error(`Unable to load font data at: ${x}`)})}_fetchData(y){(0,c.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=p;class d{constructor(){this.constructor===d&&(0,c.unreachable)("Cannot initialize BaseSVGFactory.")}create(y,x,u=!1){if(y<=0||x<=0)throw new Error("Invalid SVG dimensions");const w=this._createSVG("svg:svg");return w.setAttribute("version","1.1"),u||(w.setAttribute("width",`${y}px`),w.setAttribute("height",`${x}px`)),w.setAttribute("preserveAspectRatio","none"),w.setAttribute("viewBox",`0 0 ${y} ${x}`),w}createElement(y){if(typeof y!="string")throw new Error("Invalid SVG element type");return this._createSVG(y)}_createSVG(y){(0,c.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=d},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var c=l(1);const f=3285377520,h=4294901760,p=65535;class d{constructor(y){this.h1=y?y&4294967295:f,this.h2=y?y&4294967295:f}update(y){let x,u;if(typeof y=="string"){x=new Uint8Array(y.length*2),u=0;for(let J=0,_=y.length;J<_;J++){const L=y.charCodeAt(J);L<=255?x[u++]=L:(x[u++]=L>>>8,x[u++]=L&255)}}else if((0,c.isArrayBuffer)(y))x=y.slice(),u=x.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const w=u>>2,T=u-w*4,C=new Uint32Array(x.buffer,0,w);let k=0,A=0,g=this.h1,E=this.h2;const v=3432918353,M=461845907,R=v&p,I=M&p;for(let J=0;J<w;J++)J&1?(k=C[J],k=k*v&h|k*R&p,k=k<<15|k>>>17,k=k*M&h|k*I&p,g^=k,g=g<<13|g>>>19,g=g*5+3864292196):(A=C[J],A=A*v&h|A*R&p,A=A<<15|A>>>17,A=A*M&h|A*I&p,E^=A,E=E<<13|E>>>19,E=E*5+3864292196);switch(k=0,T){case 3:k^=x[w*4+2]<<16;case 2:k^=x[w*4+1]<<8;case 1:k^=x[w*4],k=k*v&h|k*R&p,k=k<<15|k>>>17,k=k*M&h|k*I&p,w&1?g^=k:E^=k}this.h1=g,this.h2=E}hexdigest(){let y=this.h1,x=this.h2;return y^=x>>>1,y=y*3981806797&h|y*36045&p,x=x*4283543511&h|((x<<16|y>>>16)*2950163797&h)>>>16,y^=x>>>1,y=y*444984403&h|y*60499&p,x=x*3301882366&h|((x<<16|y>>>16)*3120437893&h)>>>16,y^=x>>>1,(y>>>0).toString(16).padStart(8,"0")+(x>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=d},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var c=l(1),f=l(10);class h{constructor({onUnsupportedFeature:m,ownerDocument:y=globalThis.document,styleElement:x=null}){this._onUnsupportedFeature=m,this._document=y,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(m){this.nativeFontFaces.push(m),this._document.fonts.add(m)}insertRule(m){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const y=this.styleElement.sheet;y.insertRule(m,y.cssRules.length)}clear(){for(const m of this.nativeFontFaces)this._document.fonts.delete(m);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(m){if(m.attached||m.missingFile)return;if(m.attached=!0,this.isFontLoadingAPISupported){const x=m.createNativeFontFace();if(x){this.addNativeFontFace(x);try{await x.loaded}catch(u){throw this._onUnsupportedFeature({featureId:c.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,c.warn)(`Failed to load font '${x.family}': '${u}'.`),m.disableFontFace=!0,u}}return}const y=m.createFontFaceRule();if(y){if(this.insertRule(y),this.isSyncFontLoadingSupported)return;await new Promise(x=>{const u=this._queueLoadingCallback(x);this._prepareFontLoadEvent(m,u)})}}get isFontLoadingAPISupported(){var y;const m=!!((y=this._document)!=null&&y.fonts);return(0,c.shadow)(this,"isFontLoadingAPISupported",m)}get isSyncFontLoadingSupported(){let m=!1;return(f.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(m=!0),(0,c.shadow)(this,"isSyncFontLoadingSupported",m)}_queueLoadingCallback(m){function y(){for((0,c.assert)(!u.done,"completeRequest() cannot be called twice."),u.done=!0;x.length>0&&x[0].done;){const w=x.shift();setTimeout(w.callback,0)}}const{loadingRequests:x}=this,u={done:!1,complete:y,callback:m};return x.push(u),u}get _loadTestFont(){const m=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,c.shadow)(this,"_loadTestFont",m)}_prepareFontLoadEvent(m,y){function x($,D){return $.charCodeAt(D)<<24|$.charCodeAt(D+1)<<16|$.charCodeAt(D+2)<<8|$.charCodeAt(D+3)&255}function u($,D,ne,F){const j=$.substring(0,D),se=$.substring(D+ne);return j+F+se}let w,T;const C=this._document.createElement("canvas");C.width=1,C.height=1;const k=C.getContext("2d");let A=0;function g($,D){if(++A>30){(0,c.warn)("Load test font never loaded."),D();return}if(k.font="30px "+$,k.fillText(".",0,20),k.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(g.bind(null,$,D))}const E=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=u(v,976,E.length,E);const R=16,I=1482184792;let J=x(v,R);for(w=0,T=E.length-3;w<T;w+=4)J=J-I+x(E,w)|0;w<E.length&&(J=J-I+x(E+"XXX",w)|0),v=u(v,R,4,(0,c.string32)(J));const _=`url(data:font/opentype;base64,${btoa(v)});`,L=`@font-face {font-family:"${E}";src:${_}}`;this.insertRule(L);const K=this._document.createElement("div");K.style.visibility="hidden",K.style.width=K.style.height="10px",K.style.position="absolute",K.style.top=K.style.left="0px";for(const $ of[m.loadedName,E]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=$,K.append(D)}this._document.body.append(K),g(E,()=>{K.remove(),y.complete()})}}e.FontLoader=h;class p{constructor(m,{isEvalSupported:y=!0,disableFontFace:x=!1,ignoreErrors:u=!1,onUnsupportedFeature:w,fontRegistry:T=null}){this.compiledGlyphs=Object.create(null);for(const C in m)this[C]=m[C];this.isEvalSupported=y!==!1,this.disableFontFace=x===!0,this.ignoreErrors=u===!0,this._onUnsupportedFeature=w,this.fontRegistry=T}createNativeFontFace(){var y;if(!this.data||this.disableFontFace)return null;let m;if(!this.cssFontInfo)m=new FontFace(this.loadedName,this.data,{});else{const x={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(x.style=`oblique ${this.cssFontInfo.italicAngle}deg`),m=new FontFace(this.cssFontInfo.fontFamily,this.data,x)}return(y=this.fontRegistry)==null||y.registerFont(this),m}createFontFaceRule(){var u;if(!this.data||this.disableFontFace)return null;const m=(0,c.bytesToString)(this.data),y=`url(data:${this.mimetype};base64,${btoa(m)});`;let x;if(!this.cssFontInfo)x=`@font-face {font-family:"${this.loadedName}";src:${y}}`;else{let w=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(w+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),x=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${w}src:${y}}`}return(u=this.fontRegistry)==null||u.registerFont(this,y),x}getPathGenerator(m,y){if(this.compiledGlyphs[y]!==void 0)return this.compiledGlyphs[y];let x;try{x=m.get(this.loadedName+"_path_"+y)}catch(u){if(!this.ignoreErrors)throw u;return this._onUnsupportedFeature({featureId:c.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,c.warn)(`getPathGenerator - ignoring character: "${u}".`),this.compiledGlyphs[y]=function(w,T){}}if(this.isEvalSupported&&c.FeatureTest.isEvalSupported){const u=[];for(const w of x){const T=w.args!==void 0?w.args.join(","):"";u.push("c.",w.cmd,"(",T,`);
`)}return this.compiledGlyphs[y]=new Function("c","size",u.join(""))}return this.compiledGlyphs[y]=function(u,w){for(const T of x)T.cmd==="scale"&&(T.args=[w,-w]),u[T.cmd].apply(u,T.args)}}}e.FontFaceObject=p},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const l=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=l},(t,e,l)=>{var q,ll;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var c=l(1),f=l(6),h=l(12),p=l(13);const d=16,m=100,y=4096,x=15,u=10,w=1e3,T=16;function C(O,H){if(O._removeMirroring)throw new Error("Context is already forwarding operations.");O.__originalSave=O.save,O.__originalRestore=O.restore,O.__originalRotate=O.rotate,O.__originalScale=O.scale,O.__originalTranslate=O.translate,O.__originalTransform=O.transform,O.__originalSetTransform=O.setTransform,O.__originalResetTransform=O.resetTransform,O.__originalClip=O.clip,O.__originalMoveTo=O.moveTo,O.__originalLineTo=O.lineTo,O.__originalBezierCurveTo=O.bezierCurveTo,O.__originalRect=O.rect,O.__originalClosePath=O.closePath,O.__originalBeginPath=O.beginPath,O._removeMirroring=()=>{O.save=O.__originalSave,O.restore=O.__originalRestore,O.rotate=O.__originalRotate,O.scale=O.__originalScale,O.translate=O.__originalTranslate,O.transform=O.__originalTransform,O.setTransform=O.__originalSetTransform,O.resetTransform=O.__originalResetTransform,O.clip=O.__originalClip,O.moveTo=O.__originalMoveTo,O.lineTo=O.__originalLineTo,O.bezierCurveTo=O.__originalBezierCurveTo,O.rect=O.__originalRect,O.closePath=O.__originalClosePath,O.beginPath=O.__originalBeginPath,delete O._removeMirroring},O.save=function(){H.save(),this.__originalSave()},O.restore=function(){H.restore(),this.__originalRestore()},O.translate=function(le,fe){H.translate(le,fe),this.__originalTranslate(le,fe)},O.scale=function(le,fe){H.scale(le,fe),this.__originalScale(le,fe)},O.transform=function(le,fe,ae,re,be,ye){H.transform(le,fe,ae,re,be,ye),this.__originalTransform(le,fe,ae,re,be,ye)},O.setTransform=function(le,fe,ae,re,be,ye){H.setTransform(le,fe,ae,re,be,ye),this.__originalSetTransform(le,fe,ae,re,be,ye)},O.resetTransform=function(){H.resetTransform(),this.__originalResetTransform()},O.rotate=function(le){H.rotate(le),this.__originalRotate(le)},O.clip=function(le){H.clip(le),this.__originalClip(le)},O.moveTo=function(G,le){H.moveTo(G,le),this.__originalMoveTo(G,le)},O.lineTo=function(G,le){H.lineTo(G,le),this.__originalLineTo(G,le)},O.bezierCurveTo=function(G,le,fe,ae,re,be){H.bezierCurveTo(G,le,fe,ae,re,be),this.__originalBezierCurveTo(G,le,fe,ae,re,be)},O.rect=function(G,le,fe,ae){H.rect(G,le,fe,ae),this.__originalRect(G,le,fe,ae)},O.closePath=function(){H.closePath(),this.__originalClosePath()},O.beginPath=function(){H.beginPath(),this.__originalBeginPath()}}class k{constructor(H){this.canvasFactory=H,this.cache=Object.create(null)}getCanvas(H,G,le){let fe;return this.cache[H]!==void 0?(fe=this.cache[H],this.canvasFactory.reset(fe,G,le)):(fe=this.canvasFactory.create(G,le),this.cache[H]=fe),fe}delete(H){delete this.cache[H]}clear(){for(const H in this.cache){const G=this.cache[H];this.canvasFactory.destroy(G),delete this.cache[H]}}}function A(O,H,G,le,fe,ae,re,be,ye,Ce){const[me,ee,te,oe,V,W]=(0,f.getCurrentTransform)(O);if(ee===0&&te===0){const pe=re*me+V,Se=Math.round(pe),ge=be*oe+W,de=Math.round(ge),xe=(re+ye)*me+V,ve=Math.abs(Math.round(xe)-Se)||1,Ee=(be+Ce)*oe+W,Te=Math.abs(Math.round(Ee)-de)||1;return O.setTransform(Math.sign(me),0,0,Math.sign(oe),Se,de),O.drawImage(H,G,le,fe,ae,0,0,ve,Te),O.setTransform(me,ee,te,oe,V,W),[ve,Te]}if(me===0&&oe===0){const pe=be*te+V,Se=Math.round(pe),ge=re*ee+W,de=Math.round(ge),xe=(be+Ce)*te+V,ve=Math.abs(Math.round(xe)-Se)||1,Ee=(re+ye)*ee+W,Te=Math.abs(Math.round(Ee)-de)||1;return O.setTransform(0,Math.sign(ee),Math.sign(te),0,Se,de),O.drawImage(H,G,le,fe,ae,0,0,Te,ve),O.setTransform(me,ee,te,oe,V,W),[Te,ve]}O.drawImage(H,G,le,fe,ae,re,be,ye,Ce);const ue=Math.hypot(me,ee),he=Math.hypot(te,oe);return[ue*ye,he*Ce]}function g(O){const{width:H,height:G}=O;if(H>w||G>w)return null;const le=1e3,fe=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ae=H+1;let re=new Uint8Array(ae*(G+1)),be,ye,Ce;const me=H+7&-8;let ee=new Uint8Array(me*G),te=0;for(const he of O.data){let pe=128;for(;pe>0;)ee[te++]=he&pe?0:255,pe>>=1}let oe=0;for(te=0,ee[te]!==0&&(re[0]=1,++oe),ye=1;ye<H;ye++)ee[te]!==ee[te+1]&&(re[ye]=ee[te]?2:1,++oe),te++;for(ee[te]!==0&&(re[ye]=2,++oe),be=1;be<G;be++){te=be*me,Ce=be*ae,ee[te-me]!==ee[te]&&(re[Ce]=ee[te]?1:8,++oe);let he=(ee[te]?4:0)+(ee[te-me]?8:0);for(ye=1;ye<H;ye++)he=(he>>2)+(ee[te+1]?4:0)+(ee[te-me+1]?8:0),fe[he]&&(re[Ce+ye]=fe[he],++oe),te++;if(ee[te-me]!==ee[te]&&(re[Ce+ye]=ee[te]?2:4,++oe),oe>le)return null}for(te=me*(G-1),Ce=be*ae,ee[te]!==0&&(re[Ce]=8,++oe),ye=1;ye<H;ye++)ee[te]!==ee[te+1]&&(re[Ce+ye]=ee[te]?4:8,++oe),te++;if(ee[te]!==0&&(re[Ce+ye]=4,++oe),oe>le)return null;const V=new Int32Array([0,ae,-1,0,-ae,0,0,0,1]),W=new Path2D;for(be=0;oe&&be<=G;be++){let he=be*ae;const pe=he+H;for(;he<pe&&!re[he];)he++;if(he===pe)continue;W.moveTo(he%ae,be);const Se=he;let ge=re[he];do{const de=V[ge];do he+=de;while(!re[he]);const xe=re[he];xe!==5&&xe!==10?(ge=xe,re[he]=0):(ge=xe&51*ge>>4,re[he]&=ge>>2|ge<<2),W.lineTo(he%ae,he/ae|0),re[he]||--oe}while(Se!==he);--be}return ee=null,re=null,function(he){he.save(),he.scale(1/H,-1/G),he.translate(0,-G),he.fill(W),he.beginPath(),he.restore()}}class E{constructor(H,G){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=c.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,H,G])}clone(){const H=Object.create(this);return H.clipBox=this.clipBox.slice(),H}setCurrentPoint(H,G){this.x=H,this.y=G}updatePathMinMax(H,G,le){[G,le]=c.Util.applyTransform([G,le],H),this.minX=Math.min(this.minX,G),this.minY=Math.min(this.minY,le),this.maxX=Math.max(this.maxX,G),this.maxY=Math.max(this.maxY,le)}updateRectMinMax(H,G){const le=c.Util.applyTransform(G,H),fe=c.Util.applyTransform(G.slice(2),H);this.minX=Math.min(this.minX,le[0],fe[0]),this.minY=Math.min(this.minY,le[1],fe[1]),this.maxX=Math.max(this.maxX,le[0],fe[0]),this.maxY=Math.max(this.maxY,le[1],fe[1])}updateScalingPathMinMax(H,G){c.Util.scaleMinMax(H,G),this.minX=Math.min(this.minX,G[0]),this.maxX=Math.max(this.maxX,G[1]),this.minY=Math.min(this.minY,G[2]),this.maxY=Math.max(this.maxY,G[3])}updateCurvePathMinMax(H,G,le,fe,ae,re,be,ye,Ce,me){const ee=c.Util.bezierBoundingBox(G,le,fe,ae,re,be,ye,Ce);if(me){me[0]=Math.min(me[0],ee[0],ee[2]),me[1]=Math.max(me[1],ee[0],ee[2]),me[2]=Math.min(me[2],ee[1],ee[3]),me[3]=Math.max(me[3],ee[1],ee[3]);return}this.updateRectMinMax(H,ee)}getPathBoundingBox(H=h.PathType.FILL,G=null){const le=[this.minX,this.minY,this.maxX,this.maxY];if(H===h.PathType.STROKE){G||(0,c.unreachable)("Stroke bounding box must include transform.");const fe=c.Util.singularValueDecompose2dScale(G),ae=fe[0]*this.lineWidth/2,re=fe[1]*this.lineWidth/2;le[0]-=ae,le[1]-=re,le[2]+=ae,le[3]+=re}return le}updateClipFromPath(){const H=c.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(H||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(H){this.clipBox=H,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(H=h.PathType.FILL,G=null){return c.Util.intersect(this.clipBox,this.getPathBoundingBox(H,G))}}function v(O,H,G=null){if(typeof ImageData<"u"&&H instanceof ImageData){O.putImageData(H,0,0);return}const le=H.height,fe=H.width,ae=le%T,re=(le-ae)/T,be=ae===0?re:re+1,ye=O.createImageData(fe,T);let Ce=0,me;const ee=H.data,te=ye.data;let oe,V,W,ue,he,pe,Se,ge;if(G)switch(G.length){case 1:he=G[0],pe=G[0],Se=G[0],ge=G[0];break;case 4:he=G[0],pe=G[1],Se=G[2],ge=G[3];break}if(H.kind===c.ImageKind.GRAYSCALE_1BPP){const de=ee.byteLength,xe=new Uint32Array(te.buffer,0,te.byteLength>>2),ve=xe.length,Ee=fe+7>>3;let Te=4294967295,_e=c.FeatureTest.isLittleEndian?4278190080:255;for(ge&&ge[0]===255&&ge[255]===0&&([Te,_e]=[_e,Te]),oe=0;oe<be;oe++){for(W=oe<re?T:ae,me=0,V=0;V<W;V++){const Oe=de-Ce;let Pe=0;const je=Oe>Ee?fe:Oe*8-7,De=je&-8;let Me=0,Fe=0;for(;Pe<De;Pe+=8)Fe=ee[Ce++],xe[me++]=Fe&128?Te:_e,xe[me++]=Fe&64?Te:_e,xe[me++]=Fe&32?Te:_e,xe[me++]=Fe&16?Te:_e,xe[me++]=Fe&8?Te:_e,xe[me++]=Fe&4?Te:_e,xe[me++]=Fe&2?Te:_e,xe[me++]=Fe&1?Te:_e;for(;Pe<je;Pe++)Me===0&&(Fe=ee[Ce++],Me=128),xe[me++]=Fe&Me?Te:_e,Me>>=1}for(;me<ve;)xe[me++]=0;O.putImageData(ye,0,oe*T)}}else if(H.kind===c.ImageKind.RGBA_32BPP){const de=!!(he||pe||Se);for(V=0,ue=fe*T*4,oe=0;oe<re;oe++){if(te.set(ee.subarray(Ce,Ce+ue)),Ce+=ue,de)for(let xe=0;xe<ue;xe+=4)he&&(te[xe+0]=he[te[xe+0]]),pe&&(te[xe+1]=pe[te[xe+1]]),Se&&(te[xe+2]=Se[te[xe+2]]);O.putImageData(ye,0,V),V+=T}if(oe<be){if(ue=fe*ae*4,te.set(ee.subarray(Ce,Ce+ue)),de)for(let xe=0;xe<ue;xe+=4)he&&(te[xe+0]=he[te[xe+0]]),pe&&(te[xe+1]=pe[te[xe+1]]),Se&&(te[xe+2]=Se[te[xe+2]]);O.putImageData(ye,0,V)}}else if(H.kind===c.ImageKind.RGB_24BPP){const de=!!(he||pe||Se);for(W=T,ue=fe*W,oe=0;oe<be;oe++){for(oe>=re&&(W=ae,ue=fe*W),me=0,V=ue;V--;)te[me++]=ee[Ce++],te[me++]=ee[Ce++],te[me++]=ee[Ce++],te[me++]=255;if(de)for(let xe=0;xe<me;xe+=4)he&&(te[xe+0]=he[te[xe+0]]),pe&&(te[xe+1]=pe[te[xe+1]]),Se&&(te[xe+2]=Se[te[xe+2]]);O.putImageData(ye,0,oe*T)}}else throw new Error(`bad image kind: ${H.kind}`)}function M(O,H){if(H.bitmap){O.drawImage(H.bitmap,0,0);return}const G=H.height,le=H.width,fe=G%T,ae=(G-fe)/T,re=fe===0?ae:ae+1,be=O.createImageData(le,T);let ye=0;const Ce=H.data,me=be.data;for(let ee=0;ee<re;ee++){const te=ee<ae?T:fe;({srcPos:ye}=(0,p.applyMaskImageData)({src:Ce,srcPos:ye,dest:me,width:le,height:te})),O.putImageData(be,0,ee*T)}}function R(O,H){const G=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const le of G)O[le]!==void 0&&(H[le]=O[le]);O.setLineDash!==void 0&&(H.setLineDash(O.getLineDash()),H.lineDashOffset=O.lineDashOffset)}function I(O,H){O.strokeStyle=O.fillStyle=H||"#000000",O.fillRule="nonzero",O.globalAlpha=1,O.lineWidth=1,O.lineCap="butt",O.lineJoin="miter",O.miterLimit=10,O.globalCompositeOperation="source-over",O.font="10px sans-serif",O.setLineDash!==void 0&&(O.setLineDash([]),O.lineDashOffset=0)}function J(O,H,G,le){const fe=O.length;for(let ae=3;ae<fe;ae+=4){const re=O[ae];if(re===0)O[ae-3]=H,O[ae-2]=G,O[ae-1]=le;else if(re<255){const be=255-re;O[ae-3]=O[ae-3]*re+H*be>>8,O[ae-2]=O[ae-2]*re+G*be>>8,O[ae-1]=O[ae-1]*re+le*be>>8}}}function _(O,H,G){const le=O.length,fe=1/255;for(let ae=3;ae<le;ae+=4){const re=G?G[O[ae]]:O[ae];H[ae]=H[ae]*re*fe|0}}function L(O,H,G){const le=O.length;for(let fe=3;fe<le;fe+=4){const ae=O[fe-3]*77+O[fe-2]*152+O[fe-1]*28;H[fe]=G?H[fe]*G[ae>>8]>>8:H[fe]*ae>>16}}function K(O,H,G,le,fe,ae,re,be,ye,Ce,me){const ee=!!ae,te=ee?ae[0]:0,oe=ee?ae[1]:0,V=ee?ae[2]:0;let W;fe==="Luminosity"?W=L:W=_;const he=Math.min(le,Math.ceil(1048576/G));for(let pe=0;pe<le;pe+=he){const Se=Math.min(he,le-pe),ge=O.getImageData(be-Ce,pe+(ye-me),G,Se),de=H.getImageData(be,pe+ye,G,Se);ee&&J(ge.data,te,oe,V),W(ge.data,de.data,re),H.putImageData(de,be,pe+ye)}}function $(O,H,G,le){const fe=le[0],ae=le[1],re=le[2]-fe,be=le[3]-ae;re===0||be===0||(K(H.context,G,re,be,H.subtype,H.backdrop,H.transferMap,fe,ae,H.offsetX,H.offsetY),O.save(),O.globalAlpha=1,O.globalCompositeOperation="source-over",O.setTransform(1,0,0,1,0,0),O.drawImage(G.canvas,0,0),O.restore())}function D(O,H){const G=c.Util.singularValueDecompose2dScale(O);G[0]=Math.fround(G[0]),G[1]=Math.fround(G[1]);const le=Math.fround((globalThis.devicePixelRatio||1)*f.PixelsPerInch.PDF_TO_CSS_UNITS);return H!==void 0?H:G[0]<=le||G[1]<=le}const ne=["butt","round","square"],F=["miter","round","bevel"],j={},se={},N=class N{constructor(H,G,le,fe,{optionalContentConfig:ae,markedContentStack:re=null},be,ye){xt(this,q);this.ctx=H,this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=G,this.objs=le,this.canvasFactory=fe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=re||[],this.optionalContentConfig=ae,this.cachedCanvases=new k(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=be,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(ye==null?void 0:ye.background)||null,this.foregroundColor=(ye==null?void 0:ye.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(H,G=null){return typeof H=="string"?H.startsWith("g_")?this.commonObjs.get(H):this.objs.get(H):G}beginDrawing({transform:H,viewport:G,transparency:le=!1,background:fe=null}){const ae=this.ctx.canvas.width,re=this.ctx.canvas.height,be=fe||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const ye=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Ce=this.backgroundColor=this.ctx.fillStyle;let me=!0,ee=be;if(this.ctx.fillStyle=be,ee=this.ctx.fillStyle,me=typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee),ye==="#000000"&&Ce==="#ffffff"||ye===Ce||!me)this.foregroundColor=this.backgroundColor=null;else{const[te,oe,V]=(0,f.getRGB)(ee),W=he=>(he/=255,he<=.03928?he/12.92:((he+.055)/1.055)**2.4),ue=Math.round(.2126*W(te)+.7152*W(oe)+.0722*W(V));this.selectColor=(he,pe,Se)=>{const ge=.2126*W(he)+.7152*W(pe)+.0722*W(Se);return Math.round(ge)===ue?Ce:ye}}}if(this.ctx.fillStyle=this.backgroundColor||be,this.ctx.fillRect(0,0,ae,re),this.ctx.restore(),le){const ye=this.cachedCanvases.getCanvas("transparent",ae,re);this.compositeCtx=this.ctx,this.transparentCanvas=ye.canvas,this.ctx=ye.context,this.ctx.save(),this.ctx.transform(...(0,f.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),I(this.ctx,this.foregroundColor),H&&(this.ctx.transform(...H),this.outputScaleX=H[0],this.outputScaleY=H[0]),this.ctx.transform(...G.transform),this.viewportScale=G.scale,this.baseTransform=(0,f.getCurrentTransform)(this.ctx)}executeOperatorList(H,G,le,fe){const ae=H.argsArray,re=H.fnArray;let be=G||0;const ye=ae.length;if(ye===be)return be;const Ce=ye-be>u&&typeof le=="function",me=Ce?Date.now()+x:0;let ee=0;const te=this.commonObjs,oe=this.objs;let V;for(;;){if(fe!==void 0&&be===fe.nextBreakPoint)return fe.breakIt(be,le),be;if(V=re[be],V!==c.OPS.dependency)this[V].apply(this,ae[be]);else for(const W of ae[be]){const ue=W.startsWith("g_")?te:oe;if(!ue.has(W))return ue.get(W,le),be}if(be++,be===ye)return be;if(Ce&&++ee>u){if(Date.now()>me)return le(),be;ee=0}}}endDrawing(){ht(this,q,ll).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const H of this._cachedBitmapsMap.values()){for(const G of H.values())typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement&&(G.width=G.height=0);H.clear()}this._cachedBitmapsMap.clear()}_scaleImage(H,G){const le=H.width,fe=H.height;let ae=Math.max(Math.hypot(G[0],G[1]),1),re=Math.max(Math.hypot(G[2],G[3]),1),be=le,ye=fe,Ce="prescale1",me,ee;for(;ae>2&&be>1||re>2&&ye>1;){let te=be,oe=ye;ae>2&&be>1&&(te=Math.ceil(be/2),ae/=be/te),re>2&&ye>1&&(oe=Math.ceil(ye/2),re/=ye/oe),me=this.cachedCanvases.getCanvas(Ce,te,oe),ee=me.context,ee.clearRect(0,0,te,oe),ee.drawImage(H,0,0,be,ye,0,0,te,oe),H=me.canvas,be=te,ye=oe,Ce=Ce==="prescale1"?"prescale2":"prescale1"}return{img:H,paintWidth:be,paintHeight:ye}}_createMaskCanvas(H){const G=this.ctx,{width:le,height:fe}=H,ae=this.current.fillColor,re=this.current.patternFill,be=(0,f.getCurrentTransform)(G);let ye,Ce,me,ee;if((H.bitmap||H.data)&&H.count>1){const ve=H.bitmap||H.data.buffer;Ce=JSON.stringify(re?be:[be.slice(0,4),ae]),ye=this._cachedBitmapsMap.get(ve),ye||(ye=new Map,this._cachedBitmapsMap.set(ve,ye));const Ee=ye.get(Ce);if(Ee&&!re){const Te=Math.round(Math.min(be[0],be[2])+be[4]),_e=Math.round(Math.min(be[1],be[3])+be[5]);return{canvas:Ee,offsetX:Te,offsetY:_e}}me=Ee}me||(ee=this.cachedCanvases.getCanvas("maskCanvas",le,fe),M(ee.context,H));let te=c.Util.transform(be,[1/le,0,0,-1/fe,0,0]);te=c.Util.transform(te,[1,0,0,1,0,-fe]);const oe=c.Util.applyTransform([0,0],te),V=c.Util.applyTransform([le,fe],te),W=c.Util.normalizeRect([oe[0],oe[1],V[0],V[1]]),ue=Math.round(W[2]-W[0])||1,he=Math.round(W[3]-W[1])||1,pe=this.cachedCanvases.getCanvas("fillCanvas",ue,he),Se=pe.context,ge=Math.min(oe[0],V[0]),de=Math.min(oe[1],V[1]);Se.translate(-ge,-de),Se.transform(...te),me||(me=this._scaleImage(ee.canvas,(0,f.getCurrentTransformInverse)(Se)),me=me.img,ye&&re&&ye.set(Ce,me)),Se.imageSmoothingEnabled=D((0,f.getCurrentTransform)(Se),H.interpolate),A(Se,me,0,0,me.width,me.height,0,0,le,fe),Se.globalCompositeOperation="source-in";const xe=c.Util.transform((0,f.getCurrentTransformInverse)(Se),[1,0,0,1,-ge,-de]);return Se.fillStyle=re?ae.getPattern(G,this,xe,h.PathType.FILL):ae,Se.fillRect(0,0,le,fe),ye&&!re&&(this.cachedCanvases.delete("fillCanvas"),ye.set(Ce,pe.canvas)),{canvas:pe.canvas,offsetX:Math.round(ge),offsetY:Math.round(de)}}setLineWidth(H){H!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=H,this.ctx.lineWidth=H}setLineCap(H){this.ctx.lineCap=ne[H]}setLineJoin(H){this.ctx.lineJoin=F[H]}setMiterLimit(H){this.ctx.miterLimit=H}setDash(H,G){const le=this.ctx;le.setLineDash!==void 0&&(le.setLineDash(H),le.lineDashOffset=G)}setRenderingIntent(H){}setFlatness(H){}setGState(H){for(const[G,le]of H)switch(G){case"LW":this.setLineWidth(le);break;case"LC":this.setLineCap(le);break;case"LJ":this.setLineJoin(le);break;case"ML":this.setMiterLimit(le);break;case"D":this.setDash(le[0],le[1]);break;case"RI":this.setRenderingIntent(le);break;case"FL":this.setFlatness(le);break;case"Font":this.setFont(le[0],le[1]);break;case"CA":this.current.strokeAlpha=le;break;case"ca":this.current.fillAlpha=le,this.ctx.globalAlpha=le;break;case"BM":this.ctx.globalCompositeOperation=le;break;case"SMask":this.current.activeSMask=le?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=le}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const H=this.inSMaskMode;this.current.activeSMask&&!H?this.beginSMaskMode():!this.current.activeSMask&&H&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const H=this.ctx.canvas.width,G=this.ctx.canvas.height,le="smaskGroupAt"+this.groupLevel,fe=this.cachedCanvases.getCanvas(le,H,G);this.suspendedCtx=this.ctx,this.ctx=fe.context;const ae=this.ctx;ae.setTransform(...(0,f.getCurrentTransform)(this.suspendedCtx)),R(this.suspendedCtx,ae),C(ae,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),R(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(H){if(!this.current.activeSMask)return;H?(H[0]=Math.floor(H[0]),H[1]=Math.floor(H[1]),H[2]=Math.ceil(H[2]),H[3]=Math.ceil(H[3])):H=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const G=this.current.activeSMask,le=this.suspendedCtx;$(le,G,this.ctx,H),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(R(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const H=this.current;this.stateStack.push(H),this.current=H.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),R(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(H,G,le,fe,ae,re){this.ctx.transform(H,G,le,fe,ae,re),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(H,G,le){const fe=this.ctx,ae=this.current;let re=ae.x,be=ae.y,ye,Ce;const me=(0,f.getCurrentTransform)(fe),ee=me[0]===0&&me[3]===0||me[1]===0&&me[2]===0,te=ee?le.slice(0):null;for(let oe=0,V=0,W=H.length;oe<W;oe++)switch(H[oe]|0){case c.OPS.rectangle:re=G[V++],be=G[V++];const ue=G[V++],he=G[V++],pe=re+ue,Se=be+he;fe.moveTo(re,be),ue===0||he===0?fe.lineTo(pe,Se):(fe.lineTo(pe,be),fe.lineTo(pe,Se),fe.lineTo(re,Se)),ee||ae.updateRectMinMax(me,[re,be,pe,Se]),fe.closePath();break;case c.OPS.moveTo:re=G[V++],be=G[V++],fe.moveTo(re,be),ee||ae.updatePathMinMax(me,re,be);break;case c.OPS.lineTo:re=G[V++],be=G[V++],fe.lineTo(re,be),ee||ae.updatePathMinMax(me,re,be);break;case c.OPS.curveTo:ye=re,Ce=be,re=G[V+4],be=G[V+5],fe.bezierCurveTo(G[V],G[V+1],G[V+2],G[V+3],re,be),ae.updateCurvePathMinMax(me,ye,Ce,G[V],G[V+1],G[V+2],G[V+3],re,be,te),V+=6;break;case c.OPS.curveTo2:ye=re,Ce=be,fe.bezierCurveTo(re,be,G[V],G[V+1],G[V+2],G[V+3]),ae.updateCurvePathMinMax(me,ye,Ce,re,be,G[V],G[V+1],G[V+2],G[V+3],te),re=G[V+2],be=G[V+3],V+=4;break;case c.OPS.curveTo3:ye=re,Ce=be,re=G[V+2],be=G[V+3],fe.bezierCurveTo(G[V],G[V+1],re,be,re,be),ae.updateCurvePathMinMax(me,ye,Ce,G[V],G[V+1],re,be,re,be,te),V+=4;break;case c.OPS.closePath:fe.closePath();break}ee&&ae.updateScalingPathMinMax(me,te),ae.setCurrentPoint(re,be)}closePath(){this.ctx.closePath()}stroke(H=!0){const G=this.ctx,le=this.current.strokeColor;G.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof le=="object"&&(le!=null&&le.getPattern)?(G.save(),G.strokeStyle=le.getPattern(G,this,(0,f.getCurrentTransformInverse)(G),h.PathType.STROKE),this.rescaleAndStroke(!1),G.restore()):this.rescaleAndStroke(!0)),H&&this.consumePath(this.current.getClippedPathBoundingBox()),G.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(H=!0){const G=this.ctx,le=this.current.fillColor,fe=this.current.patternFill;let ae=!1;fe&&(G.save(),G.fillStyle=le.getPattern(G,this,(0,f.getCurrentTransformInverse)(G),h.PathType.FILL),ae=!0);const re=this.current.getClippedPathBoundingBox();this.contentVisible&&re!==null&&(this.pendingEOFill?(G.fill("evenodd"),this.pendingEOFill=!1):G.fill()),ae&&G.restore(),H&&this.consumePath(re)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=j}eoClip(){this.pendingClip=se}beginText(){this.current.textMatrix=c.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const H=this.pendingTextPaths,G=this.ctx;if(H===void 0){G.beginPath();return}G.save(),G.beginPath();for(const le of H)G.setTransform(...le.transform),G.translate(le.x,le.y),le.addToPath(G,le.fontSize);G.restore(),G.clip(),G.beginPath(),delete this.pendingTextPaths}setCharSpacing(H){this.current.charSpacing=H}setWordSpacing(H){this.current.wordSpacing=H}setHScale(H){this.current.textHScale=H/100}setLeading(H){this.current.leading=-H}setFont(H,G){const le=this.commonObjs.get(H),fe=this.current;if(!le)throw new Error(`Can't find font for ${H}`);if(fe.fontMatrix=le.fontMatrix||c.FONT_IDENTITY_MATRIX,(fe.fontMatrix[0]===0||fe.fontMatrix[3]===0)&&(0,c.warn)("Invalid font matrix for font "+H),G<0?(G=-G,fe.fontDirection=-1):fe.fontDirection=1,this.current.font=le,this.current.fontSize=G,le.isType3Font)return;const ae=le.loadedName||"sans-serif";let re="normal";le.black?re="900":le.bold&&(re="bold");const be=le.italic?"italic":"normal",ye=`"${ae}", ${le.fallbackName}`;let Ce=G;G<d?Ce=d:G>m&&(Ce=m),this.current.fontSizeScale=G/Ce,this.ctx.font=`${be} ${re} ${Ce}px ${ye}`}setTextRenderingMode(H){this.current.textRenderingMode=H}setTextRise(H){this.current.textRise=H}moveText(H,G){this.current.x=this.current.lineX+=H,this.current.y=this.current.lineY+=G}setLeadingMoveText(H,G){this.setLeading(-G),this.moveText(H,G)}setTextMatrix(H,G,le,fe,ae,re){this.current.textMatrix=[H,G,le,fe,ae,re],this.current.textMatrixScale=Math.hypot(H,G),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(H,G,le,fe){const ae=this.ctx,re=this.current,be=re.font,ye=re.textRenderingMode,Ce=re.fontSize/re.fontSizeScale,me=ye&c.TextRenderingMode.FILL_STROKE_MASK,ee=!!(ye&c.TextRenderingMode.ADD_TO_PATH_FLAG),te=re.patternFill&&!be.missingFile;let oe;(be.disableFontFace||ee||te)&&(oe=be.getPathGenerator(this.commonObjs,H)),be.disableFontFace||te?(ae.save(),ae.translate(G,le),ae.beginPath(),oe(ae,Ce),fe&&ae.setTransform(...fe),(me===c.TextRenderingMode.FILL||me===c.TextRenderingMode.FILL_STROKE)&&ae.fill(),(me===c.TextRenderingMode.STROKE||me===c.TextRenderingMode.FILL_STROKE)&&ae.stroke(),ae.restore()):((me===c.TextRenderingMode.FILL||me===c.TextRenderingMode.FILL_STROKE)&&ae.fillText(H,G,le),(me===c.TextRenderingMode.STROKE||me===c.TextRenderingMode.FILL_STROKE)&&ae.strokeText(H,G,le)),ee&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,f.getCurrentTransform)(ae),x:G,y:le,fontSize:Ce,addToPath:oe})}get isFontSubpixelAAEnabled(){const{context:H}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);H.scale(1.5,1),H.fillText("I",0,10);const G=H.getImageData(0,0,10,10).data;let le=!1;for(let fe=3;fe<G.length;fe+=4)if(G[fe]>0&&G[fe]<255){le=!0;break}return(0,c.shadow)(this,"isFontSubpixelAAEnabled",le)}showText(H){const G=this.current,le=G.font;if(le.isType3Font)return this.showType3Text(H);const fe=G.fontSize;if(fe===0)return;const ae=this.ctx,re=G.fontSizeScale,be=G.charSpacing,ye=G.wordSpacing,Ce=G.fontDirection,me=G.textHScale*Ce,ee=H.length,te=le.vertical,oe=te?1:-1,V=le.defaultVMetrics,W=fe*G.fontMatrix[0],ue=G.textRenderingMode===c.TextRenderingMode.FILL&&!le.disableFontFace&&!G.patternFill;ae.save(),ae.transform(...G.textMatrix),ae.translate(G.x,G.y+G.textRise),Ce>0?ae.scale(me,-1):ae.scale(me,1);let he;if(G.patternFill){ae.save();const xe=G.fillColor.getPattern(ae,this,(0,f.getCurrentTransformInverse)(ae),h.PathType.FILL);he=(0,f.getCurrentTransform)(ae),ae.restore(),ae.fillStyle=xe}let pe=G.lineWidth;const Se=G.textMatrixScale;if(Se===0||pe===0){const xe=G.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;(xe===c.TextRenderingMode.STROKE||xe===c.TextRenderingMode.FILL_STROKE)&&(pe=this.getSinglePixelWidth())}else pe/=Se;if(re!==1&&(ae.scale(re,re),pe/=re),ae.lineWidth=pe,le.isInvalidPDFjsFont){const xe=[];let ve=0;for(const Ee of H)xe.push(Ee.unicode),ve+=Ee.width;ae.fillText(xe.join(""),0,0),G.x+=ve*W*me,ae.restore(),this.compose();return}let ge=0,de;for(de=0;de<ee;++de){const xe=H[de];if(typeof xe=="number"){ge+=oe*xe*fe/1e3;continue}let ve=!1;const Ee=(xe.isSpace?ye:0)+be,Te=xe.fontChar,_e=xe.accent;let Oe,Pe,je=xe.width;if(te){const Me=xe.vmetric||V,Fe=-(xe.vmetric?Me[1]:je*.5)*W,$e=Me[2]*W;je=Me?-Me[0]:je,Oe=Fe/re,Pe=(ge+$e)/re}else Oe=ge/re,Pe=0;if(le.remeasure&&je>0){const Me=ae.measureText(Te).width*1e3/fe*re;if(je<Me&&this.isFontSubpixelAAEnabled){const Fe=je/Me;ve=!0,ae.save(),ae.scale(Fe,1),Oe/=Fe}else je!==Me&&(Oe+=(je-Me)/2e3*fe/re)}if(this.contentVisible&&(xe.isInFont||le.missingFile)){if(ue&&!_e)ae.fillText(Te,Oe,Pe);else if(this.paintChar(Te,Oe,Pe,he),_e){const Me=Oe+fe*_e.offset.x/re,Fe=Pe-fe*_e.offset.y/re;this.paintChar(_e.fontChar,Me,Fe,he)}}let De;te?De=je*W-Ee*Ce:De=je*W+Ee*Ce,ge+=De,ve&&ae.restore()}te?G.y-=ge:G.x+=ge*me,ae.restore(),this.compose()}showType3Text(H){const G=this.ctx,le=this.current,fe=le.font,ae=le.fontSize,re=le.fontDirection,be=fe.vertical?1:-1,ye=le.charSpacing,Ce=le.wordSpacing,me=le.textHScale*re,ee=le.fontMatrix||c.FONT_IDENTITY_MATRIX,te=H.length,oe=le.textRenderingMode===c.TextRenderingMode.INVISIBLE;let V,W,ue,he;if(!(oe||ae===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,G.save(),G.transform(...le.textMatrix),G.translate(le.x,le.y),G.scale(me,re),V=0;V<te;++V){if(W=H[V],typeof W=="number"){he=be*W*ae/1e3,this.ctx.translate(he,0),le.x+=he*me;continue}const pe=(W.isSpace?Ce:0)+ye,Se=fe.charProcOperatorList[W.operatorListId];if(!Se){(0,c.warn)(`Type3 character "${W.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=W,this.save(),G.scale(ae,ae),G.transform(...ee),this.executeOperatorList(Se),this.restore()),ue=c.Util.applyTransform([W.width,0],ee)[0]*ae+pe,G.translate(ue,0),le.x+=ue*me}G.restore(),this.processingType3=null}}setCharWidth(H,G){}setCharWidthAndBounds(H,G,le,fe,ae,re){this.ctx.rect(le,fe,ae-le,re-fe),this.ctx.clip(),this.endPath()}getColorN_Pattern(H){let G;if(H[0]==="TilingPattern"){const le=H[1],fe=this.baseTransform||(0,f.getCurrentTransform)(this.ctx),ae={createCanvasGraphics:re=>new N(re,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};G=new h.TilingPattern(H,le,this.ctx,ae,fe)}else G=this._getPattern(H[1],H[2]);return G}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(H,G,le){var ae;const fe=((ae=this.selectColor)==null?void 0:ae.call(this,H,G,le))||c.Util.makeHexColor(H,G,le);this.ctx.strokeStyle=fe,this.current.strokeColor=fe}setFillRGBColor(H,G,le){var ae;const fe=((ae=this.selectColor)==null?void 0:ae.call(this,H,G,le))||c.Util.makeHexColor(H,G,le);this.ctx.fillStyle=fe,this.current.fillColor=fe,this.current.patternFill=!1}_getPattern(H,G=null){let le;return this.cachedPatterns.has(H)?le=this.cachedPatterns.get(H):(le=(0,h.getShadingPattern)(this.objs.get(H)),this.cachedPatterns.set(H,le)),G&&(le.matrix=G),le}shadingFill(H){if(!this.contentVisible)return;const G=this.ctx;this.save();const le=this._getPattern(H);G.fillStyle=le.getPattern(G,this,(0,f.getCurrentTransformInverse)(G),h.PathType.SHADING);const fe=(0,f.getCurrentTransformInverse)(G);if(fe){const ae=G.canvas,re=ae.width,be=ae.height,ye=c.Util.applyTransform([0,0],fe),Ce=c.Util.applyTransform([0,be],fe),me=c.Util.applyTransform([re,0],fe),ee=c.Util.applyTransform([re,be],fe),te=Math.min(ye[0],Ce[0],me[0],ee[0]),oe=Math.min(ye[1],Ce[1],me[1],ee[1]),V=Math.max(ye[0],Ce[0],me[0],ee[0]),W=Math.max(ye[1],Ce[1],me[1],ee[1]);this.ctx.fillRect(te,oe,V-te,W-oe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,c.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,c.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(H,G){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(H)&&H.length===6&&this.transform(...H),this.baseTransform=(0,f.getCurrentTransform)(this.ctx),G)){const le=G[2]-G[0],fe=G[3]-G[1];this.ctx.rect(G[0],G[1],le,fe),this.current.updateRectMinMax((0,f.getCurrentTransform)(this.ctx),G),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(H){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const G=this.ctx;H.isolated||(0,c.info)("TODO: Support non-isolated groups."),H.knockout&&(0,c.warn)("Knockout groups not supported.");const le=(0,f.getCurrentTransform)(G);if(H.matrix&&G.transform(...H.matrix),!H.bbox)throw new Error("Bounding box is required.");let fe=c.Util.getAxialAlignedBoundingBox(H.bbox,(0,f.getCurrentTransform)(G));const ae=[0,0,G.canvas.width,G.canvas.height];fe=c.Util.intersect(fe,ae)||[0,0,0,0];const re=Math.floor(fe[0]),be=Math.floor(fe[1]);let ye=Math.max(Math.ceil(fe[2])-re,1),Ce=Math.max(Math.ceil(fe[3])-be,1),me=1,ee=1;ye>y&&(me=ye/y,ye=y),Ce>y&&(ee=Ce/y,Ce=y),this.current.startNewPathAndClipBox([0,0,ye,Ce]);let te="groupAt"+this.groupLevel;H.smask&&(te+="_smask_"+this.smaskCounter++%2);const oe=this.cachedCanvases.getCanvas(te,ye,Ce),V=oe.context;V.scale(1/me,1/ee),V.translate(-re,-be),V.transform(...le),H.smask?this.smaskStack.push({canvas:oe.canvas,context:V,offsetX:re,offsetY:be,scaleX:me,scaleY:ee,subtype:H.smask.subtype,backdrop:H.smask.backdrop,transferMap:H.smask.transferMap||null,startTransformInverse:null}):(G.setTransform(1,0,0,1,0,0),G.translate(re,be),G.scale(me,ee),G.save()),R(G,V),this.ctx=V,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(G),this.groupLevel++}endGroup(H){if(!this.contentVisible)return;this.groupLevel--;const G=this.ctx,le=this.groupStack.pop();if(this.ctx=le,this.ctx.imageSmoothingEnabled=!1,H.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const fe=(0,f.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...fe);const ae=c.Util.getAxialAlignedBoundingBox([0,0,G.canvas.width,G.canvas.height],fe);this.ctx.drawImage(G.canvas,0,0),this.ctx.restore(),this.compose(ae)}}beginAnnotation(H,G,le,fe,ae){if(ht(this,q,ll).call(this),I(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(G)&&G.length===4){const re=G[2]-G[0],be=G[3]-G[1];if(ae&&this.annotationCanvasMap){le=le.slice(),le[4]-=G[0],le[5]-=G[1],G=G.slice(),G[0]=G[1]=0,G[2]=re,G[3]=be;const[ye,Ce]=c.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(this.ctx)),{viewportScale:me}=this,ee=Math.ceil(re*this.outputScaleX*me),te=Math.ceil(be*this.outputScaleY*me);this.annotationCanvas=this.canvasFactory.create(ee,te);const{canvas:oe,context:V}=this.annotationCanvas;this.annotationCanvasMap.set(H,oe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=V,this.ctx.setTransform(ye,0,0,-Ce,0,be*Ce),I(this.ctx,this.foregroundColor)}else I(this.ctx,this.foregroundColor),this.ctx.rect(G[0],G[1],re,be),this.ctx.clip(),this.endPath()}this.current=new E(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...le),this.transform(...fe)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(H){if(!this.contentVisible)return;const G=H.count;H=this.getObject(H.data,H),H.count=G;const le=this.ctx,fe=this.processingType3;if(fe&&(fe.compiled===void 0&&(fe.compiled=g(H)),fe.compiled)){fe.compiled(le);return}const ae=this._createMaskCanvas(H),re=ae.canvas;le.save(),le.setTransform(1,0,0,1,0,0),le.drawImage(re,ae.offsetX,ae.offsetY),le.restore(),this.compose()}paintImageMaskXObjectRepeat(H,G,le=0,fe=0,ae,re){if(!this.contentVisible)return;H=this.getObject(H.data,H);const be=this.ctx;be.save();const ye=(0,f.getCurrentTransform)(be);be.transform(G,le,fe,ae,0,0);const Ce=this._createMaskCanvas(H);be.setTransform(1,0,0,1,Ce.offsetX-ye[4],Ce.offsetY-ye[5]);for(let me=0,ee=re.length;me<ee;me+=2){const te=c.Util.transform(ye,[G,le,fe,ae,re[me],re[me+1]]),[oe,V]=c.Util.applyTransform([0,0],te);be.drawImage(Ce.canvas,oe,V)}be.restore(),this.compose()}paintImageMaskXObjectGroup(H){if(!this.contentVisible)return;const G=this.ctx,le=this.current.fillColor,fe=this.current.patternFill;for(const ae of H){const{data:re,width:be,height:ye,transform:Ce}=ae,me=this.cachedCanvases.getCanvas("maskCanvas",be,ye),ee=me.context;ee.save();const te=this.getObject(re,ae);M(ee,te),ee.globalCompositeOperation="source-in",ee.fillStyle=fe?le.getPattern(ee,this,(0,f.getCurrentTransformInverse)(G),h.PathType.FILL):le,ee.fillRect(0,0,be,ye),ee.restore(),G.save(),G.transform(...Ce),G.scale(1,-1),A(G,me.canvas,0,0,be,ye,0,-1,1,1),G.restore()}this.compose()}paintImageXObject(H){if(!this.contentVisible)return;const G=this.getObject(H);if(!G){(0,c.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(G)}paintImageXObjectRepeat(H,G,le,fe){if(!this.contentVisible)return;const ae=this.getObject(H);if(!ae){(0,c.warn)("Dependent image isn't ready yet");return}const re=ae.width,be=ae.height,ye=[];for(let Ce=0,me=fe.length;Ce<me;Ce+=2)ye.push({transform:[G,0,0,le,fe[Ce],fe[Ce+1]],x:0,y:0,w:re,h:be});this.paintInlineImageXObjectGroup(ae,ye)}paintInlineImageXObject(H){if(!this.contentVisible)return;const G=H.width,le=H.height,fe=this.ctx;this.save(),fe.scale(1/G,-1/le);let ae;if(typeof HTMLElement=="function"&&H instanceof HTMLElement||!H.data)ae=H;else{const be=this.cachedCanvases.getCanvas("inlineImage",G,le),ye=be.context;v(ye,H,this.current.transferMaps),ae=be.canvas}const re=this._scaleImage(ae,(0,f.getCurrentTransformInverse)(fe));fe.imageSmoothingEnabled=D((0,f.getCurrentTransform)(fe),H.interpolate),A(fe,re.img,0,0,re.paintWidth,re.paintHeight,0,-le,G,le),this.compose(),this.restore()}paintInlineImageXObjectGroup(H,G){if(!this.contentVisible)return;const le=this.ctx,fe=H.width,ae=H.height,re=this.cachedCanvases.getCanvas("inlineImage",fe,ae),be=re.context;v(be,H,this.current.transferMaps);for(const ye of G)le.save(),le.transform(...ye.transform),le.scale(1,-1),A(le,re.canvas,ye.x,ye.y,ye.w,ye.h,0,-1,1,1),le.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(H){}markPointProps(H,G){}beginMarkedContent(H){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(H,G){H==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(G)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(H){const G=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(H);const le=this.ctx;this.pendingClip&&(G||(this.pendingClip===se?le.clip("evenodd"):le.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),le.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const H=(0,f.getCurrentTransform)(this.ctx);if(H[1]===0&&H[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(H[0]),Math.abs(H[3]));else{const G=Math.abs(H[0]*H[3]-H[2]*H[1]),le=Math.hypot(H[0],H[2]),fe=Math.hypot(H[1],H[3]);this._cachedGetSinglePixelWidth=Math.max(le,fe)/G}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:H}=this.current,G=(0,f.getCurrentTransform)(this.ctx);let le,fe;if(G[1]===0&&G[2]===0){const ae=Math.abs(G[0]),re=Math.abs(G[3]);if(H===0)le=1/ae,fe=1/re;else{const be=ae*H,ye=re*H;le=be<1?1/be:1,fe=ye<1?1/ye:1}}else{const ae=Math.abs(G[0]*G[3]-G[2]*G[1]),re=Math.hypot(G[0],G[1]),be=Math.hypot(G[2],G[3]);if(H===0)le=be/ae,fe=re/ae;else{const ye=H*ae;le=be>ye?be/ye:1,fe=re>ye?re/ye:1}}this._cachedScaleForStroking=[le,fe]}return this._cachedScaleForStroking}rescaleAndStroke(H){const{ctx:G}=this,{lineWidth:le}=this.current,[fe,ae]=this.getScaleForStroking();if(G.lineWidth=le||1,fe===1&&ae===1){G.stroke();return}let re,be,ye;H&&(re=(0,f.getCurrentTransform)(G),be=G.getLineDash().slice(),ye=G.lineDashOffset),G.scale(fe,ae);const Ce=Math.max(fe,ae);G.setLineDash(G.getLineDash().map(me=>me/Ce)),G.lineDashOffset/=Ce,G.stroke(),H&&(G.setTransform(...re),G.setLineDash(be),G.lineDashOffset=ye)}isContentVisible(){for(let H=this.markedContentStack.length-1;H>=0;H--)if(!this.markedContentStack[H].visible)return!1;return!0}};q=new WeakSet,ll=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Y=N;e.CanvasGraphics=Y;for(const O in c.OPS)Y.prototype[O]!==void 0&&(Y.prototype[c.OPS[O]]=Y.prototype[O])},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=T;var c=l(1),f=l(6);const h={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=h;function p(A,g){if(!g)return;const E=g[2]-g[0],v=g[3]-g[1],M=new Path2D;M.rect(g[0],g[1],E,v),A.clip(M)}class d{constructor(){this.constructor===d&&(0,c.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,c.unreachable)("Abstract method `getPattern` called.")}}class m extends d{constructor(g){super(),this._type=g[1],this._bbox=g[2],this._colorStops=g[3],this._p0=g[4],this._p1=g[5],this._r0=g[6],this._r1=g[7],this.matrix=null}_createGradient(g){let E;this._type==="axial"?E=g.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(E=g.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const v of this._colorStops)E.addColorStop(v[0],v[1]);return E}getPattern(g,E,v,M){let R;if(M===h.STROKE||M===h.FILL){const I=E.current.getClippedPathBoundingBox(M,(0,f.getCurrentTransform)(g))||[0,0,0,0],J=Math.ceil(I[2]-I[0])||1,_=Math.ceil(I[3]-I[1])||1,L=E.cachedCanvases.getCanvas("pattern",J,_,!0),K=L.context;K.clearRect(0,0,K.canvas.width,K.canvas.height),K.beginPath(),K.rect(0,0,K.canvas.width,K.canvas.height),K.translate(-I[0],-I[1]),v=c.Util.transform(v,[1,0,0,1,I[0],I[1]]),K.transform(...E.baseTransform),this.matrix&&K.transform(...this.matrix),p(K,this._bbox),K.fillStyle=this._createGradient(K),K.fill(),R=g.createPattern(L.canvas,"no-repeat");const $=new DOMMatrix(v);R.setTransform($)}else p(g,this._bbox),R=this._createGradient(g);return R}}function y(A,g,E,v,M,R,I,J){const _=g.coords,L=g.colors,K=A.data,$=A.width*4;let D;_[E+1]>_[v+1]&&(D=E,E=v,v=D,D=R,R=I,I=D),_[v+1]>_[M+1]&&(D=v,v=M,M=D,D=I,I=J,J=D),_[E+1]>_[v+1]&&(D=E,E=v,v=D,D=R,R=I,I=D);const ne=(_[E]+g.offsetX)*g.scaleX,F=(_[E+1]+g.offsetY)*g.scaleY,j=(_[v]+g.offsetX)*g.scaleX,se=(_[v+1]+g.offsetY)*g.scaleY,Y=(_[M]+g.offsetX)*g.scaleX,q=(_[M+1]+g.offsetY)*g.scaleY;if(F>=q)return;const Q=L[R],N=L[R+1],O=L[R+2],H=L[I],G=L[I+1],le=L[I+2],fe=L[J],ae=L[J+1],re=L[J+2],be=Math.round(F),ye=Math.round(q);let Ce,me,ee,te,oe,V,W,ue;for(let he=be;he<=ye;he++){if(he<se){let xe;he<F?xe=0:xe=(F-he)/(F-se),Ce=ne-(ne-j)*xe,me=Q-(Q-H)*xe,ee=N-(N-G)*xe,te=O-(O-le)*xe}else{let xe;he>q?xe=1:se===q?xe=0:xe=(se-he)/(se-q),Ce=j-(j-Y)*xe,me=H-(H-fe)*xe,ee=G-(G-ae)*xe,te=le-(le-re)*xe}let pe;he<F?pe=0:he>q?pe=1:pe=(F-he)/(F-q),oe=ne-(ne-Y)*pe,V=Q-(Q-fe)*pe,W=N-(N-ae)*pe,ue=O-(O-re)*pe;const Se=Math.round(Math.min(Ce,oe)),ge=Math.round(Math.max(Ce,oe));let de=$*he+Se*4;for(let xe=Se;xe<=ge;xe++)pe=(Ce-xe)/(Ce-oe),pe<0?pe=0:pe>1&&(pe=1),K[de++]=me-(me-V)*pe|0,K[de++]=ee-(ee-W)*pe|0,K[de++]=te-(te-ue)*pe|0,K[de++]=255}}function x(A,g,E){const v=g.coords,M=g.colors;let R,I;switch(g.type){case"lattice":const J=g.verticesPerRow,_=Math.floor(v.length/J)-1,L=J-1;for(R=0;R<_;R++){let K=R*J;for(let $=0;$<L;$++,K++)y(A,E,v[K],v[K+1],v[K+J],M[K],M[K+1],M[K+J]),y(A,E,v[K+J+1],v[K+1],v[K+J],M[K+J+1],M[K+1],M[K+J])}break;case"triangles":for(R=0,I=v.length;R<I;R+=3)y(A,E,v[R],v[R+1],v[R+2],M[R],M[R+1],M[R+2]);break;default:throw new Error("illegal figure")}}class u extends d{constructor(g){super(),this._coords=g[2],this._colors=g[3],this._figures=g[4],this._bounds=g[5],this._bbox=g[7],this._background=g[8],this.matrix=null}_createMeshCanvas(g,E,v){const J=Math.floor(this._bounds[0]),_=Math.floor(this._bounds[1]),L=Math.ceil(this._bounds[2])-J,K=Math.ceil(this._bounds[3])-_,$=Math.min(Math.ceil(Math.abs(L*g[0]*1.1)),3e3),D=Math.min(Math.ceil(Math.abs(K*g[1]*1.1)),3e3),ne=L/$,F=K/D,j={coords:this._coords,colors:this._colors,offsetX:-J,offsetY:-_,scaleX:1/ne,scaleY:1/F},se=$+2*2,Y=D+2*2,q=v.getCanvas("mesh",se,Y,!1),Q=q.context,N=Q.createImageData($,D);if(E){const H=N.data;for(let G=0,le=H.length;G<le;G+=4)H[G]=E[0],H[G+1]=E[1],H[G+2]=E[2],H[G+3]=255}for(const H of this._figures)x(N,H,j);return Q.putImageData(N,2,2),{canvas:q.canvas,offsetX:J-2*ne,offsetY:_-2*F,scaleX:ne,scaleY:F}}getPattern(g,E,v,M){p(g,this._bbox);let R;if(M===h.SHADING)R=c.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(g));else if(R=c.Util.singularValueDecompose2dScale(E.baseTransform),this.matrix){const J=c.Util.singularValueDecompose2dScale(this.matrix);R=[R[0]*J[0],R[1]*J[1]]}const I=this._createMeshCanvas(R,M===h.SHADING?null:this._background,E.cachedCanvases);return M!==h.SHADING&&(g.setTransform(...E.baseTransform),this.matrix&&g.transform(...this.matrix)),g.translate(I.offsetX,I.offsetY),g.scale(I.scaleX,I.scaleY),g.createPattern(I.canvas,"no-repeat")}}class w extends d{getPattern(){return"hotpink"}}function T(A){switch(A[0]){case"RadialAxial":return new m(A);case"Mesh":return new u(A);case"Dummy":return new w}throw new Error(`Unknown IR type: ${A[0]}`)}const C={COLORED:1,UNCOLORED:2};class k{static get MAX_PATTERN_SIZE(){return(0,c.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(g,E,v,M,R){this.operatorList=g[2],this.matrix=g[3]||[1,0,0,1,0,0],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.color=E,this.ctx=v,this.canvasGraphicsFactory=M,this.baseTransform=R}createPatternCanvas(g){const E=this.operatorList,v=this.bbox,M=this.xstep,R=this.ystep,I=this.paintType,J=this.tilingType,_=this.color,L=this.canvasGraphicsFactory;(0,c.info)("TilingType: "+J);const K=v[0],$=v[1],D=v[2],ne=v[3],F=c.Util.singularValueDecompose2dScale(this.matrix),j=c.Util.singularValueDecompose2dScale(this.baseTransform),se=[F[0]*j[0],F[1]*j[1]],Y=this.getSizeAndScale(M,this.ctx.canvas.width,se[0]),q=this.getSizeAndScale(R,this.ctx.canvas.height,se[1]),Q=g.cachedCanvases.getCanvas("pattern",Y.size,q.size,!0),N=Q.context,O=L.createCanvasGraphics(N);O.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(O,I,_);let H=K,G=$,le=D,fe=ne;return K<0&&(H=0,le+=Math.abs(K)),$<0&&(G=0,fe+=Math.abs($)),N.translate(-(Y.scale*H),-(q.scale*G)),O.transform(Y.scale,0,0,q.scale,0,0),N.save(),this.clipBbox(O,H,G,le,fe),O.baseTransform=(0,f.getCurrentTransform)(O.ctx),O.executeOperatorList(E),O.endDrawing(),{canvas:Q.canvas,scaleX:Y.scale,scaleY:q.scale,offsetX:H,offsetY:G}}getSizeAndScale(g,E,v){g=Math.abs(g);const M=Math.max(k.MAX_PATTERN_SIZE,E);let R=Math.ceil(g*v);return R>=M?R=M:v=R/g,{scale:v,size:R}}clipBbox(g,E,v,M,R){const I=M-E,J=R-v;g.ctx.rect(E,v,I,J),g.current.updateRectMinMax((0,f.getCurrentTransform)(g.ctx),[E,v,M,R]),g.clip(),g.endPath()}setFillAndStrokeStyleToContext(g,E,v){const M=g.ctx,R=g.current;switch(E){case C.COLORED:const I=this.ctx;M.fillStyle=I.fillStyle,M.strokeStyle=I.strokeStyle,R.fillColor=I.fillStyle,R.strokeColor=I.strokeStyle;break;case C.UNCOLORED:const J=c.Util.makeHexColor(v[0],v[1],v[2]);M.fillStyle=J,M.strokeStyle=J,R.fillColor=J,R.strokeColor=J;break;default:throw new c.FormatError(`Unsupported paint type: ${E}`)}}getPattern(g,E,v,M){let R=v;M!==h.SHADING&&(R=c.Util.transform(R,E.baseTransform),this.matrix&&(R=c.Util.transform(R,this.matrix)));const I=this.createPatternCanvas(E);let J=new DOMMatrix(R);J=J.translate(I.offsetX,I.offsetY),J=J.scale(1/I.scaleX,1/I.scaleY);const _=g.createPattern(I.canvas,"repeat");return _.setTransform(J),_}}e.TilingPattern=k},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=f;var c=l(1);function f({src:h,srcPos:p=0,dest:d,destPos:m=0,width:y,height:x,inverseDecode:u=!1}){const w=c.FeatureTest.isLittleEndian?4278190080:255,[T,C]=u?[0,w]:[w,0],k=y>>3,A=y&7,g=h.length;d=new Uint32Array(d.buffer);for(let E=0;E<x;E++){for(const M=p+k;p<M;p++){const R=p<g?h[p]:255;d[m++]=R&128?C:T,d[m++]=R&64?C:T,d[m++]=R&32?C:T,d[m++]=R&16?C:T,d[m++]=R&8?C:T,d[m++]=R&4?C:T,d[m++]=R&2?C:T,d[m++]=R&1?C:T}if(A===0)continue;const v=p<g?h[p++]:255;for(let M=0;M<A;M++)d[m++]=v&1<<7-M?C:T}return{srcPos:p,destPos:m}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const l=Object.create(null);e.GlobalWorkerOptions=l,l.workerPort=null,l.workerSrc=""},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var c=l(1);const f={UNKNOWN:0,DATA:1,ERROR:2},h={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function p(m){switch(m instanceof Error||typeof m=="object"&&m!==null||(0,c.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new c.AbortException(m.message);case"MissingPDFException":return new c.MissingPDFException(m.message);case"PasswordException":return new c.PasswordException(m.message,m.code);case"UnexpectedResponseException":return new c.UnexpectedResponseException(m.message,m.status);case"UnknownErrorException":return new c.UnknownErrorException(m.message,m.details);default:return new c.UnknownErrorException(m.message,m.toString())}}class d{constructor(y,x,u){this.sourceName=y,this.targetName=x,this.comObj=u,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=w=>{const T=w.data;if(T.targetName!==this.sourceName)return;if(T.stream){this._processStreamMessage(T);return}if(T.callback){const k=T.callbackId,A=this.callbackCapabilities[k];if(!A)throw new Error(`Cannot resolve callback ${k}`);if(delete this.callbackCapabilities[k],T.callback===f.DATA)A.resolve(T.data);else if(T.callback===f.ERROR)A.reject(p(T.reason));else throw new Error("Unexpected callback case");return}const C=this.actionHandler[T.action];if(!C)throw new Error(`Unknown action from worker: ${T.action}`);if(T.callbackId){const k=this.sourceName,A=T.sourceName;new Promise(function(g){g(C(T.data))}).then(function(g){u.postMessage({sourceName:k,targetName:A,callback:f.DATA,callbackId:T.callbackId,data:g})},function(g){u.postMessage({sourceName:k,targetName:A,callback:f.ERROR,callbackId:T.callbackId,reason:p(g)})});return}if(T.streamId){this._createStreamSink(T);return}C(T.data)},u.addEventListener("message",this._onComObjOnMessage)}on(y,x){const u=this.actionHandler;if(u[y])throw new Error(`There is already an actionName called "${y}"`);u[y]=x}send(y,x,u){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,data:x},u)}sendWithPromise(y,x,u){const w=this.callbackId++,T=(0,c.createPromiseCapability)();this.callbackCapabilities[w]=T;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,callbackId:w,data:x},u)}catch(C){T.reject(C)}return T.promise}sendWithStream(y,x,u,w){const T=this.streamId++,C=this.sourceName,k=this.targetName,A=this.comObj;return new ReadableStream({start:g=>{const E=(0,c.createPromiseCapability)();return this.streamControllers[T]={controller:g,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},A.postMessage({sourceName:C,targetName:k,action:y,streamId:T,data:x,desiredSize:g.desiredSize},w),E.promise},pull:g=>{const E=(0,c.createPromiseCapability)();return this.streamControllers[T].pullCall=E,A.postMessage({sourceName:C,targetName:k,stream:h.PULL,streamId:T,desiredSize:g.desiredSize}),E.promise},cancel:g=>{(0,c.assert)(g instanceof Error,"cancel must have a valid reason");const E=(0,c.createPromiseCapability)();return this.streamControllers[T].cancelCall=E,this.streamControllers[T].isClosed=!0,A.postMessage({sourceName:C,targetName:k,stream:h.CANCEL,streamId:T,reason:p(g)}),E.promise}},u)}_createStreamSink(y){const x=y.streamId,u=this.sourceName,w=y.sourceName,T=this.comObj,C=this,k=this.actionHandler[y.action],A={enqueue(g,E=1,v){if(this.isCancelled)return;const M=this.desiredSize;this.desiredSize-=E,M>0&&this.desiredSize<=0&&(this.sinkCapability=(0,c.createPromiseCapability)(),this.ready=this.sinkCapability.promise),T.postMessage({sourceName:u,targetName:w,stream:h.ENQUEUE,streamId:x,chunk:g},v)},close(){this.isCancelled||(this.isCancelled=!0,T.postMessage({sourceName:u,targetName:w,stream:h.CLOSE,streamId:x}),delete C.streamSinks[x])},error(g){(0,c.assert)(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,T.postMessage({sourceName:u,targetName:w,stream:h.ERROR,streamId:x,reason:p(g)}))},sinkCapability:(0,c.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:y.desiredSize,ready:null};A.sinkCapability.resolve(),A.ready=A.sinkCapability.promise,this.streamSinks[x]=A,new Promise(function(g){g(k(y.data,A))}).then(function(){T.postMessage({sourceName:u,targetName:w,stream:h.START_COMPLETE,streamId:x,success:!0})},function(g){T.postMessage({sourceName:u,targetName:w,stream:h.START_COMPLETE,streamId:x,reason:p(g)})})}_processStreamMessage(y){const x=y.streamId,u=this.sourceName,w=y.sourceName,T=this.comObj,C=this.streamControllers[x],k=this.streamSinks[x];switch(y.stream){case h.START_COMPLETE:y.success?C.startCall.resolve():C.startCall.reject(p(y.reason));break;case h.PULL_COMPLETE:y.success?C.pullCall.resolve():C.pullCall.reject(p(y.reason));break;case h.PULL:if(!k){T.postMessage({sourceName:u,targetName:w,stream:h.PULL_COMPLETE,streamId:x,success:!0});break}k.desiredSize<=0&&y.desiredSize>0&&k.sinkCapability.resolve(),k.desiredSize=y.desiredSize,new Promise(function(A){A(k.onPull&&k.onPull())}).then(function(){T.postMessage({sourceName:u,targetName:w,stream:h.PULL_COMPLETE,streamId:x,success:!0})},function(A){T.postMessage({sourceName:u,targetName:w,stream:h.PULL_COMPLETE,streamId:x,reason:p(A)})});break;case h.ENQUEUE:if((0,c.assert)(C,"enqueue should have stream controller"),C.isClosed)break;C.controller.enqueue(y.chunk);break;case h.CLOSE:if((0,c.assert)(C,"close should have stream controller"),C.isClosed)break;C.isClosed=!0,C.controller.close(),this._deleteStreamController(C,x);break;case h.ERROR:(0,c.assert)(C,"error should have stream controller"),C.controller.error(p(y.reason)),this._deleteStreamController(C,x);break;case h.CANCEL_COMPLETE:y.success?C.cancelCall.resolve():C.cancelCall.reject(p(y.reason)),this._deleteStreamController(C,x);break;case h.CANCEL:if(!k)break;new Promise(function(A){A(k.onCancel&&k.onCancel(p(y.reason)))}).then(function(){T.postMessage({sourceName:u,targetName:w,stream:h.CANCEL_COMPLETE,streamId:x,success:!0})},function(A){T.postMessage({sourceName:u,targetName:w,stream:h.CANCEL_COMPLETE,streamId:x,reason:p(A)})}),k.sinkCapability.reject(p(y.reason)),k.isCancelled=!0,delete this.streamSinks[x];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(y,x){await Promise.allSettled([y.startCall&&y.startCall.promise,y.pullCall&&y.pullCall.promise,y.cancelCall&&y.cancelCall.promise]),delete this.streamControllers[x]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=d},(t,e,l)=>{var h,p;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var c=l(1);class f{constructor({parsedData:m,rawData:y}){xt(this,h);xt(this,p);Mt(this,h,m),Mt(this,p,y)}getRaw(){return Ie(this,p)}get(m){return Ie(this,h).get(m)??null}getAll(){return(0,c.objectFromMap)(Ie(this,h))}has(m){return Ie(this,h).has(m)}}h=new WeakMap,p=new WeakMap,e.Metadata=f},(t,e,l)=>{var m,y,x,u,w,T,cl;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var c=l(1),f=l(8);const h=Symbol("INTERNAL");class p{constructor(A,g){xt(this,m,!0);this.name=A,this.intent=g}get visible(){return Ie(this,m)}_setVisible(A,g){A!==h&&(0,c.unreachable)("Internal method `_setVisible` called."),Mt(this,m,g)}}m=new WeakMap;class d{constructor(A){xt(this,T);xt(this,y,null);xt(this,x,new Map);xt(this,u,null);xt(this,w,null);if(this.name=null,this.creator=null,A!==null){this.name=A.name,this.creator=A.creator,Mt(this,w,A.order);for(const g of A.groups)Ie(this,x).set(g.id,new p(g.name,g.intent));if(A.baseState==="OFF")for(const g of Ie(this,x).values())g._setVisible(h,!1);for(const g of A.on)Ie(this,x).get(g)._setVisible(h,!0);for(const g of A.off)Ie(this,x).get(g)._setVisible(h,!1);Mt(this,u,this.getHash())}}isVisible(A){if(Ie(this,x).size===0)return!0;if(!A)return(0,c.warn)("Optional content group not defined."),!0;if(A.type==="OCG")return Ie(this,x).has(A.id)?Ie(this,x).get(A.id).visible:((0,c.warn)(`Optional content group not found: ${A.id}`),!0);if(A.type==="OCMD"){if(A.expression)return ht(this,T,cl).call(this,A.expression);if(!A.policy||A.policy==="AnyOn"){for(const g of A.ids){if(!Ie(this,x).has(g))return(0,c.warn)(`Optional content group not found: ${g}`),!0;if(Ie(this,x).get(g).visible)return!0}return!1}else if(A.policy==="AllOn"){for(const g of A.ids){if(!Ie(this,x).has(g))return(0,c.warn)(`Optional content group not found: ${g}`),!0;if(!Ie(this,x).get(g).visible)return!1}return!0}else if(A.policy==="AnyOff"){for(const g of A.ids){if(!Ie(this,x).has(g))return(0,c.warn)(`Optional content group not found: ${g}`),!0;if(!Ie(this,x).get(g).visible)return!0}return!1}else if(A.policy==="AllOff"){for(const g of A.ids){if(!Ie(this,x).has(g))return(0,c.warn)(`Optional content group not found: ${g}`),!0;if(Ie(this,x).get(g).visible)return!1}return!0}return(0,c.warn)(`Unknown optional content policy ${A.policy}.`),!0}return(0,c.warn)(`Unknown group type ${A.type}.`),!0}setVisibility(A,g=!0){if(!Ie(this,x).has(A)){(0,c.warn)(`Optional content group not found: ${A}`);return}Ie(this,x).get(A)._setVisible(h,!!g),Mt(this,y,null)}get hasInitialVisibility(){return this.getHash()===Ie(this,u)}getOrder(){return Ie(this,x).size?Ie(this,w)?Ie(this,w).slice():[...Ie(this,x).keys()]:null}getGroups(){return Ie(this,x).size>0?(0,c.objectFromMap)(Ie(this,x)):null}getGroup(A){return Ie(this,x).get(A)||null}getHash(){if(Ie(this,y)!==null)return Ie(this,y);const A=new f.MurmurHash3_64;for(const[g,E]of Ie(this,x))A.update(`${g}:${E.visible}`);return Mt(this,y,A.hexdigest())}}y=new WeakMap,x=new WeakMap,u=new WeakMap,w=new WeakMap,T=new WeakSet,cl=function(A){const g=A.length;if(g<2)return!0;const E=A[0];for(let v=1;v<g;v++){const M=A[v];let R;if(Array.isArray(M))R=ht(this,T,cl).call(this,M);else if(Ie(this,x).has(M))R=Ie(this,x).get(M).visible;else return(0,c.warn)(`Optional content group not found: ${M}`),!0;switch(E){case"And":if(!R)return!1;break;case"Or":if(R)return!0;break;case"Not":return!R;default:return!0}}return E==="And"},e.OptionalContentConfig=d},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var c=l(1),f=l(6);class h{constructor({length:y,initialData:x,progressiveDone:u=!1,contentDispositionFilename:w=null,disableRange:T=!1,disableStream:C=!1},k){if((0,c.assert)(k,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=w,(x==null?void 0:x.length)>0){const A=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=k,this._isStreamingSupported=!C,this._isRangeSupported=!T,this._contentLength=y,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((A,g)=>{this._onReceiveData({begin:A,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((A,g)=>{this._onProgress({loaded:A,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:y,chunk:x}){const u=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;if(y===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(u):this._queuedChunks.push(u);else{const w=this._rangeReaders.some(function(T){return T._begin!==y?!1:(T._enqueue(u),!0)});(0,c.assert)(w,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var y;return((y=this._fullRequestReader)==null?void 0:y._loaded)??0}_onProgress(y){var x,u,w,T;y.total===void 0?(u=(x=this._rangeReaders[0])==null?void 0:x.onProgress)==null||u.call(x,{loaded:y.loaded}):(T=(w=this._fullRequestReader)==null?void 0:w.onProgress)==null||T.call(w,{loaded:y.loaded,total:y.total})}_onProgressiveDone(){var y;(y=this._fullRequestReader)==null||y.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(y){const x=this._rangeReaders.indexOf(y);x>=0&&this._rangeReaders.splice(x,1)}getFullReader(){(0,c.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const y=this._queuedChunks;return this._queuedChunks=null,new p(this,y,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(y,x){if(x<=this._progressiveDataLength)return null;const u=new d(this,y,x);return this._pdfDataRangeTransport.requestDataRange(y,x),this._rangeReaders.push(u),u}cancelAllRequests(y){var x;(x=this._fullRequestReader)==null||x.cancel(y);for(const u of this._rangeReaders.slice(0))u.cancel(y);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=h;class p{constructor(y,x,u=!1,w=null){this._stream=y,this._done=u||!1,this._filename=(0,f.isPdfFile)(w)?w:null,this._queuedChunks=x||[],this._loaded=0;for(const T of this._queuedChunks)this._loaded+=T.byteLength;this._requests=[],this._headersReady=Promise.resolve(),y._fullRequestReader=this,this.onProgress=null}_enqueue(y){this._done||(this._requests.length>0?this._requests.shift().resolve({value:y,done:!1}):this._queuedChunks.push(y),this._loaded+=y.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const y=(0,c.createPromiseCapability)();return this._requests.push(y),y.promise}cancel(y){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class d{constructor(y,x,u){this._stream=y,this._begin=x,this._end=u,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(y){if(!this._done){if(this._requests.length===0)this._queuedChunk=y;else{this._requests.shift().resolve({value:y,done:!1});for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const x=this._queuedChunk;return this._queuedChunk=null,{value:x,done:!1}}if(this._done)return{value:void 0,done:!0};const y=(0,c.createPromiseCapability)();return this._requests.push(y),y.promise}cancel(y){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class l{static textContent(f){const h=[],p={items:h,styles:Object.create(null)};function d(m){var u;if(!m)return;let y=null;const x=m.name;if(x==="#text")y=m.value;else if(l.shouldBuildText(x))(u=m==null?void 0:m.attributes)!=null&&u.textContent?y=m.attributes.textContent:m.value&&(y=m.value);else return;if(y!==null&&h.push({str:y}),!!m.children)for(const w of m.children)d(w)}return d(f),p}static shouldBuildText(f){return!(f==="textarea"||f==="input"||f==="option"||f==="select")}}e.XfaText=l},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var c=l(7);const f=function(m){return new Promise((y,x)=>{require$$5.readFile(m,(w,T)=>{if(w||!T){x(new Error(w));return}y(new Uint8Array(T))})})};class h extends c.BaseCanvasFactory{_createCanvas(y,x){return require$$5.createCanvas(y,x)}}e.NodeCanvasFactory=h;class p extends c.BaseCMapReaderFactory{_fetchData(y,x){return f(y).then(u=>({cMapData:u,compressionType:x}))}}e.NodeCMapReaderFactory=p;class d extends c.BaseStandardFontDataFactory{_fetchData(y){return f(y)}}e.NodeStandardFontDataFactory=d},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var c=l(1),f=l(22);const h=require$$5,p=require$$5,d=require$$5,m=require$$5,y=/^file:\/\/\/[a-zA-Z]:\//;function x(v){const M=m.parse(v);return M.protocol==="file:"||M.host?M:/^[a-z]:[/\\]/i.test(v)?m.parse(`file:///${v}`):(M.host||(M.protocol="file:"),M)}class u{constructor(M){this.source=M,this.url=x(M.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&M.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var M;return((M=this._fullRequestReader)==null?void 0:M._loaded)??0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new k(this),this._fullRequestReader}getRangeReader(M,R){if(R<=this._progressiveDataLength)return null;const I=this.isFsUrl?new E(this,M,R):new A(this,M,R);return this._rangeRequestReaders.push(I),I}cancelAllRequests(M){var R;(R=this._fullRequestReader)==null||R.cancel(M);for(const I of this._rangeRequestReaders.slice(0))I.cancel(M)}}e.PDFNodeStream=u;class w{constructor(M){this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null;const R=M.source;this._contentLength=R.length,this._loaded=0,this._filename=null,this._disableRange=R.disableRange||!1,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!R.disableStream,this._isRangeSupported=!R.disableRange,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)(),this._headersCapability=(0,c.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var I;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const M=this._readableStream.read();return M===null?(this._readCapability=(0,c.createPromiseCapability)(),this.read()):(this._loaded+=M.length,(I=this.onProgress)==null||I.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(M).buffer,done:!1})}cancel(M){if(!this._readableStream){this._error(M);return}this._readableStream.destroy(M)}_error(M){this._storedError=M,this._readCapability.resolve()}_setReadableStream(M){this._readableStream=M,M.on("readable",()=>{this._readCapability.resolve()}),M.on("end",()=>{M.destroy(),this._done=!0,this._readCapability.resolve()}),M.on("error",R=>{this._error(R)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class T{constructor(M){this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)();const R=M.source;this._isStreamingSupported=!R.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var I;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const M=this._readableStream.read();return M===null?(this._readCapability=(0,c.createPromiseCapability)(),this.read()):(this._loaded+=M.length,(I=this.onProgress)==null||I.call(this,{loaded:this._loaded}),{value:new Uint8Array(M).buffer,done:!1})}cancel(M){if(!this._readableStream){this._error(M);return}this._readableStream.destroy(M)}_error(M){this._storedError=M,this._readCapability.resolve()}_setReadableStream(M){this._readableStream=M,M.on("readable",()=>{this._readCapability.resolve()}),M.on("end",()=>{M.destroy(),this._done=!0,this._readCapability.resolve()}),M.on("error",R=>{this._error(R)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function C(v,M){return{protocol:v.protocol,auth:v.auth,host:v.hostname,port:v.port,path:v.path,method:"GET",headers:M}}class k extends w{constructor(M){super(M);const R=I=>{if(I.statusCode===404){const K=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=K,this._headersCapability.reject(K);return}this._headersCapability.resolve(),this._setReadableStream(I);const J=K=>this._readableStream.headers[K.toLowerCase()],{allowRangeRequests:_,suggestedLength:L}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:J,isHttp:M.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=L||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(J)};this._request=null,this._url.protocol==="http:"?this._request=p.request(C(this._url,M.httpHeaders),R):this._request=d.request(C(this._url,M.httpHeaders),R),this._request.on("error",I=>{this._storedError=I,this._headersCapability.reject(I)}),this._request.end()}}class A extends T{constructor(M,R,I){super(M),this._httpHeaders={};for(const _ in M.httpHeaders){const L=M.httpHeaders[_];L!==void 0&&(this._httpHeaders[_]=L)}this._httpHeaders.Range=`bytes=${R}-${I-1}`;const J=_=>{if(_.statusCode===404){const L=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=L;return}this._setReadableStream(_)};this._request=null,this._url.protocol==="http:"?this._request=p.request(C(this._url,this._httpHeaders),J):this._request=d.request(C(this._url,this._httpHeaders),J),this._request.on("error",_=>{this._storedError=_}),this._request.end()}}class g extends w{constructor(M){super(M);let R=decodeURIComponent(this._url.path);y.test(this._url.href)&&(R=R.replace(/^\//,"")),h.lstat(R,(I,J)=>{if(I){I.code==="ENOENT"&&(I=new c.MissingPDFException(`Missing PDF "${R}".`)),this._storedError=I,this._headersCapability.reject(I);return}this._contentLength=J.size,this._setReadableStream(h.createReadStream(R)),this._headersCapability.resolve()})}}class E extends T{constructor(M,R,I){super(M);let J=decodeURIComponent(this._url.path);y.test(this._url.href)&&(J=J.replace(/^\//,"")),this._setReadableStream(h.createReadStream(J,{start:R,end:I-1}))}}},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=m,e.extractFilenameFromHeader=d,e.validateRangeRequestCapabilities=p,e.validateResponseStatus=y;var c=l(1),f=l(23),h=l(6);function p({getResponseHeader:x,isHttp:u,rangeChunkSize:w,disableRange:T}){const C={allowRangeRequests:!1,suggestedLength:void 0},k=parseInt(x("Content-Length"),10);return!Number.isInteger(k)||(C.suggestedLength=k,k<=2*w)||T||!u||x("Accept-Ranges")!=="bytes"||(x("Content-Encoding")||"identity")!=="identity"||(C.allowRangeRequests=!0),C}function d(x){const u=x("Content-Disposition");if(u){let w=(0,f.getFilenameFromContentDispositionHeader)(u);if(w.includes("%"))try{w=decodeURIComponent(w)}catch{}if((0,h.isPdfFile)(w))return w}return null}function m(x,u){return x===404||x===0&&u.startsWith("file:")?new c.MissingPDFException('Missing PDF "'+u+'".'):new c.UnexpectedResponseException(`Unexpected server response (${x}) while retrieving PDF "${u}".`,x)}function y(x){return x===200||x===206}},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=f;var c=l(1);function f(h){let p=!0,d=m("filename\\*","i").exec(h);if(d){d=d[1];let k=w(d);return k=unescape(k),k=T(k),k=C(k),x(k)}if(d=u(h),d){const k=C(d);return x(k)}if(d=m("filename","i").exec(h),d){d=d[1];let k=w(d);return k=C(k),x(k)}function m(k,A){return new RegExp("(?:^|;)\\s*"+k+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',A)}function y(k,A){if(k){if(!/^[\x00-\xFF]+$/.test(A))return A;try{const g=new TextDecoder(k,{fatal:!0}),E=(0,c.stringToBytes)(A);A=g.decode(E),p=!1}catch{}}return A}function x(k){return p&&/[\x80-\xff]/.test(k)&&(k=y("utf-8",k),p&&(k=y("iso-8859-1",k))),k}function u(k){const A=[];let g;const E=m("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=E.exec(k))!==null;){let[,M,R,I]=g;if(M=parseInt(M,10),M in A){if(M===0)break;continue}A[M]=[R,I]}const v=[];for(let M=0;M<A.length&&M in A;++M){let[R,I]=A[M];I=w(I),R&&(I=unescape(I),M===0&&(I=T(I))),v.push(I)}return v.join("")}function w(k){if(k.startsWith('"')){const A=k.slice(1).split('\\"');for(let g=0;g<A.length;++g){const E=A[g].indexOf('"');E!==-1&&(A[g]=A[g].slice(0,E),A.length=g+1),A[g]=A[g].replace(/\\(.)/g,"$1")}k=A.join('"')}return k}function T(k){const A=k.indexOf("'");if(A===-1)return k;const g=k.slice(0,A),v=k.slice(A+1).replace(/^[^']*'/,"");return y(g,v)}function C(k){return!k.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(k)?k:k.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(A,g,E,v){if(E==="q"||E==="Q")return v=v.replace(/_/g," "),v=v.replace(/=([0-9a-fA-F]{2})/g,function(M,R){return String.fromCharCode(parseInt(R,16))}),y(g,v);try{v=atob(v)}catch{}return y(g,v)})}return""}},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var c=l(1),f=l(22);const h=200,p=206;function d(w){const T=w.response;return typeof T!="string"?T:(0,c.stringToBytes)(T).buffer}class m{constructor(T,C={}){this.url=T,this.isHttp=/^https?:/i.test(T),this.httpHeaders=this.isHttp&&C.httpHeaders||Object.create(null),this.withCredentials=C.withCredentials||!1,this.getXhr=C.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(T,C,k){const A={begin:T,end:C};for(const g in k)A[g]=k[g];return this.request(A)}requestFull(T){return this.request(T)}request(T){const C=this.getXhr(),k=this.currXhrId++,A=this.pendingRequests[k]={xhr:C};C.open("GET",this.url),C.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const E=this.httpHeaders[g];E!==void 0&&C.setRequestHeader(g,E)}return this.isHttp&&"begin"in T&&"end"in T?(C.setRequestHeader("Range",`bytes=${T.begin}-${T.end-1}`),A.expectedStatus=p):A.expectedStatus=h,C.responseType="arraybuffer",T.onError&&(C.onerror=function(g){T.onError(C.status)}),C.onreadystatechange=this.onStateChange.bind(this,k),C.onprogress=this.onProgress.bind(this,k),A.onHeadersReceived=T.onHeadersReceived,A.onDone=T.onDone,A.onError=T.onError,A.onProgress=T.onProgress,C.send(null),k}onProgress(T,C){var A;const k=this.pendingRequests[T];k&&((A=k.onProgress)==null||A.call(k,C))}onStateChange(T,C){var M,R,I;const k=this.pendingRequests[T];if(!k)return;const A=k.xhr;if(A.readyState>=2&&k.onHeadersReceived&&(k.onHeadersReceived(),delete k.onHeadersReceived),A.readyState!==4||!(T in this.pendingRequests))return;if(delete this.pendingRequests[T],A.status===0&&this.isHttp){(M=k.onError)==null||M.call(k,A.status);return}const g=A.status||h;if(!(g===h&&k.expectedStatus===p)&&g!==k.expectedStatus){(R=k.onError)==null||R.call(k,A.status);return}const v=d(A);if(g===p){const J=A.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(J);k.onDone({begin:parseInt(_[1],10),chunk:v})}else v?k.onDone({begin:0,chunk:v}):(I=k.onError)==null||I.call(k,A.status)}getRequestXhr(T){return this.pendingRequests[T].xhr}isPendingRequest(T){return T in this.pendingRequests}abortRequest(T){const C=this.pendingRequests[T].xhr;delete this.pendingRequests[T],C.abort()}}class y{constructor(T){this._source=T,this._manager=new m(T.url,{httpHeaders:T.httpHeaders,withCredentials:T.withCredentials}),this._rangeChunkSize=T.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(T){const C=this._rangeRequestReaders.indexOf(T);C>=0&&this._rangeRequestReaders.splice(C,1)}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new x(this._manager,this._source),this._fullRequestReader}getRangeReader(T,C){const k=new u(this._manager,T,C);return k.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(k),k}cancelAllRequests(T){var C;(C=this._fullRequestReader)==null||C.cancel(T);for(const k of this._rangeRequestReaders.slice(0))k.cancel(T)}}e.PDFNetworkStream=y;class x{constructor(T,C){this._manager=T;const k={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._fullRequestId=T.requestFull(k),this._headersReceivedCapability=(0,c.createPromiseCapability)(),this._disableRange=C.disableRange||!1,this._contentLength=C.length,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const T=this._fullRequestId,C=this._manager.getRequestXhr(T),k=E=>C.getResponseHeader(E),{allowRangeRequests:A,suggestedLength:g}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});A&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(k),this._isRangeSupported&&this._manager.abortRequest(T),this._headersReceivedCapability.resolve()}_onDone(T){if(T&&(this._requests.length>0?this._requests.shift().resolve({value:T.chunk,done:!1}):this._cachedChunks.push(T.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(T){this._storedError=(0,f.createResponseStatusError)(T,this._url),this._headersReceivedCapability.reject(this._storedError);for(const C of this._requests)C.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(T){var C;(C=this.onProgress)==null||C.call(this,{loaded:T.loaded,total:T.lengthComputable?T.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const T=(0,c.createPromiseCapability)();return this._requests.push(T),T.promise}cancel(T){this._done=!0,this._headersReceivedCapability.reject(T);for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class u{constructor(T,C,k){this._manager=T;const A={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=T.url,this._requestId=T.requestRange(C,k,A),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var T;(T=this.onClosed)==null||T.call(this,this)}_onDone(T){const C=T.chunk;this._requests.length>0?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunk=C,this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(T){this._storedError=(0,f.createResponseStatusError)(T,this._url);for(const C of this._requests)C.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(T){var C;this.isStreamingSupported||(C=this.onProgress)==null||C.call(this,{loaded:T.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const C=this._queuedChunk;return this._queuedChunk=null,{value:C,done:!1}}if(this._done)return{value:void 0,done:!0};const T=(0,c.createPromiseCapability)();return this._requests.push(T),T.promise}cancel(T){this._done=!0;for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var c=l(1),f=l(22);function h(u,w,T){return{method:"GET",headers:u,signal:T.signal,mode:"cors",credentials:w?"include":"same-origin",redirect:"follow"}}function p(u){const w=new Headers;for(const T in u){const C=u[T];C!==void 0&&w.append(T,C)}return w}function d(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:((0,c.warn)(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class m{constructor(w){this.source=w,this.isHttp=/^https?:/i.test(w.url),this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var w;return((w=this._fullRequestReader)==null?void 0:w._loaded)??0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new y(this),this._fullRequestReader}getRangeReader(w,T){if(T<=this._progressiveDataLength)return null;const C=new x(this,w,T);return this._rangeRequestReaders.push(C),C}cancelAllRequests(w){var T;(T=this._fullRequestReader)==null||T.cancel(w);for(const C of this._rangeRequestReaders.slice(0))C.cancel(w)}}e.PDFFetchStream=m;class y{constructor(w){this._stream=w,this._reader=null,this._loaded=0,this._filename=null;const T=w.source;this._withCredentials=T.withCredentials||!1,this._contentLength=T.length,this._headersCapability=(0,c.createPromiseCapability)(),this._disableRange=T.disableRange||!1,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!T.disableStream,this._isRangeSupported=!T.disableRange,this._headers=p(this._stream.httpHeaders);const C=T.url;fetch(C,h(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,f.validateResponseStatus)(k.status))throw(0,f.createResponseStatusError)(k.status,C);this._reader=k.body.getReader(),this._headersCapability.resolve();const A=v=>k.headers.get(v),{allowRangeRequests:g,suggestedLength:E}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=E||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(A),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new c.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var C;await this._headersCapability.promise;const{value:w,done:T}=await this._reader.read();return T?{value:w,done:T}:(this._loaded+=w.byteLength,(C=this.onProgress)==null||C.call(this,{loaded:this._loaded,total:this._contentLength}),{value:d(w),done:!1})}cancel(w){var T;(T=this._reader)==null||T.cancel(w),this._abortController.abort()}}class x{constructor(w,T,C){this._stream=w,this._reader=null,this._loaded=0;const k=w.source;this._withCredentials=k.withCredentials||!1,this._readCapability=(0,c.createPromiseCapability)(),this._isStreamingSupported=!k.disableStream,this._abortController=new AbortController,this._headers=p(this._stream.httpHeaders),this._headers.append("Range",`bytes=${T}-${C-1}`);const A=k.url;fetch(A,h(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,f.validateResponseStatus)(g.status))throw(0,f.createResponseStatusError)(g.status,A);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var C;await this._readCapability.promise;const{value:w,done:T}=await this._reader.read();return T?{value:w,done:T}:(this._loaded+=w.byteLength,(C=this.onProgress)==null||C.call(this,{loaded:this._loaded}),{value:d(w),done:!1})}cancel(w){var T;(T=this._reader)==null||T.cancel(w),this._abortController.abort()}}},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=k,e.updateTextLayer=A;var c=l(1),f=l(6);const h=1e5,p=30,d=.8,m=new Map;function y(g,E){let v;if(E&&c.FeatureTest.isOffscreenCanvasSupported)v=new OffscreenCanvas(g,g).getContext("2d",{alpha:!1});else{const M=document.createElement("canvas");M.width=M.height=g,v=M.getContext("2d",{alpha:!1})}return v}function x(g,E){const v=m.get(g);if(v)return v;const M=y(p,E);M.font=`${p}px ${g}`;const R=M.measureText("");let I=R.fontBoundingBoxAscent,J=Math.abs(R.fontBoundingBoxDescent);if(I){const L=I/(I+J);return m.set(g,L),M.canvas.width=M.canvas.height=0,L}M.strokeStyle="red",M.clearRect(0,0,p,p),M.strokeText("g",0,0);let _=M.getImageData(0,0,p,p).data;J=0;for(let L=_.length-1-3;L>=0;L-=4)if(_[L]>0){J=Math.ceil(L/4/p);break}M.clearRect(0,0,p,p),M.strokeText("A",0,p),_=M.getImageData(0,0,p,p).data,I=0;for(let L=0,K=_.length;L<K;L+=4)if(_[L]>0){I=p-Math.floor(L/4/p);break}if(M.canvas.width=M.canvas.height=0,I){const L=I/(I+J);return m.set(g,L),L}return m.set(g,d),d}function u(g,E,v){const M=document.createElement("span"),R={angle:0,canvasWidth:0,hasText:E.str!=="",hasEOL:E.hasEOL,fontSize:0};g._textDivs.push(M);const I=c.Util.transform(g._transform,E.transform);let J=Math.atan2(I[1],I[0]);const _=v[E.fontName];_.vertical&&(J+=Math.PI/2);const L=Math.hypot(I[2],I[3]),K=L*x(_.fontFamily,g._isOffscreenCanvasSupported);let $,D;J===0?($=I[4],D=I[5]-K):($=I[4]+K*Math.sin(J),D=I[5]-K*Math.cos(J));const ne="calc(var(--scale-factor)*",F=M.style;g._container===g._rootContainer?(F.left=`${(100*$/g._pageWidth).toFixed(2)}%`,F.top=`${(100*D/g._pageHeight).toFixed(2)}%`):(F.left=`${ne}${$.toFixed(2)}px)`,F.top=`${ne}${D.toFixed(2)}px)`),F.fontSize=`${ne}${L.toFixed(2)}px)`,F.fontFamily=_.fontFamily,R.fontSize=L,M.setAttribute("role","presentation"),M.textContent=E.str,M.dir=E.dir,g._fontInspectorEnabled&&(M.dataset.fontName=E.fontName),J!==0&&(R.angle=J*(180/Math.PI));let j=!1;if(E.str.length>1)j=!0;else if(E.str!==" "&&E.transform[0]!==E.transform[3]){const se=Math.abs(E.transform[0]),Y=Math.abs(E.transform[3]);se!==Y&&Math.max(se,Y)/Math.min(se,Y)>1.5&&(j=!0)}j&&(R.canvasWidth=_.vertical?E.height:E.width),g._textDivProperties.set(M,R),g._isReadableStream&&g._layoutText(M)}function w(g){const{div:E,scale:v,properties:M,ctx:R,prevFontSize:I,prevFontFamily:J}=g,{style:_}=E;let L="";if(M.canvasWidth!==0&&M.hasText){const{fontFamily:K}=_,{canvasWidth:$,fontSize:D}=M;(I!==D||J!==K)&&(R.font=`${D*v}px ${K}`,g.prevFontSize=D,g.prevFontFamily=K);const{width:ne}=R.measureText(E.textContent);ne>0&&(L=`scaleX(${$*v/ne})`)}M.angle!==0&&(L=`rotate(${M.angle}deg) ${L}`),L.length>0&&(_.transform=L)}function T(g){if(g._canceled)return;const E=g._textDivs,v=g._capability;if(E.length>h){v.resolve();return}if(!g._isReadableStream)for(const R of E)g._layoutText(R);v.resolve()}class C{constructor({textContentSource:E,container:v,viewport:M,textDivs:R,textDivProperties:I,textContentItemsStr:J,isOffscreenCanvasSupported:_}){var ne;this._textContentSource=E,this._isReadableStream=E instanceof ReadableStream,this._container=this._rootContainer=v,this._textDivs=R||[],this._textContentItemsStr=J||[],this._isOffscreenCanvasSupported=_,this._fontInspectorEnabled=!!((ne=globalThis.FontInspector)!=null&&ne.enabled),this._reader=null,this._textDivProperties=I||new WeakMap,this._canceled=!1,this._capability=(0,c.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:M.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:y(0,_)};const{pageWidth:L,pageHeight:K,pageX:$,pageY:D}=M.rawDims;this._transform=[1,0,0,-1,-$,D+K],this._pageWidth=L,this._pageHeight=K,(0,f.setLayerDimensions)(v,M),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new c.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new c.AbortException("TextLayer task cancelled."))}_processItems(E,v){for(const M of E){if(M.str===void 0){if(M.type==="beginMarkedContentProps"||M.type==="beginMarkedContent"){const R=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),M.id!==null&&this._container.setAttribute("id",`${M.id}`),R.append(this._container)}else M.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(M.str),u(this,M,v)}}_layoutText(E){const v=this._layoutTextParams.properties=this._textDivProperties.get(E);if(this._layoutTextParams.div=E,w(this._layoutTextParams),v.hasText&&this._container.append(E),v.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),this._container.append(M)}}_render(){const E=(0,c.createPromiseCapability)();let v=Object.create(null);if(this._isReadableStream){const M=()=>{this._reader.read().then(({value:R,done:I})=>{if(I){E.resolve();return}Object.assign(v,R.styles),this._processItems(R.items,v),M()},E.reject)};this._reader=this._textContentSource.getReader(),M()}else if(this._textContentSource){const{items:M,styles:R}=this._textContentSource;this._processItems(M,R),E.resolve()}else throw new Error('No "textContentSource" parameter specified.');E.promise.then(()=>{v=null,T(this)},this._capability.reject)}}e.TextLayerRenderTask=C;function k(g){!g.textContentSource&&(g.textContent||g.textContentStream)&&((0,f.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),g.textContentSource=g.textContent||g.textContentStream);const E=new C(g);return E._render(),E}function A({container:g,viewport:E,textDivs:v,textDivProperties:M,isOffscreenCanvasSupported:R,mustRotate:I=!0,mustRescale:J=!0}){if(I&&(0,f.setLayerDimensions)(g,{rotation:E.rotation}),J){const _=y(0,R),K={prevFontSize:null,prevFontFamily:null,div:null,scale:E.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_};for(const $ of v)K.properties=M.get($),K.div=$,w(K)}}},(t,e,l)=>{var y,x,u,w,T,C,k,A,g,ul,qu,dl,hl;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var c=l(1),f=l(5),h=l(28),p=l(29),d=l(6);const I=class I{constructor(_){xt(this,g);xt(this,y);xt(this,x,!1);xt(this,u,this.pointerup.bind(this));xt(this,w,this.pointerdown.bind(this));xt(this,T,new Map);xt(this,C,!1);xt(this,k,!1);xt(this,A);I._initialized||(I._initialized=!0,h.FreeTextEditor.initialize(_.l10n),p.InkEditor.initialize(_.l10n)),_.uiManager.registerEditorTypes([h.FreeTextEditor,p.InkEditor]),Mt(this,A,_.uiManager),this.pageIndex=_.pageIndex,this.div=_.div,Mt(this,y,_.accessibilityManager),Ie(this,A).addLayer(this)}get isEmpty(){return Ie(this,T).size===0}updateToolbar(_){Ie(this,A).updateToolbar(_)}updateMode(_=Ie(this,A).getMode()){ht(this,g,hl).call(this),_===c.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Ie(this,A).unselectAll(),_!==c.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",_===c.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",_===c.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(_){if(!_&&Ie(this,A).getMode()!==c.AnnotationEditorType.INK)return;if(!_){for(const K of Ie(this,T).values())if(K.isEmpty()){K.setInBackground();return}}ht(this,g,dl).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(_){Ie(this,A).setEditingState(_)}addCommands(_){Ie(this,A).addCommands(_)}enable(){this.div.style.pointerEvents="auto";for(const _ of Ie(this,T).values())_.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const _ of Ie(this,T).values())_.disableEditing();ht(this,g,hl).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(_){Ie(this,A).getActive()!==_&&Ie(this,A).setActiveEditor(_)}enableClick(){this.div.addEventListener("pointerdown",Ie(this,w)),this.div.addEventListener("pointerup",Ie(this,u))}disableClick(){this.div.removeEventListener("pointerdown",Ie(this,w)),this.div.removeEventListener("pointerup",Ie(this,u))}attach(_){Ie(this,T).set(_.id,_)}detach(_){var L;Ie(this,T).delete(_.id),(L=Ie(this,y))==null||L.removePointerInTextLayer(_.contentDiv)}remove(_){Ie(this,A).removeEditor(_),this.detach(_),_.div.style.display="none",setTimeout(()=>{_.div.style.display="",_.div.remove(),_.isAttachedToDOM=!1,document.activeElement===document.body&&Ie(this,A).focusMainContainer()},0),Ie(this,k)||this.addInkEditorIfNeeded(!1)}add(_){if(ht(this,g,ul).call(this,_),Ie(this,A).addEditor(_),this.attach(_),!_.isAttachedToDOM){const L=_.render();this.div.append(L),_.isAttachedToDOM=!0}this.moveEditorInDOM(_),_.onceAdded(),Ie(this,A).addToAnnotationStorage(_)}moveEditorInDOM(_){var L;(L=Ie(this,y))==null||L.moveElementInDOM(this.div,_.div,_.contentDiv,!0)}addOrRebuild(_){_.needsToBeRebuilt()?_.rebuild():this.add(_)}addANewEditor(_){const L=()=>{this.addOrRebuild(_)},K=()=>{_.remove()};this.addCommands({cmd:L,undo:K,mustExec:!0})}addUndoableEditor(_){const L=()=>{this.addOrRebuild(_)},K=()=>{_.remove()};this.addCommands({cmd:L,undo:K,mustExec:!1})}getNextId(){return Ie(this,A).getId()}deserialize(_){switch(_.annotationType){case c.AnnotationEditorType.FREETEXT:return h.FreeTextEditor.deserialize(_,this,Ie(this,A));case c.AnnotationEditorType.INK:return p.InkEditor.deserialize(_,this,Ie(this,A))}return null}setSelected(_){Ie(this,A).setSelected(_)}toggleSelected(_){Ie(this,A).toggleSelected(_)}isSelected(_){return Ie(this,A).isSelected(_)}unselect(_){Ie(this,A).unselect(_)}pointerup(_){const{isMac:L}=c.FeatureTest.platform;if(!(_.button!==0||_.ctrlKey&&L)&&_.target===this.div&&Ie(this,C)){if(Mt(this,C,!1),!Ie(this,x)){Mt(this,x,!0);return}ht(this,g,dl).call(this,_)}}pointerdown(_){const{isMac:L}=c.FeatureTest.platform;if(_.button!==0||_.ctrlKey&&L||_.target!==this.div)return;Mt(this,C,!0);const K=Ie(this,A).getActive();Mt(this,x,!K||K.isEmpty())}drop(_){const L=_.dataTransfer.getData("text/plain"),K=Ie(this,A).getEditor(L);if(!K)return;_.preventDefault(),_.dataTransfer.dropEffect="move",ht(this,g,ul).call(this,K);const $=this.div.getBoundingClientRect(),D=_.clientX-$.x,ne=_.clientY-$.y;K.translate(D-K.startX,ne-K.startY),this.moveEditorInDOM(K),K.div.focus()}dragover(_){_.preventDefault()}destroy(){var _,L;((_=Ie(this,A).getActive())==null?void 0:_.parent)===this&&Ie(this,A).setActiveEditor(null);for(const K of Ie(this,T).values())(L=Ie(this,y))==null||L.removePointerInTextLayer(K.contentDiv),K.setParent(null),K.isAttachedToDOM=!1,K.div.remove();this.div=null,Ie(this,T).clear(),Ie(this,A).removeLayer(this)}render({viewport:_}){this.viewport=_,(0,d.setLayerDimensions)(this.div,_),(0,f.bindEvents)(this,this.div,["dragover","drop"]);for(const L of Ie(this,A).getEditors(this.pageIndex))this.add(L);this.updateMode()}update({viewport:_}){Ie(this,A).commitOrRemove(),this.viewport=_,(0,d.setLayerDimensions)(this.div,{rotation:_.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:_,pageHeight:L}=this.viewport.rawDims;return[_,L]}};y=new WeakMap,x=new WeakMap,u=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakMap,k=new WeakMap,A=new WeakMap,g=new WeakSet,ul=function(_){var L;_.parent!==this&&(this.attach(_),(L=_.parent)==null||L.detach(_),_.setParent(this),_.div&&_.isAttachedToDOM&&(_.div.remove(),this.div.append(_.div)))},qu=function(_){switch(Ie(this,A).getMode()){case c.AnnotationEditorType.FREETEXT:return new h.FreeTextEditor(_);case c.AnnotationEditorType.INK:return new p.InkEditor(_)}return null},dl=function(_){const L=this.getNextId(),K=ht(this,g,qu).call(this,{parent:this,id:L,x:_.offsetX,y:_.offsetY,uiManager:Ie(this,A)});return K&&this.add(K),K},hl=function(){Mt(this,k,!0);for(const _ of Ie(this,T).values())_.isEmpty()&&_.remove();Mt(this,k,!1)},yn(I,"_initialized",!1);let m=I;e.AnnotationEditorLayer=m},(t,e,l)=>{var d,m,y,x,u,w,T,C,k,A,Wu,Xu,Gu,fl;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var c=l(1),f=l(5),h=l(4);const R=class R extends h.AnnotationEditor{constructor(_){super({..._,name:"freeTextEditor"});xt(this,A);xt(this,d,this.editorDivBlur.bind(this));xt(this,m,this.editorDivFocus.bind(this));xt(this,y,this.editorDivInput.bind(this));xt(this,x,this.editorDivKeydown.bind(this));xt(this,u);xt(this,w,"");xt(this,T,`${this.id}-editor`);xt(this,C,!1);xt(this,k);Mt(this,u,_.color||R._defaultColor||h.AnnotationEditor._defaultLineColor),Mt(this,k,_.fontSize||R._defaultFontSize)}static initialize(_){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(K=>[K,_.get(K)]));const L=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(L.getPropertyValue("--freetext-padding"))}static updateDefaultParams(_,L){switch(_){case c.AnnotationEditorParamsType.FREETEXT_SIZE:R._defaultFontSize=L;break;case c.AnnotationEditorParamsType.FREETEXT_COLOR:R._defaultColor=L;break}}updateParams(_,L){switch(_){case c.AnnotationEditorParamsType.FREETEXT_SIZE:ht(this,A,Wu).call(this,L);break;case c.AnnotationEditorParamsType.FREETEXT_COLOR:ht(this,A,Xu).call(this,L);break}}static get defaultPropertiesToUpdate(){return[[c.AnnotationEditorParamsType.FREETEXT_SIZE,R._defaultFontSize],[c.AnnotationEditorParamsType.FREETEXT_COLOR,R._defaultColor||h.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[c.AnnotationEditorParamsType.FREETEXT_SIZE,Ie(this,k)],[c.AnnotationEditorParamsType.FREETEXT_COLOR,Ie(this,u)]]}getInitialTranslation(){const _=this.parentScale;return[-R._internalPadding*_,-(R._internalPadding+Ie(this,k))*_]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(c.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ie(this,x)),this.editorDiv.addEventListener("focus",Ie(this,m)),this.editorDiv.addEventListener("blur",Ie(this,d)),this.editorDiv.addEventListener("input",Ie(this,y)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ie(this,T)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",Ie(this,x)),this.editorDiv.removeEventListener("focus",Ie(this,m)),this.editorDiv.removeEventListener("blur",Ie(this,d)),this.editorDiv.removeEventListener("input",Ie(this,y)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(_){super.focusin(_),_.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),Ie(this,C)||(Mt(this,C,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Mt(this,w,ht(this,A,Gu).call(this).trimEnd()),ht(this,A,fl).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(_){this.enableEditMode(),this.editorDiv.focus()}keydown(_){_.target===this.div&&_.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(_){R._keyboardManager.exec(this,_)}editorDivFocus(_){this.isEditing=!0}editorDivBlur(_){this.isEditing=!1}editorDivInput(_){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let _,L;this.width&&(_=this.x,L=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ie(this,T)),this.enableEditing(),R._l10nPromise.get("editor_free_text2_aria_label").then($=>{var D;return(D=this.editorDiv)==null?void 0:D.setAttribute("aria-label",$)}),R._l10nPromise.get("free_text2_default_content").then($=>{var D;return(D=this.editorDiv)==null?void 0:D.setAttribute("default-content",$)}),this.editorDiv.contentEditable=!0;const{style:K}=this.editorDiv;if(K.fontSize=`calc(${Ie(this,k)}px * var(--scale-factor))`,K.color=Ie(this,u),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,f.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[$,D]=this.parentDimensions;this.setAt(_*$,L*D,this.width*$,this.height*D);for(const ne of Ie(this,w).split(`
`)){const F=document.createElement("div");F.append(ne?document.createTextNode(ne):document.createElement("br")),this.editorDiv.append(F)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(_,L,K){const $=super.deserialize(_,L,K);return Mt($,k,_.fontSize),Mt($,u,c.Util.makeHexColor(..._.color)),Mt($,w,_.value),$}serialize(){if(this.isEmpty())return null;const _=R._internalPadding*this.parentScale,L=this.getRect(_,_),K=h.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ie(this,u));return{annotationType:c.AnnotationEditorType.FREETEXT,color:K,fontSize:Ie(this,k),value:Ie(this,w),pageIndex:this.pageIndex,rect:L,rotation:this.rotation}}};d=new WeakMap,m=new WeakMap,y=new WeakMap,x=new WeakMap,u=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakMap,k=new WeakMap,A=new WeakSet,Wu=function(_){const L=$=>{this.editorDiv.style.fontSize=`calc(${$}px * var(--scale-factor))`,this.translate(0,-($-Ie(this,k))*this.parentScale),Mt(this,k,$),ht(this,A,fl).call(this)},K=Ie(this,k);this.addCommands({cmd:()=>{L(_)},undo:()=>{L(K)},mustExec:!0,type:c.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Xu=function(_){const L=Ie(this,u);this.addCommands({cmd:()=>{Mt(this,u,this.editorDiv.style.color=_)},undo:()=>{Mt(this,u,this.editorDiv.style.color=L)},mustExec:!0,type:c.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Gu=function(){const _=this.editorDiv.getElementsByTagName("div");if(_.length===0)return this.editorDiv.innerText;const L=[];for(const K of _)L.push(K.innerText.replace(/\r\n?|\n/,""));return L.join(`
`)},fl=function(){const[_,L]=this.parentDimensions;let K;if(this.isAttachedToDOM)K=this.div.getBoundingClientRect();else{const{currentLayer:$,div:D}=this,ne=D.style.display;D.style.display="hidden",$.div.append(this.div),K=D.getBoundingClientRect(),D.remove(),D.style.display=ne}this.width=K.width/_,this.height=K.height/L},yn(R,"_freeTextDefaultContent",""),yn(R,"_l10nPromise"),yn(R,"_internalPadding",0),yn(R,"_defaultColor",null),yn(R,"_defaultFontSize",10),yn(R,"_keyboardManager",new f.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],R.prototype.commitOrRemove]])),yn(R,"_type","freetext");let p=R;e.FreeTextEditor=p},(t,e,l)=>{var x,u,w,T,C,k,A,g,E,v,M,R,I,J,_,Zu,Ku,Yu,Ju,pl,Qu,ed,td,Tr,ml,Aa,Ea,Ki,gl,Ta,le,bl,nd,rd,id,yl,Oa,Yi,xl;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return h.fitCurve}});var c=l(1),f=l(4),h=l(30),p=l(5);const d=16,m=100,te=class te extends f.AnnotationEditor{constructor(W){super({...W,name:"inkEditor"});xt(this,_);xt(this,x,0);xt(this,u,0);xt(this,w,0);xt(this,T,this.canvasPointermove.bind(this));xt(this,C,this.canvasPointerleave.bind(this));xt(this,k,this.canvasPointerup.bind(this));xt(this,A,this.canvasPointerdown.bind(this));xt(this,g,!1);xt(this,E,!1);xt(this,v,null);xt(this,M,null);xt(this,R,0);xt(this,I,0);xt(this,J,null);this.color=W.color||null,this.thickness=W.thickness||null,this.opacity=W.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(W){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ue=>[ue,W.get(ue)]))}static updateDefaultParams(W,ue){switch(W){case c.AnnotationEditorParamsType.INK_THICKNESS:te._defaultThickness=ue;break;case c.AnnotationEditorParamsType.INK_COLOR:te._defaultColor=ue;break;case c.AnnotationEditorParamsType.INK_OPACITY:te._defaultOpacity=ue/100;break}}updateParams(W,ue){switch(W){case c.AnnotationEditorParamsType.INK_THICKNESS:ht(this,_,Zu).call(this,ue);break;case c.AnnotationEditorParamsType.INK_COLOR:ht(this,_,Ku).call(this,ue);break;case c.AnnotationEditorParamsType.INK_OPACITY:ht(this,_,Yu).call(this,ue);break}}static get defaultPropertiesToUpdate(){return[[c.AnnotationEditorParamsType.INK_THICKNESS,te._defaultThickness],[c.AnnotationEditorParamsType.INK_COLOR,te._defaultColor||f.AnnotationEditor._defaultLineColor],[c.AnnotationEditorParamsType.INK_OPACITY,Math.round(te._defaultOpacity*100)]]}get propertiesToUpdate(){return[[c.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||te._defaultThickness],[c.AnnotationEditorParamsType.INK_COLOR,this.color||te._defaultColor||f.AnnotationEditor._defaultLineColor],[c.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??te._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ht(this,_,Aa).call(this),ht(this,_,Ea).call(this)),this.isAttachedToDOM||(this.parent.add(this),ht(this,_,Ki).call(this)),ht(this,_,Yi).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ie(this,M).disconnect(),Mt(this,M,null),super.remove())}setParent(W){!this.parent&&W?this._uiManager.removeShouldRescale(this):this.parent&&W===null&&this._uiManager.addShouldRescale(this),super.setParent(W)}onScaleChanging(){const[W,ue]=this.parentDimensions,he=this.width*W,pe=this.height*ue;this.setDimensions(he,pe)}enableEditMode(){Ie(this,g)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",Ie(this,A)),this.canvas.addEventListener("pointerup",Ie(this,k)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ie(this,A)),this.canvas.removeEventListener("pointerup",Ie(this,k)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ie(this,g)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Mt(this,g,!0),this.div.classList.add("disabled"),ht(this,_,Yi).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(W){super.focusin(W),this.enableEditMode()}canvasPointerdown(W){W.button!==0||!this.isInEditMode()||Ie(this,g)||(this.setInForeground(),W.type!=="mouse"&&this.div.focus(),W.stopPropagation(),this.canvas.addEventListener("pointerleave",Ie(this,C)),this.canvas.addEventListener("pointermove",Ie(this,T)),ht(this,_,Qu).call(this,W.offsetX,W.offsetY))}canvasPointermove(W){W.stopPropagation(),ht(this,_,ed).call(this,W.offsetX,W.offsetY)}canvasPointerup(W){W.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(W.stopPropagation(),ht(this,_,ml).call(this,W),this.setInBackground())}canvasPointerleave(W){ht(this,_,ml).call(this,W),this.setInBackground()}render(){if(this.div)return this.div;let W,ue;this.width&&(W=this.x,ue=this.y),super.render(),te._l10nPromise.get("editor_ink2_aria_label").then(de=>{var xe;return(xe=this.div)==null?void 0:xe.setAttribute("aria-label",de)});const[he,pe,Se,ge]=ht(this,_,Ju).call(this);if(this.setAt(he,pe,0,0),this.setDims(Se,ge),ht(this,_,Aa).call(this),this.width){const[de,xe]=this.parentDimensions;this.setAt(W*de,ue*xe,this.width*de,this.height*xe),Mt(this,E,!0),ht(this,_,Ki).call(this),this.setDims(this.width*de,this.height*xe),ht(this,_,Tr).call(this),ht(this,_,xl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ht(this,_,Ea).call(this),this.div}setDimensions(W,ue){const he=Math.round(W),pe=Math.round(ue);if(Ie(this,R)===he&&Ie(this,I)===pe)return;Mt(this,R,he),Mt(this,I,pe),this.canvas.style.visibility="hidden",Ie(this,x)&&Math.abs(Ie(this,x)-W/ue)>.01&&(ue=Math.ceil(W/Ie(this,x)),this.setDims(W,ue));const[Se,ge]=this.parentDimensions;this.width=W/Se,this.height=ue/ge,Ie(this,g)&&ht(this,_,gl).call(this,W,ue),ht(this,_,Ki).call(this),ht(this,_,Tr).call(this),this.canvas.style.visibility="visible"}static deserialize(W,ue,he){var _e,Oe;const pe=super.deserialize(W,ue,he);pe.thickness=W.thickness,pe.color=c.Util.makeHexColor(...W.color),pe.opacity=W.opacity;const[Se,ge]=pe.pageDimensions,de=pe.width*Se,xe=pe.height*ge,ve=pe.parentScale,Ee=W.thickness/2;Mt(pe,x,de/xe),Mt(pe,g,!0),Mt(pe,R,Math.round(de)),Mt(pe,I,Math.round(xe));for(const{bezier:Pe}of W.paths){const je=[];pe.paths.push(je);let De=ve*(Pe[0]-Ee),Me=ve*(xe-Pe[1]-Ee);for(let $e=2,tt=Pe.length;$e<tt;$e+=6){const ut=ve*(Pe[$e]-Ee),ct=ve*(xe-Pe[$e+1]-Ee),mt=ve*(Pe[$e+2]-Ee),Ze=ve*(xe-Pe[$e+3]-Ee),St=ve*(Pe[$e+4]-Ee),Rt=ve*(xe-Pe[$e+5]-Ee);je.push([[De,Me],[ut,ct],[mt,Ze],[St,Rt]]),De=St,Me=Rt}const Fe=ht(this,le,bl).call(this,je);pe.bezierPath2D.push(Fe)}const Te=ht(_e=pe,_,yl).call(_e);return Mt(pe,w,Math.max(d,Te[2]-Te[0])),Mt(pe,u,Math.max(d,Te[3]-Te[1])),ht(Oe=pe,_,gl).call(Oe,de,xe),pe}serialize(){if(this.isEmpty())return null;const W=this.getRect(0,0),ue=this.rotation%180===0?W[3]-W[1]:W[2]-W[0],he=f.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:c.AnnotationEditorType.INK,color:he,thickness:this.thickness,opacity:this.opacity,paths:ht(this,_,nd).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ue),pageIndex:this.pageIndex,rect:W,rotation:this.rotation}}};x=new WeakMap,u=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakMap,k=new WeakMap,A=new WeakMap,g=new WeakMap,E=new WeakMap,v=new WeakMap,M=new WeakMap,R=new WeakMap,I=new WeakMap,J=new WeakMap,_=new WeakSet,Zu=function(W){const ue=this.thickness;this.addCommands({cmd:()=>{this.thickness=W,ht(this,_,Yi).call(this)},undo:()=>{this.thickness=ue,ht(this,_,Yi).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ku=function(W){const ue=this.color;this.addCommands({cmd:()=>{this.color=W,ht(this,_,Tr).call(this)},undo:()=>{this.color=ue,ht(this,_,Tr).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Yu=function(W){W/=100;const ue=this.opacity;this.addCommands({cmd:()=>{this.opacity=W,ht(this,_,Tr).call(this)},undo:()=>{this.opacity=ue,ht(this,_,Tr).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ju=function(){const{parentRotation:W,parentDimensions:[ue,he]}=this;switch(W){case 90:return[0,he,he,ue];case 180:return[ue,he,ue,he];case 270:return[ue,0,he,ue];default:return[0,0,ue,he]}},pl=function(){const{ctx:W,color:ue,opacity:he,thickness:pe,parentScale:Se,scaleFactor:ge}=this;W.lineWidth=pe*Se/ge,W.lineCap="round",W.lineJoin="round",W.miterLimit=10,W.strokeStyle=`${ue}${(0,p.opacityToHex)(he)}`},Qu=function(W,ue){this.isEditing=!0,Ie(this,E)||(Mt(this,E,!0),ht(this,_,Ki).call(this),this.thickness||(this.thickness=te._defaultThickness),this.color||(this.color=te._defaultColor||f.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=te._defaultOpacity)),this.currentPath.push([W,ue]),Mt(this,v,null),ht(this,_,pl).call(this),this.ctx.beginPath(),this.ctx.moveTo(W,ue),Mt(this,J,()=>{Ie(this,J)&&(Ie(this,v)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ht(this,_,Tr).call(this),this.ctx.lineTo(...Ie(this,v)),Mt(this,v,null),this.ctx.stroke()),window.requestAnimationFrame(Ie(this,J)))}),window.requestAnimationFrame(Ie(this,J))},ed=function(W,ue){const[he,pe]=this.currentPath.at(-1);W===he&&ue===pe||(this.currentPath.push([W,ue]),Mt(this,v,[W,ue]))},td=function(W,ue){var ve;this.ctx.closePath(),Mt(this,J,null),W=Math.min(Math.max(W,0),this.canvas.width),ue=Math.min(Math.max(ue,0),this.canvas.height);const[he,pe]=this.currentPath.at(-1);(W!==he||ue!==pe)&&this.currentPath.push([W,ue]);let Se;if(this.currentPath.length!==1)Se=(0,h.fitCurve)(this.currentPath,30,null);else{const Ee=[W,ue];Se=[[Ee,Ee.slice(),Ee.slice(),Ee]]}const ge=ht(ve=te,le,bl).call(ve,Se);this.currentPath.length=0;const de=()=>{this.paths.push(Se),this.bezierPath2D.push(ge),this.rebuild()},xe=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ht(this,_,Aa).call(this),ht(this,_,Ea).call(this)),ht(this,_,Yi).call(this))};this.addCommands({cmd:de,undo:xe,mustExec:!0})},Tr=function(){if(this.isEmpty()){ht(this,_,Ta).call(this);return}ht(this,_,pl).call(this);const{canvas:W,ctx:ue}=this;ue.setTransform(1,0,0,1,0,0),ue.clearRect(0,0,W.width,W.height),ht(this,_,Ta).call(this);for(const he of this.bezierPath2D)ue.stroke(he)},ml=function(W){ht(this,_,td).call(this,W.offsetX,W.offsetY),this.canvas.removeEventListener("pointerleave",Ie(this,C)),this.canvas.removeEventListener("pointermove",Ie(this,T)),this.addToAnnotationStorage()},Aa=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",te._l10nPromise.get("editor_ink_canvas_aria_label").then(W=>{var ue;return(ue=this.canvas)==null?void 0:ue.setAttribute("aria-label",W)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ea=function(){let W=null;Mt(this,M,new ResizeObserver(ue=>{const he=ue[0].contentRect;he.width&&he.height&&(W!==null&&clearTimeout(W),W=setTimeout(()=>{this.fixDims(),W=null},m),this.setDimensions(he.width,he.height))})),Ie(this,M).observe(this.div)},Ki=function(){if(!Ie(this,E))return;const[W,ue]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*W),this.canvas.height=Math.ceil(this.height*ue),ht(this,_,Ta).call(this)},gl=function(W,ue){const he=ht(this,_,Oa).call(this),pe=(W-he)/Ie(this,w),Se=(ue-he)/Ie(this,u);this.scaleFactor=Math.min(pe,Se)},Ta=function(){const W=ht(this,_,Oa).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+W,this.translationY*this.scaleFactor+W)},le=new WeakSet,bl=function(W){const ue=new Path2D;for(let he=0,pe=W.length;he<pe;he++){const[Se,ge,de,xe]=W[he];he===0&&ue.moveTo(...Se),ue.bezierCurveTo(ge[0],ge[1],de[0],de[1],xe[0],xe[1])}return ue},nd=function(W,ue,he,pe){const ge=[],de=this.thickness/2;let xe,ve;for(const Ee of this.paths){xe=[],ve=[];for(let Te=0,_e=Ee.length;Te<_e;Te++){const[Oe,Pe,je,De]=Ee[Te],Me=W*(Oe[0]+ue)+de,Fe=pe-W*(Oe[1]+he)-de,$e=W*(Pe[0]+ue)+de,tt=pe-W*(Pe[1]+he)-de,ut=W*(je[0]+ue)+de,ct=pe-W*(je[1]+he)-de,mt=W*(De[0]+ue)+de,Ze=pe-W*(De[1]+he)-de;Te===0&&(xe.push(Me,Fe),ve.push(Me,Fe)),xe.push($e,tt,ut,ct,mt,Ze),ht(this,_,rd).call(this,Me,Fe,$e,tt,ut,ct,mt,Ze,4,ve)}ge.push({bezier:xe,points:ve})}return ge},rd=function(W,ue,he,pe,Se,ge,de,xe,ve,Ee){if(ht(this,_,id).call(this,W,ue,he,pe,Se,ge,de,xe)){Ee.push(de,xe);return}for(let Te=1;Te<ve-1;Te++){const _e=Te/ve,Oe=1-_e;let Pe=_e*W+Oe*he,je=_e*ue+Oe*pe,De=_e*he+Oe*Se,Me=_e*pe+Oe*ge;const Fe=_e*Se+Oe*de,$e=_e*ge+Oe*xe;Pe=_e*Pe+Oe*De,je=_e*je+Oe*Me,De=_e*De+Oe*Fe,Me=_e*Me+Oe*$e,Pe=_e*Pe+Oe*De,je=_e*je+Oe*Me,Ee.push(Pe,je)}Ee.push(de,xe)},id=function(W,ue,he,pe,Se,ge,de,xe){const Ee=(3*he-2*W-de)**2,Te=(3*pe-2*ue-xe)**2,_e=(3*Se-W-2*de)**2,Oe=(3*ge-ue-2*xe)**2;return Math.max(Ee,_e)+Math.max(Te,Oe)<=10},yl=function(){let W=1/0,ue=-1/0,he=1/0,pe=-1/0;for(const Se of this.paths)for(const[ge,de,xe,ve]of Se){const Ee=c.Util.bezierBoundingBox(...ge,...de,...xe,...ve);W=Math.min(W,Ee[0]),he=Math.min(he,Ee[1]),ue=Math.max(ue,Ee[2]),pe=Math.max(pe,Ee[3])}return[W,he,ue,pe]},Oa=function(){return Ie(this,g)?Math.ceil(this.thickness*this.parentScale):0},Yi=function(W=!1){if(this.isEmpty())return;if(!Ie(this,g)){ht(this,_,Tr).call(this);return}const ue=ht(this,_,yl).call(this),he=ht(this,_,Oa).call(this);Mt(this,w,Math.max(d,ue[2]-ue[0])),Mt(this,u,Math.max(d,ue[3]-ue[1]));const pe=Math.ceil(he+Ie(this,w)*this.scaleFactor),Se=Math.ceil(he+Ie(this,u)*this.scaleFactor),[ge,de]=this.parentDimensions;this.width=pe/ge,this.height=Se/de,Mt(this,x,pe/Se),ht(this,_,xl).call(this);const xe=this.translationX,ve=this.translationY;this.translationX=-ue[0],this.translationY=-ue[1],ht(this,_,Ki).call(this),ht(this,_,Tr).call(this),Mt(this,R,pe),Mt(this,I,Se),this.setDims(pe,Se);const Ee=W?he/this.scaleFactor/2:0;this.translate(xe-this.translationX-Ee,ve-this.translationY-Ee)},xl=function(){const{style:W}=this.div;Ie(this,x)>=1?(W.minHeight=`${d}px`,W.minWidth=`${Math.round(Ie(this,x)*d)}px`):(W.minWidth=`${d}px`,W.minHeight=`${Math.round(d/Ie(this,x))}px`)},xt(te,le),yn(te,"_defaultColor",null),yn(te,"_defaultOpacity",1),yn(te,"_defaultThickness",1),yn(te,"_l10nPromise"),yn(te,"_type","ink");let y=te;e.InkEditor=y},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const c=l(31);e.fitCurve=c},t=>{function e(C,k,A){if(!Array.isArray(C))throw new TypeError("First argument should be an array");if(C.forEach(M=>{if(!Array.isArray(M)||M.some(R=>typeof R!="number")||M.length!==C[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),C=C.filter((M,R)=>R===0||!M.every((I,J)=>I===C[R-1][J])),C.length<2)return[];const g=C.length,E=u(C[1],C[0]),v=u(C[g-2],C[g-1]);return l(C,E,v,k,A)}function l(C,k,A,g,E){var M,R,I,J,_,L,K,$,D,ne,F,j,se;if(C.length===2)return j=w.vectorLen(w.subtract(C[0],C[1]))/3,M=[C[0],w.addArrays(C[0],w.mulItems(k,j)),w.addArrays(C[1],w.mulItems(A,j)),C[1]],[M];if(R=d(C),[M,J,L]=c(C,R,R,k,A,E),J===0||J<g)return[M];if(J<g*g)for(I=R,_=J,K=L,se=0;se<20;se++){if(I=h(M,C,I),[M,J,L]=c(C,R,I,k,A,E),J<g)return[M];if(L===K){let Y=J/_;if(Y>.9999&&Y<1.0001)break}_=J,K=L}return F=[],$=w.subtract(C[L-1],C[L+1]),$.every(Y=>Y===0)&&($=w.subtract(C[L-1],C[L]),[$[0],$[1]]=[-$[1],$[0]]),D=w.normalize($),ne=w.mulItems(D,-1),F=F.concat(l(C.slice(0,L+1),k,D,g,E)),F=F.concat(l(C.slice(L),ne,A,g,E)),F}function c(C,k,A,g,E,v){var M,R,I;return M=f(C,A,g,E),[R,I]=m(C,M,k),v&&v({bez:M,points:C,params:k,maxErr:R,maxPoint:I}),[M,R,I]}function f(C,k,A,g){var E,v,M,R,I,J,_,L,K,$,D,ne,F,j,se,Y,q,Q=C[0],N=C[C.length-1];for(E=[Q,null,null,N],v=w.zeros_Xx2x2(k.length),F=0,j=k.length;F<j;F++)Y=k[F],q=1-Y,M=v[F],M[0]=w.mulItems(A,3*Y*(q*q)),M[1]=w.mulItems(g,3*q*(Y*Y));for(R=[[0,0],[0,0]],I=[0,0],F=0,j=C.length;F<j;F++)Y=k[F],M=v[F],R[0][0]+=w.dot(M[0],M[0]),R[0][1]+=w.dot(M[0],M[1]),R[1][0]+=w.dot(M[0],M[1]),R[1][1]+=w.dot(M[1],M[1]),se=w.subtract(C[F],T.q([Q,Q,N,N],Y)),I[0]+=w.dot(M[0],se),I[1]+=w.dot(M[1],se);return J=R[0][0]*R[1][1]-R[1][0]*R[0][1],_=R[0][0]*I[1]-R[1][0]*I[0],L=I[0]*R[1][1]-I[1]*R[0][1],K=J===0?0:L/J,$=J===0?0:_/J,ne=w.vectorLen(w.subtract(Q,N)),D=1e-6*ne,K<D||$<D?(E[1]=w.addArrays(Q,w.mulItems(A,ne/3)),E[2]=w.addArrays(N,w.mulItems(g,ne/3))):(E[1]=w.addArrays(Q,w.mulItems(A,K)),E[2]=w.addArrays(N,w.mulItems(g,$))),E}function h(C,k,A){return A.map((g,E)=>p(C,k[E],g))}function p(C,k,A){var g=w.subtract(T.q(C,A),k),E=T.qprime(C,A),v=w.mulMatrix(g,E),M=w.sum(w.squareItems(E))+2*w.mulMatrix(g,T.qprimeprime(C,A));return M===0?A:A-v/M}function d(C){var k=[],A,g,E;return C.forEach((v,M)=>{A=M?g+w.vectorLen(w.subtract(v,E)):0,k.push(A),g=A,E=v}),k=k.map(v=>v/g),k}function m(C,k,A){var g,E,v,M,R,I,J,_;E=0,v=Math.floor(C.length/2);const L=y(k,10);for(R=0,I=C.length;R<I;R++)J=C[R],_=x(k,A[R],L,10),M=w.subtract(T.q(k,_),J),g=M[0]*M[0]+M[1]*M[1],g>E&&(E=g,v=R);return[E,v]}var y=function(C,k){for(var A,g=[0],E=C[0],v=0,M=1;M<=k;M++)A=T.q(C,M/k),v+=w.vectorLen(w.subtract(A,E)),g.push(v),E=A;return g=g.map(R=>R/v),g};function x(C,k,A,g){if(k<0)return 0;if(k>1)return 1;for(var E,v,M,R,I,J=1;J<=g;J++)if(k<=A[J]){R=(J-1)/g,M=J/g,v=A[J-1],E=A[J],I=(k-v)/(E-v)*(M-R)+R;break}return I}function u(C,k){return w.normalize(w.subtract(C,k))}class w{static zeros_Xx2x2(k){for(var A=[];k--;)A.push([0,0]);return A}static mulItems(k,A){return k.map(g=>g*A)}static mulMatrix(k,A){return k.reduce((g,E,v)=>g+E*A[v],0)}static subtract(k,A){return k.map((g,E)=>g-A[E])}static addArrays(k,A){return k.map((g,E)=>g+A[E])}static addItems(k,A){return k.map(g=>g+A)}static sum(k){return k.reduce((A,g)=>A+g)}static dot(k,A){return w.mulMatrix(k,A)}static vectorLen(k){return Math.hypot(...k)}static divItems(k,A){return k.map(g=>g/A)}static squareItems(k){return k.map(A=>A*A)}static normalize(k){return this.divItems(k,this.vectorLen(k))}}class T{static q(k,A){var g=1-A,E=w.mulItems(k[0],g*g*g),v=w.mulItems(k[1],3*g*g*A),M=w.mulItems(k[2],3*g*A*A),R=w.mulItems(k[3],A*A*A);return w.addArrays(w.addArrays(E,v),w.addArrays(M,R))}static qprime(k,A){var g=1-A,E=w.mulItems(w.subtract(k[1],k[0]),3*g*g),v=w.mulItems(w.subtract(k[2],k[1]),6*g*A),M=w.mulItems(w.subtract(k[3],k[2]),3*A*A);return w.addArrays(w.addArrays(E,v),M)}static qprimeprime(k,A){return w.addArrays(w.mulItems(w.addArrays(w.subtract(k[2],w.mulItems(k[1],2)),k[0]),6*(1-A)),w.mulItems(w.addArrays(w.subtract(k[3],w.mulItems(k[2],2)),k[1]),6*A))}}t.exports=e,t.exports.fitCubic=l,t.exports.createTangent=u},(t,e,l)=>{var G,ki,sd,re,Sl,wl;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var c=l(1),f=l(6),h=l(3),p=l(33),d=l(34);const m=1e3,y=9,x=new WeakSet;function u(me){return{width:me[2]-me[0],height:me[3]-me[1]}}class w{static create(ee){switch(ee.data.annotationType){case c.AnnotationType.LINK:return new C(ee);case c.AnnotationType.TEXT:return new k(ee);case c.AnnotationType.WIDGET:switch(ee.data.fieldType){case"Tx":return new g(ee);case"Btn":return ee.data.radioButton?new v(ee):ee.data.checkBox?new E(ee):new M(ee);case"Ch":return new R(ee)}return new A(ee);case c.AnnotationType.POPUP:return new I(ee);case c.AnnotationType.FREETEXT:return new _(ee);case c.AnnotationType.LINE:return new L(ee);case c.AnnotationType.SQUARE:return new K(ee);case c.AnnotationType.CIRCLE:return new $(ee);case c.AnnotationType.POLYLINE:return new D(ee);case c.AnnotationType.CARET:return new F(ee);case c.AnnotationType.INK:return new j(ee);case c.AnnotationType.POLYGON:return new ne(ee);case c.AnnotationType.HIGHLIGHT:return new se(ee);case c.AnnotationType.UNDERLINE:return new Y(ee);case c.AnnotationType.SQUIGGLY:return new q(ee);case c.AnnotationType.STRIKEOUT:return new Q(ee);case c.AnnotationType.STAMP:return new N(ee);case c.AnnotationType.FILEATTACHMENT:return new O(ee);default:return new T(ee)}}}class T{constructor(ee,{isRenderable:te=!1,ignoreBorder:oe=!1,createQuadrilaterals:V=!1}={}){this.isRenderable=te,this.data=ee.data,this.layer=ee.layer,this.page=ee.page,this.viewport=ee.viewport,this.linkService=ee.linkService,this.downloadManager=ee.downloadManager,this.imageResourcesPath=ee.imageResourcesPath,this.renderForms=ee.renderForms,this.svgFactory=ee.svgFactory,this.annotationStorage=ee.annotationStorage,this.enableScripting=ee.enableScripting,this.hasJSActions=ee.hasJSActions,this._fieldObjects=ee.fieldObjects,te&&(this.container=this._createContainer(oe)),V&&(this.quadrilaterals=this._createQuadrilaterals(oe))}_createContainer(ee=!1){const{data:te,page:oe,viewport:V}=this,W=document.createElement("section");W.setAttribute("data-annotation-id",te.id);const{pageWidth:ue,pageHeight:he,pageX:pe,pageY:Se}=V.rawDims,{width:ge,height:de}=u(te.rect),xe=c.Util.normalizeRect([te.rect[0],oe.view[3]-te.rect[1]+oe.view[1],te.rect[2],oe.view[3]-te.rect[3]+oe.view[1]]);if(!ee&&te.borderStyle.width>0){W.style.borderWidth=`${te.borderStyle.width}px`;const Ee=te.borderStyle.horizontalCornerRadius,Te=te.borderStyle.verticalCornerRadius;if(Ee>0||Te>0){const Oe=`calc(${Ee}px * var(--scale-factor)) / calc(${Te}px * var(--scale-factor))`;W.style.borderRadius=Oe}else if(this instanceof v){const Oe=`calc(${ge}px * var(--scale-factor)) / calc(${de}px * var(--scale-factor))`;W.style.borderRadius=Oe}switch(te.borderStyle.style){case c.AnnotationBorderStyleType.SOLID:W.style.borderStyle="solid";break;case c.AnnotationBorderStyleType.DASHED:W.style.borderStyle="dashed";break;case c.AnnotationBorderStyleType.BEVELED:(0,c.warn)("Unimplemented border style: beveled");break;case c.AnnotationBorderStyleType.INSET:(0,c.warn)("Unimplemented border style: inset");break;case c.AnnotationBorderStyleType.UNDERLINE:W.style.borderBottomStyle="solid";break}const _e=te.borderColor||null;_e?W.style.borderColor=c.Util.makeHexColor(_e[0]|0,_e[1]|0,_e[2]|0):W.style.borderWidth=0}W.style.left=`${100*(xe[0]-pe)/ue}%`,W.style.top=`${100*(xe[1]-Se)/he}%`;const{rotation:ve}=te;return te.hasOwnCanvas||ve===0?(W.style.width=`${100*ge/ue}%`,W.style.height=`${100*de/he}%`):this.setRotation(ve,W),W}setRotation(ee,te=this.container){const{pageWidth:oe,pageHeight:V}=this.viewport.rawDims,{width:W,height:ue}=u(this.data.rect);let he,pe;ee%180===0?(he=100*W/oe,pe=100*ue/V):(he=100*ue/oe,pe=100*W/V),te.style.width=`${he}%`,te.style.height=`${pe}%`,te.setAttribute("data-main-rotation",(360-ee)%360)}get _commonActions(){const ee=(te,oe,V)=>{const W=V.detail[te];V.target.style[oe]=p.ColorConverters[`${W[0]}_HTML`](W.slice(1))};return(0,c.shadow)(this,"_commonActions",{display:te=>{const oe=te.detail.display%2===1;this.container.style.visibility=oe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:oe,print:te.detail.display===0||te.detail.display===3})},print:te=>{this.annotationStorage.setValue(this.data.id,{print:te.detail.print})},hidden:te=>{this.container.style.visibility=te.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:te.detail.hidden})},focus:te=>{setTimeout(()=>te.target.focus({preventScroll:!1}),0)},userName:te=>{te.target.title=te.detail.userName},readonly:te=>{te.detail.readonly?te.target.setAttribute("readonly",""):te.target.removeAttribute("readonly")},required:te=>{this._setRequired(te.target,te.detail.required)},bgColor:te=>{ee("bgColor","backgroundColor",te)},fillColor:te=>{ee("fillColor","backgroundColor",te)},fgColor:te=>{ee("fgColor","color",te)},textColor:te=>{ee("textColor","color",te)},borderColor:te=>{ee("borderColor","borderColor",te)},strokeColor:te=>{ee("strokeColor","borderColor",te)},rotation:te=>{const oe=te.detail.rotation;this.setRotation(oe),this.annotationStorage.setValue(this.data.id,{rotation:oe})}})}_dispatchEventFromSandbox(ee,te){const oe=this._commonActions;for(const V of Object.keys(te.detail)){const W=ee[V]||oe[V];W==null||W(te)}}_setDefaultPropertiesFromJS(ee){if(!this.enableScripting)return;const te=this.annotationStorage.getRawValue(this.data.id);if(!te)return;const oe=this._commonActions;for(const[V,W]of Object.entries(te)){const ue=oe[V];if(ue){const he={detail:{[V]:W},target:ee};ue(he),delete te[V]}}}_createQuadrilaterals(ee=!1){if(!this.data.quadPoints)return null;const te=[],oe=this.data.rect;for(const V of this.data.quadPoints)this.data.rect=[V[2].x,V[2].y,V[1].x,V[1].y],te.push(this._createContainer(ee));return this.data.rect=oe,te}_createPopup(ee,te){let oe=this.container;this.quadrilaterals&&(ee=ee||this.quadrilaterals,oe=this.quadrilaterals[0]),ee||(ee=document.createElement("div"),ee.className="popupTriggerArea",oe.append(ee));const W=new J({container:oe,trigger:ee,color:te.color,titleObj:te.titleObj,modificationDate:te.modificationDate,contentsObj:te.contentsObj,richText:te.richText,hideWrapper:!0}).render();W.style.left="100%",oe.append(W)}_renderQuadrilaterals(ee){for(const te of this.quadrilaterals)te.className=ee;return this.quadrilaterals}render(){(0,c.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ee,te=null){const oe=[];if(this._fieldObjects){const V=this._fieldObjects[ee];if(V)for(const{page:W,id:ue,exportValues:he}of V){if(W===-1||ue===te)continue;const pe=typeof he=="string"?he:null,Se=document.querySelector(`[data-element-id="${ue}"]`);if(Se&&!x.has(Se)){(0,c.warn)(`_getElementsByName - element not allowed: ${ue}`);continue}oe.push({id:ue,exportValue:pe,domElement:Se})}return oe}for(const V of document.getElementsByName(ee)){const{exportValue:W}=V,ue=V.getAttribute("data-element-id");ue!==te&&x.has(V)&&oe.push({id:ue,exportValue:W,domElement:V})}return oe}}class C extends T{constructor(te,oe=null){super(te,{isRenderable:!0,ignoreBorder:!!(oe!=null&&oe.ignoreBorder),createQuadrilaterals:!0});xt(this,G);this.isTooltipOnly=te.data.isTooltipOnly}render(){const{data:te,linkService:oe}=this,V=document.createElement("a");V.setAttribute("data-element-id",te.id);let W=!1;return te.url?(oe.addLinkAttributes(V,te.url,te.newWindow),W=!0):te.action?(this._bindNamedAction(V,te.action),W=!0):te.attachment?(this._bindAttachment(V,te.attachment),W=!0):te.setOCGState?(ht(this,G,sd).call(this,V,te.setOCGState),W=!0):te.dest?(this._bindLink(V,te.dest),W=!0):(te.actions&&(te.actions.Action||te.actions["Mouse Up"]||te.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(V,te),W=!0),te.resetForm?(this._bindResetFormAction(V,te.resetForm),W=!0):this.isTooltipOnly&&!W&&(this._bindLink(V,""),W=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((ue,he)=>{const pe=he===0?V:V.cloneNode();return ue.append(pe),ue}):(this.container.className="linkAnnotation",W&&this.container.append(V),this.container)}_bindLink(te,oe){te.href=this.linkService.getDestinationHash(oe),te.onclick=()=>(oe&&this.linkService.goToDestination(oe),!1),(oe||oe==="")&&ht(this,G,ki).call(this)}_bindNamedAction(te,oe){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>(this.linkService.executeNamedAction(oe),!1),ht(this,G,ki).call(this)}_bindAttachment(te,oe){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>{var V;return(V=this.downloadManager)==null||V.openOrDownloadData(this.container,oe.content,oe.filename),!1},ht(this,G,ki).call(this)}_bindJSAction(te,oe){te.href=this.linkService.getAnchorUrl("");const V=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const W of Object.keys(oe.actions)){const ue=V.get(W);ue&&(te[ue]=()=>{var he;return(he=this.linkService.eventBus)==null||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:oe.id,name:W}}),!1})}te.onclick||(te.onclick=()=>!1),ht(this,G,ki).call(this)}_bindResetFormAction(te,oe){const V=te.onclick;if(V||(te.href=this.linkService.getAnchorUrl("")),ht(this,G,ki).call(this),!this._fieldObjects){(0,c.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),V||(te.onclick=()=>!1);return}te.onclick=()=>{var de;V==null||V();const{fields:W,refs:ue,include:he}=oe,pe=[];if(W.length!==0||ue.length!==0){const xe=new Set(ue);for(const ve of W){const Ee=this._fieldObjects[ve]||[];for(const{id:Te}of Ee)xe.add(Te)}for(const ve of Object.values(this._fieldObjects))for(const Ee of ve)xe.has(Ee.id)===he&&pe.push(Ee)}else for(const xe of Object.values(this._fieldObjects))pe.push(...xe);const Se=this.annotationStorage,ge=[];for(const xe of pe){const{id:ve}=xe;switch(ge.push(ve),xe.type){case"text":{const Te=xe.defaultValue||"";Se.setValue(ve,{value:Te});break}case"checkbox":case"radiobutton":{const Te=xe.defaultValue===xe.exportValues;Se.setValue(ve,{value:Te});break}case"combobox":case"listbox":{const Te=xe.defaultValue||"";Se.setValue(ve,{value:Te});break}default:continue}const Ee=document.querySelector(`[data-element-id="${ve}"]`);if(Ee){if(!x.has(Ee)){(0,c.warn)(`_bindResetFormAction - element not allowed: ${ve}`);continue}}else continue;Ee.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((de=this.linkService.eventBus)==null||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ge,name:"ResetForm"}})),!1}}}G=new WeakSet,ki=function(){this.container.setAttribute("data-internal-link","")},sd=function(te,oe){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>(this.linkService.executeSetOCGState(oe),!1),ht(this,G,ki).call(this)};class k extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te})}render(){this.container.className="textAnnotation";const ee=document.createElement("img");return ee.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ee.alt="[{{type}} Annotation]",ee.dataset.l10nId="text_annotation_type",ee.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(ee,this.data),this.container.append(ee),this.container}}class A extends T{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(ee){const{isWin:te,isMac:oe}=c.FeatureTest.platform;return te&&ee.ctrlKey||oe&&ee.metaKey}_setEventListener(ee,te,oe,V){te.includes("mouse")?ee.addEventListener(te,W=>{var ue;(ue=this.linkService.eventBus)==null||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:oe,value:V(W),shift:W.shiftKey,modifier:this._getKeyModifier(W)}})}):ee.addEventListener(te,W=>{var ue;(ue=this.linkService.eventBus)==null||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:oe,value:V(W)}})})}_setEventListeners(ee,te,oe){var V;for(const[W,ue]of te)(ue==="Action"||(V=this.data.actions)!=null&&V[ue])&&this._setEventListener(ee,W,ue,oe)}_setBackgroundColor(ee){const te=this.data.backgroundColor||null;ee.style.backgroundColor=te===null?"transparent":c.Util.makeHexColor(te[0],te[1],te[2])}_setTextStyle(ee){const te=["left","center","right"],{fontColor:oe}=this.data.defaultAppearanceData,V=this.data.defaultAppearanceData.fontSize||y,W=ee.style;let ue;const he=2,pe=Se=>Math.round(10*Se)/10;if(this.data.multiLine){const Se=Math.abs(this.data.rect[3]-this.data.rect[1]-he),ge=Math.round(Se/(c.LINE_FACTOR*V))||1,de=Se/ge;ue=Math.min(V,pe(de/c.LINE_FACTOR))}else{const Se=Math.abs(this.data.rect[3]-this.data.rect[1]-he);ue=Math.min(V,pe(Se/c.LINE_FACTOR))}W.fontSize=`calc(${ue}px * var(--scale-factor))`,W.color=c.Util.makeHexColor(oe[0],oe[1],oe[2]),this.data.textAlignment!==null&&(W.textAlign=te[this.data.textAlignment])}_setRequired(ee,te){te?ee.setAttribute("required",!0):ee.removeAttribute("required"),ee.setAttribute("aria-required",te)}}class g extends A{constructor(ee){const te=ee.renderForms||!ee.data.hasAppearance&&!!ee.data.fieldValue;super(ee,{isRenderable:te})}setPropertyOnSiblings(ee,te,oe,V){const W=this.annotationStorage;for(const ue of this._getElementsByName(ee.name,ee.id))ue.domElement&&(ue.domElement[te]=oe),W.setValue(ue.id,{[V]:oe})}render(){var V;const ee=this.annotationStorage,te=this.data.id;this.container.className="textWidgetAnnotation";let oe=null;if(this.renderForms){const W=ee.getValue(te,{value:this.data.fieldValue});let ue=W.formattedValue||W.value||"";const he=ee.getValue(te,{charLimit:this.data.maxLen}).charLimit;he&&ue.length>he&&(ue=ue.slice(0,he));const pe={userValue:ue,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(oe=document.createElement("textarea"),oe.textContent=ue,this.data.doNotScroll&&(oe.style.overflowY="hidden")):(oe=document.createElement("input"),oe.type="text",oe.setAttribute("value",ue),this.data.doNotScroll&&(oe.style.overflowX="hidden")),x.add(oe),oe.setAttribute("data-element-id",te),oe.disabled=this.data.readOnly,oe.name=this.data.fieldName,oe.tabIndex=m,this._setRequired(oe,this.data.required),he&&(oe.maxLength=he),oe.addEventListener("input",ge=>{ee.setValue(te,{value:ge.target.value}),this.setPropertyOnSiblings(oe,"value",ge.target.value,"value")}),oe.addEventListener("resetform",ge=>{const de=this.data.defaultFieldValue??"";oe.value=pe.userValue=de,pe.formattedValue=null});let Se=ge=>{const{formattedValue:de}=pe;de!=null&&(ge.target.value=de),ge.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){oe.addEventListener("focus",de=>{const{target:xe}=de;pe.userValue&&(xe.value=pe.userValue),pe.lastCommittedValue=xe.value,pe.commitKey=1}),oe.addEventListener("updatefromsandbox",de=>{const xe={value(ve){pe.userValue=ve.detail.value??"",ee.setValue(te,{value:pe.userValue.toString()}),ve.target.value=pe.userValue},formattedValue(ve){const{formattedValue:Ee}=ve.detail;pe.formattedValue=Ee,Ee!=null&&ve.target!==document.activeElement&&(ve.target.value=Ee),ee.setValue(te,{formattedValue:Ee})},selRange(ve){ve.target.setSelectionRange(...ve.detail.selRange)},charLimit:ve=>{var Oe;const{charLimit:Ee}=ve.detail,{target:Te}=ve;if(Ee===0){Te.removeAttribute("maxLength");return}Te.setAttribute("maxLength",Ee);let _e=pe.userValue;!_e||_e.length<=Ee||(_e=_e.slice(0,Ee),Te.value=pe.userValue=_e,ee.setValue(te,{value:_e}),(Oe=this.linkService.eventBus)==null||Oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:_e,willCommit:!0,commitKey:1,selStart:Te.selectionStart,selEnd:Te.selectionEnd}}))}};this._dispatchEventFromSandbox(xe,de)}),oe.addEventListener("keydown",de=>{var Ee;pe.commitKey=1;let xe=-1;if(de.key==="Escape"?xe=0:de.key==="Enter"&&!this.data.multiLine?xe=2:de.key==="Tab"&&(pe.commitKey=3),xe===-1)return;const{value:ve}=de.target;pe.lastCommittedValue!==ve&&(pe.lastCommittedValue=ve,pe.userValue=ve,(Ee=this.linkService.eventBus)==null||Ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:ve,willCommit:!0,commitKey:xe,selStart:de.target.selectionStart,selEnd:de.target.selectionEnd}}))});const ge=Se;Se=null,oe.addEventListener("blur",de=>{var ve;if(!de.relatedTarget)return;const{value:xe}=de.target;pe.userValue=xe,pe.lastCommittedValue!==xe&&((ve=this.linkService.eventBus)==null||ve.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:xe,willCommit:!0,commitKey:pe.commitKey,selStart:de.target.selectionStart,selEnd:de.target.selectionEnd}})),ge(de)}),(V=this.data.actions)!=null&&V.Keystroke&&oe.addEventListener("beforeinput",de=>{var je;pe.lastCommittedValue=null;const{data:xe,target:ve}=de,{value:Ee,selectionStart:Te,selectionEnd:_e}=ve;let Oe=Te,Pe=_e;switch(de.inputType){case"deleteWordBackward":{const De=Ee.substring(0,Te).match(/\w*[^\w]*$/);De&&(Oe-=De[0].length);break}case"deleteWordForward":{const De=Ee.substring(Te).match(/^[^\w]*\w*/);De&&(Pe+=De[0].length);break}case"deleteContentBackward":Te===_e&&(Oe-=1);break;case"deleteContentForward":Te===_e&&(Pe+=1);break}de.preventDefault(),(je=this.linkService.eventBus)==null||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:Ee,change:xe||"",willCommit:!1,selStart:Oe,selEnd:Pe}})}),this._setEventListeners(oe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],de=>de.target.value)}if(Se&&oe.addEventListener("blur",Se),this.data.comb){const de=(this.data.rect[2]-this.data.rect[0])/he;oe.classList.add("comb"),oe.style.letterSpacing=`calc(${de}px * var(--scale-factor) - 1ch)`}}else oe=document.createElement("div"),oe.textContent=this.data.fieldValue,oe.style.verticalAlign="middle",oe.style.display="table-cell";return this._setTextStyle(oe),this._setBackgroundColor(oe),this._setDefaultPropertiesFromJS(oe),this.container.append(oe),this.container}}class E extends A{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){const ee=this.annotationStorage,te=this.data,oe=te.id;let V=ee.getValue(oe,{value:te.exportValue===te.fieldValue}).value;typeof V=="string"&&(V=V!=="Off",ee.setValue(oe,{value:V})),this.container.className="buttonWidgetAnnotation checkBox";const W=document.createElement("input");return x.add(W),W.setAttribute("data-element-id",oe),W.disabled=te.readOnly,this._setRequired(W,this.data.required),W.type="checkbox",W.name=te.fieldName,V&&W.setAttribute("checked",!0),W.setAttribute("exportValue",te.exportValue),W.tabIndex=m,W.addEventListener("change",ue=>{const{name:he,checked:pe}=ue.target;for(const Se of this._getElementsByName(he,oe)){const ge=pe&&Se.exportValue===te.exportValue;Se.domElement&&(Se.domElement.checked=ge),ee.setValue(Se.id,{value:ge})}ee.setValue(oe,{value:pe})}),W.addEventListener("resetform",ue=>{const he=te.defaultFieldValue||"Off";ue.target.checked=he===te.exportValue}),this.enableScripting&&this.hasJSActions&&(W.addEventListener("updatefromsandbox",ue=>{const he={value(pe){pe.target.checked=pe.detail.value!=="Off",ee.setValue(oe,{value:pe.target.checked})}};this._dispatchEventFromSandbox(he,ue)}),this._setEventListeners(W,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ue=>ue.target.checked)),this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class v extends A{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const ee=this.annotationStorage,te=this.data,oe=te.id;let V=ee.getValue(oe,{value:te.fieldValue===te.buttonValue}).value;typeof V=="string"&&(V=V!==te.buttonValue,ee.setValue(oe,{value:V}));const W=document.createElement("input");if(x.add(W),W.setAttribute("data-element-id",oe),W.disabled=te.readOnly,this._setRequired(W,this.data.required),W.type="radio",W.name=te.fieldName,V&&W.setAttribute("checked",!0),W.tabIndex=m,W.addEventListener("change",ue=>{const{name:he,checked:pe}=ue.target;for(const Se of this._getElementsByName(he,oe))ee.setValue(Se.id,{value:!1});ee.setValue(oe,{value:pe})}),W.addEventListener("resetform",ue=>{const he=te.defaultFieldValue;ue.target.checked=he!=null&&he===te.buttonValue}),this.enableScripting&&this.hasJSActions){const ue=te.buttonValue;W.addEventListener("updatefromsandbox",he=>{const pe={value:Se=>{const ge=ue===Se.detail.value;for(const de of this._getElementsByName(Se.target.name)){const xe=ge&&de.id===oe;de.domElement&&(de.domElement.checked=xe),ee.setValue(de.id,{value:xe})}}};this._dispatchEventFromSandbox(pe,he)}),this._setEventListeners(W,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],he=>he.target.checked)}return this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class M extends C{constructor(ee){super(ee,{ignoreBorder:ee.data.hasAppearance})}render(){const ee=super.render();ee.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(ee.title=this.data.alternativeText);const te=ee.lastChild;return this.enableScripting&&this.hasJSActions&&te&&(this._setDefaultPropertiesFromJS(te),te.addEventListener("updatefromsandbox",oe=>{this._dispatchEventFromSandbox({},oe)})),ee}}class R extends A{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const ee=this.annotationStorage,te=this.data.id,oe=ee.getValue(te,{value:this.data.fieldValue}),V=document.createElement("select");x.add(V),V.setAttribute("data-element-id",te),V.disabled=this.data.readOnly,this._setRequired(V,this.data.required),V.name=this.data.fieldName,V.tabIndex=m;let W=this.data.combo&&this.data.options.length>0;this.data.combo||(V.size=this.data.options.length,this.data.multiSelect&&(V.multiple=!0)),V.addEventListener("resetform",ge=>{const de=this.data.defaultFieldValue;for(const xe of V.options)xe.selected=xe.value===de});for(const ge of this.data.options){const de=document.createElement("option");de.textContent=ge.displayValue,de.value=ge.exportValue,oe.value.includes(ge.exportValue)&&(de.setAttribute("selected",!0),W=!1),V.append(de)}let ue=null;if(W){const ge=document.createElement("option");ge.value=" ",ge.setAttribute("hidden",!0),ge.setAttribute("selected",!0),V.prepend(ge),ue=()=>{ge.remove(),V.removeEventListener("input",ue),ue=null},V.addEventListener("input",ue)}const he=ge=>{const de=ge?"value":"textContent",{options:xe,multiple:ve}=V;return ve?Array.prototype.filter.call(xe,Ee=>Ee.selected).map(Ee=>Ee[de]):xe.selectedIndex===-1?null:xe[xe.selectedIndex][de]};let pe=he(!1);const Se=ge=>{const de=ge.target.options;return Array.prototype.map.call(de,xe=>({displayValue:xe.textContent,exportValue:xe.value}))};return this.enableScripting&&this.hasJSActions?(V.addEventListener("updatefromsandbox",ge=>{const de={value(xe){ue==null||ue();const ve=xe.detail.value,Ee=new Set(Array.isArray(ve)?ve:[ve]);for(const Te of V.options)Te.selected=Ee.has(Te.value);ee.setValue(te,{value:he(!0)}),pe=he(!1)},multipleSelection(xe){V.multiple=!0},remove(xe){const ve=V.options,Ee=xe.detail.remove;ve[Ee].selected=!1,V.remove(Ee),ve.length>0&&Array.prototype.findIndex.call(ve,_e=>_e.selected)===-1&&(ve[0].selected=!0),ee.setValue(te,{value:he(!0),items:Se(xe)}),pe=he(!1)},clear(xe){for(;V.length!==0;)V.remove(0);ee.setValue(te,{value:null,items:[]}),pe=he(!1)},insert(xe){const{index:ve,displayValue:Ee,exportValue:Te}=xe.detail.insert,_e=V.children[ve],Oe=document.createElement("option");Oe.textContent=Ee,Oe.value=Te,_e?_e.before(Oe):V.append(Oe),ee.setValue(te,{value:he(!0),items:Se(xe)}),pe=he(!1)},items(xe){const{items:ve}=xe.detail;for(;V.length!==0;)V.remove(0);for(const Ee of ve){const{displayValue:Te,exportValue:_e}=Ee,Oe=document.createElement("option");Oe.textContent=Te,Oe.value=_e,V.append(Oe)}V.options.length>0&&(V.options[0].selected=!0),ee.setValue(te,{value:he(!0),items:Se(xe)}),pe=he(!1)},indices(xe){const ve=new Set(xe.detail.indices);for(const Ee of xe.target.options)Ee.selected=ve.has(Ee.index);ee.setValue(te,{value:he(!0)}),pe=he(!1)},editable(xe){xe.target.disabled=!xe.detail.editable}};this._dispatchEventFromSandbox(de,ge)}),V.addEventListener("input",ge=>{var xe;const de=he(!0);ee.setValue(te,{value:de}),ge.preventDefault(),(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:pe,changeEx:de,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(V,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ge=>ge.target.value)):V.addEventListener("input",function(ge){ee.setValue(te,{value:he(!0)})}),this.data.combo&&this._setTextStyle(V),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}const ae=class ae extends T{constructor(ee){var V,W,ue;const{data:te}=ee,oe=!ae.IGNORE_TYPES.has(te.parentType)&&!!((V=te.titleObj)!=null&&V.str||(W=te.contentsObj)!=null&&W.str||(ue=te.richText)!=null&&ue.str);super(ee,{isRenderable:oe})}render(){this.container.className="popupAnnotation";const ee=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(ee.length===0)return this.container;const te=new J({container:this.container,trigger:Array.from(ee),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),oe=this.page,V=c.Util.normalizeRect([this.data.parentRect[0],oe.view[3]-this.data.parentRect[1]+oe.view[1],this.data.parentRect[2],oe.view[3]-this.data.parentRect[3]+oe.view[1]]),W=V[0]+this.data.parentRect[2]-this.data.parentRect[0],ue=V[1],{pageWidth:he,pageHeight:pe,pageX:Se,pageY:ge}=this.viewport.rawDims;return this.container.style.left=`${100*(W-Se)/he}%`,this.container.style.top=`${100*(ue-ge)/pe}%`,this.container.append(te.render()),this.container}};yn(ae,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let I=ae;class J{constructor(ee){this.container=ee.container,this.trigger=ee.trigger,this.color=ee.color,this.titleObj=ee.titleObj,this.modificationDate=ee.modificationDate,this.contentsObj=ee.contentsObj,this.richText=ee.richText,this.hideWrapper=ee.hideWrapper||!1,this.pinned=!1}render(){var he,pe;const te=document.createElement("div");te.className="popupWrapper",this.hideElement=this.hideWrapper?te:this.container,this.hideElement.hidden=!0;const oe=document.createElement("div");oe.className="popup";const V=this.color;if(V){const Se=.7*(255-V[0])+V[0],ge=.7*(255-V[1])+V[1],de=.7*(255-V[2])+V[2];oe.style.backgroundColor=c.Util.makeHexColor(Se|0,ge|0,de|0)}const W=document.createElement("h1");W.dir=this.titleObj.dir,W.textContent=this.titleObj.str,oe.append(W);const ue=f.PDFDateString.toDateObject(this.modificationDate);if(ue){const Se=document.createElement("span");Se.className="popupDate",Se.textContent="{{date}}, {{time}}",Se.dataset.l10nId="annotation_date_string",Se.dataset.l10nArgs=JSON.stringify({date:ue.toLocaleDateString(),time:ue.toLocaleTimeString()}),oe.append(Se)}if((he=this.richText)!=null&&he.str&&(!((pe=this.contentsObj)!=null&&pe.str)||this.contentsObj.str===this.richText.str))d.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:oe}),oe.lastChild.className="richText popupContent";else{const Se=this._formatContents(this.contentsObj);oe.append(Se)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Se of this.trigger)Se.addEventListener("click",this._toggle.bind(this)),Se.addEventListener("mouseover",this._show.bind(this,!1)),Se.addEventListener("mouseout",this._hide.bind(this,!1));return oe.addEventListener("click",this._hide.bind(this,!0)),te.append(oe),te}_formatContents({str:ee,dir:te}){const oe=document.createElement("p");oe.className="popupContent",oe.dir=te;const V=ee.split(/(?:\r\n?|\n)/);for(let W=0,ue=V.length;W<ue;++W){const he=V[W];oe.append(document.createTextNode(he)),W<ue-1&&oe.append(document.createElement("br"))}return oe}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(ee=!1){ee&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(ee=!0){ee&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class _ extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0}),this.textContent=ee.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const ee=document.createElement("div");ee.className="annotationTextContent",ee.setAttribute("role","comment");for(const te of this.textContent){const oe=document.createElement("span");oe.textContent=te,ee.append(oe)}this.container.append(ee)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const ee=this.data,{width:te,height:oe}=u(ee.rect),V=this.svgFactory.create(te,oe,!0),W=this.svgFactory.createElement("svg:line");return W.setAttribute("x1",ee.rect[2]-ee.lineCoordinates[0]),W.setAttribute("y1",ee.rect[3]-ee.lineCoordinates[1]),W.setAttribute("x2",ee.rect[2]-ee.lineCoordinates[2]),W.setAttribute("y2",ee.rect[3]-ee.lineCoordinates[3]),W.setAttribute("stroke-width",ee.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),V.append(W),this.container.append(V),this._createPopup(W,ee),this.container}}class K extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const ee=this.data,{width:te,height:oe}=u(ee.rect),V=this.svgFactory.create(te,oe,!0),W=ee.borderStyle.width,ue=this.svgFactory.createElement("svg:rect");return ue.setAttribute("x",W/2),ue.setAttribute("y",W/2),ue.setAttribute("width",te-W),ue.setAttribute("height",oe-W),ue.setAttribute("stroke-width",W||1),ue.setAttribute("stroke","transparent"),ue.setAttribute("fill","transparent"),V.append(ue),this.container.append(V),this._createPopup(ue,ee),this.container}}class $ extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const ee=this.data,{width:te,height:oe}=u(ee.rect),V=this.svgFactory.create(te,oe,!0),W=ee.borderStyle.width,ue=this.svgFactory.createElement("svg:ellipse");return ue.setAttribute("cx",te/2),ue.setAttribute("cy",oe/2),ue.setAttribute("rx",te/2-W/2),ue.setAttribute("ry",oe/2-W/2),ue.setAttribute("stroke-width",W||1),ue.setAttribute("stroke","transparent"),ue.setAttribute("fill","transparent"),V.append(ue),this.container.append(V),this._createPopup(ue,ee),this.container}}class D extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ee=this.data,{width:te,height:oe}=u(ee.rect),V=this.svgFactory.create(te,oe,!0);let W=[];for(const he of ee.vertices){const pe=he.x-ee.rect[0],Se=ee.rect[3]-he.y;W.push(pe+","+Se)}W=W.join(" ");const ue=this.svgFactory.createElement(this.svgElementName);return ue.setAttribute("points",W),ue.setAttribute("stroke-width",ee.borderStyle.width||1),ue.setAttribute("stroke","transparent"),ue.setAttribute("fill","transparent"),V.append(ue),this.container.append(V),this._createPopup(ue,ee),this.container}}class ne extends D{constructor(ee){super(ee),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class F extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class j extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ee=this.data,{width:te,height:oe}=u(ee.rect),V=this.svgFactory.create(te,oe,!0);for(const W of ee.inkLists){let ue=[];for(const pe of W){const Se=pe.x-ee.rect[0],ge=ee.rect[3]-pe.y;ue.push(`${Se},${ge}`)}ue=ue.join(" ");const he=this.svgFactory.createElement(this.svgElementName);he.setAttribute("points",ue),he.setAttribute("stroke-width",ee.borderStyle.width||1),he.setAttribute("stroke","transparent"),he.setAttribute("fill","transparent"),this._createPopup(he,ee),V.append(he)}return this.container.append(V),this.container}}class se extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Y extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class q extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Q extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class N extends T{constructor(ee){var oe,V,W;const te=!!(ee.data.hasPopup||(oe=ee.data.titleObj)!=null&&oe.str||(V=ee.data.contentsObj)!=null&&V.str||(W=ee.data.richText)!=null&&W.str);super(ee,{isRenderable:te,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends T{constructor(ee){var V;super(ee,{isRenderable:!0});const{filename:te,content:oe}=this.data.file;this.filename=(0,f.getFilenameFromUrl)(te,!0),this.content=oe,(V=this.linkService.eventBus)==null||V.dispatch("fileattachmentannotation",{source:this,filename:te,content:oe})}render(){var te,oe;this.container.className="fileAttachmentAnnotation";let ee;return this.data.hasAppearance?ee=document.createElement("div"):(ee=document.createElement("img"),ee.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),ee.className="popupTriggerArea",ee.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((te=this.data.titleObj)!=null&&te.str||(oe=this.data.contentsObj)!=null&&oe.str||this.data.richText)&&this._createPopup(ee,this.data),this.container.append(ee),this.container}_download(){var ee;(ee=this.downloadManager)==null||ee.openOrDownloadData(this.container,this.content,this.filename)}}const Ce=class Ce{static render(ee){var pe,Se;const{annotations:te,div:oe,viewport:V,accessibilityManager:W}=ee;(0,f.setLayerDimensions)(oe,V);const ue={data:null,layer:oe,page:ee.page,viewport:V,linkService:ee.linkService,downloadManager:ee.downloadManager,imageResourcesPath:ee.imageResourcesPath||"",renderForms:ee.renderForms!==!1,svgFactory:new f.DOMSVGFactory,annotationStorage:ee.annotationStorage||new h.AnnotationStorage,enableScripting:ee.enableScripting===!0,hasJSActions:ee.hasJSActions,fieldObjects:ee.fieldObjects};let he=0;for(const ge of te){if(ge.annotationType!==c.AnnotationType.POPUP){const{width:ve,height:Ee}=u(ge.rect);if(ve<=0||Ee<=0)continue}ue.data=ge;const de=w.create(ue);if(!de.isRenderable)continue;const xe=de.render();if(ge.hidden&&(xe.style.visibility="hidden"),Array.isArray(xe))for(const ve of xe)ve.style.zIndex=he++,ht(pe=Ce,re,Sl).call(pe,ve,ge.id,oe,W);else xe.style.zIndex=he++,de instanceof I?oe.prepend(xe):ht(Se=Ce,re,Sl).call(Se,xe,ge.id,oe,W)}ht(this,re,wl).call(this,oe,ee.annotationCanvasMap)}static update(ee){const{annotationCanvasMap:te,div:oe,viewport:V}=ee;(0,f.setLayerDimensions)(oe,{rotation:V.rotation}),ht(this,re,wl).call(this,oe,te),oe.hidden=!1}};re=new WeakSet,Sl=function(ee,te,oe,V){const W=ee.firstChild||ee;W.id=`${f.AnnotationPrefix}${te}`,oe.append(ee),V==null||V.moveElementInDOM(oe,ee,W,!1)},wl=function(ee,te){if(te){for(const[oe,V]of te){const W=ee.querySelector(`[data-annotation-id="${oe}"]`);if(!W)continue;const{firstChild:ue}=W;ue?ue.nodeName==="CANVAS"?ue.replaceWith(V):ue.before(V):W.append(V)}te.clear()}},xt(Ce,re);let H=Ce;e.AnnotationLayer=H},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function l(f){return Math.floor(Math.max(0,Math.min(1,f))*255).toString(16).padStart(2,"0")}class c{static CMYK_G([h,p,d,m]){return["G",1-Math.min(1,.3*h+.59*d+.11*p+m)]}static G_CMYK([h]){return["CMYK",0,0,0,1-h]}static G_RGB([h]){return["RGB",h,h,h]}static G_HTML([h]){const p=l(h);return`#${p}${p}${p}`}static RGB_G([h,p,d]){return["G",.3*h+.59*p+.11*d]}static RGB_HTML([h,p,d]){const m=l(h),y=l(p),x=l(d);return`#${m}${y}${x}`}static T_HTML(){return"#00000000"}static CMYK_RGB([h,p,d,m]){return["RGB",1-Math.min(1,h+m),1-Math.min(1,d+m),1-Math.min(1,p+m)]}static CMYK_HTML(h){const p=this.CMYK_RGB(h).slice(1);return this.RGB_HTML(p)}static RGB_CMYK([h,p,d]){const m=1-h,y=1-p,x=1-d,u=Math.min(m,y,x);return["CMYK",m,y,x,u]}}e.ColorConverters=c},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var c=l(19);class f{static setupStorage(p,d,m,y,x){const u=y.getValue(d,{value:null});switch(m.name){case"textarea":if(u.value!==null&&(p.textContent=u.value),x==="print")break;p.addEventListener("input",w=>{y.setValue(d,{value:w.target.value})});break;case"input":if(m.attributes.type==="radio"||m.attributes.type==="checkbox"){if(u.value===m.attributes.xfaOn?p.setAttribute("checked",!0):u.value===m.attributes.xfaOff&&p.removeAttribute("checked"),x==="print")break;p.addEventListener("change",w=>{y.setValue(d,{value:w.target.checked?w.target.getAttribute("xfaOn"):w.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&p.setAttribute("value",u.value),x==="print")break;p.addEventListener("input",w=>{y.setValue(d,{value:w.target.value})})}break;case"select":if(u.value!==null)for(const w of m.children)w.attributes.value===u.value&&(w.attributes.selected=!0);p.addEventListener("input",w=>{const T=w.target.options,C=T.selectedIndex===-1?"":T[T.selectedIndex].value;y.setValue(d,{value:C})});break}}static setAttributes({html:p,element:d,storage:m=null,intent:y,linkService:x}){const{attributes:u}=d,w=p instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${y}`);for(const[T,C]of Object.entries(u))if(C!=null)switch(T){case"class":C.length&&p.setAttribute(T,C.join(" "));break;case"dataId":break;case"id":p.setAttribute("data-element-id",C);break;case"style":Object.assign(p.style,C);break;case"textContent":p.textContent=C;break;default:(!w||T!=="href"&&T!=="newWindow")&&p.setAttribute(T,C)}w&&x.addLinkAttributes(p,u.href,u.newWindow),m&&u.dataId&&this.setupStorage(p,u.dataId,d,m)}static render(p){var k;const d=p.annotationStorage,m=p.linkService,y=p.xfaHtml,x=p.intent||"display",u=document.createElement(y.name);y.attributes&&this.setAttributes({html:u,element:y,intent:x,linkService:m});const w=[[y,-1,u]],T=p.div;if(T.append(u),p.viewport){const A=`matrix(${p.viewport.transform.join(",")})`;T.style.transform=A}x!=="richText"&&T.setAttribute("class","xfaLayer xfaFont");const C=[];for(;w.length>0;){const[A,g,E]=w.at(-1);if(g+1===A.children.length){w.pop();continue}const v=A.children[++w.at(-1)[1]];if(v===null)continue;const{name:M}=v;if(M==="#text"){const I=document.createTextNode(v.value);C.push(I),E.append(I);continue}let R;if((k=v==null?void 0:v.attributes)!=null&&k.xmlns?R=document.createElementNS(v.attributes.xmlns,M):R=document.createElement(M),E.append(R),v.attributes&&this.setAttributes({html:R,element:v,storage:d,intent:x,linkService:m}),v.children&&v.children.length>0)w.push([v,-1,R]);else if(v.value){const I=document.createTextNode(v.value);c.XfaText.shouldBuildText(M)&&C.push(I),R.append(I)}}for(const A of T.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:C}}static update(p){const d=`matrix(${p.viewport.transform.join(",")})`;p.div.style.transform=d,p.div.hidden=!1}}e.XfaLayer=f},(t,e,l)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var c=l(6),f=l(1),h=l(10);let p=class{constructor(){(0,f.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=p;{let E=function(_){let L=[];const K=[];for(const $ of _){if($.fn==="save"){L.push({fnId:92,fn:"group",items:[]}),K.push(L),L=L.at(-1).items;continue}$.fn==="restore"?L=K.pop():L.push($)}return L},v=function(_){if(Number.isInteger(_))return _.toString();const L=_.toFixed(10);let K=L.length-1;if(L[K]!=="0")return L;do K--;while(L[K]==="0");return L.substring(0,L[K]==="."?K:K+1)},M=function(_){if(_[4]===0&&_[5]===0){if(_[1]===0&&_[2]===0)return _[0]===1&&_[3]===1?"":`scale(${v(_[0])} ${v(_[3])})`;if(_[0]===_[3]&&_[1]===-_[2]){const L=Math.acos(_[0])*180/Math.PI;return`rotate(${v(L)})`}}else if(_[0]===1&&_[1]===0&&_[2]===0&&_[3]===1)return`translate(${v(_[4])} ${v(_[5])})`;return`matrix(${v(_[0])} ${v(_[1])} ${v(_[2])} ${v(_[3])} ${v(_[4])} ${v(_[5])})`};var d=E,m=v,y=M;const x={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/1999/xlink",T=["butt","round","square"],C=["miter","round","bevel"],k=function(_,L="",K=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!K)return URL.createObjectURL(new Blob([_],{type:L}));const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let D=`data:${L};base64,`;for(let ne=0,F=_.length;ne<F;ne+=3){const j=_[ne]&255,se=_[ne+1]&255,Y=_[ne+2]&255,q=j>>2,Q=(j&3)<<4|se>>4,N=ne+1<F?(se&15)<<2|Y>>6:64,O=ne+2<F?Y&63:64;D+=$[q]+$[Q]+$[N]+$[O]}return D},A=function(){const _=new Uint8Array([137,80,78,71,13,10,26,10]),L=12,K=new Int32Array(256);for(let Y=0;Y<256;Y++){let q=Y;for(let Q=0;Q<8;Q++)q&1?q=3988292384^q>>1&2147483647:q=q>>1&2147483647;K[Y]=q}function $(Y,q,Q){let N=-1;for(let O=q;O<Q;O++){const H=(N^Y[O])&255,G=K[H];N=N>>>8^G}return N^-1}function D(Y,q,Q,N){let O=N;const H=q.length;Q[O]=H>>24&255,Q[O+1]=H>>16&255,Q[O+2]=H>>8&255,Q[O+3]=H&255,O+=4,Q[O]=Y.charCodeAt(0)&255,Q[O+1]=Y.charCodeAt(1)&255,Q[O+2]=Y.charCodeAt(2)&255,Q[O+3]=Y.charCodeAt(3)&255,O+=4,Q.set(q,O),O+=q.length;const G=$(Q,N+4,O);Q[O]=G>>24&255,Q[O+1]=G>>16&255,Q[O+2]=G>>8&255,Q[O+3]=G&255}function ne(Y,q,Q){let N=1,O=0;for(let H=q;H<Q;++H)N=(N+(Y[H]&255))%65521,O=(O+N)%65521;return O<<16|N}function F(Y){if(!h.isNodeJS)return j(Y);try{let q;parseInt(process.versions.node)>=8?q=Y:q=Buffer.from(Y);const Q=require$$5.deflateSync(q,{level:9});return Q instanceof Uint8Array?Q:new Uint8Array(Q)}catch(q){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+q)}return j(Y)}function j(Y){let q=Y.length;const Q=65535,N=Math.ceil(q/Q),O=new Uint8Array(2+q+N*5+4);let H=0;O[H++]=120,O[H++]=156;let G=0;for(;q>Q;)O[H++]=0,O[H++]=255,O[H++]=255,O[H++]=0,O[H++]=0,O.set(Y.subarray(G,G+Q),H),H+=Q,G+=Q,q-=Q;O[H++]=1,O[H++]=q&255,O[H++]=q>>8&255,O[H++]=~q&65535&255,O[H++]=(~q&65535)>>8&255,O.set(Y.subarray(G),H),H+=Y.length-G;const le=ne(Y,0,Y.length);return O[H++]=le>>24&255,O[H++]=le>>16&255,O[H++]=le>>8&255,O[H++]=le&255,O}function se(Y,q,Q,N){const O=Y.width,H=Y.height;let G,le,fe;const ae=Y.data;switch(q){case f.ImageKind.GRAYSCALE_1BPP:le=0,G=1,fe=O+7>>3;break;case f.ImageKind.RGB_24BPP:le=2,G=8,fe=O*3;break;case f.ImageKind.RGBA_32BPP:le=6,G=8,fe=O*4;break;default:throw new Error("invalid format")}const re=new Uint8Array((1+fe)*H);let be=0,ye=0;for(let V=0;V<H;++V)re[be++]=0,re.set(ae.subarray(ye,ye+fe),be),ye+=fe,be+=fe;if(q===f.ImageKind.GRAYSCALE_1BPP&&N){be=0;for(let V=0;V<H;V++){be++;for(let W=0;W<fe;W++)re[be++]^=255}}const Ce=new Uint8Array([O>>24&255,O>>16&255,O>>8&255,O&255,H>>24&255,H>>16&255,H>>8&255,H&255,G,le,0,0,0]),me=F(re),ee=_.length+L*3+Ce.length+me.length,te=new Uint8Array(ee);let oe=0;return te.set(_,oe),oe+=_.length,D("IHDR",Ce,te,oe),oe+=L+Ce.length,D("IDATA",me,te,oe),oe+=L+me.length,D("IEND",new Uint8Array(0),te,oe),k(te,"image/png",Q)}return function(q,Q,N){const O=q.kind===void 0?f.ImageKind.GRAYSCALE_1BPP:q.kind;return se(q,O,Q,N)}}();class g{constructor(){this.fontSizeScale=1,this.fontWeight=x.fontWeight,this.fontSize=0,this.textMatrix=f.IDENTITY_MATRIX,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=f.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=x.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(L,K){this.x=L,this.y=K}}let R=0,I=0,J=0;e.SVGGraphics=p=class{constructor(_,L,K=!1){(0,c.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new c.DOMSVGFactory,this.current=new g,this.transformMatrix=f.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=L,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!K,this._operatorIdMapping=[];for(const $ in f.OPS)this._operatorIdMapping[f.OPS[$]]=$}getObject(_,L=null){return typeof _=="string"?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):L}save(){this.transformStack.push(this.transformMatrix);const _=this.current;this.extraStack.push(_),this.current=_.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_){this.save(),this.executeOpTree(_),this.restore()}loadDependencies(_){const L=_.fnArray,K=_.argsArray;for(let $=0,D=L.length;$<D;$++)if(L[$]===f.OPS.dependency)for(const ne of K[$]){const F=ne.startsWith("g_")?this.commonObjs:this.objs,j=new Promise(se=>{F.get(ne,se)});this.current.dependencies.push(j)}return Promise.all(this.current.dependencies)}transform(_,L,K,$,D,ne){const F=[_,L,K,$,D,ne];this.transformMatrix=f.Util.transform(this.transformMatrix,F),this.tgrp=null}getSVG(_,L){this.viewport=L;const K=this._initialize(L);return this.loadDependencies(_).then(()=>(this.transformMatrix=f.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_)),K))}convertOpList(_){const L=this._operatorIdMapping,K=_.argsArray,$=_.fnArray,D=[];for(let ne=0,F=$.length;ne<F;ne++){const j=$[ne];D.push({fnId:j,fn:L[j],args:K[ne]})}return E(D)}executeOpTree(_){for(const L of _){const K=L.fn,$=L.fnId,D=L.args;switch($|0){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(D);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(D[0],D[1]);break;case f.OPS.setFont:this.setFont(D);break;case f.OPS.showText:this.showText(D[0]);break;case f.OPS.showSpacedText:this.showText(D[0]);break;case f.OPS.endText:this.endText();break;case f.OPS.moveText:this.moveText(D[0],D[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(D[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(D[0]);break;case f.OPS.setHScale:this.setHScale(D[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(D[0],D[1],D[2],D[3],D[4],D[5]);break;case f.OPS.setTextRise:this.setTextRise(D[0]);break;case f.OPS.setTextRenderingMode:this.setTextRenderingMode(D[0]);break;case f.OPS.setLineWidth:this.setLineWidth(D[0]);break;case f.OPS.setLineJoin:this.setLineJoin(D[0]);break;case f.OPS.setLineCap:this.setLineCap(D[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(D[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(D[0],D[1],D[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(D[0],D[1],D[2]);break;case f.OPS.setStrokeColorN:this.setStrokeColorN(D);break;case f.OPS.setFillColorN:this.setFillColorN(D);break;case f.OPS.shadingFill:this.shadingFill(D[0]);break;case f.OPS.setDash:this.setDash(D[0],D[1]);break;case f.OPS.setRenderingIntent:this.setRenderingIntent(D[0]);break;case f.OPS.setFlatness:this.setFlatness(D[0]);break;case f.OPS.setGState:this.setGState(D[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintImageXObject:this.paintImageXObject(D[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(D[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(D[0]);break;case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(D[0],D[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(D[0],D[1],D[2],D[3],D[4],D[5]);break;case f.OPS.constructPath:this.constructPath(D[0],D[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(L.items);break;default:(0,f.warn)(`Unimplemented operator ${K}`);break}}}setWordSpacing(_){this.current.wordSpacing=_}setCharSpacing(_){this.current.charSpacing=_}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_,L,K,$,D,ne){const F=this.current;F.textMatrix=F.lineMatrix=[_,L,K,$,D,ne],F.textMatrixScale=Math.hypot(_,L),F.x=F.lineX=0,F.y=F.lineY=0,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${v(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",v(-F.y)),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtElement.append(F.tspan)}beginText(){const _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=f.IDENTITY_MATRIX,_.lineMatrix=f.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}moveText(_,L){const K=this.current;K.x=K.lineX+=_,K.y=K.lineY+=L,K.xcoords=[],K.ycoords=[],K.tspan=this.svgFactory.createElement("svg:tspan"),K.tspan.setAttributeNS(null,"font-family",K.fontFamily),K.tspan.setAttributeNS(null,"font-size",`${v(K.fontSize)}px`),K.tspan.setAttributeNS(null,"y",v(-K.y))}showText(_){const L=this.current,K=L.font,$=L.fontSize;if($===0)return;const D=L.fontSizeScale,ne=L.charSpacing,F=L.wordSpacing,j=L.fontDirection,se=L.textHScale*j,Y=K.vertical,q=Y?1:-1,Q=K.defaultVMetrics,N=$*L.fontMatrix[0];let O=0;for(const le of _){if(le===null){O+=j*F;continue}else if(typeof le=="number"){O+=q*le*$/1e3;continue}const fe=(le.isSpace?F:0)+ne,ae=le.fontChar;let re,be,ye=le.width;if(Y){let me;const ee=le.vmetric||Q;me=le.vmetric?ee[1]:ye*.5,me=-me*N;const te=ee[2]*N;ye=ee?-ee[0]:ye,re=me/D,be=(O+te)/D}else re=O/D,be=0;(le.isInFont||K.missingFile)&&(L.xcoords.push(L.x+re),Y&&L.ycoords.push(-L.y+be),L.tspan.textContent+=ae);let Ce;Y?Ce=ye*N-fe*j:Ce=ye*N+fe*j,O+=Ce}L.tspan.setAttributeNS(null,"x",L.xcoords.map(v).join(" ")),Y?L.tspan.setAttributeNS(null,"y",L.ycoords.map(v).join(" ")):L.tspan.setAttributeNS(null,"y",v(-L.y)),Y?L.y-=O:L.x+=O*se,L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${v(L.fontSize)}px`),L.fontStyle!==x.fontStyle&&L.tspan.setAttributeNS(null,"font-style",L.fontStyle),L.fontWeight!==x.fontWeight&&L.tspan.setAttributeNS(null,"font-weight",L.fontWeight);const H=L.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;if(H===f.TextRenderingMode.FILL||H===f.TextRenderingMode.FILL_STROKE?(L.fillColor!==x.fillColor&&L.tspan.setAttributeNS(null,"fill",L.fillColor),L.fillAlpha<1&&L.tspan.setAttributeNS(null,"fill-opacity",L.fillAlpha)):L.textRenderingMode===f.TextRenderingMode.ADD_TO_PATH?L.tspan.setAttributeNS(null,"fill","transparent"):L.tspan.setAttributeNS(null,"fill","none"),H===f.TextRenderingMode.STROKE||H===f.TextRenderingMode.FILL_STROKE){const le=1/(L.textMatrixScale||1);this._setStrokeAttributes(L.tspan,le)}let G=L.textMatrix;L.textRise!==0&&(G=G.slice(),G[5]+=L.textRise),L.txtElement.setAttributeNS(null,"transform",`${M(G)} scale(${v(se)}, -1)`),L.txtElement.setAttributeNS(u,"xml:space","preserve"),L.txtElement.append(L.tspan),L.txtgrp.append(L.txtElement),this._ensureTransformGroup().append(L.txtElement)}setLeadingMoveText(_,L){this.setLeading(-L),this.moveText(_,L)}addFontStyle(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const L=k(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_.loadedName}"; src: url(${L}); }
`}setFont(_){const L=this.current,K=this.commonObjs.get(_[0]);let $=_[1];L.font=K,this.embedFonts&&!K.missingFile&&!this.embeddedFonts[K.loadedName]&&(this.addFontStyle(K),this.embeddedFonts[K.loadedName]=K),L.fontMatrix=K.fontMatrix||f.FONT_IDENTITY_MATRIX;let D="normal";K.black?D="900":K.bold&&(D="bold");const ne=K.italic?"italic":"normal";$<0?($=-$,L.fontDirection=-1):L.fontDirection=1,L.fontSize=$,L.fontFamily=K.loadedName,L.fontWeight=D,L.fontStyle=ne,L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"y",v(-L.y)),L.xcoords=[],L.ycoords=[]}endText(){var L;const _=this.current;_.textRenderingMode&f.TextRenderingMode.ADD_TO_PATH_FLAG&&((L=_.txtElement)!=null&&L.hasChildNodes())&&(_.element=_.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_){_>0&&(this.current.lineWidth=_)}setLineCap(_){this.current.lineCap=T[_]}setLineJoin(_){this.current.lineJoin=C[_]}setMiterLimit(_){this.current.miterLimit=_}setStrokeAlpha(_){this.current.strokeAlpha=_}setStrokeRGBColor(_,L,K){this.current.strokeColor=f.Util.makeHexColor(_,L,K)}setFillAlpha(_){this.current.fillAlpha=_}setFillRGBColor(_,L,K){this.current.fillColor=f.Util.makeHexColor(_,L,K),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_){this.current.strokeColor=this._makeColorN_Pattern(_)}setFillColorN(_){this.current.fillColor=this._makeColorN_Pattern(_)}shadingFill(_){const L=this.viewport.width,K=this.viewport.height,$=f.Util.inverseTransform(this.transformMatrix),D=f.Util.applyTransform([0,0],$),ne=f.Util.applyTransform([0,K],$),F=f.Util.applyTransform([L,0],$),j=f.Util.applyTransform([L,K],$),se=Math.min(D[0],ne[0],F[0],j[0]),Y=Math.min(D[1],ne[1],F[1],j[1]),q=Math.max(D[0],ne[0],F[0],j[0]),Q=Math.max(D[1],ne[1],F[1],j[1]),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",se),N.setAttributeNS(null,"y",Y),N.setAttributeNS(null,"width",q-se),N.setAttributeNS(null,"height",Q-Y),N.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&N.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(N)}_makeColorN_Pattern(_){return _[0]==="TilingPattern"?this._makeTilingPattern(_):this._makeShadingPattern(_)}_makeTilingPattern(_){const L=_[1],K=_[2],$=_[3]||f.IDENTITY_MATRIX,[D,ne,F,j]=_[4],se=_[5],Y=_[6],q=_[7],Q=`shading${J++}`,[N,O,H,G]=f.Util.normalizeRect([...f.Util.applyTransform([D,ne],$),...f.Util.applyTransform([F,j],$)]),[le,fe]=f.Util.singularValueDecompose2dScale($),ae=se*le,re=Y*fe,be=this.svgFactory.createElement("svg:pattern");be.setAttributeNS(null,"id",Q),be.setAttributeNS(null,"patternUnits","userSpaceOnUse"),be.setAttributeNS(null,"width",ae),be.setAttributeNS(null,"height",re),be.setAttributeNS(null,"x",`${N}`),be.setAttributeNS(null,"y",`${O}`);const ye=this.svg,Ce=this.transformMatrix,me=this.current.fillColor,ee=this.current.strokeColor,te=this.svgFactory.create(H-N,G-O);if(this.svg=te,this.transformMatrix=$,q===2){const oe=f.Util.makeHexColor(...L);this.current.fillColor=oe,this.current.strokeColor=oe}return this.executeOpTree(this.convertOpList(K)),this.svg=ye,this.transformMatrix=Ce,this.current.fillColor=me,this.current.strokeColor=ee,be.append(te.childNodes[0]),this.defs.append(be),`url(#${Q})`}_makeShadingPattern(_){switch(typeof _=="string"&&(_=this.objs.get(_)),_[0]){case"RadialAxial":const L=`shading${J++}`,K=_[3];let $;switch(_[1]){case"axial":const D=_[4],ne=_[5];$=this.svgFactory.createElement("svg:linearGradient"),$.setAttributeNS(null,"id",L),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"x1",D[0]),$.setAttributeNS(null,"y1",D[1]),$.setAttributeNS(null,"x2",ne[0]),$.setAttributeNS(null,"y2",ne[1]);break;case"radial":const F=_[4],j=_[5],se=_[6],Y=_[7];$=this.svgFactory.createElement("svg:radialGradient"),$.setAttributeNS(null,"id",L),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"cx",j[0]),$.setAttributeNS(null,"cy",j[1]),$.setAttributeNS(null,"r",Y),$.setAttributeNS(null,"fx",F[0]),$.setAttributeNS(null,"fy",F[1]),$.setAttributeNS(null,"fr",se);break;default:throw new Error(`Unknown RadialAxial type: ${_[1]}`)}for(const D of K){const ne=this.svgFactory.createElement("svg:stop");ne.setAttributeNS(null,"offset",D[0]),ne.setAttributeNS(null,"stop-color",D[1]),$.append(ne)}return this.defs.append($),`url(#${L})`;case"Mesh":return(0,f.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_[0]}`)}}setDash(_,L){this.current.dashArray=_,this.current.dashPhase=L}constructPath(_,L){const K=this.current;let $=K.x,D=K.y,ne=[],F=0;for(const j of _)switch(j|0){case f.OPS.rectangle:$=L[F++],D=L[F++];const se=L[F++],Y=L[F++],q=$+se,Q=D+Y;ne.push("M",v($),v(D),"L",v(q),v(D),"L",v(q),v(Q),"L",v($),v(Q),"Z");break;case f.OPS.moveTo:$=L[F++],D=L[F++],ne.push("M",v($),v(D));break;case f.OPS.lineTo:$=L[F++],D=L[F++],ne.push("L",v($),v(D));break;case f.OPS.curveTo:$=L[F+4],D=L[F+5],ne.push("C",v(L[F]),v(L[F+1]),v(L[F+2]),v(L[F+3]),v($),v(D)),F+=6;break;case f.OPS.curveTo2:ne.push("C",v($),v(D),v(L[F]),v(L[F+1]),v(L[F+2]),v(L[F+3])),$=L[F+2],D=L[F+3],F+=4;break;case f.OPS.curveTo3:$=L[F+2],D=L[F+3],ne.push("C",v(L[F]),v(L[F+1]),v($),v(D),v($),v(D)),F+=4;break;case f.OPS.closePath:ne.push("Z");break}ne=ne.join(" "),K.path&&_.length>0&&_[0]!==f.OPS.rectangle&&_[0]!==f.OPS.moveTo?ne=K.path.getAttributeNS(null,"d")+ne:(K.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(K.path)),K.path.setAttributeNS(null,"d",ne),K.path.setAttributeNS(null,"fill","none"),K.element=K.path,K.setCurrentPoint($,D)}endPath(){const _=this.current;if(_.path=null,!this.pendingClip)return;if(!_.element){this.pendingClip=null;return}const L=`clippath${R++}`,K=this.svgFactory.createElement("svg:clipPath");K.setAttributeNS(null,"id",L),K.setAttributeNS(null,"transform",M(this.transformMatrix));const $=_.element.cloneNode(!0);if(this.pendingClip==="evenodd"?$.setAttributeNS(null,"clip-rule","evenodd"):$.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,K.append($),this.defs.append(K),_.activeClipUrl){_.clipGroup=null;for(const D of this.extraStack)D.clipGroup=null;K.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl=`url(#${L})`,this.tgrp=null}clip(_){this.pendingClip=_}closePath(){const _=this.current;if(_.path){const L=`${_.path.getAttributeNS(null,"d")}Z`;_.path.setAttributeNS(null,"d",L)}}setLeading(_){this.current.leading=-_}setTextRise(_){this.current.textRise=_}setTextRenderingMode(_){this.current.textRenderingMode=_}setHScale(_){this.current.textHScale=_/100}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(const[L,K]of _)switch(L){case"LW":this.setLineWidth(K);break;case"LC":this.setLineCap(K);break;case"LJ":this.setLineJoin(K);break;case"ML":this.setMiterLimit(K);break;case"D":this.setDash(K[0],K[1]);break;case"RI":this.setRenderingIntent(K);break;case"FL":this.setFlatness(K);break;case"Font":this.setFont(K);break;case"CA":this.setStrokeAlpha(K);break;case"ca":this.setFillAlpha(K);break;default:(0,f.warn)(`Unimplemented graphic state operator ${L}`);break}}fill(){const _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}stroke(){const _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_,L=1){const K=this.current;let $=K.dashArray;L!==1&&$.length>0&&($=$.map(function(D){return L*D})),_.setAttributeNS(null,"stroke",K.strokeColor),_.setAttributeNS(null,"stroke-opacity",K.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",v(K.miterLimit)),_.setAttributeNS(null,"stroke-linecap",K.lineCap),_.setAttributeNS(null,"stroke-linejoin",K.lineJoin),_.setAttributeNS(null,"stroke-width",v(L*K.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",$.map(v).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",v(L*K.dashPhase)+"px")}eoFill(){var _;(_=this.current.element)==null||_.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var _;(_=this.current.element)==null||_.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(_)}paintImageXObject(_){const L=this.getObject(_);if(!L){(0,f.warn)(`Dependent image with object ID ${_} is not ready yet`);return}this.paintInlineImageXObject(L)}paintInlineImageXObject(_,L){const K=_.width,$=_.height,D=A(_,this.forceDataSchema,!!L),ne=this.svgFactory.createElement("svg:rect");ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y","0"),ne.setAttributeNS(null,"width",v(K)),ne.setAttributeNS(null,"height",v($)),this.current.element=ne,this.clip("nonzero");const F=this.svgFactory.createElement("svg:image");F.setAttributeNS(w,"xlink:href",D),F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y",v(-$)),F.setAttributeNS(null,"width",v(K)+"px"),F.setAttributeNS(null,"height",v($)+"px"),F.setAttributeNS(null,"transform",`scale(${v(1/K)} ${v(-1/$)})`),L?L.append(F):this._ensureTransformGroup().append(F)}paintImageMaskXObject(_){const L=this.getObject(_.data,_);if(L.bitmap){(0,f.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const K=this.current,$=L.width,D=L.height,ne=K.fillColor;K.maskId=`mask${I++}`;const F=this.svgFactory.createElement("svg:mask");F.setAttributeNS(null,"id",K.maskId);const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",v($)),j.setAttributeNS(null,"height",v(D)),j.setAttributeNS(null,"fill",ne),j.setAttributeNS(null,"mask",`url(#${K.maskId})`),this.defs.append(F),this._ensureTransformGroup().append(j),this.paintInlineImageXObject(L,F)}paintFormXObjectBegin(_,L){if(Array.isArray(_)&&_.length===6&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),L){const K=L[2]-L[0],$=L[3]-L[1],D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x",L[0]),D.setAttributeNS(null,"y",L[1]),D.setAttributeNS(null,"width",v(K)),D.setAttributeNS(null,"height",v($)),this.current.element=D,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_){const L=this.svgFactory.create(_.width,_.height),K=this.svgFactory.createElement("svg:defs");L.append(K),this.defs=K;const $=this.svgFactory.createElement("svg:g");return $.setAttributeNS(null,"transform",M(_.transform)),L.append($),this.svg=$,L}_ensureClipGroup(){if(!this.current.clipGroup){const _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(_),this.current.clipGroup=_}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",M(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var l=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](l,l.exports,__w_pdfjs_require__),l.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return h.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return p.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return d.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return m.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return l.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return c.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return l.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return c.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return c.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return y.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return x.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return l.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return l.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return c.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return c.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return c.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return c.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return c.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return c.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return f.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return c.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return f.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.version}});var e=__w_pdfjs_require__(1),l=__w_pdfjs_require__(2),c=__w_pdfjs_require__(6),f=__w_pdfjs_require__(26),h=__w_pdfjs_require__(27),p=__w_pdfjs_require__(5),d=__w_pdfjs_require__(32),m=__w_pdfjs_require__(14),y=__w_pdfjs_require__(35),x=__w_pdfjs_require__(34)})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf();(function t(e,l){typeof exports=="object"&&typeof module=="object"?module.exports=l():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf.worker",[],l):typeof exports=="object"?exports["pdfjs-dist/build/pdf.worker"]=l():e["pdfjs-dist/build/pdf.worker"]=e.pdfjsWorker=l()})(globalThis,()=>(()=>{var t=[,(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WorkerTask=h.WorkerMessageHandler=void 0;var d=p(2),m=p(3),y=p(4),x=p(6),u=p(69),w=p(63),T=p(100),C=p(101),k=p(102);class A{constructor(v){this.name=v,this.terminated=!1,this._capability=(0,d.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}h.WorkerTask=A;class g{static setup(v,M){let R=!1;v.on("test",function(I){R||(R=!0,v.send("test",I instanceof Uint8Array))}),v.on("configure",function(I){(0,d.setVerbosityLevel)(I.verbosity)}),v.on("GetDocRequest",function(I){return g.createDocumentHandler(I,M)})}static createDocumentHandler(v,M){let R,I=!1,J=null;const _=new Set,L=(0,d.getVerbosityLevel)(),{docId:K,apiVersion:$}=v,D="3.4.120";if($!==D)throw new Error(`The API version "${$}" does not match the Worker version "${D}".`);const ne=[];for(const O in[])ne.push(O);if(ne.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+ne.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const O="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw T.isNodeJS?new Error(O+"please use a `legacy`-build instead."):new Error(O+"please update to a supported browser.")}const F=K+"_worker";let j=new C.MessageHandler(F,K,M);function se(){if(I)throw new Error("Worker was terminated")}function Y(O){_.add(O)}function q(O){O.finish(),_.delete(O)}async function Q(O){await R.ensureDoc("checkHeader"),await R.ensureDoc("parseStartXRef"),await R.ensureDoc("parse",[O]),await R.ensureDoc("checkFirstPage",[O]),await R.ensureDoc("checkLastPage",[O]);const H=await R.ensureDoc("isPureXfa");if(H){const fe=new A("loadXfaFonts");Y(fe),await Promise.all([R.loadXfaFonts(j,fe).catch(ae=>{}).then(()=>q(fe)),R.loadXfaImages()])}const[G,le]=await Promise.all([R.ensureDoc("numPages"),R.ensureDoc("fingerprints")]);return{numPages:G,fingerprints:le,htmlForXfa:H?await R.ensureDoc("htmlForXfa"):null}}function N({data:O,password:H,disableAutoFetch:G,rangeChunkSize:le,length:fe,docBaseUrl:ae,enableXfa:re,evaluatorOptions:be}){const ye={source:null,disableAutoFetch:G,docBaseUrl:ae,docId:K,enableXfa:re,evaluatorOptions:be,handler:j,length:fe,password:H,rangeChunkSize:le},Ce=(0,d.createPromiseCapability)();let me;if(O){try{ye.source=O,me=new x.LocalPdfManager(ye),Ce.resolve(me)}catch(W){Ce.reject(W)}return Ce.promise}let ee,te=[];try{ee=new k.PDFWorkerStream(j)}catch(W){return Ce.reject(W),Ce.promise}const oe=ee.getFullReader();oe.headersReady.then(function(){if(oe.isRangeSupported){ye.source=ee,ye.length=oe.contentLength,ye.disableAutoFetch=ye.disableAutoFetch||oe.isStreamingSupported,me=new x.NetworkPdfManager(ye);for(const W of te)me.sendProgressiveData(W);te=[],Ce.resolve(me),J=null}}).catch(function(W){Ce.reject(W),J=null});let V=0;return new Promise(function(W,ue){const he=function({value:pe,done:Se}){try{if(se(),Se){me||function(){const ge=(0,m.arrayBuffersToBytes)(te);fe&&ge.length!==fe&&(0,d.warn)("reported HTTP length is different from actual");try{ye.source=ge,me=new x.LocalPdfManager(ye),Ce.resolve(me)}catch(de){Ce.reject(de)}te=[]}(),J=null;return}V+=pe.byteLength,oe.isStreamingSupported||j.send("DocProgress",{loaded:V,total:Math.max(V,oe.contentLength||0)}),me?me.sendProgressiveData(pe):te.push(pe),oe.read().then(he,ue)}catch(ge){ue(ge)}};oe.read().then(he,ue)}).catch(function(W){Ce.reject(W),J=null}),J=function(W){ee.cancelAllRequests(W)},Ce.promise}return j.on("GetPage",function(O){return R.getPage(O.pageIndex).then(function(H){return Promise.all([R.ensure(H,"rotate"),R.ensure(H,"ref"),R.ensure(H,"userUnit"),R.ensure(H,"view")]).then(function([G,le,fe,ae]){return{rotate:G,ref:le,userUnit:fe,view:ae}})})}),j.on("GetPageIndex",function(O){const H=y.Ref.get(O.num,O.gen);return R.ensureCatalog("getPageIndex",[H])}),j.on("GetDestinations",function(O){return R.ensureCatalog("destinations")}),j.on("GetDestination",function(O){return R.ensureCatalog("getDestination",[O.id])}),j.on("GetPageLabels",function(O){return R.ensureCatalog("pageLabels")}),j.on("GetPageLayout",function(O){return R.ensureCatalog("pageLayout")}),j.on("GetPageMode",function(O){return R.ensureCatalog("pageMode")}),j.on("GetViewerPreferences",function(O){return R.ensureCatalog("viewerPreferences")}),j.on("GetOpenAction",function(O){return R.ensureCatalog("openAction")}),j.on("GetAttachments",function(O){return R.ensureCatalog("attachments")}),j.on("GetJavaScript",function(O){return R.ensureCatalog("javaScript")}),j.on("GetDocJSActions",function(O){return R.ensureCatalog("jsActions")}),j.on("GetPageJSActions",function({pageIndex:O}){return R.getPage(O).then(function(H){return R.ensure(H,"jsActions")})}),j.on("GetOutline",function(O){return R.ensureCatalog("documentOutline")}),j.on("GetOptionalContentConfig",function(O){return R.ensureCatalog("optionalContentConfig")}),j.on("GetPermissions",function(O){return R.ensureCatalog("permissions")}),j.on("GetMetadata",function(O){return Promise.all([R.ensureDoc("documentInfo"),R.ensureCatalog("metadata")])}),j.on("GetMarkInfo",function(O){return R.ensureCatalog("markInfo")}),j.on("GetData",function(O){return R.requestLoadedStream().then(function(H){return H.bytes})}),j.on("GetAnnotations",function({pageIndex:O,intent:H}){return R.getPage(O).then(function(G){const le=new A(`GetAnnotations: page ${O}`);return Y(le),G.getAnnotationsData(j,le,H).then(fe=>(q(le),fe),fe=>{throw q(le),fe})})}),j.on("GetFieldObjects",function(O){return R.ensureDoc("fieldObjects")}),j.on("HasJSActions",function(O){return R.ensureDoc("hasJSActions")}),j.on("GetCalculationOrderIds",function(O){return R.ensureDoc("calculationOrderIds")}),j.on("SaveDocument",function({isPureXfa:O,numPages:H,annotationStorage:G,filename:le}){const fe=[R.requestLoadedStream(),R.ensureCatalog("acroForm"),R.ensureCatalog("acroFormRef"),R.ensureDoc("xref"),R.ensureDoc("startXRef")],ae=O?null:(0,m.getNewAnnotationsMap)(G);if(ae)for(const[re,be]of ae)fe.push(R.getPage(re).then(ye=>{const Ce=new A(`Save (editor): page ${re}`);return ye.saveNewAnnotations(j,Ce,be).finally(function(){q(Ce)})}));if(O)fe.push(R.serializeXfaData(G));else for(let re=0;re<H;re++)fe.push(R.getPage(re).then(function(be){const ye=new A(`Save: page ${re}`);return be.save(j,ye,G).finally(function(){q(ye)})}));return Promise.all(fe).then(function([re,be,ye,Ce,me,...ee]){let te=[],oe=null;if(O){if(oe=ee[0],!oe)return re.bytes}else if(te=ee.flat(2),te.length===0)return re.bytes;const V=ye&&be instanceof y.Dict&&te.some(Se=>Se.needAppearances),W=be instanceof y.Dict&&be.get("XFA")||null;let ue=null,he=!1;if(Array.isArray(W)){for(let Se=0,ge=W.length;Se<ge;Se+=2)W[Se]==="datasets"&&(ue=W[Se+1],he=!0);ue===null&&(ue=Ce.getNewTemporaryRef())}else W&&(0,d.warn)("Unsupported XFA type.");let pe=Object.create(null);if(Ce.trailer){const Se=Object.create(null),ge=Ce.trailer.get("Info")||null;ge instanceof y.Dict&&ge.forEach((de,xe)=>{typeof xe=="string"&&(Se[de]=(0,d.stringToPDFString)(xe))}),pe={rootRef:Ce.trailer.getRaw("Root")||null,encryptRef:Ce.trailer.getRaw("Encrypt")||null,newRef:Ce.getNewTemporaryRef(),infoRef:Ce.trailer.getRaw("Info")||null,info:Se,fileIds:Ce.trailer.get("ID")||null,startXRef:me,filename:le}}try{return(0,w.incrementalUpdate)({originalData:re.bytes,xrefInfo:pe,newRefs:te,xref:Ce,hasXfa:!!W,xfaDatasetsRef:ue,hasXfaDatasetsEntry:he,needAppearances:V,acroFormRef:ye,acroForm:be,xfaData:oe})}finally{Ce.resetNewTemporaryRef()}})}),j.on("GetOperatorList",function(O,H){const G=O.pageIndex;R.getPage(G).then(function(le){const fe=new A(`GetOperatorList: page ${G}`);Y(fe);const ae=L>=d.VerbosityLevel.INFOS?Date.now():0;le.getOperatorList({handler:j,sink:H,task:fe,intent:O.intent,cacheKey:O.cacheKey,annotationStorage:O.annotationStorage}).then(function(re){q(fe),ae&&(0,d.info)(`page=${G+1} - getOperatorList: time=${Date.now()-ae}ms, len=${re.length}`),H.close()},function(re){q(fe),fe.terminated||H.error(re)})})}),j.on("GetTextContent",function(O,H){const G=O.pageIndex;R.getPage(G).then(function(le){const fe=new A("GetTextContent: page "+G);Y(fe);const ae=L>=d.VerbosityLevel.INFOS?Date.now():0;le.extractTextContent({handler:j,task:fe,sink:H,includeMarkedContent:O.includeMarkedContent,combineTextItems:O.combineTextItems}).then(function(){q(fe),ae&&(0,d.info)(`page=${G+1} - getTextContent: time=`+(Date.now()-ae)+"ms"),H.close()},function(re){q(fe),fe.terminated||H.error(re)})})}),j.on("GetStructTree",function(O){return R.getPage(O.pageIndex).then(function(H){return R.ensure(H,"getStructTree")})}),j.on("FontFallback",function(O){return R.fontFallback(O.id,j)}),j.on("Cleanup",function(O){return R.cleanup(!0)}),j.on("Terminate",function(O){I=!0;const H=[];if(R){R.terminate(new d.AbortException("Worker was terminated."));const G=R.cleanup();H.push(G),R=null}else(0,u.clearGlobalCaches)();J&&J(new d.AbortException("Worker was terminated."));for(const G of _)H.push(G.finished),G.terminate();return Promise.all(H).then(function(){j.destroy(),j=null})}),j.on("Ready",function(O){(function(G){function le(re){se(),j.send("GetDoc",{pdfInfo:re})}function fe(re){if(se(),re instanceof d.PasswordException){const be=new A(`PasswordException: response ${re.code}`);Y(be),j.sendWithPromise("PasswordRequest",re).then(function({password:ye}){q(be),R.updatePassword(ye),ae()}).catch(function(){q(be),j.send("DocException",re)})}else re instanceof d.InvalidPDFException||re instanceof d.MissingPDFException||re instanceof d.UnexpectedResponseException||re instanceof d.UnknownErrorException?j.send("DocException",re):j.send("DocException",new d.UnknownErrorException(re.message,re.toString()))}function ae(){se(),Q(!1).then(le,function(re){se(),re instanceof m.XRefParseException?R.requestLoadedStream().then(function(){se(),Q(!0).then(le,fe)}):fe(re)})}se(),N(G).then(function(re){if(I)throw re.terminate(new d.AbortException("Worker was terminated.")),new Error("Worker was terminated");R=re,R.requestLoadedStream(!0).then(be=>{j.send("DataLoaded",{length:be.bytes.byteLength})})}).then(ae,fe)})(v),v=null}),F}static initializeFromPort(v){const M=new C.MessageHandler("worker","main",v);g.setup(M,v),M.send("ready",null)}}h.WorkerMessageHandler=g,typeof window>"u"&&!T.isNodeJS&&typeof self<"u"&&function(v){return typeof v.postMessage=="function"&&"onmessage"in v}(self)&&g.initializeFromPort(self)},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.VerbosityLevel=h.Util=h.UnknownErrorException=h.UnexpectedResponseException=h.UNSUPPORTED_FEATURES=h.TextRenderingMode=h.RenderingIntentFlag=h.PermissionFlag=h.PasswordResponses=h.PasswordException=h.PageActionEventType=h.OPS=h.MissingPDFException=h.LINE_FACTOR=h.LINE_DESCENT_FACTOR=h.InvalidPDFException=h.ImageKind=h.IDENTITY_MATRIX=h.FormatError=h.FeatureTest=h.FONT_IDENTITY_MATRIX=h.DocumentActionEventType=h.CMapCompressionType=h.BaseException=h.BASELINE_FACTOR=h.AnnotationType=h.AnnotationStateModelType=h.AnnotationReviewState=h.AnnotationReplyType=h.AnnotationMode=h.AnnotationMarkedState=h.AnnotationFlag=h.AnnotationFieldFlag=h.AnnotationEditorType=h.AnnotationEditorPrefix=h.AnnotationEditorParamsType=h.AnnotationBorderStyleType=h.AnnotationActionEventType=h.AbortException=void 0,h.assert=function(E,v){E||y(v)},h.bytesToString=function(E){typeof E=="object"&&E!==null&&E.length!==void 0||y("Invalid argument for bytesToString");const v=E.length,M=8192;if(v<M)return String.fromCharCode.apply(null,E);const R=[];for(let I=0;I<v;I+=M){const J=Math.min(I+M,v),_=E.subarray(I,J);R.push(String.fromCharCode.apply(null,_))}return R.join("")},h.createPromiseCapability=function(){const E=Object.create(null);let v=!1;return Object.defineProperty(E,"settled",{get:()=>v}),E.promise=new Promise(function(M,R){E.resolve=function(I){v=!0,M(I)},E.reject=function(I){v=!0,R(I)}}),E},h.createValidAbsoluteUrl=function(E,v=null,M=null){if(!E)return null;try{if(M&&typeof E=="string"){if(M.addDefaultProtocol&&E.startsWith("www.")){const I=E.match(/\./g);I&&I.length>=2&&(E=`http://${E}`)}if(M.tryConvertEncoding)try{E=A(E)}catch{}}const R=v?new URL(E,v):new URL(E);if(function(J){if(!J)return!1;switch(J.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(R))return R}catch{}return null},h.getModificationDate=function(E=new Date){return[E.getUTCFullYear().toString(),(E.getUTCMonth()+1).toString().padStart(2,"0"),E.getUTCDate().toString().padStart(2,"0"),E.getUTCHours().toString().padStart(2,"0"),E.getUTCMinutes().toString().padStart(2,"0"),E.getUTCSeconds().toString().padStart(2,"0")].join("")},h.getVerbosityLevel=function(){return d},h.info=function(E){d>=p.INFOS&&console.log(`Info: ${E}`)},h.isArrayBuffer=function(E){return typeof E=="object"&&E!==null&&E.byteLength!==void 0},h.isArrayEqual=function(E,v){if(E.length!==v.length)return!1;for(let M=0,R=E.length;M<R;M++)if(E[M]!==v[M])return!1;return!0},h.objectFromMap=function(E){const v=Object.create(null);for(const[M,R]of E)v[M]=R;return v},h.objectSize=function(E){return Object.keys(E).length},h.setVerbosityLevel=function(E){Number.isInteger(E)&&(d=E)},h.shadow=x,h.string32=function(E){return String.fromCharCode(E>>24&255,E>>16&255,E>>8&255,255&E)},h.stringToBytes=w,h.stringToPDFString=function(E){if(E[0]>=""){let M;if(E[0]===""&&E[1]===""?M="utf-16be":E[0]===""&&E[1]===""?M="utf-16le":E[0]===""&&E[1]===""&&E[2]===""&&(M="utf-8"),M)try{const R=new TextDecoder(M,{fatal:!0}),I=w(E);return R.decode(I)}catch(R){m(`stringToPDFString: "${R}".`)}}const v=[];for(let M=0,R=E.length;M<R;M++){const I=k[E.charCodeAt(M)];v.push(I?String.fromCharCode(I):E.charAt(M))}return v.join("")},h.stringToUTF8String=A,h.unreachable=y,h.utf8StringToString=function(E){return unescape(encodeURIComponent(E))},h.warn=m,h.IDENTITY_MATRIX=[1,0,0,1,0,0],h.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],h.LINE_FACTOR=1.35,h.LINE_DESCENT_FACTOR=.35,h.BASELINE_FACTOR=.25925925925925924,h.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},h.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},h.AnnotationEditorPrefix="pdfjs_internal_editor_",h.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},h.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},h.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},h.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},h.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},h.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},h.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},h.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},h.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},h.AnnotationReplyType={GROUP:"Group",REPLY:"R"},h.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},h.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},h.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},h.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},h.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},h.PageActionEventType={O:"PageOpen",C:"PageClose"};const p={ERRORS:0,WARNINGS:1,INFOS:5};h.VerbosityLevel=p,h.CMapCompressionType={NONE:0,BINARY:1},h.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},h.UNSUPPORTED_FEATURES={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},h.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let d=p.WARNINGS;function m(g){d>=p.WARNINGS&&console.log(`Warning: ${g}`)}function y(g){throw new Error(g)}function x(g,E,v,M=!1){return Object.defineProperty(g,E,{value:v,enumerable:!M,configurable:!0,writable:!1}),v}const u=function(){function E(v,M){this.constructor===E&&y("Cannot initialize BaseException."),this.message=v,this.name=M}return E.prototype=new Error,E.constructor=E,E}();h.BaseException=u,h.PasswordException=class extends u{constructor(E,v){super(E,"PasswordException"),this.code=v}},h.UnknownErrorException=class extends u{constructor(E,v){super(E,"UnknownErrorException"),this.details=v}},h.InvalidPDFException=class extends u{constructor(E){super(E,"InvalidPDFException")}},h.MissingPDFException=class extends u{constructor(E){super(E,"MissingPDFException")}},h.UnexpectedResponseException=class extends u{constructor(E,v){super(E,"UnexpectedResponseException"),this.status=v}},h.FormatError=class extends u{constructor(E){super(E,"FormatError")}},h.AbortException=class extends u{constructor(E){super(E,"AbortException")}};function w(g){typeof g!="string"&&y("Invalid argument for stringToBytes");const E=g.length,v=new Uint8Array(E);for(let M=0;M<E;++M)v[M]=255&g.charCodeAt(M);return v}h.FeatureTest=class{static get isLittleEndian(){return x(this,"isLittleEndian",function(){const v=new Uint8Array(4);return v[0]=1,new Uint32Array(v.buffer,0,1)[0]===1}())}static get isEvalSupported(){return x(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return x(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?x(this,"platform",{isWin:!1,isMac:!1}):x(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}};const T=[...Array(256).keys()].map(g=>g.toString(16).padStart(2,"0"));class C{static makeHexColor(E,v,M){return`#${T[E]}${T[v]}${T[M]}`}static scaleMinMax(E,v){let M;E[0]?(E[0]<0&&(M=v[0],v[0]=v[1],v[1]=M),v[0]*=E[0],v[1]*=E[0],E[3]<0&&(M=v[2],v[2]=v[3],v[3]=M),v[2]*=E[3],v[3]*=E[3]):(M=v[0],v[0]=v[2],v[2]=M,M=v[1],v[1]=v[3],v[3]=M,E[1]<0&&(M=v[2],v[2]=v[3],v[3]=M),v[2]*=E[1],v[3]*=E[1],E[2]<0&&(M=v[0],v[0]=v[1],v[1]=M),v[0]*=E[2],v[1]*=E[2]),v[0]+=E[4],v[1]+=E[4],v[2]+=E[5],v[3]+=E[5]}static transform(E,v){return[E[0]*v[0]+E[2]*v[1],E[1]*v[0]+E[3]*v[1],E[0]*v[2]+E[2]*v[3],E[1]*v[2]+E[3]*v[3],E[0]*v[4]+E[2]*v[5]+E[4],E[1]*v[4]+E[3]*v[5]+E[5]]}static applyTransform(E,v){return[E[0]*v[0]+E[1]*v[2]+v[4],E[0]*v[1]+E[1]*v[3]+v[5]]}static applyInverseTransform(E,v){const M=v[0]*v[3]-v[1]*v[2];return[(E[0]*v[3]-E[1]*v[2]+v[2]*v[5]-v[4]*v[3])/M,(-E[0]*v[1]+E[1]*v[0]+v[4]*v[1]-v[5]*v[0])/M]}static getAxialAlignedBoundingBox(E,v){const M=C.applyTransform(E,v),R=C.applyTransform(E.slice(2,4),v),I=C.applyTransform([E[0],E[3]],v),J=C.applyTransform([E[2],E[1]],v);return[Math.min(M[0],R[0],I[0],J[0]),Math.min(M[1],R[1],I[1],J[1]),Math.max(M[0],R[0],I[0],J[0]),Math.max(M[1],R[1],I[1],J[1])]}static inverseTransform(E){const v=E[0]*E[3]-E[1]*E[2];return[E[3]/v,-E[1]/v,-E[2]/v,E[0]/v,(E[2]*E[5]-E[4]*E[3])/v,(E[4]*E[1]-E[5]*E[0])/v]}static singularValueDecompose2dScale(E){const v=[E[0],E[2],E[1],E[3]],M=E[0]*v[0]+E[1]*v[2],R=E[0]*v[1]+E[1]*v[3],I=E[2]*v[0]+E[3]*v[2],J=E[2]*v[1]+E[3]*v[3],_=(M+J)/2,L=Math.sqrt((M+J)**2-4*(M*J-I*R))/2,K=_+L||1,$=_-L||1;return[Math.sqrt(K),Math.sqrt($)]}static normalizeRect(E){const v=E.slice(0);return E[0]>E[2]&&(v[0]=E[2],v[2]=E[0]),E[1]>E[3]&&(v[1]=E[3],v[3]=E[1]),v}static intersect(E,v){const M=Math.max(Math.min(E[0],E[2]),Math.min(v[0],v[2])),R=Math.min(Math.max(E[0],E[2]),Math.max(v[0],v[2]));if(M>R)return null;const I=Math.max(Math.min(E[1],E[3]),Math.min(v[1],v[3])),J=Math.min(Math.max(E[1],E[3]),Math.max(v[1],v[3]));return I>J?null:[M,I,R,J]}static bezierBoundingBox(E,v,M,R,I,J,_,L){const K=[],$=[[],[]];let D,ne,F,j,se,Y,q,Q;for(let G=0;G<2;++G)if(G===0?(ne=6*E-12*M+6*I,D=-3*E+9*M-9*I+3*_,F=3*M-3*E):(ne=6*v-12*R+6*J,D=-3*v+9*R-9*J+3*L,F=3*R-3*v),Math.abs(D)<1e-12){if(Math.abs(ne)<1e-12)continue;j=-F/ne,0<j&&j<1&&K.push(j)}else q=ne*ne-4*F*D,Q=Math.sqrt(q),q<0||(se=(-ne+Q)/(2*D),0<se&&se<1&&K.push(se),Y=(-ne-Q)/(2*D),0<Y&&Y<1&&K.push(Y));let N,O=K.length;const H=O;for(;O--;)j=K[O],N=1-j,$[0][O]=N*N*N*E+3*N*N*j*M+3*N*j*j*I+j*j*j*_,$[1][O]=N*N*N*v+3*N*N*j*R+3*N*j*j*J+j*j*j*L;return $[0][H]=E,$[1][H]=v,$[0][H+1]=_,$[1][H+1]=L,$[0].length=$[1].length=H+2,[Math.min(...$[0]),Math.min(...$[1]),Math.max(...$[0]),Math.max(...$[1])]}}h.Util=C;const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function A(g){return decodeURIComponent(escape(g))}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XRefParseException=h.XRefEntryException=h.ParserEOFException=h.PDF_VERSION_REGEXP=h.MissingDataException=void 0,h.arrayBuffersToBytes=function(v){const M=v.length;if(M===0)return new Uint8Array(0);if(M===1)return new Uint8Array(v[0]);let R=0;for(let _=0;_<M;_++)R+=v[_].byteLength;const I=new Uint8Array(R);let J=0;for(let _=0;_<M;_++){const L=new Uint8Array(v[_]);I.set(L,J),J+=L.byteLength}return I},h.collectActions=function(v,M,R){const I=Object.create(null),J=C({dict:M,key:"AA",stopWhenFound:!1});if(J)for(let _=J.length-1;_>=0;_--){const L=J[_];if(L instanceof m.Dict)for(const K of L.getKeys()){const $=R[K];if(!$)continue;const D=[];A(L.getRaw(K),v,D,new m.RefSet),D.length>0&&(I[$]=D)}}if(M.has("A")){const _=[];A(M.get("A"),v,_,new m.RefSet),_.length>0&&(I.Action=_)}return(0,d.objectSize)(I)>0?I:null},h.encodeToXmlString=function(v){const M=[];let R=0;for(let I=0,J=v.length;I<J;I++){const _=v.codePointAt(I);if(32<=_&&_<=126){const L=g[_];L&&(R<I&&M.push(v.substring(R,I)),M.push(L),R=I+1)}else R<I&&M.push(v.substring(R,I)),M.push(`&#x${_.toString(16).toUpperCase()};`),_>55295&&(_<57344||_>65533)&&I++,R=I+1}return M.length===0?v:(R<v.length&&M.push(v.substring(R,v.length)),M.join(""))},h.escapePDFName=function(v){const M=[];let R=0;for(let I=0,J=v.length;I<J;I++){const _=v.charCodeAt(I);(_<33||_>126||_===35||_===40||_===41||_===60||_===62||_===91||_===93||_===123||_===125||_===47||_===37)&&(R<I&&M.push(v.substring(R,I)),M.push(`#${_.toString(16)}`),R=I+1)}return M.length===0?v:(R<v.length&&M.push(v.substring(R,v.length)),M.join(""))},h.escapeString=function(v){return v.replace(/([()\\\n\r])/g,M=>M===`
`?"\\n":M==="\r"?"\\r":`\\${M}`)},h.getArrayLookupTableFactory=function(v){let M;return function(){if(v){let R=v();v=null,M=Object.create(null);for(let I=0,J=R.length;I<J;I+=2)M[R[I]]=R[I+1];R=null}return M}},h.getInheritableProperty=C,h.getLookupTableFactory=function(v){let M;return function(){return v&&(M=Object.create(null),v(M),v=null),M}},h.getNewAnnotationsMap=function(v){if(!v)return null;const M=new Map;for(const[R,I]of v){if(!R.startsWith(d.AnnotationEditorPrefix))continue;let J=M.get(I.pageIndex);J||(J=[],M.set(I.pageIndex,J)),J.push(I)}return M.size>0?M:null},h.getRotationMatrix=function(v,M,R){switch(v){case 90:return[0,1,-1,0,M,0];case 180:return[-1,0,0,-1,M,R];case 270:return[0,-1,1,0,0,R];default:throw new Error("Invalid rotation")}},h.isAscii=function(v){return/^[\x00-\x7F]*$/.test(v)},h.isWhiteSpace=function(v){return v===32||v===9||v===13||v===10},h.log2=function(v){return v<=0?0:Math.ceil(Math.log2(v))},h.numberToString=function(v){if(Number.isInteger(v))return v.toString();const M=Math.round(100*v);return M%100==0?(M/100).toString():M%10==0?v.toFixed(1):v.toFixed(2)},h.parseXFAPath=function(v){const M=/(.+)\[(\d+)\]$/;return v.split(".").map(R=>{const I=R.match(M);return I?{name:I[1],pos:parseInt(I[2],10)}:{name:R,pos:0}})},h.readInt8=function(v,M){return v[M]<<24>>24},h.readUint16=function(v,M){return v[M]<<8|v[M+1]},h.readUint32=function(v,M){return(v[M]<<24|v[M+1]<<16|v[M+2]<<8|v[M+3])>>>0},h.recoverJsURL=function(v){const M=new RegExp("^\\s*("+["app.launchURL","window.open","xfa.host.gotoURL"].join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(v);if(M&&M[2]){const R=M[2];let I=!1;return M[3]==="true"&&M[1]==="app.launchURL"&&(I=!0),{url:R,newWindow:I}}return null},h.stringToUTF16HexString=function(v){const M=[];for(let R=0,I=v.length;R<I;R++){const J=v.charCodeAt(R);M.push((J>>8&255).toString(16).padStart(2,"0"),(255&J).toString(16).padStart(2,"0"))}return M.join("")},h.stringToUTF16String=function(v,M=!1){const R=[];M&&R.push("");for(let I=0,J=v.length;I<J;I++){const _=v.charCodeAt(I);R.push(String.fromCharCode(_>>8&255),String.fromCharCode(255&_))}return R.join("")},h.toRomanNumerals=function(v,M=!1){(0,d.assert)(Number.isInteger(v)&&v>0,"The number should be a positive integer.");const R=[];let I;for(;v>=1e3;)v-=1e3,R.push("M");I=v/100|0,v%=100,R.push(k[I]),I=v/10|0,v%=10,R.push(k[10+I]),R.push(k[20+v]);const J=R.join("");return M?J.toLowerCase():J},h.validateCSSFont=function(v){const M=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:R,fontWeight:I,italicAngle:J}=v;if(/^".*"$/.test(R)){if(/[^\\]"/.test(R.slice(1,R.length-1)))return(0,d.warn)(`XFA - FontFamily contains some unescaped ": ${R}.`),!1}else if(/^'.*'$/.test(R)){if(/[^\\]'/.test(R.slice(1,R.length-1)))return(0,d.warn)(`XFA - FontFamily contains some unescaped ': ${R}.`),!1}else for(const K of R.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(K)||!/^[\w-\\]+$/.test(K))return(0,d.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${R}.`),!1;const _=I?I.toString():"";v.fontWeight=M.has(_)?_:"400";const L=parseFloat(J);return v.italicAngle=isNaN(L)||L<-90||L>90?"14":J.toString(),!0};var d=p(2),m=p(4),y=p(5);h.PDF_VERSION_REGEXP=/^[1-9]\.\d$/;class x extends d.BaseException{constructor(v,M){super(`Missing data [${v}, ${M})`,"MissingDataException"),this.begin=v,this.end=M}}h.MissingDataException=x;class u extends d.BaseException{constructor(v){super(v,"ParserEOFException")}}h.ParserEOFException=u;class w extends d.BaseException{constructor(v){super(v,"XRefEntryException")}}h.XRefEntryException=w;class T extends d.BaseException{constructor(v){super(v,"XRefParseException")}}h.XRefParseException=T;function C({dict:E,key:v,getArray:M=!1,stopWhenFound:R=!0}){let I;const J=new m.RefSet;for(;E instanceof m.Dict&&(!E.objId||!J.has(E.objId));){E.objId&&J.put(E.objId);const _=M?E.getArray(v):E.get(v);if(_!==void 0){if(R)return _;I||(I=[]),I.push(_)}E=E.get("Parent")}return I}const k=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function A(E,v,M,R){if(!E)return;let I=null;if(E instanceof m.Ref){if(R.has(E))return;I=E,R.put(I),E=v.fetch(E)}if(Array.isArray(E))for(const J of E)A(J,v,M,R);else if(E instanceof m.Dict){if((0,m.isName)(E.get("S"),"JavaScript")){const J=E.get("JS");let _;J instanceof y.BaseStream?_=J.getString():typeof J=="string"&&(_=J),_=_&&(0,d.stringToPDFString)(_).replace(/\u0000/g,""),_&&M.push(_)}A(E.getRaw("Next"),v,M,R)}I&&R.remove(I)}const g={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RefSetCache=h.RefSet=h.Ref=h.Name=h.EOF=h.Dict=h.Cmd=h.CIRCULAR_REF=void 0,h.clearPrimitiveCaches=function(){u._clearCache(),x._clearCache(),C._clearCache()},h.isCmd=function(v,M){return v instanceof u&&(M===void 0||v.cmd===M)},h.isDict=function(v,M){return v instanceof T&&(M===void 0||g(v.get("Type"),M))},h.isName=g,h.isRefsEqual=function(v,M){return v.num===M.num&&v.gen===M.gen};var d=p(2);const m=Symbol("CIRCULAR_REF");h.CIRCULAR_REF=m;const y=Symbol("EOF");h.EOF=y;const x=function(){let v=Object.create(null);class M{constructor(I){this.name=I}static get(I){return v[I]||(v[I]=new M(I))}static _clearCache(){v=Object.create(null)}}return M}();h.Name=x;const u=function(){let v=Object.create(null);class M{constructor(I){this.cmd=I}static get(I){return v[I]||(v[I]=new M(I))}static _clearCache(){v=Object.create(null)}}return M}();h.Cmd=u;const w=function(){return w};class T{constructor(v=null){this._map=Object.create(null),this.xref=v,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=w}assignXref(v){this.xref=v}get size(){return Object.keys(this._map).length}get(v,M,R){let I=this._map[v];return I===void 0&&M!==void 0&&(I=this._map[M],I===void 0&&R!==void 0&&(I=this._map[R])),I instanceof C&&this.xref?this.xref.fetch(I,this.suppressEncryption):I}async getAsync(v,M,R){let I=this._map[v];return I===void 0&&M!==void 0&&(I=this._map[M],I===void 0&&R!==void 0&&(I=this._map[R])),I instanceof C&&this.xref?this.xref.fetchAsync(I,this.suppressEncryption):I}getArray(v,M,R){let I=this._map[v];if(I===void 0&&M!==void 0&&(I=this._map[M],I===void 0&&R!==void 0&&(I=this._map[R])),I instanceof C&&this.xref&&(I=this.xref.fetch(I,this.suppressEncryption)),Array.isArray(I)){I=I.slice();for(let J=0,_=I.length;J<_;J++)I[J]instanceof C&&this.xref&&(I[J]=this.xref.fetch(I[J],this.suppressEncryption))}return I}getRaw(v){return this._map[v]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(v,M){this._map[v]=M}has(v){return this._map[v]!==void 0}forEach(v){for(const M in this._map)v(M,this.get(M))}static get empty(){const v=new T(null);return v.set=(M,R)=>{(0,d.unreachable)("Should not call `set` on the empty dictionary.")},(0,d.shadow)(this,"empty",v)}static merge({xref:v,dictArray:M,mergeSubDicts:R=!1}){const I=new T(v),J=new Map;for(const _ of M)if(_ instanceof T)for(const[L,K]of Object.entries(_._map)){let $=J.get(L);if($===void 0)$=[],J.set(L,$);else if(!(R&&K instanceof T))continue;$.push(K)}for(const[_,L]of J){if(L.length===1||!(L[0]instanceof T)){I._map[_]=L[0];continue}const K=new T(v);for(const $ of L)for(const[D,ne]of Object.entries($._map))K._map[D]===void 0&&(K._map[D]=ne);K.size>0&&(I._map[_]=K)}return J.clear(),I.size>0?I:T.empty}}h.Dict=T;const C=function(){let v=Object.create(null);class M{constructor(I,J){this.num=I,this.gen=J}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(I,J){const _=J===0?`${I}R`:`${I}R${J}`;return v[_]||(v[_]=new M(I,J))}static _clearCache(){v=Object.create(null)}}return M}();h.Ref=C;class k{constructor(v=null){this._set=new Set(v&&v._set)}has(v){return this._set.has(v.toString())}put(v){this._set.add(v.toString())}remove(v){this._set.delete(v.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}h.RefSet=k;class A{constructor(){this._map=new Map}get size(){return this._map.size}get(v){return this._map.get(v.toString())}has(v){return this._map.has(v.toString())}put(v,M){this._map.set(v.toString(),M)}putAlias(v,M){this._map.set(v.toString(),this.get(M))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}h.RefSetCache=A;function g(E,v){return E instanceof x&&(v===void 0||E.name===v)}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BaseStream=void 0;var d=p(2);class m{constructor(){this.constructor===m&&(0,d.unreachable)("Cannot initialize BaseStream.")}get length(){(0,d.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,d.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,d.shadow)(this,"isDataLoaded",!0)}getByte(){(0,d.unreachable)("Abstract method `getByte` called")}getBytes(x){(0,d.unreachable)("Abstract method `getBytes` called")}peekByte(){const x=this.getByte();return x!==-1&&this.pos--,x}peekBytes(x){const u=this.getBytes(x);return this.pos-=u.length,u}getUint16(){const x=this.getByte(),u=this.getByte();return x===-1||u===-1?-1:(x<<8)+u}getInt32(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}getByteRange(x,u){(0,d.unreachable)("Abstract method `getByteRange` called")}getString(x){return(0,d.bytesToString)(this.getBytes(x))}skip(x){this.pos+=x||1}reset(){(0,d.unreachable)("Abstract method `reset` called")}moveStart(){(0,d.unreachable)("Abstract method `moveStart` called")}makeSubStream(x,u,w=null){(0,d.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}h.BaseStream=m},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NetworkPdfManager=h.LocalPdfManager=void 0;var d=p(2),m=p(7),y=p(3),x=p(9),u=p(8);class w{constructor(C){this.constructor===w&&(0,d.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=function(A){if(A){const g=(0,d.createValidAbsoluteUrl)(A);if(g)return g.href;(0,d.warn)(`Invalid absolute docBaseUrl: "${A}".`)}return null}(C.docBaseUrl),this._docId=C.docId,this._password=C.password,this.enableXfa=C.enableXfa,this.evaluatorOptions=C.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const C=this.pdfDocument.catalog;return(0,d.shadow)(this,"docBaseUrl",C.baseUrl||this._docBaseUrl)}ensureDoc(C,k){return this.ensure(this.pdfDocument,C,k)}ensureXRef(C,k){return this.ensure(this.pdfDocument.xref,C,k)}ensureCatalog(C,k){return this.ensure(this.pdfDocument.catalog,C,k)}getPage(C){return this.pdfDocument.getPage(C)}fontFallback(C,k){return this.pdfDocument.fontFallback(C,k)}loadXfaFonts(C,k){return this.pdfDocument.loadXfaFonts(C,k)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(C){return this.pdfDocument.serializeXfaData(C)}cleanup(C=!1){return this.pdfDocument.cleanup(C)}async ensure(C,k,A){(0,d.unreachable)("Abstract method `ensure` called")}requestRange(C,k){(0,d.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(C=!1){(0,d.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(C){(0,d.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(C){this._password=C}terminate(C){(0,d.unreachable)("Abstract method `terminate` called")}}h.LocalPdfManager=class extends w{constructor(C){super(C);const k=new u.Stream(C.source);this.pdfDocument=new x.PDFDocument(this,k),this._loadedStreamPromise=Promise.resolve(k)}async ensure(C,k,A){const g=C[k];return typeof g=="function"?g.apply(C,A):g}requestRange(C,k){return Promise.resolve()}requestLoadedStream(C=!1){return this._loadedStreamPromise}terminate(C){}},h.NetworkPdfManager=class extends w{constructor(C){super(C),this.streamManager=new m.ChunkedStreamManager(C.source,{msgHandler:C.handler,length:C.length,disableAutoFetch:C.disableAutoFetch,rangeChunkSize:C.rangeChunkSize}),this.pdfDocument=new x.PDFDocument(this,this.streamManager.getStream())}async ensure(C,k,A){try{const g=C[k];return typeof g=="function"?g.apply(C,A):g}catch(g){if(!(g instanceof y.MissingDataException))throw g;return await this.requestRange(g.begin,g.end),this.ensure(C,k,A)}}requestRange(C,k){return this.streamManager.requestRange(C,k)}requestLoadedStream(C=!1){return this.streamManager.requestAllChunks(C)}sendProgressiveData(C){this.streamManager.onReceiveData({chunk:C})}terminate(C){this.streamManager.abort(C)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ChunkedStreamManager=h.ChunkedStream=void 0;var d=p(3),m=p(2),y=p(8);class x extends y.Stream{constructor(w,T,C){super(new Uint8Array(w),0,w,null),this.chunkSize=T,this._loadedChunks=new Set,this.numChunks=Math.ceil(w/T),this.manager=C,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const w=[];for(let T=0,C=this.numChunks;T<C;++T)this._loadedChunks.has(T)||w.push(T);return w}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(w,T){const C=this.chunkSize;if(w%C!=0)throw new Error(`Bad begin offset: ${w}`);const k=w+T.byteLength;if(k%C!=0&&k!==this.bytes.length)throw new Error(`Bad end offset: ${k}`);this.bytes.set(new Uint8Array(T),w);const A=Math.floor(w/C),g=Math.floor((k-1)/C)+1;for(let E=A;E<g;++E)this._loadedChunks.add(E)}onReceiveProgressiveData(w){let T=this.progressiveDataLength;const C=Math.floor(T/this.chunkSize);this.bytes.set(new Uint8Array(w),T),T+=w.byteLength,this.progressiveDataLength=T;const k=T>=this.end?this.numChunks:Math.floor(T/this.chunkSize);for(let A=C;A<k;++A)this._loadedChunks.add(A)}ensureByte(w){if(w<this.progressiveDataLength)return;const T=Math.floor(w/this.chunkSize);if(!(T>this.numChunks)&&T!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(T))throw new d.MissingDataException(w,w+1);this.lastSuccessfulEnsureByteChunk=T}}ensureRange(w,T){if(w>=T||T<=this.progressiveDataLength)return;const C=Math.floor(w/this.chunkSize);if(C>this.numChunks)return;const k=Math.min(Math.floor((T-1)/this.chunkSize)+1,this.numChunks);for(let A=C;A<k;++A)if(!this._loadedChunks.has(A))throw new d.MissingDataException(w,T)}nextEmptyChunk(w){const T=this.numChunks;for(let C=0;C<T;++C){const k=(w+C)%T;if(!this._loadedChunks.has(k))return k}return null}hasChunk(w){return this._loadedChunks.has(w)}getByte(){const w=this.pos;return w>=this.end?-1:(w>=this.progressiveDataLength&&this.ensureByte(w),this.bytes[this.pos++])}getBytes(w){const T=this.bytes,C=this.pos,k=this.end;if(!w)return k>this.progressiveDataLength&&this.ensureRange(C,k),T.subarray(C,k);let A=C+w;return A>k&&(A=k),A>this.progressiveDataLength&&this.ensureRange(C,A),this.pos=A,T.subarray(C,A)}getByteRange(w,T){return w<0&&(w=0),T>this.end&&(T=this.end),T>this.progressiveDataLength&&this.ensureRange(w,T),this.bytes.subarray(w,T)}makeSubStream(w,T,C=null){T?w+T>this.progressiveDataLength&&this.ensureRange(w,w+T):w>=this.progressiveDataLength&&this.ensureByte(w);function k(){}k.prototype=Object.create(this),k.prototype.getMissingChunks=function(){const g=this.chunkSize,E=Math.floor(this.start/g),v=Math.floor((this.end-1)/g)+1,M=[];for(let R=E;R<v;++R)this._loadedChunks.has(R)||M.push(R);return M},Object.defineProperty(k.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks||this.getMissingChunks().length===0},configurable:!0});const A=new k;return A.pos=A.start=w,A.end=w+T||this.end,A.dict=C,A}getBaseStreams(){return[this]}}h.ChunkedStream=x,h.ChunkedStreamManager=class{constructor(w,T){this.length=T.length,this.chunkSize=T.rangeChunkSize,this.stream=new x(this.length,this.chunkSize,this),this.pdfNetworkStream=w,this.disableAutoFetch=T.disableAutoFetch,this.msgHandler=T.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,m.createPromiseCapability)()}sendRequest(w,T){const C=this.pdfNetworkStream.getRangeReader(w,T);C.isStreamingSupported||(C.onProgress=this.onProgress.bind(this));let k=[],A=0;return new Promise((g,E)=>{const v=({value:M,done:R})=>{try{if(R){const I=(0,d.arrayBuffersToBytes)(k);k=null,g(I);return}A+=M.byteLength,C.isStreamingSupported&&this.onProgress({loaded:A}),k.push(M),C.read().then(v,E)}catch(I){E(I)}};C.read().then(v,E)}).then(g=>{this.aborted||this.onReceiveData({chunk:g,begin:w})})}requestAllChunks(w=!1){if(!w){const T=this.stream.getMissingChunks();this._requestChunks(T)}return this._loadedStreamCapability.promise}_requestChunks(w){const T=this.currRequestId++,C=new Set;this._chunksNeededByRequest.set(T,C);for(const g of w)this.stream.hasChunk(g)||C.add(g);if(C.size===0)return Promise.resolve();const k=(0,m.createPromiseCapability)();this._promisesByRequest.set(T,k);const A=[];for(const g of C){let E=this._requestsByChunk.get(g);E||(E=[],this._requestsByChunk.set(g,E),A.push(g)),E.push(T)}if(A.length>0){const g=this.groupChunks(A);for(const E of g){const v=E.beginChunk*this.chunkSize,M=Math.min(E.endChunk*this.chunkSize,this.length);this.sendRequest(v,M).catch(k.reject)}}return k.promise.catch(g=>{if(!this.aborted)throw g})}getStream(){return this.stream}requestRange(w,T){T=Math.min(T,this.length);const C=this.getBeginChunk(w),k=this.getEndChunk(T),A=[];for(let g=C;g<k;++g)A.push(g);return this._requestChunks(A)}requestRanges(w=[]){const T=[];for(const C of w){const k=this.getBeginChunk(C.begin),A=this.getEndChunk(C.end);for(let g=k;g<A;++g)T.includes(g)||T.push(g)}return T.sort(function(C,k){return C-k}),this._requestChunks(T)}groupChunks(w){const T=[];let C=-1,k=-1;for(let A=0,g=w.length;A<g;++A){const E=w[A];C<0&&(C=E),k>=0&&k+1!==E&&(T.push({beginChunk:C,endChunk:k+1}),C=E),A+1===w.length&&T.push({beginChunk:C,endChunk:E+1}),k=E}return T}onProgress(w){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+w.loaded,total:this.length})}onReceiveData(w){const T=w.chunk,C=w.begin===void 0,k=C?this.progressiveDataLength:w.begin,A=k+T.byteLength,g=Math.floor(k/this.chunkSize),E=A<this.length?Math.floor(A/this.chunkSize):Math.ceil(A/this.chunkSize);C?(this.stream.onReceiveProgressiveData(T),this.progressiveDataLength=A):this.stream.onReceiveData(k,T),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const v=[];for(let M=g;M<E;++M){const R=this._requestsByChunk.get(M);if(R){this._requestsByChunk.delete(M);for(const I of R){const J=this._chunksNeededByRequest.get(I);J.has(M)&&J.delete(M),J.size>0||v.push(I)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let M;if(this.stream.numChunksLoaded===1){const R=this.stream.numChunks-1;this.stream.hasChunk(R)||(M=R)}else M=this.stream.nextEmptyChunk(E);Number.isInteger(M)&&this._requestChunks([M])}for(const M of v){const R=this._promisesByRequest.get(M);this._promisesByRequest.delete(M),R.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(w){this._loadedStreamCapability.reject(w)}getBeginChunk(w){return Math.floor(w/this.chunkSize)}getEndChunk(w){return Math.floor((w-1)/this.chunkSize)+1}abort(w){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(w);for(const T of this._promisesByRequest.values())T.reject(w)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StringStream=h.Stream=h.NullStream=void 0;var d=p(5),m=p(2);class y extends d.BaseStream{constructor(u,w,T,C){super(),this.bytes=u instanceof Uint8Array?u:new Uint8Array(u),this.start=w||0,this.pos=this.start,this.end=w+T||this.bytes.length,this.dict=C}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(u){const w=this.bytes,T=this.pos,C=this.end;if(!u)return w.subarray(T,C);let k=T+u;return k>C&&(k=C),this.pos=k,w.subarray(T,k)}getByteRange(u,w){return u<0&&(u=0),w>this.end&&(w=this.end),this.bytes.subarray(u,w)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(u,w,T=null){return new y(this.bytes.buffer,u,w,T)}}h.Stream=y,h.StringStream=class extends y{constructor(u){super((0,m.stringToBytes)(u))}},h.NullStream=class extends y{constructor(){super(new Uint8Array(0))}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Page=h.PDFDocument=void 0;var d=p(10),m=p(2),y=p(3),x=p(4),u=p(49),w=p(5),T=p(65),C=p(67),k=p(69),A=p(98),g=p(15),E=p(8),v=p(73),M=p(60),R=p(13),I=p(17),J=p(72),_=p(63),L=p(74),K=p(99);const $=[0,0,612,792];class D{constructor({pdfManager:Q,xref:N,pageIndex:O,pageDict:H,ref:G,globalIdFactory:le,fontCache:fe,builtInCMapCache:ae,standardFontDataCache:re,globalImageCache:be,nonBlendModesSet:ye,xfaFactory:Ce}){this.pdfManager=Q,this.pageIndex=O,this.pageDict=H,this.xref=N,this.ref=G,this.fontCache=fe,this.builtInCMapCache=ae,this.standardFontDataCache=re,this.globalImageCache=be,this.nonBlendModesSet=ye,this.evaluatorOptions=Q.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=Ce;const me={obj:0};this._localIdFactory=class extends le{static createObjId(){return`p${O}_${++me.obj}`}static getPageObjId(){return`page${G.toString()}`}}}_getInheritableProperty(Q,N=!1){const O=(0,y.getInheritableProperty)({dict:this.pageDict,key:Q,getArray:N,stopWhenFound:!1});return Array.isArray(O)?O.length!==1&&O[0]instanceof x.Dict?x.Dict.merge({xref:this.xref,dictArray:O}):O[0]:O}get content(){return this.pageDict.getArray("Contents")}get resources(){const Q=this._getInheritableProperty("Resources");return(0,m.shadow)(this,"resources",Q instanceof x.Dict?Q:x.Dict.empty)}_getBoundingBox(Q){if(this.xfaData)return this.xfaData.bbox;let N=this._getInheritableProperty(Q,!0);if(Array.isArray(N)&&N.length===4){if(N=m.Util.normalizeRect(N),N[2]-N[0]>0&&N[3]-N[1]>0)return N;(0,m.warn)(`Empty, or invalid, /${Q} entry.`)}return null}get mediaBox(){return(0,m.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||$)}get cropBox(){return(0,m.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let Q=this.pageDict.get("UserUnit");return(typeof Q!="number"||Q<=0)&&(Q=1),(0,m.shadow)(this,"userUnit",Q)}get view(){const{cropBox:Q,mediaBox:N}=this;if(Q!==N&&!(0,m.isArrayEqual)(Q,N)){const O=m.Util.intersect(Q,N);if(O&&O[2]-O[0]>0&&O[3]-O[1]>0)return(0,m.shadow)(this,"view",O);(0,m.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,m.shadow)(this,"view",N)}get rotate(){let Q=this._getInheritableProperty("Rotate")||0;return Q%90!=0?Q=0:Q>=360?Q%=360:Q<0&&(Q=(Q%360+360)%360),(0,m.shadow)(this,"rotate",Q)}_onSubStreamError(Q,N,O){if(!this.evaluatorOptions.ignoreErrors)throw N;Q.send("UnsupportedFeature",{featureId:m.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,m.warn)(`getContentStream - ignoring sub-stream (${O}): "${N}".`)}getContentStream(Q){return this.pdfManager.ensure(this,"content").then(N=>N instanceof w.BaseStream?N:Array.isArray(N)?new I.StreamsSequenceStream(N,this._onSubStreamError.bind(this,Q)):new E.NullStream)}get xfaData(){return(0,m.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(Q,N,O){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const H=new R.PartialEvaluator({xref:this.xref,handler:Q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),G=this.pageDict,le=this.annotations.slice(),fe=await d.AnnotationFactory.saveNewAnnotations(H,N,O);for(const{ref:Ce}of fe.annotations)le.push(Ce);const ae=G.get("Annots");G.set("Annots",le);const re=[];let be=null;this.xref.encrypt&&(be=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,_.writeObject)(this.ref,G,re,be),ae&&G.set("Annots",ae);const ye=fe.dependencies;return ye.push({ref:this.ref,data:re.join("")},...fe.annotations),ye}save(Q,N,O){const H=new R.PartialEvaluator({xref:this.xref,handler:Q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(G){const le=[];for(const fe of G)fe.mustBePrinted(O)&&le.push(fe.save(H,N,O).catch(function(ae){return(0,m.warn)(`save - ignoring annotation data during "${N.name}" task: "${ae}".`),null}));return Promise.all(le).then(function(fe){return fe.filter(ae=>!!ae)})})}loadResources(Q){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new v.ObjectLoader(this.resources,Q,this.xref).load())}getOperatorList({handler:Q,sink:N,task:O,intent:H,cacheKey:G,annotationStorage:le=null}){const fe=this.getContentStream(Q),ae=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),re=new R.PartialEvaluator({xref:this.xref,handler:Q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),be=this.xfaFactory?null:(0,y.getNewAnnotationsMap)(le);let ye=Promise.resolve(null);if(be){const me=be.get(this.pageIndex);me&&(ye=d.AnnotationFactory.printNewAnnotations(re,O,me))}const Ce=Promise.all([fe,ae]).then(([me])=>{const ee=new M.OperatorList(H,N);return Q.send("StartRenderPage",{transparency:re.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:G}),re.getOperatorList({stream:me,task:O,resources:this.resources,operatorList:ee}).then(function(){return ee})});return Promise.all([Ce,this._parsedAnnotations,ye]).then(function([me,ee,te]){if(te&&(ee=ee.concat(te)),ee.length===0||H&m.RenderingIntentFlag.ANNOTATIONS_DISABLE)return me.flush(!0),{length:me.totalLength};const oe=!!(H&m.RenderingIntentFlag.ANNOTATIONS_FORMS),V=!!(H&m.RenderingIntentFlag.ANY),W=!!(H&m.RenderingIntentFlag.DISPLAY),ue=!!(H&m.RenderingIntentFlag.PRINT),he=[];for(const pe of ee)(V||W&&pe.mustBeViewed(le)||ue&&pe.mustBePrinted(le))&&he.push(pe.getOperatorList(re,O,H,oe,le).catch(function(Se){return(0,m.warn)(`getOperatorList - ignoring annotation data during "${O.name}" task: "${Se}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(he).then(function(pe){let Se=!1,ge=!1;for(const{opList:de,separateForm:xe,separateCanvas:ve}of pe)me.addOpList(de),xe&&(Se=xe),ve&&(ge=ve);return me.flush(!0,{form:Se,canvas:ge}),{length:me.totalLength}})})}extractTextContent({handler:Q,task:N,includeMarkedContent:O,sink:H,combineTextItems:G}){const le=this.getContentStream(Q),fe=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([le,fe]).then(([ae])=>new R.PartialEvaluator({xref:this.xref,handler:Q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:ae,task:N,resources:this.resources,includeMarkedContent:O,combineTextItems:G,sink:H,viewBox:this.view}))}async getStructTree(){const Q=await this.pdfManager.ensureCatalog("structTreeRoot");return Q?(await this.pdfManager.ensure(this,"_parseStructTree",[Q])).serializable:null}_parseStructTree(Q){const N=new J.StructTreePage(Q,this.pageDict);return N.parse(),N}async getAnnotationsData(Q,N,O){const H=await this._parsedAnnotations;if(H.length===0)return[];const G=[],le=[];let fe;const ae=!!(O&m.RenderingIntentFlag.ANY),re=!!(O&m.RenderingIntentFlag.DISPLAY),be=!!(O&m.RenderingIntentFlag.PRINT);for(const ye of H){const Ce=ae||re&&ye.viewable;(Ce||be&&ye.printable)&&le.push(ye.data),ye.hasTextContent&&Ce&&(fe||(fe=new R.PartialEvaluator({xref:this.xref,handler:Q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),G.push(ye.extractTextContent(fe,N,this.view).catch(function(me){(0,m.warn)(`getAnnotationsData - ignoring textContent during "${N.name}" task: "${me}".`)})))}return await Promise.all(G),le}get annotations(){const Q=this._getInheritableProperty("Annots");return(0,m.shadow)(this,"annotations",Array.isArray(Q)?Q:[])}get _parsedAnnotations(){const Q=this.pdfManager.ensure(this,"annotations").then(()=>{const N=[];for(const O of this.annotations)N.push(d.AnnotationFactory.create(this.xref,O,this.pdfManager,this._localIdFactory,!1).catch(function(H){return(0,m.warn)(`_parsedAnnotations: "${H}".`),null}));return Promise.all(N).then(function(O){if(O.length===0)return O;const H=[];let G;for(const le of O)le&&(le instanceof d.PopupAnnotation?(G||(G=[]),G.push(le)):H.push(le));return G&&H.push(...G),H})});return(0,m.shadow)(this,"_parsedAnnotations",Q)}get jsActions(){const Q=(0,y.collectActions)(this.xref,this.pageDict,m.PageActionEventType);return(0,m.shadow)(this,"jsActions",Q)}}h.Page=D;const ne=new Uint8Array([37,80,68,70,45]),F=new Uint8Array([115,116,97,114,116,120,114,101,102]),j=new Uint8Array([101,110,100,111,98,106]),se="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function Y(q,Q,N=1024,O=!1){const H=Q.length,G=q.peekBytes(N),le=G.length-H;if(le<=0)return!1;if(O){const fe=H-1;let ae=G.length-1;for(;ae>=fe;){let re=0;for(;re<H&&G[ae-re]===Q[fe-re];)re++;if(re>=H)return q.pos+=ae-fe,!0;ae--}}else{let fe=0;for(;fe<=le;){let ae=0;for(;ae<H&&G[fe+ae]===Q[ae];)ae++;if(ae>=H)return q.pos+=fe,!0;fe++}}return!1}h.PDFDocument=class{constructor(Q,N){if(N.length<=0)throw new m.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=Q,this.stream=N,this.xref=new K.XRef(N,Q),this._pagePromises=new Map,this._version=null;const O={font:0};this._globalIdFactory=class{static getDocId(){return`g_${Q.docId}`}static createFontId(){return"f"+ ++O.font}static createObjId(){(0,m.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,m.unreachable)("Abstract method `getPageObjId` called.")}}}parse(Q){this.xref.parse(Q),this.catalog=new C.Catalog(this.pdfManager,this.xref)}get linearization(){let Q=null;try{Q=g.Linearization.create(this.stream)}catch(N){if(N instanceof y.MissingDataException)throw N;(0,m.info)(N)}return(0,m.shadow)(this,"linearization",Q)}get startXRef(){const Q=this.stream;let N=0;if(this.linearization)Q.reset(),Y(Q,j)&&(N=Q.pos+6-Q.start);else{const H=F.length;let G=!1,le=Q.end;for(;!G&&le>0;)le-=1024-H,le<0&&(le=0),Q.pos=le,G=Y(Q,F,1024,!0);if(G){Q.skip(9);let fe;do fe=Q.getByte();while((0,y.isWhiteSpace)(fe));let ae="";for(;fe>=32&&fe<=57;)ae+=String.fromCharCode(fe),fe=Q.getByte();N=parseInt(ae,10),isNaN(N)&&(N=0)}}return(0,m.shadow)(this,"startXRef",N)}checkHeader(){const Q=this.stream;if(Q.reset(),!Y(Q,ne))return;Q.moveStart(),Q.skip(ne.length);let N,O="";for(;(N=Q.getByte())>32&&O.length<7;)O+=String.fromCharCode(N);y.PDF_VERSION_REGEXP.test(O)?this._version=O:(0,m.warn)(`Invalid PDF header version: ${O}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let Q=0;return Q=this.catalog.hasActualNumPages?this.catalog.numPages:this.xfaFactory?this.xfaFactory.getNumPages():this.linearization?this.linearization.numPages:this.catalog.numPages,(0,m.shadow)(this,"numPages",Q)}_hasOnlyDocumentSignatures(Q,N=0){return!!Array.isArray(Q)&&Q.every(O=>{if(!((O=this.xref.fetchIfRef(O))instanceof x.Dict))return!1;if(O.has("Kids"))return++N>10?((0,m.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(O.get("Kids"),N);const H=(0,x.isName)(O.get("FT"),"Sig"),G=O.get("Rect"),le=Array.isArray(G)&&G.every(fe=>fe===0);return H&&le})}get _xfaStreams(){const Q=this.catalog.acroForm;if(!Q)return null;const N=Q.get("XFA"),O={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(N instanceof w.BaseStream&&!N.isEmpty)return O["xdp:xdp"]=N,O;if(!Array.isArray(N)||N.length===0)return null;for(let H=0,G=N.length;H<G;H+=2){let le;if(le=H===0?"xdp:xdp":H===G-2?"/xdp:xdp":N[H],!O.hasOwnProperty(le))continue;const fe=this.xref.fetchIfRef(N[H+1]);fe instanceof w.BaseStream&&!fe.isEmpty&&(O[le]=fe)}return O}get xfaDatasets(){const Q=this._xfaStreams;if(!Q)return(0,m.shadow)(this,"xfaDatasets",null);for(const N of["datasets","xdp:xdp"]){const O=Q[N];if(O)try{const H={[N]:(0,m.stringToUTF8String)(O.getString())};return(0,m.shadow)(this,"xfaDatasets",new A.DatasetReader(H))}catch{(0,m.warn)("XFA - Invalid utf-8 string.");break}}return(0,m.shadow)(this,"xfaDatasets",null)}get xfaData(){const Q=this._xfaStreams;if(!Q)return null;const N=Object.create(null);for(const[O,H]of Object.entries(Q))if(H)try{N[O]=(0,m.stringToUTF8String)(H.getString())}catch{return(0,m.warn)("XFA - Invalid utf-8 string."),null}return N}get xfaFactory(){let Q;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(Q=this.xfaData),(0,m.shadow)(this,"xfaFactory",Q?new L.XFAFactory(Q):null)}get isPureXfa(){return!!this.xfaFactory&&this.xfaFactory.isValid()}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const Q=await this.pdfManager.ensureCatalog("xfaImages");if(!Q)return;const N=Q.getKeys();await new v.ObjectLoader(Q,N,this.xref).load();const H=new Map;for(const G of N){const le=Q.get(G);le instanceof w.BaseStream&&H.set(G,le.getBytes())}this.xfaFactory.setImages(H)}async loadXfaFonts(Q,N){const O=await this.pdfManager.ensureCatalog("acroForm");if(!O)return;const H=await O.getAsync("DR");if(!(H instanceof x.Dict))return;await new v.ObjectLoader(H,["Font"],this.xref).load();const le=H.get("Font");if(!(le instanceof x.Dict))return;const fe=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);fe.useSystemFonts=!1;const ae=new R.PartialEvaluator({xref:this.xref,handler:Q,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:fe}),re=new M.OperatorList,be=[],ye={get font(){return be.at(-1)},set font(oe){be.push(oe)},clone(){return this}},Ce=new Map;le.forEach((oe,V)=>{Ce.set(oe,V)});const me=[];for(const[oe,V]of Ce){const W=V.get("FontDescriptor");if(!(W instanceof x.Dict))continue;let ue=W.get("FontFamily");ue=ue.replace(/[ ]+(\d)/g,"$1");const he={fontFamily:ue,fontWeight:W.get("FontWeight"),italicAngle:-W.get("ItalicAngle")};(0,y.validateCSSFont)(he)&&me.push(ae.handleSetFont(H,[x.Name.get(oe),1],null,re,N,ye,null,he).catch(function(pe){return(0,m.warn)(`loadXfaFonts: "${pe}".`),null}))}await Promise.all(me);const ee=this.xfaFactory.setFonts(be);if(!ee)return;fe.ignoreErrors=!0,me.length=0,be.length=0;const te=new Set;for(const oe of ee)(0,u.getXfaFontName)(`${oe}-Regular`)||te.add(oe);te.size&&ee.push("PdfJS-Fallback");for(const oe of ee)if(!te.has(oe))for(const V of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const W=`${oe}-${V.name}`,ue=(0,u.getXfaFontDict)(W);me.push(ae.handleSetFont(H,[x.Name.get(W),1],null,re,N,ye,ue,{fontFamily:oe,fontWeight:V.fontWeight,italicAngle:V.italicAngle}).catch(function(he){return(0,m.warn)(`loadXfaFonts: "${he}".`),null}))}await Promise.all(me),this.xfaFactory.appendFonts(be,te)}async serializeXfaData(Q){return this.xfaFactory?this.xfaFactory.serializeData(Q):null}get version(){return this.catalog.version||this._version}get formInfo(){const Q={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},N=this.catalog.acroForm;if(!N)return(0,m.shadow)(this,"formInfo",Q);try{const O=N.get("Fields"),H=Array.isArray(O)&&O.length>0;Q.hasFields=H;const G=N.get("XFA");Q.hasXfa=Array.isArray(G)&&G.length>0||G instanceof w.BaseStream&&!G.isEmpty;const le=!!(1&N.get("SigFlags")),fe=le&&this._hasOnlyDocumentSignatures(O);Q.hasAcroForm=H&&!fe,Q.hasSignatures=le}catch(O){if(O instanceof y.MissingDataException)throw O;(0,m.warn)(`Cannot fetch form information: "${O}".`)}return(0,m.shadow)(this,"formInfo",Q)}get documentInfo(){const Q={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let N;try{N=this.xref.trailer.get("Info")}catch(O){if(O instanceof y.MissingDataException)throw O;(0,m.info)("The document information dictionary is invalid.")}if(!(N instanceof x.Dict))return(0,m.shadow)(this,"documentInfo",Q);for(const O of N.getKeys()){const H=N.get(O);switch(O){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof H=="string"){Q[O]=(0,m.stringToPDFString)(H);continue}break;case"Trapped":if(H instanceof x.Name){Q[O]=H;continue}break;default:let G;switch(typeof H){case"string":G=(0,m.stringToPDFString)(H);break;case"number":case"boolean":G=H;break;default:H instanceof x.Name&&(G=H)}if(G===void 0){(0,m.warn)(`Bad value, for custom key "${O}", in Info: ${H}.`);continue}Q.Custom||(Q.Custom=Object.create(null)),Q.Custom[O]=G;continue}(0,m.warn)(`Bad value, for key "${O}", in Info: ${H}.`)}return(0,m.shadow)(this,"documentInfo",Q)}get fingerprints(){function Q(le){return typeof le=="string"&&le.length>0&&le!==se}function N(le){const fe=[];for(const ae of le){const re=ae.toString(16);fe.push(re.padStart(2,"0"))}return fe.join("")}const O=this.xref.trailer.get("ID");let H,G;return Array.isArray(O)&&Q(O[0])?(H=(0,m.stringToBytes)(O[0]),O[1]!==O[0]&&Q(O[1])&&(G=(0,m.stringToBytes)(O[1]))):H=(0,T.calculateMD5)(this.stream.getByteRange(0,1024),0,1024),(0,m.shadow)(this,"fingerprints",[N(H),G?N(G):null])}async _getLinearizationPage(Q){const{catalog:N,linearization:O,xref:H}=this,G=x.Ref.get(O.objectNumberFirst,0);try{const le=await H.fetchAsync(G);if(le instanceof x.Dict){let fe=le.getRaw("Type");if(fe instanceof x.Ref&&(fe=await H.fetchAsync(fe)),(0,x.isName)(fe,"Page")||!le.has("Type")&&!le.has("Kids"))return N.pageKidsCountCache.has(G)||N.pageKidsCountCache.put(G,1),N.pageIndexCache.has(G)||N.pageIndexCache.put(G,0),[le,G]}throw new m.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(le){return(0,m.warn)(`_getLinearizationPage: "${le.message}".`),N.getPageDict(Q)}}getPage(Q){const N=this._pagePromises.get(Q);if(N)return N;const{catalog:O,linearization:H,xfaFactory:G}=this;let le;return le=G?Promise.resolve([x.Dict.empty,null]):H&&H.pageFirst===Q?this._getLinearizationPage(Q):O.getPageDict(Q),le=le.then(([fe,ae])=>new D({pdfManager:this.pdfManager,xref:this.xref,pageIndex:Q,pageDict:fe,ref:ae,globalIdFactory:this._globalIdFactory,fontCache:O.fontCache,builtInCMapCache:O.builtInCMapCache,standardFontDataCache:O.standardFontDataCache,globalImageCache:O.globalImageCache,nonBlendModesSet:O.nonBlendModesSet,xfaFactory:G})),this._pagePromises.set(Q,le),le}async checkFirstPage(Q=!1){if(!Q)try{await this.getPage(0)}catch(N){if(N instanceof y.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new y.XRefParseException}}async checkLastPage(Q=!1){const{catalog:N,pdfManager:O}=this;N.setActualNumPages();let H;try{if(await Promise.all([O.ensureDoc("xfaFactory"),O.ensureDoc("linearization"),O.ensureCatalog("numPages")]),this.xfaFactory)return;if(H=this.linearization?this.linearization.numPages:N.numPages,!Number.isInteger(H))throw new m.FormatError("Page count is not an integer.");if(H<=1)return;await this.getPage(H-1)}catch(G){if(this._pagePromises.delete(H-1),await this.cleanup(),G instanceof y.XRefEntryException&&!Q)throw new y.XRefParseException;(0,m.warn)(`checkLastPage - invalid /Pages tree /Count: ${H}.`);let le;try{le=await N.getAllPageDicts(Q)}catch(fe){if(fe instanceof y.XRefEntryException&&!Q)throw new y.XRefParseException;N.setActualNumPages(1);return}for(const[fe,[ae,re]]of le){let be;ae instanceof Error?(be=Promise.reject(ae),be.catch(()=>{})):be=Promise.resolve(new D({pdfManager:O,xref:this.xref,pageIndex:fe,pageDict:ae,ref:re,globalIdFactory:this._globalIdFactory,fontCache:N.fontCache,builtInCMapCache:N.builtInCMapCache,standardFontDataCache:N.standardFontDataCache,globalImageCache:N.globalImageCache,nonBlendModesSet:N.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(fe,be)}N.setActualNumPages(le.size)}}fontFallback(Q,N){return this.catalog.fontFallback(Q,N)}async cleanup(Q=!1){return this.catalog?this.catalog.cleanup(Q):(0,k.clearGlobalCaches)()}_collectFieldObjects(Q,N,O){const H=this.xref.fetchIfRef(N);if(H.has("T")){const G=(0,m.stringToPDFString)(H.get("T"));Q=Q===""?G:`${Q}.${G}`}if(O.has(Q)||O.set(Q,[]),O.get(Q).push(d.AnnotationFactory.create(this.xref,N,this.pdfManager,this._localIdFactory,!0).then(G=>G&&G.getFieldObject()).catch(function(G){return(0,m.warn)(`_collectFieldObjects: "${G}".`),null})),H.has("Kids")){const G=H.get("Kids");for(const le of G)this._collectFieldObjects(Q,le,O)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,m.shadow)(this,"fieldObjects",Promise.resolve(null));const Q=Object.create(null),N=new Map;for(const H of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",H,N);const O=[];for(const[H,G]of N)O.push(Promise.all(G).then(le=>{(le=le.filter(fe=>!!fe)).length>0&&(Q[H]=le)}));return(0,m.shadow)(this,"fieldObjects",Promise.all(O).then(()=>Q))}get hasJSActions(){const Q=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,m.shadow)(this,"hasJSActions",Q)}async _parseHasJSActions(){const[Q,N]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return!!Q||!!N&&Object.values(N).some(O=>O.some(H=>H.actions!==null))}get calculationOrderIds(){const Q=this.catalog.acroForm;if(!Q||!Q.has("CO"))return(0,m.shadow)(this,"calculationOrderIds",null);const N=Q.get("CO");if(!Array.isArray(N)||N.length===0)return(0,m.shadow)(this,"calculationOrderIds",null);const O=[];for(const H of N)H instanceof x.Ref&&O.push(H.toString());return O.length===0?(0,m.shadow)(this,"calculationOrderIds",null):(0,m.shadow)(this,"calculationOrderIds",O)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PopupAnnotation=h.MarkupAnnotation=h.AnnotationFactory=h.AnnotationBorderStyle=h.Annotation=void 0,h.getQuadPoints=J;var d=p(2),m=p(3),y=p(11),x=p(4),u=p(63),w=p(5),T=p(58),C=p(67),k=p(12),A=p(70),g=p(73),E=p(60),v=p(8),M=p(74);h.AnnotationFactory=class{static create(V,W,ue,he,pe){return Promise.all([ue.ensureCatalog("acroForm"),ue.ensureCatalog("baseUrl"),ue.ensureCatalog("attachments"),ue.ensureDoc("xfaDatasets"),pe?this._getPageIndex(V,W,ue):-1]).then(([Se,ge,de,xe,ve])=>ue.ensure(this,"_create",[V,W,ue,he,Se,de,xe,pe,ve]))}static _create(V,W,ue,he,pe,Se=null,ge,de,xe=-1){const ve=V.fetchIfRef(W);if(!(ve instanceof x.Dict))return;const Ee=W instanceof x.Ref?W.toString():`annot_${he.createObjId()}`;let Te=ve.get("Subtype");Te=Te instanceof x.Name?Te.name:null;const _e=pe instanceof x.Dict?pe:x.Dict.empty,Oe={xref:V,ref:W,dict:ve,subtype:Te,id:Ee,pdfManager:ue,acroForm:_e,attachments:Se,xfaDatasets:ge,collectFields:de,needAppearances:!de&&_e.get("NeedAppearances")===!0,pageIndex:xe,isOffscreenCanvasSupported:d.FeatureTest.isOffscreenCanvasSupported&&ue.evaluatorOptions.isOffscreenCanvasSupported};switch(Te){case"Link":return new q(Oe);case"Text":return new Y(Oe);case"Widget":let Pe=(0,m.getInheritableProperty)({dict:ve,key:"FT"});switch(Pe=Pe instanceof x.Name?Pe.name:null,Pe){case"Tx":return new ne(Oe);case"Btn":return new F(Oe);case"Ch":return new j(Oe);case"Sig":return new se(Oe)}return(0,d.warn)(`Unimplemented widget field type "${Pe}", falling back to base field type.`),new D(Oe);case"Popup":return new Q(Oe);case"FreeText":return new N(Oe);case"Line":return new O(Oe);case"Square":return new H(Oe);case"Circle":return new G(Oe);case"PolyLine":return new le(Oe);case"Polygon":return new fe(Oe);case"Caret":return new ae(Oe);case"Ink":return new re(Oe);case"Highlight":return new be(Oe);case"Underline":return new ye(Oe);case"Squiggly":return new Ce(Oe);case"StrikeOut":return new me(Oe);case"Stamp":return new ee(Oe);case"FileAttachment":return new te(Oe);default:return de||(Te?(0,d.warn)(`Unimplemented annotation type "${Te}", falling back to base annotation.`):(0,d.warn)("Annotation is missing the required /Subtype.")),new L(Oe)}}static async _getPageIndex(V,W,ue){try{const he=await V.fetchIfRefAsync(W);if(!(he instanceof x.Dict))return-1;const pe=he.getRaw("P");return pe instanceof x.Ref?await ue.ensureCatalog("getPageIndex",[pe]):-1}catch(he){return(0,d.warn)(`_getPageIndex: "${he}".`),-1}}static async saveNewAnnotations(V,W,ue){const he=V.xref;let pe;const Se=[],ge=[];for(const de of ue)switch(de.annotationType){case d.AnnotationEditorType.FREETEXT:if(!pe){const xe=new x.Dict(he);xe.set("BaseFont",x.Name.get("Helvetica")),xe.set("Type",x.Name.get("Font")),xe.set("Subtype",x.Name.get("Type1")),xe.set("Encoding",x.Name.get("WinAnsiEncoding"));const ve=[];pe=he.getNewTemporaryRef(),(0,u.writeObject)(pe,xe,ve,null),Se.push({ref:pe,data:ve.join("")})}ge.push(N.createNewAnnotation(he,de,Se,{evaluator:V,task:W,baseFontRef:pe}));break;case d.AnnotationEditorType.INK:ge.push(re.createNewAnnotation(he,de,Se))}return{annotations:await Promise.all(ge),dependencies:Se}}static async printNewAnnotations(V,W,ue){if(!ue)return null;const he=V.xref,pe=[],Se=d.FeatureTest.isOffscreenCanvasSupported&&V.options.isOffscreenCanvasSupported;for(const ge of ue)switch(ge.annotationType){case d.AnnotationEditorType.FREETEXT:pe.push(N.createNewPrintAnnotation(he,ge,{evaluator:V,task:W,isOffscreenCanvasSupported:Se}));break;case d.AnnotationEditorType.INK:pe.push(re.createNewPrintAnnotation(he,ge,{isOffscreenCanvasSupported:Se}))}return Promise.all(pe)}};function R(oe,V=new Uint8ClampedArray(3)){if(!Array.isArray(oe))return V;const W=V||new Uint8ClampedArray(3);switch(oe.length){case 0:return null;case 1:return k.ColorSpace.singletons.gray.getRgbItem(oe,0,W,0),W;case 3:return k.ColorSpace.singletons.rgb.getRgbItem(oe,0,W,0),W;case 4:return k.ColorSpace.singletons.cmyk.getRgbItem(oe,0,W,0),W;default:return V}}function I(oe){return Array.from(oe,V=>V/255)}function J(oe,V){const W=oe.getArray("QuadPoints");if(!Array.isArray(W)||W.length===0||W.length%8>0)return null;const ue=[];for(let he=0,pe=W.length/8;he<pe;he++){let Se=1/0,ge=-1/0,de=1/0,xe=-1/0;for(let ve=8*he,Ee=8*he+8;ve<Ee;ve+=2){const Te=W[ve],_e=W[ve+1];Se=Math.min(Te,Se),ge=Math.max(Te,ge),de=Math.min(_e,de),xe=Math.max(_e,xe)}if(V!==null&&(Se<V[0]||ge>V[2]||de<V[1]||xe>V[3]))return null;ue.push([{x:Se,y:xe},{x:ge,y:xe},{x:Se,y:de},{x:ge,y:de}])}return ue}function _(oe,V,W){const[ue,he,pe,Se]=d.Util.getAxialAlignedBoundingBox(V,W);if(ue===pe||he===Se)return[1,0,0,1,oe[0],oe[1]];const ge=(oe[2]-oe[0])/(pe-ue),de=(oe[3]-oe[1])/(Se-he);return[ge,0,0,de,oe[0]-ue*ge,oe[1]-he*de]}class L{constructor(V){const{dict:W,xref:ue}=V;this.setTitle(W.get("T")),this.setContents(W.get("Contents")),this.setModificationDate(W.get("M")),this.setFlags(W.get("F")),this.setRectangle(W.getArray("Rect")),this.setColor(W.getArray("C")),this.setBorderStyle(W),this.setAppearance(W),this.setOptionalContent(W);const he=W.get("MK");if(this.setBorderAndBackgroundColors(he),this.setRotation(he),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:V.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:V.subtype,hasOwnCanvas:!1},V.collectFields){const pe=W.get("Kids");if(Array.isArray(pe)){const Se=[];for(const ge of pe)ge instanceof x.Ref&&Se.push(ge.toString());Se.length!==0&&(this.data.kidIds=Se)}this.data.actions=(0,m.collectActions)(ue,W,d.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(W),this.data.pageIndex=V.pageIndex}this._isOffscreenCanvasSupported=V.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(V,W){return!!(V&W)}_isViewable(V){return!this._hasFlag(V,d.AnnotationFlag.INVISIBLE)&&!this._hasFlag(V,d.AnnotationFlag.NOVIEW)}_isPrintable(V){return this._hasFlag(V,d.AnnotationFlag.PRINT)&&!this._hasFlag(V,d.AnnotationFlag.INVISIBLE)}mustBeViewed(V){const W=V&&V.get(this.data.id);return W&&W.hidden!==void 0?!W.hidden:this.viewable&&!this._hasFlag(this.flags,d.AnnotationFlag.HIDDEN)}mustBePrinted(V){const W=V&&V.get(this.data.id);return W&&W.print!==void 0?W.print:this.printable}get viewable(){return this.data.quadPoints!==null&&(this.flags===0||this._isViewable(this.flags))}get printable(){return this.data.quadPoints!==null&&this.flags!==0&&this._isPrintable(this.flags)}_parseStringHelper(V){const W=typeof V=="string"?(0,d.stringToPDFString)(V):"";return{str:W,dir:W&&(0,T.bidi)(W).dir==="rtl"?"rtl":"ltr"}}setDefaultAppearance(V){const W=(0,m.getInheritableProperty)({dict:V.dict,key:"DA"})||V.acroForm.get("DA");this._defaultAppearance=typeof W=="string"?W:"",this.data.defaultAppearanceData=(0,y.parseDefaultAppearance)(this._defaultAppearance)}setTitle(V){this._title=this._parseStringHelper(V)}setContents(V){this._contents=this._parseStringHelper(V)}setModificationDate(V){this.modificationDate=typeof V=="string"?V:null}setFlags(V){this.flags=Number.isInteger(V)&&V>0?V:0}hasFlag(V){return this._hasFlag(this.flags,V)}setRectangle(V){Array.isArray(V)&&V.length===4?this.rectangle=d.Util.normalizeRect(V):this.rectangle=[0,0,0,0]}setColor(V){this.color=R(V)}setLineEndings(V){if(this.lineEndings=["None","None"],Array.isArray(V)&&V.length===2)for(let W=0;W<2;W++){const ue=V[W];if(ue instanceof x.Name)switch(ue.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[W]=ue.name;continue}(0,d.warn)(`Ignoring invalid lineEnding: ${ue}`)}}setRotation(V){if(this.rotation=0,V instanceof x.Dict){let W=V.get("R")||0;Number.isInteger(W)&&W!==0&&(W%=360,W<0&&(W+=360),W%90==0&&(this.rotation=W))}}setBorderAndBackgroundColors(V){V instanceof x.Dict?(this.borderColor=R(V.getArray("BC"),null),this.backgroundColor=R(V.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(V){if(this.borderStyle=new K,V instanceof x.Dict)if(V.has("BS")){const W=V.get("BS"),ue=W.get("Type");(!ue||(0,x.isName)(ue,"Border"))&&(this.borderStyle.setWidth(W.get("W"),this.rectangle),this.borderStyle.setStyle(W.get("S")),this.borderStyle.setDashArray(W.getArray("D")))}else if(V.has("Border")){const W=V.getArray("Border");Array.isArray(W)&&W.length>=3&&(this.borderStyle.setHorizontalCornerRadius(W[0]),this.borderStyle.setVerticalCornerRadius(W[1]),this.borderStyle.setWidth(W[2],this.rectangle),W.length===4&&this.borderStyle.setDashArray(W[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(V){this.appearance=null;const W=V.get("AP");if(!(W instanceof x.Dict))return;const ue=W.get("N");if(ue instanceof w.BaseStream){this.appearance=ue;return}if(!(ue instanceof x.Dict))return;const he=V.get("AS");if(!(he instanceof x.Name&&ue.has(he.name)))return;const pe=ue.get(he.name);pe instanceof w.BaseStream&&(this.appearance=pe)}setOptionalContent(V){this.oc=null;const W=V.get("OC");W instanceof x.Name?(0,d.warn)("setOptionalContent: Support for /Name-entry is not implemented."):W instanceof x.Dict&&(this.oc=W)}loadResources(V,W){return W.dict.getAsync("Resources").then(ue=>{if(ue)return new g.ObjectLoader(ue,V,ue.xref).load().then(function(){return ue})})}async getOperatorList(V,W,ue,he,pe){const Se=this.data;let ge=this.appearance;const de=!!(this.data.hasOwnCanvas&&ue&d.RenderingIntentFlag.DISPLAY);if(!ge){if(!de)return{opList:new E.OperatorList,separateForm:!1,separateCanvas:!1};ge=new v.StringStream(""),ge.dict=new x.Dict}const xe=ge.dict,ve=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],ge),Ee=xe.getArray("BBox")||[0,0,1,1],Te=xe.getArray("Matrix")||[1,0,0,1,0,0],_e=_(Se.rect,Ee,Te),Oe=new E.OperatorList;let Pe;return this.oc&&(Pe=await V.parseMarkedContentProps(this.oc,null)),Pe!==void 0&&Oe.addOp(d.OPS.beginMarkedContentProps,["OC",Pe]),Oe.addOp(d.OPS.beginAnnotation,[Se.id,Se.rect,_e,Te,de]),await V.getOperatorList({stream:ge,task:W,resources:ve,operatorList:Oe,fallbackFontDict:this._fallbackFontDict}),Oe.addOp(d.OPS.endAnnotation,[]),Pe!==void 0&&Oe.addOp(d.OPS.endMarkedContent,[]),this.reset(),{opList:Oe,separateForm:!1,separateCanvas:de}}async save(V,W,ue){return null}get hasTextContent(){return!1}async extractTextContent(V,W,ue){if(!this.appearance)return;const he=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),pe=[],Se=[],ge={desiredSize:Math.Infinity,ready:!0,enqueue(de,xe){for(const ve of de.items)Se.push(ve.str),ve.hasEOL&&(pe.push(Se.join("")),Se.length=0)}};await V.getTextContent({stream:this.appearance,task:W,resources:he,includeMarkedContent:!0,combineTextItems:!0,sink:ge,viewBox:ue}),this.reset(),Se.length&&pe.push(Se.join("")),pe.length>0&&(this.data.textContent=pe)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const V of this._streams)V.reset()}_constructFieldName(V){if(!V.has("T")&&!V.has("Parent"))return(0,d.warn)("Unknown field name, falling back to empty field name."),"";if(!V.has("Parent"))return(0,d.stringToPDFString)(V.get("T"));const W=[];V.has("T")&&W.unshift((0,d.stringToPDFString)(V.get("T")));let ue=V;const he=new x.RefSet;for(V.objId&&he.put(V.objId);ue.has("Parent")&&(ue=ue.get("Parent"),!(!(ue instanceof x.Dict)||ue.objId&&he.has(ue.objId)));)if(ue.objId&&he.put(ue.objId),ue.has("T")){const pe=(0,d.stringToPDFString)(ue.get("T"));pe.startsWith("#")||W.unshift(pe)}return W.join(".")}}h.Annotation=L;class K{constructor(){this.width=1,this.style=d.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(V,W=[0,0,0,0]){if(V instanceof x.Name)this.width=0;else if(typeof V=="number"){if(V>0){const ue=(W[2]-W[0])/2,he=(W[3]-W[1])/2;ue>0&&he>0&&(V>ue||V>he)&&((0,d.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${V}`),V=1)}this.width=V}}setStyle(V){if(V instanceof x.Name)switch(V.name){case"S":this.style=d.AnnotationBorderStyleType.SOLID;break;case"D":this.style=d.AnnotationBorderStyleType.DASHED;break;case"B":this.style=d.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=d.AnnotationBorderStyleType.INSET;break;case"U":this.style=d.AnnotationBorderStyleType.UNDERLINE}}setDashArray(V,W=!1){if(Array.isArray(V)&&V.length>0){let ue=!0,he=!0;for(const pe of V){if(!(+pe>=0)){ue=!1;break}pe>0&&(he=!1)}ue&&!he?(this.dashArray=V,W&&this.setStyle(x.Name.get("D"))):this.width=0}else V&&(this.width=0)}setHorizontalCornerRadius(V){Number.isInteger(V)&&(this.horizontalCornerRadius=V)}setVerticalCornerRadius(V){Number.isInteger(V)&&(this.verticalCornerRadius=V)}}h.AnnotationBorderStyle=K;class $ extends L{constructor(V){super(V);const{dict:W}=V;if(W.has("IRT")){const ue=W.getRaw("IRT");this.data.inReplyTo=ue instanceof x.Ref?ue.toString():null;const he=W.get("RT");this.data.replyType=he instanceof x.Name?he.name:d.AnnotationReplyType.REPLY}if(this.data.replyType===d.AnnotationReplyType.GROUP){const ue=W.get("IRT");this.setTitle(ue.get("T")),this.data.titleObj=this._title,this.setContents(ue.get("Contents")),this.data.contentsObj=this._contents,ue.has("CreationDate")?(this.setCreationDate(ue.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,ue.has("M")?(this.setModificationDate(ue.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=ue.has("Popup"),ue.has("C")?(this.setColor(ue.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(W.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=W.has("Popup"),W.has("C")||(this.data.color=null);W.has("RC")&&(this.data.richText=M.XFAFactory.getRichTextAsHtml(W.get("RC")))}setCreationDate(V){this.creationDate=typeof V=="string"?V:null}_setDefaultAppearance({xref:V,extra:W,strokeColor:ue,fillColor:he,blendMode:pe,strokeAlpha:Se,fillAlpha:ge,pointsCallback:de}){let xe=Number.MAX_VALUE,ve=Number.MAX_VALUE,Ee=Number.MIN_VALUE,Te=Number.MIN_VALUE;const _e=["q"];W&&_e.push(W),ue&&_e.push(`${ue[0]} ${ue[1]} ${ue[2]} RG`),he&&_e.push(`${he[0]} ${he[1]} ${he[2]} rg`);let Oe=this.data.quadPoints;Oe||(Oe=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const ct of Oe){const[mt,Ze,St,Rt]=de(_e,ct);xe=Math.min(xe,mt),Ee=Math.max(Ee,Ze),ve=Math.min(ve,St),Te=Math.max(Te,Rt)}_e.push("Q");const Pe=new x.Dict(V),je=new x.Dict(V);je.set("Subtype",x.Name.get("Form"));const De=new v.StringStream(_e.join(" "));De.dict=je,Pe.set("Fm0",De);const Me=new x.Dict(V);pe&&Me.set("BM",x.Name.get(pe)),typeof Se=="number"&&Me.set("CA",Se),typeof ge=="number"&&Me.set("ca",ge);const Fe=new x.Dict(V);Fe.set("GS0",Me);const $e=new x.Dict(V);$e.set("ExtGState",Fe),$e.set("XObject",Pe);const tt=new x.Dict(V);tt.set("Resources",$e);const ut=this.data.rect=[xe,ve,Ee,Te];tt.set("BBox",ut),this.appearance=new v.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=tt,this._streams.push(this.appearance,De)}static async createNewAnnotation(V,W,ue,he){const pe=V.getNewTemporaryRef(),Se=await this.createNewAppearanceStream(W,V,he),ge=[];let de;if(Se){const ve=V.getNewTemporaryRef();de=this.createNewDict(W,V,{apRef:ve});const Ee=V.encrypt?V.encrypt.createCipherTransform(ve.num,ve.gen):null;(0,u.writeObject)(ve,Se,ge,Ee),ue.push({ref:ve,data:ge.join("")})}else de=this.createNewDict(W,V,{});ge.length=0;const xe=V.encrypt?V.encrypt.createCipherTransform(pe.num,pe.gen):null;return(0,u.writeObject)(pe,de,ge,xe),{ref:pe,data:ge.join("")}}static async createNewPrintAnnotation(V,W,ue){const he=await this.createNewAppearanceStream(W,V,ue),pe=this.createNewDict(W,V,{ap:he});return new this.prototype.constructor({dict:pe,xref:V,isOffscreenCanvasSupported:ue.isOffscreenCanvasSupported})}}h.MarkupAnnotation=$;class D extends L{constructor(V){super(V);const{dict:W,xref:ue}=V,he=this.data;this.ref=V.ref,this._needAppearances=V.needAppearances,he.annotationType=d.AnnotationType.WIDGET,he.fieldName===void 0&&(he.fieldName=this._constructFieldName(W)),he.actions===void 0&&(he.actions=(0,m.collectActions)(ue,W,d.AnnotationActionEventType));let pe=(0,m.getInheritableProperty)({dict:W,key:"V",getArray:!0});he.fieldValue=this._decodeFormValue(pe);const Se=(0,m.getInheritableProperty)({dict:W,key:"DV",getArray:!0});if(he.defaultFieldValue=this._decodeFormValue(Se),pe===void 0&&V.xfaDatasets){const Ee=this._title.str;Ee&&(this._hasValueFromXFA=!0,he.fieldValue=pe=V.xfaDatasets.getValue(Ee))}pe===void 0&&he.defaultFieldValue!==null&&(he.fieldValue=he.defaultFieldValue),he.alternativeText=(0,d.stringToPDFString)(W.get("TU")||""),this.setDefaultAppearance(V),he.hasAppearance=this._needAppearances&&he.fieldValue!==void 0&&he.fieldValue!==null||he.hasAppearance;const ge=(0,m.getInheritableProperty)({dict:W,key:"FT"});he.fieldType=ge instanceof x.Name?ge.name:null;const de=(0,m.getInheritableProperty)({dict:W,key:"DR"}),xe=V.acroForm.get("DR"),ve=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:de,acroFormResources:xe,appearanceResources:ve,mergedResources:x.Dict.merge({xref:ue,dictArray:[de,ve,xe],mergeSubDicts:!0})},he.fieldFlags=(0,m.getInheritableProperty)({dict:W,key:"Ff"}),(!Number.isInteger(he.fieldFlags)||he.fieldFlags<0)&&(he.fieldFlags=0),he.readOnly=this.hasFieldFlag(d.AnnotationFieldFlag.READONLY),he.required=this.hasFieldFlag(d.AnnotationFieldFlag.REQUIRED),he.hidden=this._hasFlag(he.annotationFlags,d.AnnotationFlag.HIDDEN)}_decodeFormValue(V){return Array.isArray(V)?V.filter(W=>typeof W=="string").map(W=>(0,d.stringToPDFString)(W)):V instanceof x.Name?(0,d.stringToPDFString)(V.name):typeof V=="string"?(0,d.stringToPDFString)(V):null}hasFieldFlag(V){return!!(this.data.fieldFlags&V)}getRotationMatrix(V){const W=V?V.get(this.data.id):void 0;let ue=W&&W.rotation;if(ue===void 0&&(ue=this.rotation),ue===0)return d.IDENTITY_MATRIX;const he=this.data.rect[2]-this.data.rect[0],pe=this.data.rect[3]-this.data.rect[1];return(0,m.getRotationMatrix)(ue,he,pe)}getBorderAndBackgroundAppearances(V){const W=V?V.get(this.data.id):void 0;let ue=W&&W.rotation;if(ue===void 0&&(ue=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const he=this.data.rect[2]-this.data.rect[0],pe=this.data.rect[3]-this.data.rect[1],Se=ue===0||ue===180?`0 0 ${he} ${pe} re`:`0 0 ${pe} ${he} re`;let ge="";return this.backgroundColor&&(ge=`${(0,y.getPdfColor)(this.backgroundColor,!0)} ${Se} f `),this.borderColor&&(ge+=`${this.borderStyle.width||1} w ${(0,y.getPdfColor)(this.borderColor,!1)} ${Se} S `),ge}async getOperatorList(V,W,ue,he,pe){if(he&&!(this instanceof se))return{opList:new E.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(V,W,ue,he,pe);const Se=await this._getAppearance(V,W,ue,pe);if(this.appearance&&Se===null)return super.getOperatorList(V,W,ue,he,pe);const ge=new E.OperatorList;if(!this._defaultAppearance||Se===null)return{opList:ge,separateForm:!1,separateCanvas:!1};const de=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],xe=_(this.data.rect,de,[1,0,0,1,0,0]);let ve;this.oc&&(ve=await V.parseMarkedContentProps(this.oc,null)),ve!==void 0&&ge.addOp(d.OPS.beginMarkedContentProps,["OC",ve]),ge.addOp(d.OPS.beginAnnotation,[this.data.id,this.data.rect,xe,this.getRotationMatrix(pe),!1]);const Ee=new v.StringStream(Se);return await V.getOperatorList({stream:Ee,task:W,resources:this._fieldResources.mergedResources,operatorList:ge}),ge.addOp(d.OPS.endAnnotation,[]),ve!==void 0&&ge.addOp(d.OPS.endMarkedContent,[]),{opList:ge,separateForm:!1,separateCanvas:!1}}_getMKDict(V){const W=new x.Dict(null);return V&&W.set("R",V),this.borderColor&&W.set("BC",I(this.borderColor)),this.backgroundColor&&W.set("BG",I(this.backgroundColor)),W.size>0?W:null}amendSavedDict(V,W){}async save(V,W,ue){const he=ue?ue.get(this.data.id):void 0;let pe=he&&he.value,Se=he&&he.rotation;if(pe===this.data.fieldValue||pe===void 0){if(!this._hasValueFromXFA&&Se===void 0)return null;pe=pe||this.data.fieldValue}if(Se===void 0&&!this._hasValueFromXFA&&Array.isArray(pe)&&Array.isArray(this.data.fieldValue)&&pe.length===this.data.fieldValue.length&&pe.every((Fe,$e)=>Fe===this.data.fieldValue[$e]))return null;Se===void 0&&(Se=this.rotation);let ge=null;if(!this._needAppearances&&(ge=await this._getAppearance(V,W,d.RenderingIntentFlag.SAVE,ue),ge===null))return null;let de=!1;ge&&ge.needAppearances&&(de=!0,ge=null);const{xref:xe}=V,ve=xe.fetchIfRef(this.ref);if(!(ve instanceof x.Dict))return null;const Ee=new x.Dict(xe);for(const Fe of ve.getKeys())Fe!=="AP"&&Ee.set(Fe,ve.getRaw(Fe));const Te={path:this.data.fieldName,value:pe},_e=Fe=>(0,m.isAscii)(Fe)?Fe:(0,m.stringToUTF16String)(Fe,!0);Ee.set("V",Array.isArray(pe)?pe.map(_e):_e(pe)),this.amendSavedDict(ue,Ee);const Oe=this._getMKDict(Se);Oe&&Ee.set("MK",Oe);const Pe=xe.encrypt,je=Pe?Pe.createCipherTransform(this.ref.num,this.ref.gen):null,De=[],Me=[{ref:this.ref,data:"",xfa:Te,needAppearances:de}];if(ge!==null){const Fe=xe.getNewTemporaryRef(),$e=new x.Dict(xe);Ee.set("AP",$e),$e.set("N",Fe);let tt=null;Pe&&(tt=Pe.createCipherTransform(Fe.num,Fe.gen));const ut=this._getSaveFieldResources(xe),ct=new v.StringStream(ge),mt=ct.dict=new x.Dict(xe);mt.set("Subtype",x.Name.get("Form")),mt.set("Resources",ut),mt.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const Ze=this.getRotationMatrix(ue);Ze!==d.IDENTITY_MATRIX&&mt.set("Matrix",Ze),(0,u.writeObject)(Fe,ct,De,tt),Me.push({ref:Fe,data:De.join(""),xfa:null,needAppearances:!1}),De.length=0}return Ee.set("M",`D:${(0,d.getModificationDate)()}`),(0,u.writeObject)(this.ref,Ee,De,je),Me[0].data=De.join(""),Me}async _getAppearance(V,W,ue,he){if(this.hasFieldFlag(d.AnnotationFieldFlag.PASSWORD))return null;const pe=he?he.get(this.data.id):void 0;let Se,ge;if(pe&&(Se=pe.formattedValue||pe.value,ge=pe.rotation),ge===void 0&&Se===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const de=this.getBorderAndBackgroundAppearances(he);if(Se===void 0&&(Se=this.data.fieldValue,!Se))return`/Tx BMC q ${de}Q EMC`;if(Array.isArray(Se)&&Se.length===1&&(Se=Se[0]),(0,d.assert)(typeof Se=="string","Expected `value` to be a string."),Se=Se.trim(),this.data.combo){const ct=this.data.options.find(({exportValue:mt})=>Se===mt);Se=ct&&ct.displayValue||Se}if(Se==="")return`/Tx BMC q ${de}Q EMC`;ge===void 0&&(ge=this.rotation);let xe,ve=-1;this.data.multiLine?(xe=Se.split(/\r\n?|\n/).map(ct=>ct.normalize("NFC")),ve=xe.length):xe=[Se.replace(/\r\n?|\n/,"").normalize("NFC")];let Ee=this.data.rect[3]-this.data.rect[1],Te=this.data.rect[2]-this.data.rect[0];ge!==90&&ge!==270||([Te,Ee]=[Ee,Te]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,y.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let _e,Oe,Pe,je=await D._getFontData(V,W,this.data.defaultAppearanceData,this._fieldResources.mergedResources);const De=[];let Me=!1;for(const ct of xe){const mt=je.encodeString(ct);mt.length>1&&(Me=!0),De.push(mt.join(""))}if(Me&&ue&d.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(Me&&this._isOffscreenCanvasSupported){const ct=this.data.comb?"monospace":"sans-serif",mt=new y.FakeUnicodeFont(V.xref,ct),Ze=mt.createFontResources(xe.join("")),St=Ze.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const dt=this._fieldResources.mergedResources.get("Font");for(const ot of St.getKeys())dt.set(ot,St.getRaw(ot))}else this._fieldResources.mergedResources.set("Font",St);const Rt=mt.fontName.name;je=await D._getFontData(V,W,{fontName:Rt,fontSize:0},Ze);for(let dt=0,ot=De.length;dt<ot;dt++)De[dt]=(0,m.stringToUTF16String)(xe[dt]);const $t=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=Rt,[_e,Oe,Pe]=this._computeFontSize(Ee-2,Te-4,Se,je,ve),this.data.defaultAppearanceData=$t}else this._isOffscreenCanvasSupported||(0,d.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[_e,Oe,Pe]=this._computeFontSize(Ee-2,Te-4,Se,je,ve);let Fe=je.descent;Fe=isNaN(Fe)?d.BASELINE_FACTOR*Pe:Math.max(d.BASELINE_FACTOR*Pe,Math.abs(Fe)*Oe);const $e=Math.min(Math.floor((Ee-Oe)/2),1),tt=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(_e,De,je,Oe,Te,Ee,tt,2,$e,Fe,Pe,he);if(this.data.comb)return this._getCombAppearance(_e,je,De[0],Oe,Te,Ee,2,$e,Fe,Pe,he);const ut=$e+Fe;return tt===0||tt>2?`/Tx BMC q ${de}BT `+_e+` 1 0 0 1 ${(0,m.numberToString)(2)} ${(0,m.numberToString)(ut)} Tm (${(0,m.escapeString)(De[0])}) Tj ET Q EMC`:`/Tx BMC q ${de}BT `+_e+` 1 0 0 1 0 0 Tm ${this._renderText(De[0],je,Oe,Te,tt,{shift:0},2,ut)} ET Q EMC`}static async _getFontData(V,W,ue,he){const pe=new E.OperatorList,Se={font:null,clone(){return this}},{fontName:ge,fontSize:de}=ue;return await V.handleSetFont(he,[ge&&x.Name.get(ge),de],null,pe,W,Se,null),Se.font}_getTextWidth(V,W){return W.charsToGlyphs(V).reduce((ue,he)=>ue+he.width,0)/1e3}_computeFontSize(V,W,ue,he,pe){let{fontSize:Se}=this.data.defaultAppearanceData,ge=(Se||12)*d.LINE_FACTOR,de=Math.round(V/ge);if(!Se){const xe=Te=>Math.floor(100*Te)/100;if(pe===-1){const Te=this._getTextWidth(ue,he);Se=xe(Math.min(V/d.LINE_FACTOR,Te>W?W/Te:1/0)),de=1}else{const Te=ue.split(/\r\n?|\n/),_e=[];for(const Pe of Te){const je=he.encodeString(Pe).join(""),De=he.charsToGlyphs(je),Me=he.getCharPositions(je);_e.push({line:je,glyphs:De,positions:Me})}const Oe=Pe=>{let je=0;for(const De of _e)if(je+=this._splitLine(null,he,Pe,W,De).length*Pe,je>V)return!0;return!1};for(de=Math.max(de,pe);ge=V/de,Se=xe(ge/d.LINE_FACTOR),!!Oe(Se);)de++}const{fontName:ve,fontColor:Ee}=this.data.defaultAppearanceData;this._defaultAppearance=(0,y.createDefaultAppearance)({fontSize:Se,fontName:ve,fontColor:Ee})}return[this._defaultAppearance,Se,V/de]}_renderText(V,W,ue,he,pe,Se,ge,de){let xe;pe===1?xe=(he-this._getTextWidth(V,W)*ue)/2:pe===2?xe=he-this._getTextWidth(V,W)*ue-ge:xe=ge;const ve=(0,m.numberToString)(xe-Se.shift);return Se.shift=xe,`${ve} ${de=(0,m.numberToString)(de)} Td (${(0,m.escapeString)(V)}) Tj`}_getSaveFieldResources(V){const{localResources:W,appearanceResources:ue,acroFormResources:he}=this._fieldResources,pe=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!pe)return W||x.Dict.empty;for(const Se of[W,ue])if(Se instanceof x.Dict){const ge=Se.get("Font");if(ge instanceof x.Dict&&ge.has(pe))return Se}if(he instanceof x.Dict){const Se=he.get("Font");if(Se instanceof x.Dict&&Se.has(pe)){const ge=new x.Dict(V);ge.set(pe,Se.getRaw(pe));const de=new x.Dict(V);return de.set("Font",ge),x.Dict.merge({xref:V,dictArray:[de,W],mergeSubDicts:!0})}}return W||x.Dict.empty}getFieldObject(){return null}}class ne extends D{constructor(V){super(V),this._hasText=!0;const W=V.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let ue=(0,m.getInheritableProperty)({dict:W,key:"Q"});(!Number.isInteger(ue)||ue<0||ue>2)&&(ue=null),this.data.textAlignment=ue;let he=(0,m.getInheritableProperty)({dict:W,key:"MaxLen"});(!Number.isInteger(he)||he<0)&&(he=0),this.data.maxLen=he,this.data.multiLine=this.hasFieldFlag(d.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(d.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(d.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(d.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(d.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(d.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(V,W,ue,he,pe,Se,ge,de,xe,ve,Ee){const Te=pe/this.data.maxLen,_e=this.getBorderAndBackgroundAppearances(Ee),Oe=[],Pe=W.getCharPositions(ue);for(const[De,Me]of Pe)Oe.push(`(${(0,m.escapeString)(ue.substring(De,Me))}) Tj`);const je=Oe.join(` ${(0,m.numberToString)(Te)} 0 Td `);return`/Tx BMC q ${_e}BT `+V+` 1 0 0 1 ${(0,m.numberToString)(ge)} ${(0,m.numberToString)(de+xe)} Tm ${je} ET Q EMC`}_getMultilineAppearance(V,W,ue,he,pe,Se,ge,de,xe,ve,Ee,Te){const _e=[],Oe=pe-2*de,Pe={shift:0};for(let Me=0,Fe=W.length;Me<Fe;Me++){const $e=W[Me],tt=this._splitLine($e,ue,he,Oe);for(let ut=0,ct=tt.length;ut<ct;ut++){const mt=tt[ut],Ze=Me===0&&ut===0?-xe-(Ee-ve):-Ee;_e.push(this._renderText(mt,ue,he,pe,ge,Pe,de,Ze))}}const je=this.getBorderAndBackgroundAppearances(Te),De=_e.join(`
`);return`/Tx BMC q ${je}BT `+V+` 1 0 0 1 0 ${(0,m.numberToString)(Se)} Tm ${De} ET Q EMC`}_splitLine(V,W,ue,he,pe={}){V=pe.line||V;const Se=pe.glyphs||W.charsToGlyphs(V);if(Se.length<=1)return[V];const ge=pe.positions||W.getCharPositions(V),de=ue/1e3,xe=[];let ve=-1,Ee=-1,Te=-1,_e=0,Oe=0;for(let Pe=0,je=Se.length;Pe<je;Pe++){const[De,Me]=ge[Pe],Fe=Se[Pe],$e=Fe.width*de;Fe.unicode===" "?Oe+$e>he?(xe.push(V.substring(_e,De)),_e=De,Oe=$e,ve=-1,Te=-1):(Oe+=$e,ve=De,Ee=Me,Te=Pe):Oe+$e>he?ve!==-1?(xe.push(V.substring(_e,Ee)),_e=Ee,Pe=Te+1,ve=-1,Oe=0):(xe.push(V.substring(_e,De)),_e=De,Oe=$e):Oe+=$e}return _e<V.length&&xe.push(V.substring(_e,V.length)),xe}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(d.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class F extends D{constructor(V){super(V),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(d.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(d.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(d.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(d.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(d.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(V):this.data.radioButton?this._processRadioButton(V):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(V)):(0,d.warn)("Invalid field flags for button widget annotation")}async getOperatorList(V,W,ue,he,pe){if(this.data.pushButton)return super.getOperatorList(V,W,ue,!1,pe);let Se=null,ge=null;if(pe){const xe=pe.get(this.data.id);Se=xe?xe.value:null,ge=xe?xe.rotation:null}if(Se===null&&this.appearance)return super.getOperatorList(V,W,ue,he,pe);Se==null&&(Se=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const de=Se?this.checkedAppearance:this.uncheckedAppearance;if(de){const xe=this.appearance,ve=de.dict.getArray("Matrix")||d.IDENTITY_MATRIX;ge&&de.dict.set("Matrix",this.getRotationMatrix(pe)),this.appearance=de;const Ee=super.getOperatorList(V,W,ue,he,pe);return this.appearance=xe,de.dict.set("Matrix",ve),Ee}return{opList:new E.OperatorList,separateForm:!1,separateCanvas:!1}}async save(V,W,ue){return this.data.checkBox?this._saveCheckbox(V,W,ue):this.data.radioButton?this._saveRadioButton(V,W,ue):null}async _saveCheckbox(V,W,ue){if(!ue)return null;const he=ue.get(this.data.id);let pe=he&&he.rotation,Se=he&&he.value;if(pe===void 0&&(Se===void 0||this.data.fieldValue===this.data.exportValue===Se))return null;const ge=V.xref.fetchIfRef(this.ref);if(!(ge instanceof x.Dict))return null;pe===void 0&&(pe=this.rotation),Se===void 0&&(Se=this.data.fieldValue===this.data.exportValue);const de={path:this.data.fieldName,value:Se?this.data.exportValue:""},xe=x.Name.get(Se?this.data.exportValue:"Off");ge.set("V",xe),ge.set("AS",xe),ge.set("M",`D:${(0,d.getModificationDate)()}`);const ve=this._getMKDict(pe);ve&&ge.set("MK",ve);const Ee=V.xref.encrypt;let Te=null;Ee&&(Te=Ee.createCipherTransform(this.ref.num,this.ref.gen));const _e=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,u.writeDict)(ge,_e,Te),_e.push(`
endobj
`),[{ref:this.ref,data:_e.join(""),xfa:de}]}async _saveRadioButton(V,W,ue){if(!ue)return null;const he=ue.get(this.data.id);let pe=he&&he.rotation,Se=he&&he.value;if(pe===void 0&&(Se===void 0||this.data.fieldValue===this.data.buttonValue===Se))return null;const ge=V.xref.fetchIfRef(this.ref);if(!(ge instanceof x.Dict))return null;Se===void 0&&(Se=this.data.fieldValue===this.data.buttonValue),pe===void 0&&(pe=this.rotation);const de={path:this.data.fieldName,value:Se?this.data.buttonValue:""},xe=x.Name.get(Se?this.data.buttonValue:"Off");let ve=null;const Ee=V.xref.encrypt;if(Se)if(this.parent instanceof x.Ref){const je=V.xref.fetch(this.parent);let De=null;Ee&&(De=Ee.createCipherTransform(this.parent.num,this.parent.gen)),je.set("V",xe),ve=[`${this.parent.num} ${this.parent.gen} obj
`],(0,u.writeDict)(je,ve,De),ve.push(`
endobj
`)}else this.parent instanceof x.Dict&&this.parent.set("V",xe);ge.set("AS",xe),ge.set("M",`D:${(0,d.getModificationDate)()}`);const Te=this._getMKDict(pe);Te&&ge.set("MK",Te);let _e=null;Ee&&(_e=Ee.createCipherTransform(this.ref.num,this.ref.gen));const Oe=[`${this.ref.num} ${this.ref.gen} obj
`];(0,u.writeDict)(ge,Oe,_e),Oe.push(`
endobj
`);const Pe=[{ref:this.ref,data:Oe.join(""),xfa:de}];return ve!==null&&Pe.push({ref:this.parent,data:ve.join(""),xfa:null}),Pe}_getDefaultCheckedAppearance(V,W){const ue=this.data.rect[2]-this.data.rect[0],he=this.data.rect[3]-this.data.rect[1],pe=[0,0,ue,he],Se=.8*Math.min(ue,he);let ge,de;W==="check"?(ge={width:.755*Se,height:.705*Se},de="3"):W==="disc"?(ge={width:.791*Se,height:.705*Se},de="l"):(0,d.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${W}`);const xe=`q BT /PdfJsZaDb ${Se} Tf 0 g ${(0,m.numberToString)((ue-ge.width)/2)} ${(0,m.numberToString)((he-ge.height)/2)} Td (${de}) Tj ET Q`,ve=new x.Dict(V.xref);ve.set("FormType",1),ve.set("Subtype",x.Name.get("Form")),ve.set("Type",x.Name.get("XObject")),ve.set("BBox",pe),ve.set("Matrix",[1,0,0,1,0,0]),ve.set("Length",xe.length);const Ee=new x.Dict(V.xref),Te=new x.Dict(V.xref);Te.set("PdfJsZaDb",this.fallbackFontDict),Ee.set("Font",Te),ve.set("Resources",Ee),this.checkedAppearance=new v.StringStream(xe),this.checkedAppearance.dict=ve,this._streams.push(this.checkedAppearance)}_processCheckBox(V){const W=V.dict.get("AP");if(!(W instanceof x.Dict))return;const ue=W.get("N");if(!(ue instanceof x.Dict))return;const he=this._decodeFormValue(V.dict.get("AS"));typeof he=="string"&&(this.data.fieldValue=he);const pe=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Se=ue.getKeys();if(Se.length===0)Se.push("Off",pe);else if(Se.length===1)Se[0]==="Off"?Se.push(pe):Se.unshift("Off");else if(Se.includes(pe))Se.length=0,Se.push("Off",pe);else{const xe=Se.find(ve=>ve!=="Off");Se.length=0,Se.push("Off",xe)}Se.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Se[1];const ge=ue.get(this.data.exportValue);this.checkedAppearance=ge instanceof w.BaseStream?ge:null;const de=ue.get("Off");this.uncheckedAppearance=de instanceof w.BaseStream?de:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(V,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(V){this.data.fieldValue=this.data.buttonValue=null;const W=V.dict.get("Parent");if(W instanceof x.Dict){this.parent=V.dict.getRaw("Parent");const ge=W.get("V");ge instanceof x.Name&&(this.data.fieldValue=this._decodeFormValue(ge))}const ue=V.dict.get("AP");if(!(ue instanceof x.Dict))return;const he=ue.get("N");if(!(he instanceof x.Dict))return;for(const ge of he.getKeys())if(ge!=="Off"){this.data.buttonValue=this._decodeFormValue(ge);break}const pe=he.get(this.data.buttonValue);this.checkedAppearance=pe instanceof w.BaseStream?pe:null;const Se=he.get("Off");this.uncheckedAppearance=Se instanceof w.BaseStream?Se:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(V,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processPushButton(V){V.dict.has("A")||V.dict.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!V.dict.has("A")&&!V.dict.has("AA"),C.Catalog.parseDestDictionary({destDict:V.dict,resultObj:this.data,docBaseUrl:V.pdfManager.docBaseUrl,docAttachments:V.attachments})):(0,d.warn)("Push buttons without action dictionaries are not supported")}getFieldObject(){let V,W="button";return this.data.checkBox?(W="checkbox",V=this.data.exportValue):this.data.radioButton&&(W="radiobutton",V=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:V,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:W}}get fallbackFontDict(){const V=new x.Dict;return V.set("BaseFont",x.Name.get("ZapfDingbats")),V.set("Type",x.Name.get("FallbackType")),V.set("Subtype",x.Name.get("FallbackType")),V.set("Encoding",x.Name.get("ZapfDingbatsEncoding")),(0,d.shadow)(this,"fallbackFontDict",V)}}class j extends D{constructor(V){super(V);const{dict:W,xref:ue}=V;this.indices=W.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const he=(0,m.getInheritableProperty)({dict:W,key:"Opt"});if(Array.isArray(he))for(let pe=0,Se=he.length;pe<Se;pe++){const ge=ue.fetchIfRef(he[pe]),de=Array.isArray(ge);this.data.options[pe]={exportValue:this._decodeFormValue(de?ue.fetchIfRef(ge[0]):ge),displayValue:this._decodeFormValue(de?ue.fetchIfRef(ge[1]):ge)}}if(this.hasIndices){this.data.fieldValue=[];const pe=this.data.options.length;for(const Se of this.indices)Number.isInteger(Se)&&Se>=0&&Se<pe&&this.data.fieldValue.push(this.data.options[Se].exportValue)}else typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);this.data.combo=this.hasFieldFlag(d.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(d.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const V=this.data.combo?"combobox":"listbox",W=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:W,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:V}}amendSavedDict(V,W){if(!this.hasIndices)return;const ue=V?V.get(this.data.id):void 0;let he=ue&&ue.value;Array.isArray(he)||(he=[he]);const pe=[],{options:Se}=this.data;for(let ge=0,de=0,xe=Se.length;ge<xe;ge++)Se[ge].exportValue===he[de]&&(pe.push(ge),de+=1);W.set("I",pe)}async _getAppearance(V,W,ue,he){if(this.data.combo)return super._getAppearance(V,W,ue,he);let pe,Se;const ge=he?he.get(this.data.id):void 0;if(ge&&(Se=ge.rotation,pe=ge.value),Se===void 0&&pe===void 0&&!this._needAppearances)return null;pe===void 0?pe=this.data.fieldValue:Array.isArray(pe)||(pe=[pe]);let de=this.data.rect[3]-this.data.rect[1],xe=this.data.rect[2]-this.data.rect[0];Se!==90&&Se!==270||([xe,de]=[de,xe]);const ve=this.data.options.length,Ee=[];for(let ut=0;ut<ve;ut++){const{exportValue:ct}=this.data.options[ut];pe.includes(ct)&&Ee.push(ut)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,y.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Te=await D._getFontData(V,W,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let _e,{fontSize:Oe}=this.data.defaultAppearanceData;if(Oe)_e=this._defaultAppearance;else{const ut=(de-1)/ve;let ct,mt=-1;for(const{displayValue:Ze}of this.data.options){const St=this._getTextWidth(Ze,Te);St>mt&&(mt=St,ct=Ze)}[_e,Oe]=this._computeFontSize(ut,xe-4,ct,Te,-1)}const Pe=Oe*d.LINE_FACTOR,je=(Pe-Oe)/2,De=Math.floor(de/Pe);let Me;if(Ee.length===1){const ut=Ee[0];Me=ut-ut%De}else Me=Ee.length?Ee[0]:0;const Fe=Math.min(Me+De+1,ve),$e=["/Tx BMC q",`1 1 ${xe} ${de} re W n`];if(Ee.length){$e.push("0.600006 0.756866 0.854904 rg");for(const ut of Ee)Me<=ut&&ut<Fe&&$e.push(`1 ${de-(ut-Me+1)*Pe} ${xe} ${Pe} re f`)}$e.push("BT",_e,`1 0 0 1 0 ${de} Tm`);const tt={shift:0};for(let ut=Me;ut<Fe;ut++){const{displayValue:ct}=this.data.options[ut],mt=ut===Me?je:0;$e.push(this._renderText(ct,Te,Oe,xe,0,tt,2,-Pe+mt))}return $e.push("ET Q EMC"),$e.join(`
`)}}class se extends D{constructor(V){super(V),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class Y extends ${constructor(V){super(V);const{dict:W}=V;this.data.annotationType=d.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=W.has("Name")?W.get("Name").name:"Note"),W.has("State")?(this.data.state=W.get("State")||null,this.data.stateModel=W.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class q extends L{constructor(V){super(V),this.data.annotationType=d.AnnotationType.LINK;const W=J(V.dict,this.rectangle);W&&(this.data.quadPoints=W),this.data.borderColor=this.data.borderColor||this.data.color,C.Catalog.parseDestDictionary({destDict:V.dict,resultObj:this.data,docBaseUrl:V.pdfManager.docBaseUrl,docAttachments:V.attachments})}}class Q extends L{constructor(V){super(V);const{dict:W}=V;this.data.annotationType=d.AnnotationType.POPUP;let ue=W.get("Parent");if(!ue){(0,d.warn)("Popup annotation has a missing or invalid parent annotation.");return}const he=ue.get("Subtype");this.data.parentType=he instanceof x.Name?he.name:null;const pe=W.getRaw("Parent");this.data.parentId=pe instanceof x.Ref?pe.toString():null;const Se=ue.getArray("Rect");Array.isArray(Se)&&Se.length===4?this.data.parentRect=d.Util.normalizeRect(Se):this.data.parentRect=[0,0,0,0];const ge=ue.get("RT");if((0,x.isName)(ge,d.AnnotationReplyType.GROUP)&&(ue=ue.get("IRT")),ue.has("M")?(this.setModificationDate(ue.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,ue.has("C")?(this.setColor(ue.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const de=ue.get("F");this._isViewable(de)&&this.setFlags(de)}this.setTitle(ue.get("T")),this.data.titleObj=this._title,this.setContents(ue.get("Contents")),this.data.contentsObj=this._contents,ue.has("RC")&&(this.data.richText=M.XFAFactory.getRichTextAsHtml(ue.get("RC")))}}h.PopupAnnotation=Q;class N extends ${constructor(V){super(V);const{xref:W}=V;if(this.data.annotationType=d.AnnotationType.FREETEXT,this.setDefaultAppearance(V),!this.appearance&&this._isOffscreenCanvasSupported){const ue=V.dict.get("CA"),he=new y.FakeUnicodeFont(W,"sans-serif"),pe=this.data.defaultAppearanceData;this.appearance=he.createAppearance(this._contents.str,this.rectangle,this.rotation,pe.fontSize||10,pe.fontColor,ue),this._streams.push(this.appearance,y.FakeUnicodeFont.toUnicodeStream)}else this._isOffscreenCanvasSupported||(0,d.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(V,W,{apRef:ue,ap:he}){const{color:pe,fontSize:Se,rect:ge,rotation:de,user:xe,value:ve}=V,Ee=new x.Dict(W);Ee.set("Type",x.Name.get("Annot")),Ee.set("Subtype",x.Name.get("FreeText")),Ee.set("CreationDate",`D:${(0,d.getModificationDate)()}`),Ee.set("Rect",ge);const Te=`/Helv ${Se} Tf ${(0,y.getPdfColor)(pe,!0)}`;if(Ee.set("DA",Te),Ee.set("Contents",(0,m.isAscii)(ve)?ve:(0,m.stringToUTF16String)(ve,!0)),Ee.set("F",4),Ee.set("Border",[0,0,0]),Ee.set("Rotate",de),xe&&Ee.set("T",(0,m.isAscii)(xe)?xe:(0,m.stringToUTF16String)(xe,!0)),ue||he){const _e=new x.Dict(W);Ee.set("AP",_e),ue?_e.set("N",ue):_e.set("N",he)}return Ee}static async createNewAppearanceStream(V,W,ue){const{baseFontRef:he,evaluator:pe,task:Se}=ue,{color:ge,fontSize:de,rect:xe,rotation:ve,value:Ee}=V,Te=new x.Dict(W),_e=new x.Dict(W);if(he)_e.set("Helv",he);else{const ze=new x.Dict(W);ze.set("BaseFont",x.Name.get("Helvetica")),ze.set("Type",x.Name.get("Font")),ze.set("Subtype",x.Name.get("Type1")),ze.set("Encoding",x.Name.get("WinAnsiEncoding")),_e.set("Helv",ze)}Te.set("Font",_e);const Oe=await D._getFontData(pe,Se,{fontName:"Helvetica",fontSize:de},Te),[Pe,je,De,Me]=xe;let Fe=De-Pe,$e=Me-je;ve%180!=0&&([Fe,$e]=[$e,Fe]);const tt=Ee.split(`
`),ut=de/1e3;let ct=-1/0;const mt=[];for(let ze of tt){const Ve=Oe.encodeString(ze);if(Ve.length>1)return null;ze=Ve.join(""),mt.push(ze);let Ye=0;const Je=Oe.charsToGlyphs(ze);for(const it of Je)Ye+=it.width*ut;ct=Math.max(ct,Ye)}let Ze=1;ct>Fe&&(Ze=Fe/ct);let St=1;const Rt=d.LINE_FACTOR*de,$t=d.LINE_DESCENT_FACTOR*de,dt=Rt*tt.length;dt>$e&&(St=$e/dt);const ot=de*Math.min(Ze,St),lt=["q",`0 0 ${(0,m.numberToString)(Fe)} ${(0,m.numberToString)($e)} re W n`,"BT",`1 0 0 1 0 ${(0,m.numberToString)($e+$t)} Tm 0 Tc ${(0,y.getPdfColor)(ge,!0)}`,`/Helv ${(0,m.numberToString)(ot)} Tf`],st=(0,m.numberToString)(Rt);for(const ze of mt)lt.push(`0 -${st} Td (${(0,m.escapeString)(ze)}) Tj`);lt.push("ET","Q");const Ge=lt.join(`
`),Ke=new x.Dict(W);if(Ke.set("FormType",1),Ke.set("Subtype",x.Name.get("Form")),Ke.set("Type",x.Name.get("XObject")),Ke.set("BBox",[0,0,Fe,$e]),Ke.set("Resources",Te),ve){const ze=(0,m.getRotationMatrix)(ve,Fe,$e);Ke.set("Matrix",ze)}const rt=new v.StringStream(Ge);return rt.dict=Ke,rt}}class O extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;this.data.annotationType=d.AnnotationType.LINE;const he=W.getArray("L");if(this.data.lineCoordinates=d.Util.normalizeRect(he),this.setLineEndings(W.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const pe=this.color?I(this.color):[0,0,0],Se=W.get("CA"),ge=R(W.getArray("IC"),null),de=ge?I(ge):null,xe=de?Se:null,ve=this.borderStyle.width||1,Ee=2*ve,Te=[this.data.lineCoordinates[0]-Ee,this.data.lineCoordinates[1]-Ee,this.data.lineCoordinates[2]+Ee,this.data.lineCoordinates[3]+Ee];d.Util.intersect(this.rectangle,Te)||(this.rectangle=Te),this._setDefaultAppearance({xref:ue,extra:`${ve} w`,strokeColor:pe,fillColor:de,strokeAlpha:Se,fillAlpha:xe,pointsCallback:(_e,Oe)=>(_e.push(`${he[0]} ${he[1]} m`,`${he[2]} ${he[3]} l`,"S"),[Oe[0].x-ve,Oe[1].x+ve,Oe[3].y-ve,Oe[1].y+ve])})}}}class H extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;if(this.data.annotationType=d.AnnotationType.SQUARE,!this.appearance){const he=this.color?I(this.color):[0,0,0],pe=W.get("CA"),Se=R(W.getArray("IC"),null),ge=Se?I(Se):null,de=ge?pe:null;if(this.borderStyle.width===0&&!ge)return;this._setDefaultAppearance({xref:ue,extra:`${this.borderStyle.width} w`,strokeColor:he,fillColor:ge,strokeAlpha:pe,fillAlpha:de,pointsCallback:(xe,ve)=>{const Ee=ve[2].x+this.borderStyle.width/2,Te=ve[2].y+this.borderStyle.width/2,_e=ve[3].x-ve[2].x-this.borderStyle.width,Oe=ve[1].y-ve[3].y-this.borderStyle.width;return xe.push(`${Ee} ${Te} ${_e} ${Oe} re`),ge?xe.push("B"):xe.push("S"),[ve[0].x,ve[1].x,ve[3].y,ve[1].y]}})}}}class G extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;if(this.data.annotationType=d.AnnotationType.CIRCLE,!this.appearance){const he=this.color?I(this.color):[0,0,0],pe=W.get("CA"),Se=R(W.getArray("IC"),null),ge=Se?I(Se):null,de=ge?pe:null;if(this.borderStyle.width===0&&!ge)return;const xe=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:ue,extra:`${this.borderStyle.width} w`,strokeColor:he,fillColor:ge,strokeAlpha:pe,fillAlpha:de,pointsCallback:(ve,Ee)=>{const Te=Ee[0].x+this.borderStyle.width/2,_e=Ee[0].y-this.borderStyle.width/2,Oe=Ee[3].x-this.borderStyle.width/2,Pe=Ee[3].y+this.borderStyle.width/2,je=Te+(Oe-Te)/2,De=_e+(Pe-_e)/2,Me=(Oe-Te)/2*xe,Fe=(Pe-_e)/2*xe;return ve.push(`${je} ${Pe} m`,`${je+Me} ${Pe} ${Oe} ${De+Fe} ${Oe} ${De} c`,`${Oe} ${De-Fe} ${je+Me} ${_e} ${je} ${_e} c`,`${je-Me} ${_e} ${Te} ${De-Fe} ${Te} ${De} c`,`${Te} ${De+Fe} ${je-Me} ${Pe} ${je} ${Pe} c`,"h"),ge?ve.push("B"):ve.push("S"),[Ee[0].x,Ee[1].x,Ee[3].y,Ee[1].y]}})}}}class le extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;this.data.annotationType=d.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof fe||(this.setLineEndings(W.getArray("LE")),this.data.lineEndings=this.lineEndings);const he=W.getArray("Vertices");if(Array.isArray(he)){for(let pe=0,Se=he.length;pe<Se;pe+=2)this.data.vertices.push({x:he[pe],y:he[pe+1]});if(!this.appearance){const pe=this.color?I(this.color):[0,0,0],Se=W.get("CA"),ge=this.borderStyle.width||1,de=2*ge,xe=[1/0,1/0,-1/0,-1/0];for(const ve of this.data.vertices)xe[0]=Math.min(xe[0],ve.x-de),xe[1]=Math.min(xe[1],ve.y-de),xe[2]=Math.max(xe[2],ve.x+de),xe[3]=Math.max(xe[3],ve.y+de);d.Util.intersect(this.rectangle,xe)||(this.rectangle=xe),this._setDefaultAppearance({xref:ue,extra:`${ge} w`,strokeColor:pe,strokeAlpha:Se,pointsCallback:(ve,Ee)=>{const Te=this.data.vertices;for(let _e=0,Oe=Te.length;_e<Oe;_e++)ve.push(`${Te[_e].x} ${Te[_e].y} ${_e===0?"m":"l"}`);return ve.push("S"),[Ee[0].x,Ee[1].x,Ee[3].y,Ee[1].y]}})}}}}class fe extends le{constructor(V){super(V),this.data.annotationType=d.AnnotationType.POLYGON}}class ae extends ${constructor(V){super(V),this.data.annotationType=d.AnnotationType.CARET}}class re extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;this.data.annotationType=d.AnnotationType.INK,this.data.inkLists=[];const he=W.getArray("InkList");if(Array.isArray(he)){for(let pe=0,Se=he.length;pe<Se;++pe){this.data.inkLists.push([]);for(let ge=0,de=he[pe].length;ge<de;ge+=2)this.data.inkLists[pe].push({x:ue.fetchIfRef(he[pe][ge]),y:ue.fetchIfRef(he[pe][ge+1])})}if(!this.appearance){const pe=this.color?I(this.color):[0,0,0],Se=W.get("CA"),ge=this.borderStyle.width||1,de=2*ge,xe=[1/0,1/0,-1/0,-1/0];for(const ve of this.data.inkLists)for(const Ee of ve)xe[0]=Math.min(xe[0],Ee.x-de),xe[1]=Math.min(xe[1],Ee.y-de),xe[2]=Math.max(xe[2],Ee.x+de),xe[3]=Math.max(xe[3],Ee.y+de);d.Util.intersect(this.rectangle,xe)||(this.rectangle=xe),this._setDefaultAppearance({xref:ue,extra:`${ge} w`,strokeColor:pe,strokeAlpha:Se,pointsCallback:(ve,Ee)=>{for(const Te of this.data.inkLists){for(let _e=0,Oe=Te.length;_e<Oe;_e++)ve.push(`${Te[_e].x} ${Te[_e].y} ${_e===0?"m":"l"}`);ve.push("S")}return[Ee[0].x,Ee[1].x,Ee[3].y,Ee[1].y]}})}}}static createNewDict(V,W,{apRef:ue,ap:he}){const{paths:pe,rect:Se,rotation:ge}=V,de=new x.Dict(W);de.set("Type",x.Name.get("Annot")),de.set("Subtype",x.Name.get("Ink")),de.set("CreationDate",`D:${(0,d.getModificationDate)()}`),de.set("Rect",Se),de.set("InkList",pe.map(ve=>ve.points)),de.set("F",4),de.set("Border",[0,0,0]),de.set("Rotate",ge);const xe=new x.Dict(W);return de.set("AP",xe),ue?xe.set("N",ue):xe.set("N",he),de}static async createNewAppearanceStream(V,W,ue){const{color:he,rect:pe,rotation:Se,paths:ge,thickness:de,opacity:xe}=V,[ve,Ee,Te,_e]=pe;let Oe=Te-ve,Pe=_e-Ee;Se%180!=0&&([Oe,Pe]=[Pe,Oe]);const je=[`${de} w 1 J 1 j`,`${(0,y.getPdfColor)(he,!1)}`];xe!==1&&je.push("/R0 gs");const De=[];for(const{bezier:tt}of ge){De.length=0,De.push(`${(0,m.numberToString)(tt[0])} ${(0,m.numberToString)(tt[1])} m`);for(let ut=2,ct=tt.length;ut<ct;ut+=6){const mt=tt.slice(ut,ut+6).map(m.numberToString).join(" ");De.push(`${mt} c`)}De.push("S"),je.push(De.join(`
`))}const Me=je.join(`
`),Fe=new x.Dict(W);if(Fe.set("FormType",1),Fe.set("Subtype",x.Name.get("Form")),Fe.set("Type",x.Name.get("XObject")),Fe.set("BBox",[0,0,Oe,Pe]),Fe.set("Length",Me.length),Se){const tt=(0,m.getRotationMatrix)(Se,Oe,Pe);Fe.set("Matrix",tt)}if(xe!==1){const tt=new x.Dict(W),ut=new x.Dict(W),ct=new x.Dict(W);ct.set("CA",xe),ct.set("Type",x.Name.get("ExtGState")),ut.set("R0",ct),tt.set("ExtGState",ut),Fe.set("Resources",tt)}const $e=new v.StringStream(Me);return $e.dict=Fe,$e}}class be extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;if(this.data.annotationType=d.AnnotationType.HIGHLIGHT,this.data.quadPoints=J(W,null)){const he=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!he||!he.has("ExtGState")){this.appearance&&(0,d.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const pe=this.color?I(this.color):[1,1,0],Se=W.get("CA");this._setDefaultAppearance({xref:ue,fillColor:pe,blendMode:"Multiply",fillAlpha:Se,pointsCallback:(ge,de)=>(ge.push(`${de[0].x} ${de[0].y} m`,`${de[1].x} ${de[1].y} l`,`${de[3].x} ${de[3].y} l`,`${de[2].x} ${de[2].y} l`,"f"),[de[0].x,de[1].x,de[3].y,de[1].y])})}}else this.data.hasPopup=!1}}class ye extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;if(this.data.annotationType=d.AnnotationType.UNDERLINE,this.data.quadPoints=J(W,null)){if(!this.appearance){const he=this.color?I(this.color):[0,0,0],pe=W.get("CA");this._setDefaultAppearance({xref:ue,extra:"[] 0 d 1 w",strokeColor:he,strokeAlpha:pe,pointsCallback:(Se,ge)=>(Se.push(`${ge[2].x} ${ge[2].y} m`,`${ge[3].x} ${ge[3].y} l`,"S"),[ge[0].x,ge[1].x,ge[3].y,ge[1].y])})}}else this.data.hasPopup=!1}}class Ce extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;if(this.data.annotationType=d.AnnotationType.SQUIGGLY,this.data.quadPoints=J(W,null)){if(!this.appearance){const he=this.color?I(this.color):[0,0,0],pe=W.get("CA");this._setDefaultAppearance({xref:ue,extra:"[] 0 d 1 w",strokeColor:he,strokeAlpha:pe,pointsCallback:(Se,ge)=>{const de=(ge[0].y-ge[2].y)/6;let xe=de,ve=ge[2].x;const Ee=ge[2].y,Te=ge[3].x;Se.push(`${ve} ${Ee+xe} m`);do ve+=2,xe=xe===0?de:0,Se.push(`${ve} ${Ee+xe} l`);while(ve<Te);return Se.push("S"),[ge[2].x,Te,Ee-2*de,Ee+2*de]}})}}else this.data.hasPopup=!1}}class me extends ${constructor(V){super(V);const{dict:W,xref:ue}=V;if(this.data.annotationType=d.AnnotationType.STRIKEOUT,this.data.quadPoints=J(W,null)){if(!this.appearance){const he=this.color?I(this.color):[0,0,0],pe=W.get("CA");this._setDefaultAppearance({xref:ue,extra:"[] 0 d 1 w",strokeColor:he,strokeAlpha:pe,pointsCallback:(Se,ge)=>(Se.push((ge[0].x+ge[2].x)/2+" "+(ge[0].y+ge[2].y)/2+" m",(ge[1].x+ge[3].x)/2+" "+(ge[1].y+ge[3].y)/2+" l","S"),[ge[0].x,ge[1].x,ge[3].y,ge[1].y])})}}else this.data.hasPopup=!1}}class ee extends ${constructor(V){super(V),this.data.annotationType=d.AnnotationType.STAMP}}class te extends ${constructor(V){super(V);const{dict:W,xref:ue}=V,he=new A.FileSpec(W.get("FS"),ue);this.data.annotationType=d.AnnotationType.FILEATTACHMENT,this.data.file=he.serializable;const pe=W.get("Name");this.data.name=pe instanceof x.Name?(0,d.stringToPDFString)(pe.name):"PushPin"}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FakeUnicodeFont=void 0,h.createDefaultAppearance=function({fontSize:g,fontName:E,fontColor:v}){return`/${(0,m.escapePDFName)(E)} ${g} Tf ${C(v,!0)}`},h.getPdfColor=C,h.parseDefaultAppearance=function(g){return new T(g).parse()};var d=p(4),m=p(3),y=p(2),x=p(12),u=p(13),w=p(8);class T extends u.EvaluatorPreprocessor{constructor(g){super(new w.StringStream(g))}parse(){const g={fn:0,args:[]},E={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;g.args.length=0,!!this.read(g);){if(this.savedStatesDepth!==0)continue;const{fn:v,args:M}=g;switch(0|v){case y.OPS.setFont:const[R,I]=M;R instanceof d.Name&&(E.fontName=R.name),typeof I=="number"&&I>0&&(E.fontSize=I);break;case y.OPS.setFillRGBColor:x.ColorSpace.singletons.rgb.getRgbItem(M,0,E.fontColor,0);break;case y.OPS.setFillGray:x.ColorSpace.singletons.gray.getRgbItem(M,0,E.fontColor,0);break;case y.OPS.setFillColorSpace:x.ColorSpace.singletons.cmyk.getRgbItem(M,0,E.fontColor,0)}}}catch(v){(0,y.warn)(`parseDefaultAppearance - ignoring errors: "${v}".`)}return E}}function C(A,g){if(A[0]===A[1]&&A[1]===A[2]){const E=A[0]/255;return`${(0,m.numberToString)(E)} ${g?"g":"G"}`}return Array.from(A,E=>(0,m.numberToString)(E/255)).join(" ")+" "+(g?"rg":"RG")}class k{constructor(g,E){this.xref=g,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=E;const v=new OffscreenCanvas(1,1);this.ctxMeasure=v.getContext("2d"),k._fontNameId||(k._fontNameId=1),this.fontName=d.Name.get(`InvalidPDFjsFont_${E}_${k._fontNameId++}`)}get toUnicodeRef(){if(!k._toUnicodeRef){const g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,E=k.toUnicodeStream=new w.StringStream(g),v=new d.Dict(this.xref);E.dict=v,v.set("Length",g.length),k._toUnicodeRef=this.xref.getNewPersistentRef(E)}return k._toUnicodeRef}get fontDescriptorRef(){if(!k._fontDescriptorRef){const g=new d.Dict(this.xref);g.set("Type",d.Name.get("FontDescriptor")),g.set("FontName",this.fontName),g.set("FontFamily","MyriadPro Regular"),g.set("FontBBox",[0,0,0,0]),g.set("FontStretch",d.Name.get("Normal")),g.set("FontWeight",400),g.set("ItalicAngle",0),k._fontDescriptorRef=this.xref.getNewPersistentRef(g)}return k._fontDescriptorRef}get descendantFontRef(){const g=new d.Dict(this.xref);g.set("BaseFont",this.fontName),g.set("Type",d.Name.get("Font")),g.set("Subtype",d.Name.get("CIDFontType0")),g.set("CIDToGIDMap",d.Name.get("Identity")),g.set("FirstChar",this.firstChar),g.set("LastChar",this.lastChar),g.set("FontDescriptor",this.fontDescriptorRef),g.set("DW",1e3);const E=[],v=[...this.widths.entries()].sort();let M=null,R=null;for(const[J,_]of v)M?J===M+R.length?R.push(_):(E.push(M,R),M=J,R=[_]):(M=J,R=[_]);M&&E.push(M,R),g.set("W",E);const I=new d.Dict(this.xref);return I.set("Ordering","Identity"),I.set("Registry","Adobe"),I.set("Supplement",0),g.set("CIDSystemInfo",I),this.xref.getNewPersistentRef(g)}get baseFontRef(){const g=new d.Dict(this.xref);return g.set("BaseFont",this.fontName),g.set("Type",d.Name.get("Font")),g.set("Subtype",d.Name.get("Type0")),g.set("Encoding",d.Name.get("Identity-H")),g.set("DescendantFonts",[this.descendantFontRef]),g.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(g)}get resources(){const g=new d.Dict(this.xref),E=new d.Dict(this.xref);return E.set(this.fontName.name,this.baseFontRef),g.set("Font",E),g}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(g){const E=this._createContext();for(const v of g.split(/\r\n?|\n/))for(const M of v.split("")){const R=M.charCodeAt(0);if(this.widths.has(R))continue;const I=E.measureText(M),J=Math.ceil(I.width);this.widths.set(R,J),this.firstChar=Math.min(R,this.firstChar),this.lastChar=Math.max(R,this.lastChar)}return this.resources}createAppearance(g,E,v,M,R,I){const J=this._createContext(),_=[];let L=-1/0;for(const be of g.split(/\r\n?|\n/)){_.push(be);const ye=J.measureText(be).width;L=Math.max(L,ye);for(const Ce of be.split("")){const me=Ce.charCodeAt(0);let ee=this.widths.get(me);if(ee===void 0){const te=J.measureText(Ce);ee=Math.ceil(te.width),this.widths.set(me,ee),this.firstChar=Math.min(me,this.firstChar),this.lastChar=Math.max(me,this.lastChar)}}}L*=M/1e3;const[K,$,D,ne]=E;let F=D-K,j=ne-$;v%180!=0&&([F,j]=[j,F]);let se=1;L>F&&(se=F/L);let Y=1;const q=y.LINE_FACTOR*M,Q=y.LINE_DESCENT_FACTOR*M,N=q*_.length;N>j&&(Y=j/N);const O=M*Math.min(se,Y),H=["q",`0 0 ${(0,m.numberToString)(F)} ${(0,m.numberToString)(j)} re W n`,"BT",`1 0 0 1 0 ${(0,m.numberToString)(j+Q)} Tm 0 Tc ${C(R,!0)}`,`/${this.fontName.name} ${(0,m.numberToString)(O)} Tf`],{resources:G}=this;if((I=typeof I=="number"&&I>=0&&I<=1?I:1)!==1){H.push("/R0 gs");const be=new d.Dict(this.xref),ye=new d.Dict(this.xref);ye.set("ca",I),ye.set("CA",I),ye.set("Type",d.Name.get("ExtGState")),be.set("R0",ye),G.set("ExtGState",be)}const le=(0,m.numberToString)(q);for(const be of _)H.push(`0 -${le} Td <${(0,m.stringToUTF16HexString)(be)}> Tj`);H.push("ET","Q");const fe=H.join(`
`),ae=new d.Dict(this.xref);if(ae.set("Subtype",d.Name.get("Form")),ae.set("Type",d.Name.get("XObject")),ae.set("BBox",[0,0,F,j]),ae.set("Length",fe.length),ae.set("Resources",G),v){const be=(0,m.getRotationMatrix)(v,F,j);ae.set("Matrix",be)}const re=new w.StringStream(fe);return re.dict=ae,re}}h.FakeUnicodeFont=k},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ColorSpace=void 0;var d=p(2),m=p(4),y=p(5),x=p(3);class u{constructor(I,J){this.constructor===u&&(0,d.unreachable)("Cannot initialize ColorSpace."),this.name=I,this.numComps=J}getRgb(I,J){const _=new Uint8ClampedArray(3);return this.getRgbItem(I,J,_,0),_}getRgbItem(I,J,_,L){(0,d.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(I,J,_,L,K,$,D){(0,d.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(I,J){(0,d.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(I){return!1}isDefaultDecode(I,J){return u.isDefaultDecode(I,this.numComps)}fillRgb(I,J,_,L,K,$,D,ne,F){const j=J*_;let se=null;const Y=1<<D,q=_!==K||J!==L;if(this.isPassthrough(D))se=ne;else if(this.numComps===1&&j>Y&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Q=D<=8?new Uint8Array(Y):new Uint16Array(Y);for(let O=0;O<Y;O++)Q[O]=O;const N=new Uint8ClampedArray(3*Y);if(this.getRgbBuffer(Q,0,Y,N,0,D,0),q){se=new Uint8Array(3*j);let O=0;for(let H=0;H<j;++H){const G=3*ne[H];se[O++]=N[G],se[O++]=N[G+1],se[O++]=N[G+2]}}else{let O=0;for(let H=0;H<j;++H){const G=3*ne[H];I[O++]=N[G],I[O++]=N[G+1],I[O++]=N[G+2],O+=F}}}else q?(se=new Uint8ClampedArray(3*j),this.getRgbBuffer(ne,0,j,se,0,D,0)):this.getRgbBuffer(ne,0,L*$,I,0,D,F);if(se)if(q)(function(N,O,H,G,le,fe,ae){ae=ae!==1?0:ae;const re=H/le,be=G/fe;let ye,Ce=0;const me=new Uint16Array(le),ee=3*H;for(let te=0;te<le;te++)me[te]=3*Math.floor(te*re);for(let te=0;te<fe;te++){const oe=Math.floor(te*be)*ee;for(let V=0;V<le;V++)ye=oe+me[V],O[Ce++]=N[ye++],O[Ce++]=N[ye++],O[Ce++]=N[ye++],Ce+=ae}})(se,I,J,_,L,K,F);else{let Q=0,N=0;for(let O=0,H=L*$;O<H;O++)I[Q++]=se[N++],I[Q++]=se[N++],I[Q++]=se[N++],Q+=F}}get usesZeroToOneRange(){return(0,d.shadow)(this,"usesZeroToOneRange",!0)}static _cache(I,J,_,L){if(!_)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!L)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let K,$;I instanceof m.Ref&&($=I,I=J.fetch(I)),I instanceof m.Name&&(K=I.name),(K||$)&&_.set(K,$,L)}static getCached(I,J,_){if(!_)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(I instanceof m.Ref){const L=_.getByRef(I);if(L)return L;try{I=J.fetch(I)}catch(K){if(K instanceof x.MissingDataException)throw K}}if(I instanceof m.Name){const L=_.getByName(I.name);if(L)return L}return null}static async parseAsync({cs:I,xref:J,resources:_=null,pdfFunctionFactory:L,localColorSpaceCache:K}){const $=this._parse(I,J,_,L);return this._cache(I,J,K,$),$}static parse({cs:I,xref:J,resources:_=null,pdfFunctionFactory:L,localColorSpaceCache:K}){const $=this.getCached(I,J,K);if($)return $;const D=this._parse(I,J,_,L);return this._cache(I,J,K,D),D}static _parse(I,J,_=null,L){if((I=J.fetchIfRef(I))instanceof m.Name)switch(I.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new T(null);default:if(_ instanceof m.Dict){const K=_.get("ColorSpace");if(K instanceof m.Dict){const $=K.get(I.name);if($){if($ instanceof m.Name)return this._parse($,J,_,L);I=$;break}}}throw new d.FormatError(`Unrecognized ColorSpace: ${I.name}`)}if(Array.isArray(I)){const K=J.fetchIfRef(I[0]).name;let $,D,ne,F,j,se;switch(K){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return $=J.fetchIfRef(I[1]),F=$.getArray("WhitePoint"),j=$.getArray("BlackPoint"),se=$.get("Gamma"),new E(F,j,se);case"CalRGB":$=J.fetchIfRef(I[1]),F=$.getArray("WhitePoint"),j=$.getArray("BlackPoint"),se=$.getArray("Gamma");const Y=$.getArray("Matrix");return new v(F,j,se,Y);case"ICCBased":const q=J.fetchIfRef(I[1]).dict;D=q.get("N");const Q=q.get("Alternate");if(Q){const fe=this._parse(Q,J,_,L);if(fe.numComps===D)return fe;(0,d.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(D===1)return this.singletons.gray;if(D===3)return this.singletons.rgb;if(D===4)return this.singletons.cmyk;break;case"Pattern":return ne=I[1]||null,ne&&(ne=this._parse(ne,J,_,L)),new T(ne);case"I":case"Indexed":ne=this._parse(I[1],J,_,L);const N=J.fetchIfRef(I[2])+1,O=J.fetchIfRef(I[3]);return new C(ne,N,O);case"Separation":case"DeviceN":const H=J.fetchIfRef(I[1]);D=Array.isArray(H)?H.length:1,ne=this._parse(I[2],J,_,L);const G=L.create(I[3]);return new w(D,ne,G);case"Lab":$=J.fetchIfRef(I[1]),F=$.getArray("WhitePoint"),j=$.getArray("BlackPoint");const le=$.getArray("Range");return new M(F,j,le);default:throw new d.FormatError(`Unimplemented ColorSpace object: ${K}`)}}throw new d.FormatError(`Unrecognized ColorSpace object: ${I}`)}static isDefaultDecode(I,J){if(!Array.isArray(I))return!0;if(2*J!==I.length)return(0,d.warn)("The decode map is not the correct length"),!0;for(let _=0,L=I.length;_<L;_+=2)if(I[_]!==0||I[_+1]!==1)return!1;return!0}static get singletons(){return(0,d.shadow)(this,"singletons",{get gray(){return(0,d.shadow)(this,"gray",new k)},get rgb(){return(0,d.shadow)(this,"rgb",new A)},get cmyk(){return(0,d.shadow)(this,"cmyk",new g)}})}}h.ColorSpace=u;class w extends u{constructor(I,J,_){super("Alternate",I),this.base=J,this.tintFn=_,this.tmpBuf=new Float32Array(J.numComps)}getRgbItem(I,J,_,L){const K=this.tmpBuf;this.tintFn(I,J,K,0),this.base.getRgbItem(K,0,_,L)}getRgbBuffer(I,J,_,L,K,$,D){const ne=this.tintFn,F=this.base,j=1/((1<<$)-1),se=F.numComps,Y=F.usesZeroToOneRange,q=(F.isPassthrough(8)||!Y)&&D===0;let Q=q?K:0;const N=q?L:new Uint8ClampedArray(se*_),O=this.numComps,H=new Float32Array(O),G=new Float32Array(se);let le,fe;for(le=0;le<_;le++){for(fe=0;fe<O;fe++)H[fe]=I[J++]*j;if(ne(H,0,G,0),Y)for(fe=0;fe<se;fe++)N[Q++]=255*G[fe];else F.getRgbItem(G,0,N,Q),Q+=se}q||F.getRgbBuffer(N,0,_,L,K,8,D)}getOutputLength(I,J){return this.base.getOutputLength(I*this.base.numComps/this.numComps,J)}}class T extends u{constructor(I){super("Pattern",null),this.base=I}isDefaultDecode(I,J){(0,d.unreachable)("Should not call PatternCS.isDefaultDecode")}}class C extends u{constructor(I,J,_){super("Indexed",1),this.base=I,this.highVal=J;const L=I.numComps*J;if(this.lookup=new Uint8Array(L),_ instanceof y.BaseStream){const K=_.getBytes(L);this.lookup.set(K)}else{if(typeof _!="string")throw new d.FormatError(`IndexedCS - unrecognized lookup table: ${_}`);for(let K=0;K<L;++K)this.lookup[K]=255&_.charCodeAt(K)}}getRgbItem(I,J,_,L){const K=this.base.numComps,$=I[J]*K;this.base.getRgbBuffer(this.lookup,$,1,_,L,8,0)}getRgbBuffer(I,J,_,L,K,$,D){const ne=this.base,F=ne.numComps,j=ne.getOutputLength(F,D),se=this.lookup;for(let Y=0;Y<_;++Y){const q=I[J++]*F;ne.getRgbBuffer(se,q,1,L,K,8,D),K+=j}}getOutputLength(I,J){return this.base.getOutputLength(I*this.base.numComps,J)}isDefaultDecode(I,J){return Array.isArray(I)?I.length!==2?((0,d.warn)("Decode map length is not correct"),!0):!Number.isInteger(J)||J<1?((0,d.warn)("Bits per component is not correct"),!0):I[0]===0&&I[1]===(1<<J)-1:!0}}class k extends u{constructor(){super("DeviceGray",1)}getRgbItem(I,J,_,L){const K=255*I[J];_[L]=_[L+1]=_[L+2]=K}getRgbBuffer(I,J,_,L,K,$,D){const ne=255/((1<<$)-1);let F=J,j=K;for(let se=0;se<_;++se){const Y=ne*I[F++];L[j++]=Y,L[j++]=Y,L[j++]=Y,j+=D}}getOutputLength(I,J){return I*(3+J)}}class A extends u{constructor(){super("DeviceRGB",3)}getRgbItem(I,J,_,L){_[L]=255*I[J],_[L+1]=255*I[J+1],_[L+2]=255*I[J+2]}getRgbBuffer(I,J,_,L,K,$,D){if($===8&&D===0){L.set(I.subarray(J,J+3*_),K);return}const ne=255/((1<<$)-1);let F=J,j=K;for(let se=0;se<_;++se)L[j++]=ne*I[F++],L[j++]=ne*I[F++],L[j++]=ne*I[F++],j+=D}getOutputLength(I,J){return I*(3+J)/3|0}isPassthrough(I){return I===8}}const g=function(){function I(J,_,L,K,$){const D=J[_]*L,ne=J[_+1]*L,F=J[_+2]*L,j=J[_+3]*L;K[$]=255+D*(-4.387332384609988*D+54.48615194189176*ne+18.82290502165302*F+212.25662451639585*j-285.2331026137004)+ne*(1.7149763477362134*ne-5.6096736904047315*F+-17.873870861415444*j-5.497006427196366)+F*(-2.5217340131683033*F-21.248923337353073*j+17.5119270841813)+j*(-21.86122147463605*j-189.48180835922747),K[$+1]=255+D*(8.841041422036149*D+60.118027045597366*ne+6.871425592049007*F+31.159100130055922*j-79.2970844816548)+ne*(-15.310361306967817*ne+17.575251261109482*F+131.35250912493976*j-190.9453302588951)+F*(4.444339102852739*F+9.8632861493405*j-24.86741582555878)+j*(-20.737325471181034*j-187.80453709719578),K[$+2]=255+D*(.8842522430003296*D+8.078677503112928*ne+30.89978309703729*F-.23883238689178934*j-14.183576799673286)+ne*(10.49593273432072*ne+63.02378494754052*F+50.606957656360734*j-112.23884253719248)+F*(.03296041114873217*F+115.60384449646641*j-193.58209356861505)+j*(-22.33816807309886*j-180.12613974708367)}return class extends u{constructor(){super("DeviceCMYK",4)}getRgbItem(_,L,K,$){I(_,L,1,K,$)}getRgbBuffer(_,L,K,$,D,ne,F){const j=1/((1<<ne)-1);for(let se=0;se<K;se++)I(_,L,j,$,D),L+=4,D+=3+F}getOutputLength(_,L){return _/4*(3+L)|0}}}(),E=function(){function I(J,_,L,K,$,D){const ne=(_[L]*D)**J.G,F=J.YW*ne,j=Math.max(295.8*F**.3333333333333333-40.8,0);K[$]=j,K[$+1]=j,K[$+2]=j}return class extends u{constructor(_,L,K){if(super("CalGray",1),!_)throw new d.FormatError("WhitePoint missing - required for color space CalGray");if(L=L||[0,0,0],K=K||1,this.XW=_[0],this.YW=_[1],this.ZW=_[2],this.XB=L[0],this.YB=L[1],this.ZB=L[2],this.G=K,this.XW<0||this.ZW<0||this.YW!==1)throw new d.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,d.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),this.XB===0&&this.YB===0&&this.ZB===0||(0,d.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,d.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(_,L,K,$){I(this,_,L,K,$,1)}getRgbBuffer(_,L,K,$,D,ne,F){const j=1/((1<<ne)-1);for(let se=0;se<K;++se)I(this,_,L,$,D,j),L+=1,D+=3+F}getOutputLength(_,L){return _*(3+L)}}}(),v=function(){const I=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),J=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),_=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),L=new Float32Array([1,1,1]),K=new Float32Array(3),$=new Float32Array(3),D=new Float32Array(3),ne=(24/116)**3/8;function F(Q,N,O){O[0]=Q[0]*N[0]+Q[1]*N[1]+Q[2]*N[2],O[1]=Q[3]*N[0]+Q[4]*N[1]+Q[5]*N[2],O[2]=Q[6]*N[0]+Q[7]*N[1]+Q[8]*N[2]}function j(Q){return Q<=.0031308?se(0,1,12.92*Q):Q>=.99554525?1:se(0,1,1.055*Q**(1/2.4)-.055)}function se(Q,N,O){return Math.max(Q,Math.min(N,O))}function Y(Q){return Q<0?-Y(-Q):Q>8?((Q+16)/116)**3:Q*ne}function q(Q,N,O,H,G,le){const fe=se(0,1,N[O]*le),ae=se(0,1,N[O+1]*le),re=se(0,1,N[O+2]*le),be=fe===1?1:fe**Q.GR,ye=ae===1?1:ae**Q.GG,Ce=re===1?1:re**Q.GB,me=Q.MXA*be+Q.MXB*ye+Q.MXC*Ce,ee=Q.MYA*be+Q.MYB*ye+Q.MYC*Ce,te=Q.MZA*be+Q.MZB*ye+Q.MZC*Ce,oe=$;oe[0]=me,oe[1]=ee,oe[2]=te;const V=D;(function(Se,ge,de){if(Se[0]===1&&Se[2]===1){de[0]=ge[0],de[1]=ge[1],de[2]=ge[2];return}const xe=de;F(I,ge,xe);const ve=K;(function(Te,_e,Oe){Oe[0]=1*_e[0]/Te[0],Oe[1]=1*_e[1]/Te[1],Oe[2]=1*_e[2]/Te[2]})(Se,xe,ve),F(J,ve,de)})(Q.whitePoint,oe,V);const W=$;(function(Se,ge,de){if(Se[0]===0&&Se[1]===0&&Se[2]===0){de[0]=ge[0],de[1]=ge[1],de[2]=ge[2];return}const xe=Y(0),ve=(1-xe)/(1-Y(Se[0])),Ee=1-ve,Te=(1-xe)/(1-Y(Se[1])),_e=1-Te,Oe=(1-xe)/(1-Y(Se[2])),Pe=1-Oe;de[0]=ge[0]*ve+Ee,de[1]=ge[1]*Te+_e,de[2]=ge[2]*Oe+Pe})(Q.blackPoint,V,W);const ue=D;(function(Se,ge,de){const xe=de;F(I,ge,xe);const ve=K;(function(Te,_e,Oe){Oe[0]=.95047*_e[0]/Te[0],Oe[1]=1*_e[1]/Te[1],Oe[2]=1.08883*_e[2]/Te[2]})(Se,xe,ve),F(J,ve,de)})(L,W,ue);const he=$;F(_,ue,he),H[G]=255*j(he[0]),H[G+1]=255*j(he[1]),H[G+2]=255*j(he[2])}return class extends u{constructor(N,O,H,G){if(super("CalRGB",3),!N)throw new d.FormatError("WhitePoint missing - required for color space CalRGB");O=O||new Float32Array(3),H=H||new Float32Array([1,1,1]),G=G||new Float32Array([1,0,0,0,1,0,0,0,1]);const le=N[0],fe=N[1],ae=N[2];this.whitePoint=N;const re=O[0],be=O[1],ye=O[2];if(this.blackPoint=O,this.GR=H[0],this.GG=H[1],this.GB=H[2],this.MXA=G[0],this.MYA=G[1],this.MZA=G[2],this.MXB=G[3],this.MYB=G[4],this.MZB=G[5],this.MXC=G[6],this.MYC=G[7],this.MZC=G[8],le<0||ae<0||fe!==1)throw new d.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(re<0||be<0||ye<0)&&((0,d.info)(`Invalid BlackPoint for ${this.name} [${re}, ${be}, ${ye}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,d.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(N,O,H,G){q(this,N,O,H,G,1)}getRgbBuffer(N,O,H,G,le,fe,ae){const re=1/((1<<fe)-1);for(let be=0;be<H;++be)q(this,N,O,G,le,re),O+=3,le+=3+ae}getOutputLength(N,O){return N*(3+O)/3|0}}}(),M=function(){function I(L){let K;return K=L>=6/29?L**3:108/841*(L-4/29),K}function J(L,K,$,D){return $+L*(D-$)/K}function _(L,K,$,D,ne,F){let j=K[$],se=K[$+1],Y=K[$+2];D!==!1&&(j=J(j,D,0,100),se=J(se,D,L.amin,L.amax),Y=J(Y,D,L.bmin,L.bmax)),se>L.amax?se=L.amax:se<L.amin&&(se=L.amin),Y>L.bmax?Y=L.bmax:Y<L.bmin&&(Y=L.bmin);const q=(j+16)/116,Q=q+se/500,N=q-Y/200,O=L.XW*I(Q),H=L.YW*I(q),G=L.ZW*I(N);let le,fe,ae;L.ZW<1?(le=3.1339*O+-1.617*H+-.4906*G,fe=-.9785*O+1.916*H+.0333*G,ae=.072*O+-.229*H+1.4057*G):(le=3.2406*O+-1.5372*H+-.4986*G,fe=-.9689*O+1.8758*H+.0415*G,ae=.0557*O+-.204*H+1.057*G),ne[F]=255*Math.sqrt(le),ne[F+1]=255*Math.sqrt(fe),ne[F+2]=255*Math.sqrt(ae)}return class extends u{constructor(K,$,D){if(super("Lab",3),!K)throw new d.FormatError("WhitePoint missing - required for color space Lab");if($=$||[0,0,0],D=D||[-100,100,-100,100],this.XW=K[0],this.YW=K[1],this.ZW=K[2],this.amin=D[0],this.amax=D[1],this.bmin=D[2],this.bmax=D[3],this.XB=$[0],this.YB=$[1],this.ZB=$[2],this.XW<0||this.ZW<0||this.YW!==1)throw new d.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,d.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,d.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(K,$,D,ne){_(this,K,$,!1,D,ne)}getRgbBuffer(K,$,D,ne,F,j,se){const Y=(1<<j)-1;for(let q=0;q<D;q++)_(this,K,$,Y,ne,F),$+=3,F+=3+se}getOutputLength(K,$){return K*(3+$)/3|0}isDefaultDecode(K,$){return!0}get usesZeroToOneRange(){return(0,d.shadow)(this,"usesZeroToOneRange",!1)}}}()},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PartialEvaluator=h.EvaluatorPreprocessor=void 0;var d=p(2),m=p(14),y=p(4),x=p(32),u=p(35),w=p(39),T=p(48),C=p(49),k=p(40),A=p(55),g=p(15),E=p(57),v=p(8),M=p(5),R=p(58),I=p(12),J=p(17),_=p(36),L=p(37),K=p(3),$=p(43),D=p(38),ne=p(59),F=p(60),j=p(61);const se=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),Y=1,q=2,Q=10,N=Promise.resolve();function O(Ce,me=!1){if(Array.isArray(Ce)){for(const ee of Ce){const te=O(ee,!0);if(te)return te}return(0,d.warn)(`Unsupported blend mode Array: ${Ce}`),"source-over"}if(!(Ce instanceof y.Name))return me?null:"source-over";switch(Ce.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return me?null:((0,d.warn)(`Unsupported blend mode: ${Ce.name}`),"source-over")}function H(Ce){Ce.fn===d.OPS.paintImageMaskXObject&&Ce.args[0]&&Ce.args[0].count>0&&Ce.args[0].count++}class G{static get TIME_SLOT_DURATION_MS(){return(0,d.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,d.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<G.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+G.TIME_SLOT_DURATION_MS,this.checked=0}}class le{constructor({xref:me,handler:ee,pageIndex:te,idFactory:oe,fontCache:V,builtInCMapCache:W,standardFontDataCache:ue,globalImageCache:he,options:pe=null}){this.xref=me,this.handler=ee,this.pageIndex=te,this.idFactory=oe,this.fontCache=V,this.builtInCMapCache=W,this.standardFontDataCache=ue,this.globalImageCache=he,this.options=pe||se,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const me=new A.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,d.shadow)(this,"_pdfFunctionFactory",me)}clone(me=null){const ee=Object.create(this);return ee.options=Object.assign(Object.create(null),this.options,me),ee}hasBlendModes(me,ee){if(!(me instanceof y.Dict)||me.objId&&ee.has(me.objId))return!1;const te=new y.RefSet(ee);me.objId&&te.put(me.objId);const oe=[me],V=this.xref;for(;oe.length;){const W=oe.shift(),ue=W.get("ExtGState");if(ue instanceof y.Dict)for(let pe of ue.getRawValues()){if(pe instanceof y.Ref){if(te.has(pe))continue;try{pe=V.fetch(pe)}catch(ge){te.put(pe),(0,d.info)(`hasBlendModes - ignoring ExtGState: "${ge}".`);continue}}if(!(pe instanceof y.Dict))continue;pe.objId&&te.put(pe.objId);const Se=pe.get("BM");if(Se instanceof y.Name){if(Se.name!=="Normal")return!0}else if(Se!==void 0&&Array.isArray(Se)){for(const ge of Se)if(ge instanceof y.Name&&ge.name!=="Normal")return!0}}const he=W.get("XObject");if(he instanceof y.Dict)for(let pe of he.getRawValues()){if(pe instanceof y.Ref){if(te.has(pe))continue;try{pe=V.fetch(pe)}catch(ge){te.put(pe),(0,d.info)(`hasBlendModes - ignoring XObject: "${ge}".`);continue}}if(!(pe instanceof M.BaseStream))continue;pe.dict.objId&&te.put(pe.dict.objId);const Se=pe.dict.get("Resources");Se instanceof y.Dict&&(!Se.objId||!te.has(Se.objId))&&(oe.push(Se),Se.objId&&te.put(Se.objId))}}for(const W of te)ee.put(W);return!1}async fetchBuiltInCMap(me){const ee=this.builtInCMapCache.get(me);if(ee)return ee;let te;if(this.options.cMapUrl!==null){const oe=`${this.options.cMapUrl}${me}.bcmap`,V=await fetch(oe);if(!V.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${oe}" with "${V.statusText}".`);te={cMapData:new Uint8Array(await V.arrayBuffer()),compressionType:d.CMapCompressionType.BINARY}}else te=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:me});return te.compressionType!==d.CMapCompressionType.NONE&&this.builtInCMapCache.set(me,te),te}async fetchStandardFontData(me){const ee=this.standardFontDataCache.get(me);if(ee)return new v.Stream(ee);if(this.options.useSystemFonts&&me!=="Symbol"&&me!=="ZapfDingbats")return null;const te=(0,w.getFontNameToFileMap)()[me];let oe;if(this.options.standardFontDataUrl!==null){const V=`${this.options.standardFontDataUrl}${te}`,W=await fetch(V);W.ok?oe=await W.arrayBuffer():(0,d.warn)(`fetchStandardFontData: failed to fetch file "${V}" with "${W.statusText}".`)}else try{oe=await this.handler.sendWithPromise("FetchStandardFontData",{filename:te})}catch(V){(0,d.warn)(`fetchStandardFontData: failed to fetch file "${te}" with "${V}".`)}return oe?(this.standardFontDataCache.set(me,oe),new v.Stream(oe)):null}async buildFormXObject(me,ee,te,oe,V,W,ue){const he=ee.dict,pe=he.getArray("Matrix");let Se,ge,de=he.getArray("BBox");de=Array.isArray(de)&&de.length===4?d.Util.normalizeRect(de):null,he.has("OC")&&(Se=await this.parseMarkedContentProps(he.get("OC"),me)),Se!==void 0&&oe.addOp(d.OPS.beginMarkedContentProps,["OC",Se]);const xe=he.get("Group");if(xe){ge={matrix:pe,bbox:de,smask:te,isolated:!1,knockout:!1};const Ee=xe.get("S");let Te=null;if((0,y.isName)(Ee,"Transparency")&&(ge.isolated=xe.get("I")||!1,ge.knockout=xe.get("K")||!1,xe.has("CS"))){const _e=xe.getRaw("CS");Te=I.ColorSpace.getCached(_e,this.xref,ue)||await this.parseColorSpace({cs:_e,resources:me,localColorSpaceCache:ue})}te&&te.backdrop&&(Te=Te||I.ColorSpace.singletons.rgb,te.backdrop=Te.getRgb(te.backdrop,0)),oe.addOp(d.OPS.beginGroup,[ge])}const ve=xe?[pe,null]:[pe,de];return oe.addOp(d.OPS.paintFormXObjectBegin,ve),this.getOperatorList({stream:ee,task:V,resources:he.get("Resources")||me,operatorList:oe,initialState:W}).then(function(){oe.addOp(d.OPS.paintFormXObjectEnd,[]),xe&&oe.addOp(d.OPS.endGroup,[ge]),Se!==void 0&&oe.addOp(d.OPS.endMarkedContent,[])})}_sendImgData(me,ee,te=!1){const oe=ee?[ee.bitmap||ee.data.buffer]:null;return this.parsingType3Font||te?this.handler.send("commonobj",[me,"Image",ee],oe):this.handler.send("obj",[me,this.pageIndex,"Image",ee],oe)}async buildPaintImageXObject({resources:me,image:ee,isInline:te=!1,operatorList:oe,cacheKey:V,localImageCache:W,localColorSpaceCache:ue}){const he=ee.dict,pe=he.objId,Se=he.get("W","Width"),ge=he.get("H","Height");if(!Se||typeof Se!="number"||!ge||typeof ge!="number"){(0,d.warn)("Image dimensions are missing, or not numbers.");return}const de=this.options.maxImageSize;if(de!==-1&&Se*ge>de){const je="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,d.warn)(je);return}throw new Error(je)}let xe;he.has("OC")&&(xe=await this.parseMarkedContentProps(he.get("OC"),me));let ve,Ee;if(he.get("IM","ImageMask")){const je=he.get("I","Interpolate"),De=Se+7>>3,Me=ee.getBytes(De*ge),Fe=he.getArray("D","Decode");if(this.parsingType3Font){ve=j.PDFImage.createRawMask({imgArray:Me,width:Se,height:ge,imageIsFromDecodeStream:ee instanceof J.DecodeStream,inverseDecode:!!Fe&&Fe[0]>0,interpolate:je}),ve.cached=!!V,Ee=[ve],oe.addImageOps(d.OPS.paintImageMaskXObject,Ee,xe),V&&W.set(V,pe,{fn:d.OPS.paintImageMaskXObject,args:Ee,optionalContent:xe});return}if(ve=j.PDFImage.createMask({imgArray:Me,width:Se,height:ge,imageIsFromDecodeStream:ee instanceof J.DecodeStream,inverseDecode:!!Fe&&Fe[0]>0,interpolate:je,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),ve.isSingleOpaquePixel){oe.addImageOps(d.OPS.paintSolidColorImageMask,[],xe),V&&W.set(V,pe,{fn:d.OPS.paintSolidColorImageMask,args:[],optionalContent:xe});return}const $e=`mask_${this.idFactory.createObjId()}`;oe.addDependency($e),this._sendImgData($e,ve),Ee=[{data:$e,width:ve.width,height:ve.height,interpolate:ve.interpolate,count:1}],oe.addImageOps(d.OPS.paintImageMaskXObject,Ee,xe),V&&W.set(V,pe,{fn:d.OPS.paintImageMaskXObject,args:Ee,optionalContent:xe});return}const Te=he.get("SM","SMask")||!1,_e=he.get("Mask")||!1;if(te&&!Te&&!_e&&Se+ge<200){ve=new j.PDFImage({xref:this.xref,res:me,image:ee,isInline:te,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ue}).createImageData(!0),oe.addImageOps(d.OPS.paintInlineImageXObject,[ve],xe);return}let Oe=`img_${this.idFactory.createObjId()}`,Pe=!1;this.parsingType3Font?Oe=`${this.idFactory.getDocId()}_type3_${Oe}`:pe&&(Pe=this.globalImageCache.shouldCache(pe,this.pageIndex),Pe&&(Oe=`${this.idFactory.getDocId()}_${Oe}`)),oe.addDependency(Oe),Ee=[Oe,Se,ge],j.PDFImage.buildImage({xref:this.xref,res:me,image:ee,isInline:te,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ue}).then(je=>(ve=je.createImageData(!1),V&&pe&&Pe&&this.globalImageCache.addByteSize(pe,ve.data.length),this._sendImgData(Oe,ve,Pe))).catch(je=>((0,d.warn)(`Unable to decode image "${Oe}": "${je}".`),this._sendImgData(Oe,null,Pe))),oe.addImageOps(d.OPS.paintImageXObject,Ee,xe),V&&(W.set(V,pe,{fn:d.OPS.paintImageXObject,args:Ee,optionalContent:xe}),pe&&((0,d.assert)(!te,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(pe,this.pageIndex),Pe&&this.globalImageCache.setData(pe,{objId:Oe,fn:d.OPS.paintImageXObject,args:Ee,optionalContent:xe,byteSize:0})))}handleSMask(me,ee,te,oe,V,W){const ue=me.get("G"),he={subtype:me.get("S").name,backdrop:me.get("BC")},pe=me.get("TR");if((0,A.isPDFFunction)(pe)){const Se=this._pdfFunctionFactory.create(pe),ge=new Uint8Array(256),de=new Float32Array(1);for(let xe=0;xe<256;xe++)de[0]=xe/255,Se(de,0,de,0),ge[xe]=255*de[0]|0;he.transferMap=ge}return this.buildFormXObject(ee,ue,he,te,oe,V.state.clone(),W)}handleTransferFunction(me){let ee;if(Array.isArray(me))ee=me;else{if(!(0,A.isPDFFunction)(me))return null;ee=[me]}const te=[];let oe=0,V=0;for(const W of ee){const ue=this.xref.fetchIfRef(W);if(oe++,(0,y.isName)(ue,"Identity")){te.push(null);continue}if(!(0,A.isPDFFunction)(ue))return null;const he=this._pdfFunctionFactory.create(ue),pe=new Uint8Array(256),Se=new Float32Array(1);for(let ge=0;ge<256;ge++)Se[0]=ge/255,he(Se,0,Se,0),pe[ge]=255*Se[0]|0;te.push(pe),V++}return oe!==1&&oe!==4||V===0?null:te}handleTilingType(me,ee,te,oe,V,W,ue,he){const pe=new F.OperatorList,Se=y.Dict.merge({xref:this.xref,dictArray:[V.get("Resources"),te]});return this.getOperatorList({stream:oe,task:ue,resources:Se,operatorList:pe}).then(function(){const ge=pe.getIR(),de=(0,T.getTilingPatternIR)(ge,V,ee);W.addDependencies(pe.dependencies),W.addOp(me,de),V.objId&&he.set(null,V.objId,{operatorListIR:ge,dict:V})}).catch(ge=>{if(!(ge instanceof d.AbortException)){if(!this.options.ignoreErrors)throw ge;this.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,d.warn)(`handleTilingType - ignoring pattern: "${ge}".`)}})}handleSetFont(me,ee,te,oe,V,W,ue=null,he=null){const pe=ee&&ee[0]instanceof y.Name?ee[0].name:null;return this.loadFont(pe,te,me,ue,he).then(Se=>Se.font.isType3Font?Se.loadType3Data(this,me,V).then(function(){return oe.addDependencies(Se.type3Dependencies),Se}).catch(ge=>(this.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorFontLoadType3}),new fe({loadedName:"g_font_error",font:new x.ErrorFont(`Type3 font load error: ${ge}`),dict:Se.font,evaluatorOptions:this.options}))):Se).then(Se=>(W.font=Se.font,Se.send(this.handler),Se.loadedName))}handleText(me,ee){const te=ee.font,oe=te.charsToGlyphs(me);return te.data&&(ee.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG||ee.fillColorSpace.name==="Pattern"||te.disableFontFace||this.options.disableFontFace)&&le.buildFontPaths(te,oe,this.handler,this.options),oe}ensureStateFont(me){if(me.font)return;const ee=new d.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(!this.options.ignoreErrors)throw ee;this.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorFontState}),(0,d.warn)(`ensureStateFont: "${ee}".`)}async setGState({resources:me,gState:ee,operatorList:te,cacheKey:oe,task:V,stateManager:W,localGStateCache:ue,localColorSpaceCache:he}){const pe=ee.objId;let Se=!0;const ge=[];let de=Promise.resolve();for(const xe of ee.getKeys()){const ve=ee.get(xe);switch(xe){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":ge.push([xe,ve]);break;case"Font":Se=!1,de=de.then(()=>this.handleSetFont(me,null,ve[0],te,V,W.state).then(function(Te){te.addDependency(Te),ge.push([xe,[Te,ve[1]]])}));break;case"BM":ge.push([xe,O(ve)]);break;case"SMask":if((0,y.isName)(ve,"None")){ge.push([xe,!1]);break}ve instanceof y.Dict?(Se=!1,de=de.then(()=>this.handleSMask(ve,me,te,V,W,he)),ge.push([xe,!0])):(0,d.warn)("Unsupported SMask type");break;case"TR":const Ee=this.handleTransferFunction(ve);ge.push([xe,Ee]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,d.info)("graphic state operator "+xe);break;default:(0,d.info)("Unknown graphic state operator "+xe)}}return de.then(function(){ge.length>0&&te.addOp(d.OPS.setGState,[ge]),Se&&ue.set(oe,pe,ge)})}loadFont(me,ee,te,oe=null,V=null){const W=async()=>new fe({loadedName:"g_font_error",font:new x.ErrorFont(`Font "${me}" is not available.`),dict:ee,evaluatorOptions:this.options}),ue=this.xref;let he;if(ee)ee instanceof y.Ref&&(he=ee);else{const Ee=te.get("Font");Ee&&(he=Ee.getRaw(me))}if(!he){const Ee=`Font "${me||ee&&ee.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,d.warn)(`${Ee}.`),W();this.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorFontMissing}),(0,d.warn)(`${Ee} -- attempting to fallback to a default font.`),he=oe||le.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(he))return W();if(this.fontCache.has(he))return this.fontCache.get(he);if(!((ee=ue.fetchIfRef(he))instanceof y.Dict))return W();if(ee.cacheKey&&this.fontCache.has(ee.cacheKey))return this.fontCache.get(ee.cacheKey);const pe=(0,d.createPromiseCapability)();let Se;try{Se=this.preEvaluateFont(ee),Se.cssFontInfo=V}catch(Ee){return(0,d.warn)(`loadFont - preEvaluateFont failed: "${Ee}".`),W()}const{descriptor:ge,hash:de}=Se,xe=he instanceof y.Ref;let ve;if(xe&&(ve=`f${he.toString()}`),de&&ge instanceof y.Dict){ge.fontAliases||(ge.fontAliases=Object.create(null));const Ee=ge.fontAliases;if(Ee[de]){const Te=Ee[de].aliasRef;if(xe&&Te&&this.fontCache.has(Te))return this.fontCache.putAlias(he,Te),this.fontCache.get(he)}else Ee[de]={fontID:this.idFactory.createFontId()};xe&&(Ee[de].aliasRef=he),ve=Ee[de].fontID}return xe?this.fontCache.put(he,pe.promise):(ve||(ve=this.idFactory.createFontId()),ee.cacheKey=`cacheKey_${ve}`,this.fontCache.put(ee.cacheKey,pe.promise)),(0,d.assert)(ve&&ve.startsWith("f"),'The "fontID" must be (correctly) defined.'),ee.loadedName=`${this.idFactory.getDocId()}_${ve}`,this.translateFont(Se).then(Ee=>{pe.resolve(new fe({loadedName:ee.loadedName,font:Ee,dict:ee,evaluatorOptions:this.options}))}).catch(Ee=>{this.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,d.warn)(`loadFont - translateFont failed: "${Ee}".`),pe.resolve(new fe({loadedName:ee.loadedName,font:new x.ErrorFont(Ee instanceof Error?Ee.message:Ee),dict:ee,evaluatorOptions:this.options}))}),pe.promise}buildPath(me,ee,te,oe=!1){const V=me.length-1;if(te||(te=[]),V<0||me.fnArray[V]!==d.OPS.constructPath){oe&&((0,d.warn)(`Encountered path operator "${ee}" inside of a text object.`),me.addOp(d.OPS.save,null));let W;switch(ee){case d.OPS.rectangle:const ue=te[0]+te[2],he=te[1]+te[3];W=[Math.min(te[0],ue),Math.max(te[0],ue),Math.min(te[1],he),Math.max(te[1],he)];break;case d.OPS.moveTo:case d.OPS.lineTo:W=[te[0],te[0],te[1],te[1]];break;default:W=[1/0,-1/0,1/0,-1/0]}me.addOp(d.OPS.constructPath,[[ee],te,W]),oe&&me.addOp(d.OPS.restore,null)}else{const W=me.argsArray[V];W[0].push(ee),W[1].push(...te);const ue=W[2];switch(ee){case d.OPS.rectangle:const he=te[0]+te[2],pe=te[1]+te[3];ue[0]=Math.min(ue[0],te[0],he),ue[1]=Math.max(ue[1],te[0],he),ue[2]=Math.min(ue[2],te[1],pe),ue[3]=Math.max(ue[3],te[1],pe);break;case d.OPS.moveTo:case d.OPS.lineTo:ue[0]=Math.min(ue[0],te[0]),ue[1]=Math.max(ue[1],te[0]),ue[2]=Math.min(ue[2],te[1]),ue[3]=Math.max(ue[3],te[1])}}}parseColorSpace({cs:me,resources:ee,localColorSpaceCache:te}){return I.ColorSpace.parseAsync({cs:me,xref:this.xref,resources:ee,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:te}).catch(oe=>{if(oe instanceof d.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorColorSpace}),(0,d.warn)(`parseColorSpace - ignoring ColorSpace: "${oe}".`),null;throw oe})}parseShading({shading:me,resources:ee,localColorSpaceCache:te,localShadingPatternCache:oe}){let V=oe.get(me);if(!V){const W=T.Pattern.parseShading(me,this.xref,ee,this.handler,this._pdfFunctionFactory,te).getIR();V=`pattern_${this.idFactory.createObjId()}`,oe.set(me,V),this.handler.send("obj",[V,this.pageIndex,"Pattern",W])}return V}handleColorN(me,ee,te,oe,V,W,ue,he,pe,Se){const ge=te.pop();if(ge instanceof y.Name){const de=V.getRaw(ge.name),xe=de instanceof y.Ref&&pe.getByRef(de);if(xe)try{const Ee=oe.base?oe.base.getRgb(te,0):null,Te=(0,T.getTilingPatternIR)(xe.operatorListIR,xe.dict,Ee);me.addOp(ee,Te);return}catch{}const ve=this.xref.fetchIfRef(de);if(ve){const Ee=ve instanceof M.BaseStream?ve.dict:ve,Te=Ee.get("PatternType");if(Te===Y){const _e=oe.base?oe.base.getRgb(te,0):null;return this.handleTilingType(ee,_e,W,ve,Ee,me,ue,pe)}if(Te===q){const _e=Ee.get("Shading"),Oe=Ee.getArray("Matrix"),Pe=this.parseShading({shading:_e,resources:W,localColorSpaceCache:he,localShadingPatternCache:Se});me.addOp(ee,["Shading",Pe,Oe]);return}throw new d.FormatError(`Unknown PatternType: ${Te}`)}}throw new d.FormatError(`Unknown PatternName: ${ge}`)}_parseVisibilityExpression(me,ee,te){if(++ee>10){(0,d.warn)("Visibility expression is too deeply nested");return}const oe=me.length,V=this.xref.fetchIfRef(me[0]);if(!(oe<2)&&V instanceof y.Name){switch(V.name){case"And":case"Or":case"Not":te.push(V.name);break;default:(0,d.warn)(`Invalid operator ${V.name} in visibility expression`);return}for(let W=1;W<oe;W++){const ue=me[W],he=this.xref.fetchIfRef(ue);if(Array.isArray(he)){const pe=[];te.push(pe),this._parseVisibilityExpression(he,ee,pe)}else ue instanceof y.Ref&&te.push(ue.toString())}}else(0,d.warn)("Invalid visibility expression")}async parseMarkedContentProps(me,ee){let te;if(me instanceof y.Name)te=ee.get("Properties").get(me.name);else{if(!(me instanceof y.Dict))throw new d.FormatError("Optional content properties malformed.");te=me}const oe=te.get("Type").name;if(oe==="OCG")return{type:oe,id:te.objId};if(oe==="OCMD"){const V=te.get("VE");if(Array.isArray(V)){const ue=[];if(this._parseVisibilityExpression(V,0,ue),ue.length>0)return{type:"OCMD",expression:ue}}const W=te.get("OCGs");if(Array.isArray(W)||W instanceof y.Dict){const ue=[];if(Array.isArray(W))for(const he of W)ue.push(he.toString());else ue.push(W.objId);return{type:oe,ids:ue,policy:te.get("P")instanceof y.Name?te.get("P").name:null,expression:null}}if(W instanceof y.Ref)return{type:oe,id:W.toString()}}return null}getOperatorList({stream:me,task:ee,resources:te,operatorList:oe,initialState:V=null,fallbackFontDict:W=null}){if(te=te||y.Dict.empty,V=V||new be,!oe)throw new Error('getOperatorList: missing "operatorList" parameter');const ue=this,he=this.xref;let pe=!1;const Se=new E.LocalImageCache,ge=new E.LocalColorSpaceCache,de=new E.LocalGStateCache,xe=new E.LocalTilingPatternCache,ve=new Map,Ee=te.get("XObject")||y.Dict.empty,Te=te.get("Pattern")||y.Dict.empty,_e=new ae(V),Oe=new ye(me,he,_e),Pe=new G;function je(De){for(let Me=0,Fe=Oe.savedStatesDepth;Me<Fe;Me++)oe.addOp(d.OPS.restore,[])}return new Promise(function De(Me,Fe){const $e=function(Ke){Promise.all([Ke,oe.ready]).then(function(){try{De(Me,Fe)}catch(rt){Fe(rt)}},Fe)};ee.ensureNotTerminated(),Pe.reset();const tt={};let ut,ct,mt,Ze,St,Rt;for(;!(ut=Pe.check())&&(tt.args=null,!!Oe.read(tt));){let Ke=tt.args,rt=tt.fn;switch(0|rt){case d.OPS.paintXObject:if(Rt=Ke[0]instanceof y.Name,St=Ke[0].name,Rt){const ze=Se.getByName(St);if(ze){oe.addImageOps(ze.fn,ze.args,ze.optionalContent),H(ze),Ke=null;continue}}$e(new Promise(function(ze,Ve){if(!Rt)throw new d.FormatError("XObject must be referred to by name.");let Ye=Ee.getRaw(St);if(Ye instanceof y.Ref){const it=Se.getByRef(Ye);if(it){oe.addImageOps(it.fn,it.args,it.optionalContent),H(it),ze();return}const Tt=ue.globalImageCache.getData(Ye,ue.pageIndex);if(Tt){oe.addDependency(Tt.objId),oe.addImageOps(Tt.fn,Tt.args,Tt.optionalContent),ze();return}Ye=he.fetch(Ye)}if(!(Ye instanceof M.BaseStream))throw new d.FormatError("XObject should be a stream");const Je=Ye.dict.get("Subtype");if(!(Je instanceof y.Name))throw new d.FormatError("XObject should have a Name subtype");if(Je.name!=="Form")if(Je.name!=="Image"){if(Je.name!=="PS")throw new d.FormatError(`Unhandled XObject subtype ${Je.name}`);(0,d.info)("Ignored XObject subtype PS"),ze()}else ue.buildPaintImageXObject({resources:te,image:Ye,operatorList:oe,cacheKey:St,localImageCache:Se,localColorSpaceCache:ge}).then(ze,Ve);else _e.save(),ue.buildFormXObject(te,Ye,null,oe,ee,_e.state.clone(),ge).then(function(){_e.restore(),ze()},Ve)}).catch(function(ze){if(!(ze instanceof d.AbortException)){if(!ue.options.ignoreErrors)throw ze;ue.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorXObject}),(0,d.warn)(`getOperatorList - ignoring XObject: "${ze}".`)}}));return;case d.OPS.setFont:var $t=Ke[1];$e(ue.handleSetFont(te,Ke,null,oe,ee,_e.state,W).then(function(ze){oe.addDependency(ze),oe.addOp(d.OPS.setFont,[ze,$t])}));return;case d.OPS.beginText:pe=!0;break;case d.OPS.endText:pe=!1;break;case d.OPS.endInlineImage:var dt=Ke[0].cacheKey;if(dt){const ze=Se.getByName(dt);if(ze){oe.addImageOps(ze.fn,ze.args,ze.optionalContent),H(ze),Ke=null;continue}}$e(ue.buildPaintImageXObject({resources:te,image:Ke[0],isInline:!0,operatorList:oe,cacheKey:dt,localImageCache:Se,localColorSpaceCache:ge}));return;case d.OPS.showText:if(!_e.state.font){ue.ensureStateFont(_e.state);continue}Ke[0]=ue.handleText(Ke[0],_e.state);break;case d.OPS.showSpacedText:if(!_e.state.font){ue.ensureStateFont(_e.state);continue}var ot=[],lt=_e.state;for(const ze of Ke[0])typeof ze=="string"?ot.push(...ue.handleText(ze,lt)):typeof ze=="number"&&ot.push(ze);Ke[0]=ot,rt=d.OPS.showText;break;case d.OPS.nextLineShowText:if(!_e.state.font){ue.ensureStateFont(_e.state);continue}oe.addOp(d.OPS.nextLine),Ke[0]=ue.handleText(Ke[0],_e.state),rt=d.OPS.showText;break;case d.OPS.nextLineSetSpacingShowText:if(!_e.state.font){ue.ensureStateFont(_e.state);continue}oe.addOp(d.OPS.nextLine),oe.addOp(d.OPS.setWordSpacing,[Ke.shift()]),oe.addOp(d.OPS.setCharSpacing,[Ke.shift()]),Ke[0]=ue.handleText(Ke[0],_e.state),rt=d.OPS.showText;break;case d.OPS.setTextRenderingMode:_e.state.textRenderingMode=Ke[0];break;case d.OPS.setFillColorSpace:{const ze=I.ColorSpace.getCached(Ke[0],he,ge);if(ze){_e.state.fillColorSpace=ze;continue}$e(ue.parseColorSpace({cs:Ke[0],resources:te,localColorSpaceCache:ge}).then(function(Ve){Ve&&(_e.state.fillColorSpace=Ve)}));return}case d.OPS.setStrokeColorSpace:{const ze=I.ColorSpace.getCached(Ke[0],he,ge);if(ze){_e.state.strokeColorSpace=ze;continue}$e(ue.parseColorSpace({cs:Ke[0],resources:te,localColorSpaceCache:ge}).then(function(Ve){Ve&&(_e.state.strokeColorSpace=Ve)}));return}case d.OPS.setFillColor:Ze=_e.state.fillColorSpace,Ke=Ze.getRgb(Ke,0),rt=d.OPS.setFillRGBColor;break;case d.OPS.setStrokeColor:Ze=_e.state.strokeColorSpace,Ke=Ze.getRgb(Ke,0),rt=d.OPS.setStrokeRGBColor;break;case d.OPS.setFillGray:_e.state.fillColorSpace=I.ColorSpace.singletons.gray,Ke=I.ColorSpace.singletons.gray.getRgb(Ke,0),rt=d.OPS.setFillRGBColor;break;case d.OPS.setStrokeGray:_e.state.strokeColorSpace=I.ColorSpace.singletons.gray,Ke=I.ColorSpace.singletons.gray.getRgb(Ke,0),rt=d.OPS.setStrokeRGBColor;break;case d.OPS.setFillCMYKColor:_e.state.fillColorSpace=I.ColorSpace.singletons.cmyk,Ke=I.ColorSpace.singletons.cmyk.getRgb(Ke,0),rt=d.OPS.setFillRGBColor;break;case d.OPS.setStrokeCMYKColor:_e.state.strokeColorSpace=I.ColorSpace.singletons.cmyk,Ke=I.ColorSpace.singletons.cmyk.getRgb(Ke,0),rt=d.OPS.setStrokeRGBColor;break;case d.OPS.setFillRGBColor:_e.state.fillColorSpace=I.ColorSpace.singletons.rgb,Ke=I.ColorSpace.singletons.rgb.getRgb(Ke,0);break;case d.OPS.setStrokeRGBColor:_e.state.strokeColorSpace=I.ColorSpace.singletons.rgb,Ke=I.ColorSpace.singletons.rgb.getRgb(Ke,0);break;case d.OPS.setFillColorN:if(Ze=_e.state.fillColorSpace,Ze.name==="Pattern"){$e(ue.handleColorN(oe,d.OPS.setFillColorN,Ke,Ze,Te,te,ee,ge,xe,ve));return}Ke=Ze.getRgb(Ke,0),rt=d.OPS.setFillRGBColor;break;case d.OPS.setStrokeColorN:if(Ze=_e.state.strokeColorSpace,Ze.name==="Pattern"){$e(ue.handleColorN(oe,d.OPS.setStrokeColorN,Ke,Ze,Te,te,ee,ge,xe,ve));return}Ke=Ze.getRgb(Ke,0),rt=d.OPS.setStrokeRGBColor;break;case d.OPS.shadingFill:var st=te.get("Shading");if(!st)throw new d.FormatError("No shading resource found");var Ge=st.get(Ke[0].name);if(!Ge)throw new d.FormatError("No shading object found");Ke=[ue.parseShading({shading:Ge,resources:te,localColorSpaceCache:ge,localShadingPatternCache:ve})],rt=d.OPS.shadingFill;break;case d.OPS.setGState:if(Rt=Ke[0]instanceof y.Name,St=Ke[0].name,Rt){const ze=de.getByName(St);if(ze){ze.length>0&&oe.addOp(d.OPS.setGState,[ze]),Ke=null;continue}}$e(new Promise(function(ze,Ve){if(!Rt)throw new d.FormatError("GState must be referred to by name.");const Ye=te.get("ExtGState");if(!(Ye instanceof y.Dict))throw new d.FormatError("ExtGState should be a dictionary.");const Je=Ye.get(St);if(!(Je instanceof y.Dict))throw new d.FormatError("GState should be a dictionary.");ue.setGState({resources:te,gState:Je,operatorList:oe,cacheKey:St,task:ee,stateManager:_e,localGStateCache:de,localColorSpaceCache:ge}).then(ze,Ve)}).catch(function(ze){if(!(ze instanceof d.AbortException)){if(!ue.options.ignoreErrors)throw ze;ue.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorExtGState}),(0,d.warn)(`getOperatorList - ignoring ExtGState: "${ze}".`)}}));return;case d.OPS.moveTo:case d.OPS.lineTo:case d.OPS.curveTo:case d.OPS.curveTo2:case d.OPS.curveTo3:case d.OPS.closePath:case d.OPS.rectangle:ue.buildPath(oe,rt,Ke,pe);continue;case d.OPS.markPoint:case d.OPS.markPointProps:case d.OPS.beginCompat:case d.OPS.endCompat:continue;case d.OPS.beginMarkedContentProps:if(!(Ke[0]instanceof y.Name)){(0,d.warn)(`Expected name for beginMarkedContentProps arg0=${Ke[0]}`);continue}if(Ke[0].name==="OC"){$e(ue.parseMarkedContentProps(Ke[1],te).then(ze=>{oe.addOp(d.OPS.beginMarkedContentProps,["OC",ze])}).catch(ze=>{if(!(ze instanceof d.AbortException)){if(!ue.options.ignoreErrors)throw ze;ue.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,d.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${ze}".`)}}));return}Ke=[Ke[0].name,Ke[1]instanceof y.Dict?Ke[1].get("MCID"):null];break;case d.OPS.beginMarkedContent:case d.OPS.endMarkedContent:default:if(Ke!==null){for(ct=0,mt=Ke.length;ct<mt&&!(Ke[ct]instanceof y.Dict);ct++);if(ct<mt){(0,d.warn)("getOperatorList - ignoring operator: "+rt);continue}}}oe.addOp(rt,Ke)}ut?$e(N):(je(),Me())}).catch(De=>{if(!(De instanceof d.AbortException)){if(!this.options.ignoreErrors)throw De;this.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorOperatorList}),(0,d.warn)(`getOperatorList - ignoring errors during "${ee.name}" task: "${De}".`),je()}})}getTextContent({stream:me,task:ee,resources:te,stateManager:oe=null,combineTextItems:V=!1,includeMarkedContent:W=!1,sink:ue,seenStyles:he=new Set,viewBox:pe,markedContentData:Se=null}){te=te||y.Dict.empty,oe=oe||new ae(new re),W&&(Se=Se||{level:0});const ge={items:[],styles:Object.create(null)},de={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},xe=[" "," "];let ve=0;function Ee(Ye){const Je=(ve+1)%2,it=xe[ve]!==" "&&xe[Je]===" ";return xe[ve]=Ye,ve=Je,it}function Te(){xe[0]=xe[1]=" ",ve=0}const _e=.1,Oe=.03,Pe=-.2,je=.1,De=.6,Me=this,Fe=this.xref,$e=[];let tt=null;const ut=new E.LocalImageCache,ct=new E.LocalGStateCache,mt=new ye(me,Fe,oe);let Ze;function St(){const Ye=Ze.font,Je=[Ze.fontSize*Ze.textHScale,0,0,Ze.fontSize,0,Ze.textRise];if(Ye.isType3Font&&(Ze.fontSize<=1||Ye.isCharBBox)&&!(0,d.isArrayEqual)(Ze.fontMatrix,d.FONT_IDENTITY_MATRIX)){const it=Ye.bbox[3]-Ye.bbox[1];it>0&&(Je[3]*=it*Ze.fontMatrix[3])}return d.Util.transform(Ze.ctm,d.Util.transform(Ze.textMatrix,Je))}function Rt(){if(de.initialized)return de;const{font:Ye,loadedName:Je}=Ze;he.has(Je)||(he.add(Je),ge.styles[Je]={fontFamily:Ye.fallbackName,ascent:Ye.ascent,descent:Ye.descent,vertical:Ye.vertical}),de.fontName=Je;const it=de.transform=St();Ye.vertical?(de.width=de.totalWidth=Math.hypot(it[0],it[1]),de.height=de.totalHeight=0,de.vertical=!0):(de.width=de.totalWidth=0,de.height=de.totalHeight=Math.hypot(it[2],it[3]),de.vertical=!1);const Tt=Math.hypot(Ze.textLineMatrix[0],Ze.textLineMatrix[1]),Ut=Math.hypot(Ze.ctm[0],Ze.ctm[1]);return de.textAdvanceScale=Ut*Tt,de.trackingSpaceMin=Ze.fontSize*_e,de.notASpace=Ze.fontSize*Oe,de.negativeSpaceMax=Ze.fontSize*Pe,de.spaceInFlowMin=Ze.fontSize*je,de.spaceInFlowMax=Ze.fontSize*De,de.hasEOL=!1,de.initialized=!0,de}function $t(){if(!de.initialized)return;const Ye=Math.hypot(Ze.textLineMatrix[0],Ze.textLineMatrix[1]),Je=Math.hypot(Ze.ctm[0],Ze.ctm[1])*Ye;Je!==de.textAdvanceScale&&(de.vertical?(de.totalHeight+=de.height*de.textAdvanceScale,de.height=0):(de.totalWidth+=de.width*de.textAdvanceScale,de.width=0),de.textAdvanceScale=Je)}function dt(Ye,Je){return Me.loadFont(Ye,Je,te).then(function(it){return it.font.isType3Font?it.loadType3Data(Me,te,ee).catch(function(){}).then(function(){return it}):it}).then(function(it){Ze.loadedName=it.loadedName,Ze.font=it.font,Ze.fontMatrix=it.font.fontMatrix||d.FONT_IDENTITY_MATRIX})}function ot(Ye,Je,it){const Tt=Math.hypot(it[0],it[1]);return[(it[0]*Ye+it[1]*Je)/Tt,(it[2]*Ye+it[3]*Je)/Tt]}function lt(){const Ye=St();let Je=Ye[4],it=Ye[5];const Tt=Je-pe[0],Ut=it-pe[1];if(Tt<0||Tt>pe[2]||Ut<0||Ut>pe[3])return!1;if(!V||!Ze.font||!de.prevTransform)return!0;let kt=de.prevTransform[4],pt=de.prevTransform[5];if(kt===Je&&pt===it)return!0;let Ht=-1;switch(Ye[0]&&Ye[1]===0&&Ye[2]===0?Ht=Ye[0]>0?0:180:Ye[1]&&Ye[0]===0&&Ye[3]===0&&(Ht=Ye[1]>0?90:270),Ht){case 0:break;case 90:[Je,it]=[it,Je],[kt,pt]=[pt,kt];break;case 180:[Je,it,kt,pt]=[-Je,-it,-kt,-pt];break;case 270:[Je,it]=[-it,-Je],[kt,pt]=[-pt,-kt];break;default:[Je,it]=ot(Je,it,Ye),[kt,pt]=ot(kt,pt,de.prevTransform)}if(Ze.font.vertical){const At=(pt-it)/de.textAdvanceScale,vt=Je-kt,Wt=Math.sign(de.height);return At<Wt*de.negativeSpaceMax?Math.abs(vt)>.5*de.width?(Ge(),!0):(Te(),rt(),!0):Math.abs(vt)>de.width?(Ge(),!0):(At<=Wt*de.notASpace&&Te(),At<=Wt*de.trackingSpaceMin?de.height+=At:Ke(At,de.prevTransform,Wt)||(de.str.length===0?(Te(),ge.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(At),transform:de.prevTransform,fontName:de.fontName,hasEOL:!1})):de.height+=At),!0)}const Xt=(Je-kt)/de.textAdvanceScale,Vt=it-pt,Ot=Math.sign(de.width);return Xt<Ot*de.negativeSpaceMax?Math.abs(Vt)>.5*de.height?(Ge(),!0):(Te(),rt(),!0):Math.abs(Vt)>de.height?(Ge(),!0):(Xt<=Ot*de.notASpace&&Te(),Xt<=Ot*de.trackingSpaceMin?de.width+=Xt:Ke(Xt,de.prevTransform,Ot)||(de.str.length===0?(Te(),ge.items.push({str:" ",dir:"ltr",width:Math.abs(Xt),height:0,transform:de.prevTransform,fontName:de.fontName,hasEOL:!1})):de.width+=Xt),!0)}function st({chars:Ye,extraSpacing:Je}){const it=Ze.font;if(!Ye){const kt=Ze.charSpacing+Je;kt&&(it.vertical?Ze.translateTextMatrix(0,-kt):Ze.translateTextMatrix(kt*Ze.textHScale,0));return}const Tt=it.charsToGlyphs(Ye),Ut=Ze.fontMatrix[0]*Ze.fontSize;for(let kt=0,pt=Tt.length;kt<pt;kt++){const Ht=Tt[kt],{category:Xt}=Ht;if(Xt.isInvisibleFormatMark)continue;let Vt=Ze.charSpacing+(kt+1===pt?Je:0),Ot=Ht.width;it.vertical&&(Ot=Ht.vmetric?Ht.vmetric[0]:-Ot);let At=Ot*Ut;if(Xt.isWhitespace){it.vertical?(Vt+=-At+Ze.wordSpacing,Ze.translateTextMatrix(0,-Vt)):(Vt+=At+Ze.wordSpacing,Ze.translateTextMatrix(Vt*Ze.textHScale,0)),Ee(" ");continue}if(!Xt.isZeroWidthDiacritic&&!lt())continue;const vt=Rt();Xt.isZeroWidthDiacritic&&(At=0),it.vertical?(Ze.translateTextMatrix(0,At),At=Math.abs(At),vt.height+=At):(At*=Ze.textHScale,Ze.translateTextMatrix(At,0),vt.width+=At),At&&(vt.prevTransform=St());const Wt=Ht.normalizedUnicode;Ee(Wt)&&vt.str.push(" "),vt.str.push(Wt),Vt&&(it.vertical?Ze.translateTextMatrix(0,-Vt):Ze.translateTextMatrix(Vt*Ze.textHScale,0))}}function Ge(){Te(),de.initialized?(de.hasEOL=!0,rt()):ge.items.push({str:"",dir:"ltr",width:0,height:0,transform:St(),fontName:Ze.loadedName,hasEOL:!0})}function Ke(Ye,Je,it){if(it*de.spaceInFlowMin<=Ye&&Ye<=it*de.spaceInFlowMax)return de.initialized&&(Te(),de.str.push(" ")),!1;const Tt=de.fontName;let Ut=0;return de.vertical&&(Ut=Ye,Ye=0),rt(),Te(),ge.items.push({str:" ",dir:"ltr",width:Math.abs(Ye),height:Math.abs(Ut),transform:Je||St(),fontName:Tt,hasEOL:!1}),!0}function rt(){de.initialized&&de.str&&(de.vertical?de.totalHeight+=de.height*de.textAdvanceScale:de.totalWidth+=de.width*de.textAdvanceScale,ge.items.push(function(Je){const it=Je.str.join(""),Tt=(0,R.bidi)(it,-1,Je.vertical);return{str:Tt.str,dir:Tt.dir,width:Math.abs(Je.totalWidth),height:Math.abs(Je.totalHeight),transform:Je.transform,fontName:Je.fontName,hasEOL:Je.hasEOL}}(de)),de.initialized=!1,de.str.length=0)}function ze(Ye=!1){const Je=ge.items.length;Je!==0&&!(Ye&&Je<Q)&&(ue.enqueue(ge,Je),ge.items=[],ge.styles=Object.create(null))}const Ve=new G;return new Promise(function Ye(Je,it){const Tt=function(At){ze(!0),Promise.all([At,ue.ready]).then(function(){try{Ye(Je,it)}catch(vt){it(vt)}},it)};ee.ensureNotTerminated(),Ve.reset();const Ut={};let kt,pt=[];for(;!(kt=Ve.check())&&(pt.length=0,Ut.args=pt,!!mt.read(Ut));){Ze=oe.state;const At=Ut.fn;switch(pt=Ut.args,0|At){case d.OPS.setFont:var Ht=pt[0].name,Xt=pt[1];if(Ze.font&&Ht===Ze.fontName&&Xt===Ze.fontSize)break;rt(),Ze.fontName=Ht,Ze.fontSize=Xt,Tt(dt(Ht,null));return;case d.OPS.setTextRise:Ze.textRise=pt[0];break;case d.OPS.setHScale:Ze.textHScale=pt[0]/100;break;case d.OPS.setLeading:Ze.leading=pt[0];break;case d.OPS.moveText:Ze.translateTextLineMatrix(pt[0],pt[1]),Ze.textMatrix=Ze.textLineMatrix.slice();break;case d.OPS.setLeadingMoveText:Ze.leading=-pt[1],Ze.translateTextLineMatrix(pt[0],pt[1]),Ze.textMatrix=Ze.textLineMatrix.slice();break;case d.OPS.nextLine:Ze.carriageReturn();break;case d.OPS.setTextMatrix:Ze.setTextMatrix(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5]),Ze.setTextLineMatrix(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5]),$t();break;case d.OPS.setCharSpacing:Ze.charSpacing=pt[0];break;case d.OPS.setWordSpacing:Ze.wordSpacing=pt[0];break;case d.OPS.beginText:Ze.textMatrix=d.IDENTITY_MATRIX.slice(),Ze.textLineMatrix=d.IDENTITY_MATRIX.slice();break;case d.OPS.showSpacedText:if(!oe.state.font){Me.ensureStateFont(oe.state);continue}const vt=(Ze.font.vertical?1:-1)*Ze.fontSize/1e3,Wt=pt[0];for(let Ct=0,Dt=Wt.length;Ct<Dt-1;Ct++){const Bt=Wt[Ct];if(typeof Bt=="string")$e.push(Bt);else if(typeof Bt=="number"&&Bt!==0){const Ue=$e.join("");$e.length=0,st({chars:Ue,extraSpacing:Bt*vt})}}const It=Wt.at(-1);if(typeof It=="string"&&$e.push(It),$e.length>0){const Ct=$e.join("");$e.length=0,st({chars:Ct,extraSpacing:0})}break;case d.OPS.showText:if(!oe.state.font){Me.ensureStateFont(oe.state);continue}st({chars:pt[0],extraSpacing:0});break;case d.OPS.nextLineShowText:if(!oe.state.font){Me.ensureStateFont(oe.state);continue}Ze.carriageReturn(),st({chars:pt[0],extraSpacing:0});break;case d.OPS.nextLineSetSpacingShowText:if(!oe.state.font){Me.ensureStateFont(oe.state);continue}Ze.wordSpacing=pt[0],Ze.charSpacing=pt[1],Ze.carriageReturn(),st({chars:pt[2],extraSpacing:0});break;case d.OPS.paintXObject:rt(),tt||(tt=te.get("XObject")||y.Dict.empty);var Vt=pt[0]instanceof y.Name,Ot=pt[0].name;if(Vt&&ut.getByName(Ot))break;Tt(new Promise(function(Ct,Dt){if(!Vt)throw new d.FormatError("XObject must be referred to by name.");let Bt=tt.getRaw(Ot);if(Bt instanceof y.Ref){if(ut.getByRef(Bt)){Ct();return}if(Me.globalImageCache.getData(Bt,Me.pageIndex)){Ct();return}Bt=Fe.fetch(Bt)}if(!(Bt instanceof M.BaseStream))throw new d.FormatError("XObject should be a stream");const Ue=Bt.dict.get("Subtype");if(!(Ue instanceof y.Name))throw new d.FormatError("XObject should have a Name subtype");if(Ue.name!=="Form"){ut.set(Ot,Bt.dict.objId,!0),Ct();return}const nt=oe.state.clone(),bt=new ae(nt),Et=Bt.dict.getArray("Matrix");Array.isArray(Et)&&Et.length===6&&bt.transform(Et),ze();const Zt={enqueueInvoked:!1,enqueue(hn,fn){this.enqueueInvoked=!0,ue.enqueue(hn,fn)},get desiredSize(){return ue.desiredSize},get ready(){return ue.ready}};Me.getTextContent({stream:Bt,task:ee,resources:Bt.dict.get("Resources")||te,stateManager:bt,combineTextItems:V,includeMarkedContent:W,sink:Zt,seenStyles:he,viewBox:pe,markedContentData:Se}).then(function(){Zt.enqueueInvoked||ut.set(Ot,Bt.dict.objId,!0),Ct()},Dt)}).catch(function(Ct){if(!(Ct instanceof d.AbortException)){if(!Me.options.ignoreErrors)throw Ct;(0,d.warn)(`getTextContent - ignoring XObject: "${Ct}".`)}}));return;case d.OPS.setGState:if(Vt=pt[0]instanceof y.Name,Ot=pt[0].name,Vt&&ct.getByName(Ot))break;Tt(new Promise(function(Ct,Dt){if(!Vt)throw new d.FormatError("GState must be referred to by name.");const Bt=te.get("ExtGState");if(!(Bt instanceof y.Dict))throw new d.FormatError("ExtGState should be a dictionary.");const Ue=Bt.get(Ot);if(!(Ue instanceof y.Dict))throw new d.FormatError("GState should be a dictionary.");const nt=Ue.get("Font");nt?(rt(),Ze.fontName=null,Ze.fontSize=nt[1],dt(null,nt[0]).then(Ct,Dt)):(ct.set(Ot,Ue.objId,!0),Ct())}).catch(function(Ct){if(!(Ct instanceof d.AbortException)){if(!Me.options.ignoreErrors)throw Ct;(0,d.warn)(`getTextContent - ignoring ExtGState: "${Ct}".`)}}));return;case d.OPS.beginMarkedContent:rt(),W&&(Se.level++,ge.items.push({type:"beginMarkedContent",tag:pt[0]instanceof y.Name?pt[0].name:null}));break;case d.OPS.beginMarkedContentProps:if(rt(),W){Se.level++;let Ct=null;pt[1]instanceof y.Dict&&(Ct=pt[1].get("MCID")),ge.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Ct)?`${Me.idFactory.getPageObjId()}_mcid${Ct}`:null,tag:pt[0]instanceof y.Name?pt[0].name:null})}break;case d.OPS.endMarkedContent:if(rt(),W){if(Se.level===0)break;Se.level--,ge.items.push({type:"endMarkedContent"})}}if(ge.items.length>=ue.desiredSize){kt=!0;break}}kt?Tt(N):(rt(),ze(),Je())}).catch(Ye=>{if(!(Ye instanceof d.AbortException)){if(!this.options.ignoreErrors)throw Ye;(0,d.warn)(`getTextContent - ignoring errors during "${ee.name}" task: "${Ye}".`),rt(),ze()}})}extractDataStructures(me,ee,te){const oe=this.xref;let V;const W=this.readToUnicode(te.toUnicode||me.get("ToUnicode")||ee.get("ToUnicode"));if(te.composite){const Se=me.get("CIDSystemInfo");Se instanceof y.Dict&&(te.cidSystemInfo={registry:(0,d.stringToPDFString)(Se.get("Registry")),ordering:(0,d.stringToPDFString)(Se.get("Ordering")),supplement:Se.get("Supplement")});try{const ge=me.get("CIDToGIDMap");ge instanceof M.BaseStream&&(V=ge.getBytes())}catch(ge){if(!this.options.ignoreErrors)throw ge;(0,d.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${ge}".`)}}const ue=[];let he,pe=null;if(me.has("Encoding")){if(he=me.get("Encoding"),he instanceof y.Dict){if(pe=he.get("BaseEncoding"),pe=pe instanceof y.Name?pe.name:null,he.has("Differences")){const Se=he.get("Differences");let ge=0;for(const de of Se){const xe=oe.fetchIfRef(de);if(typeof xe=="number")ge=xe;else{if(!(xe instanceof y.Name))throw new d.FormatError(`Invalid entry in 'Differences' array: ${xe}`);ue[ge++]=xe.name}}}}else if(he instanceof y.Name)pe=he.name;else{const Se="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new d.FormatError(Se);(0,d.warn)(Se)}pe!=="MacRomanEncoding"&&pe!=="MacExpertEncoding"&&pe!=="WinAnsiEncoding"&&(pe=null)}if(pe)te.defaultEncoding=(0,u.getEncoding)(pe);else{const Se=!!(te.flags&_.FontFlags.Symbolic),ge=!!(te.flags&_.FontFlags.Nonsymbolic);he=u.StandardEncoding,te.type!=="TrueType"||ge||(he=u.WinAnsiEncoding),Se&&(he=u.MacRomanEncoding,te.file&&!te.isInternalFont||(/Symbol/i.test(te.name)?he=u.SymbolSetEncoding:/Dingbats|Wingdings/i.test(te.name)&&(he=u.ZapfDingbatsEncoding))),te.defaultEncoding=he}return te.differences=ue,te.baseEncodingName=pe,te.hasEncoding=!!pe||ue.length>0,te.dict=me,W.then(Se=>(te.toUnicode=Se,this.buildToUnicode(te))).then(Se=>(te.toUnicode=Se,V&&(te.cidToGidMap=this.readCidToGidMap(V,Se)),te))}_simpleFontToUnicode(me,ee=!1){(0,d.assert)(!me.composite,"Must be a simple font.");const te=[],oe=me.defaultEncoding.slice(),V=me.baseEncodingName,W=me.differences;for(const he in W){const pe=W[he];pe!==".notdef"&&(oe[he]=pe)}const ue=(0,L.getGlyphsUnicode)();for(const he in oe){let pe=oe[he];if(pe==="")continue;let Se=ue[pe];if(Se!==void 0){te[he]=String.fromCharCode(Se);continue}let ge=0;switch(pe[0]){case"G":pe.length===3&&(ge=parseInt(pe.substring(1),16));break;case"g":pe.length===5&&(ge=parseInt(pe.substring(1),16));break;case"C":case"c":if(pe.length>=3&&pe.length<=4){const de=pe.substring(1);if(ee){ge=parseInt(de,16);break}if(ge=+de,Number.isNaN(ge)&&Number.isInteger(parseInt(de,16)))return this._simpleFontToUnicode(me,!0)}break;case"u":Se=(0,D.getUnicodeForGlyph)(pe,ue),Se!==-1&&(ge=Se)}if(ge>0&&ge<=1114111&&Number.isInteger(ge)){if(V&&ge===+he){const de=(0,u.getEncoding)(V);if(de&&(pe=de[he])){te[he]=String.fromCharCode(ue[pe]);continue}}te[he]=String.fromCodePoint(ge)}}return te}async buildToUnicode(me){if(me.hasIncludedToUnicodeMap=!!me.toUnicode&&me.toUnicode.length>0,me.hasIncludedToUnicodeMap)return!me.composite&&me.hasEncoding&&(me.fallbackToUnicode=this._simpleFontToUnicode(me)),me.toUnicode;if(!me.composite)return new k.ToUnicodeMap(this._simpleFontToUnicode(me));if(me.composite&&(me.cMap.builtInCMap&&!(me.cMap instanceof m.IdentityCMap)||me.cidSystemInfo.registry==="Adobe"&&(me.cidSystemInfo.ordering==="GB1"||me.cidSystemInfo.ordering==="CNS1"||me.cidSystemInfo.ordering==="Japan1"||me.cidSystemInfo.ordering==="Korea1"))){const{registry:ee,ordering:te}=me.cidSystemInfo,oe=y.Name.get(`${ee}-${te}-UCS2`),V=await m.CMapFactory.create({encoding:oe,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),W=[];return me.cMap.forEach(function(ue,he){if(he>65535)throw new d.FormatError("Max size of CID is 65,535");const pe=V.lookup(he);pe&&(W[ue]=String.fromCharCode((pe.charCodeAt(0)<<8)+pe.charCodeAt(1)))}),new k.ToUnicodeMap(W)}return new k.IdentityToUnicodeMap(me.firstChar,me.lastChar)}readToUnicode(me){return me?me instanceof y.Name?m.CMapFactory.create({encoding:me,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(ee){return ee instanceof m.IdentityCMap?new k.IdentityToUnicodeMap(0,65535):new k.ToUnicodeMap(ee.getMap())}):me instanceof M.BaseStream?m.CMapFactory.create({encoding:me,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(ee){if(ee instanceof m.IdentityCMap)return new k.IdentityToUnicodeMap(0,65535);const te=new Array(ee.length);return ee.forEach(function(oe,V){if(typeof V=="number"){te[oe]=String.fromCodePoint(V);return}const W=[];for(let ue=0;ue<V.length;ue+=2){const he=V.charCodeAt(ue)<<8|V.charCodeAt(ue+1);if((63488&he)!=55296){W.push(he);continue}ue+=2;const pe=V.charCodeAt(ue)<<8|V.charCodeAt(ue+1);W.push(((1023&he)<<10)+(1023&pe)+65536)}te[oe]=String.fromCodePoint(...W)}),new k.ToUnicodeMap(te)},ee=>{if(ee instanceof d.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,d.warn)(`readToUnicode - ignoring ToUnicode data: "${ee}".`),null;throw ee}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(me,ee){const te=[];for(let oe=0,V=me.length;oe<V;oe++){const W=me[oe++]<<8|me[oe],ue=oe>>1;(W!==0||ee.has(ue))&&(te[ue]=W)}return te}extractWidths(me,ee,te){const oe=this.xref;let V=[],W=0;const ue=[];let he,pe,Se,ge,de,xe,ve,Ee;if(te.composite){if(W=me.has("DW")?me.get("DW"):1e3,Ee=me.get("W"),Ee)for(pe=0,Se=Ee.length;pe<Se;pe++)if(xe=oe.fetchIfRef(Ee[pe++]),ve=oe.fetchIfRef(Ee[pe]),Array.isArray(ve))for(ge=0,de=ve.length;ge<de;ge++)V[xe++]=oe.fetchIfRef(ve[ge]);else{const Oe=oe.fetchIfRef(Ee[++pe]);for(ge=xe;ge<=ve;ge++)V[ge]=Oe}if(te.vertical){let Oe=me.getArray("DW2")||[880,-1e3];if(he=[Oe[1],.5*W,Oe[0]],Oe=me.get("W2"),Oe)for(pe=0,Se=Oe.length;pe<Se;pe++)if(xe=oe.fetchIfRef(Oe[pe++]),ve=oe.fetchIfRef(Oe[pe]),Array.isArray(ve))for(ge=0,de=ve.length;ge<de;ge++)ue[xe++]=[oe.fetchIfRef(ve[ge++]),oe.fetchIfRef(ve[ge++]),oe.fetchIfRef(ve[ge])];else{const Pe=[oe.fetchIfRef(Oe[++pe]),oe.fetchIfRef(Oe[++pe]),oe.fetchIfRef(Oe[++pe])];for(ge=xe;ge<=ve;ge++)ue[ge]=Pe}}}else{const Oe=te.firstChar;if(Ee=me.get("Widths"),Ee){for(ge=Oe,pe=0,Se=Ee.length;pe<Se;pe++)V[ge++]=oe.fetchIfRef(Ee[pe]);W=parseFloat(ee.get("MissingWidth"))||0}else{const Pe=me.get("BaseFont");if(Pe instanceof y.Name){const je=this.getBaseFontMetrics(Pe.name);V=this.buildCharCodeToWidth(je.widths,te),W=je.defaultWidth}}}let Te=!0,_e=W;for(const Oe in V){const Pe=V[Oe];if(Pe)if(_e){if(_e!==Pe){Te=!1;break}}else _e=Pe}Te&&(te.flags|=_.FontFlags.FixedPitch),te.defaultWidth=W,te.widths=V,te.defaultVMetrics=he,te.vmetrics=ue}isSerifFont(me){const ee=me.split("-")[0];return ee in(0,w.getSerifFonts)()||/serif/gi.test(ee)}getBaseFontMetrics(me){let ee=0,te=Object.create(null),oe=!1,V=(0,w.getStdFontMap)()[me]||me;const W=(0,$.getMetrics)();V in W||(V=this.isSerifFont(me)?"Times-Roman":"Helvetica");const ue=W[V];return typeof ue=="number"?(ee=ue,oe=!0):te=ue(),{defaultWidth:ee,monospace:oe,widths:te}}buildCharCodeToWidth(me,ee){const te=Object.create(null),oe=ee.differences,V=ee.defaultEncoding;for(let W=0;W<256;W++)W in oe&&me[oe[W]]?te[W]=me[oe[W]]:W in V&&me[V[W]]&&(te[W]=me[V[W]]);return te}preEvaluateFont(me){const ee=me;let te=me.get("Subtype");if(!(te instanceof y.Name))throw new d.FormatError("invalid font Subtype");let oe,V,W=!1;if(te.name==="Type0"){const Se=me.get("DescendantFonts");if(!Se)throw new d.FormatError("Descendant fonts are not specified");if(!((me=Array.isArray(Se)?this.xref.fetchIfRef(Se[0]):Se)instanceof y.Dict))throw new d.FormatError("Descendant font is not a dictionary.");if(te=me.get("Subtype"),!(te instanceof y.Name))throw new d.FormatError("invalid font Subtype");W=!0}const ue=me.get("FirstChar")||0,he=me.get("LastChar")||(W?65535:255),pe=me.get("FontDescriptor");if(pe){oe=new ne.MurmurHash3_64;const Se=ee.getRaw("Encoding");if(Se instanceof y.Name)oe.update(Se.name);else if(Se instanceof y.Ref)oe.update(Se.toString());else if(Se instanceof y.Dict){for(const de of Se.getRawValues())if(de instanceof y.Name)oe.update(de.name);else if(de instanceof y.Ref)oe.update(de.toString());else if(Array.isArray(de)){const xe=de.length,ve=new Array(xe);for(let Ee=0;Ee<xe;Ee++){const Te=de[Ee];Te instanceof y.Name?ve[Ee]=Te.name:(typeof Te=="number"||Te instanceof y.Ref)&&(ve[Ee]=Te.toString())}oe.update(ve.join())}}if(oe.update(`${ue}-${he}`),V=me.get("ToUnicode")||ee.get("ToUnicode"),V instanceof M.BaseStream){const de=V.str||V,xe=de.buffer?new Uint8Array(de.buffer.buffer,0,de.bufferLength):new Uint8Array(de.bytes.buffer,de.start,de.end-de.start);oe.update(xe)}else V instanceof y.Name&&oe.update(V.name);const ge=me.get("Widths")||ee.get("Widths");if(Array.isArray(ge)){const de=[];for(const xe of ge)(typeof xe=="number"||xe instanceof y.Ref)&&de.push(xe.toString());oe.update(de.join())}if(W){oe.update("compositeFont");const de=me.get("W")||ee.get("W");if(Array.isArray(de)){const ve=[];for(const Ee of de)if(typeof Ee=="number"||Ee instanceof y.Ref)ve.push(Ee.toString());else if(Array.isArray(Ee)){const Te=[];for(const _e of Ee)(typeof _e=="number"||_e instanceof y.Ref)&&Te.push(_e.toString());ve.push(`[${Te.join()}]`)}oe.update(ve.join())}const xe=me.getRaw("CIDToGIDMap")||ee.getRaw("CIDToGIDMap");xe instanceof y.Name?oe.update(xe.name):xe instanceof y.Ref?oe.update(xe.toString()):xe instanceof M.BaseStream&&oe.update(xe.peekBytes())}}return{descriptor:pe,dict:me,baseDict:ee,composite:W,type:te.name,firstChar:ue,lastChar:he,toUnicode:V,hash:oe?oe.hexdigest():""}}async translateFont({descriptor:me,dict:ee,baseDict:te,composite:oe,type:V,firstChar:W,lastChar:ue,toUnicode:he,cssFontInfo:pe}){const Se=V==="Type3";let ge;if(!me){if(!Se){let Me=ee.get("BaseFont");if(!(Me instanceof y.Name))throw new d.FormatError("Base font is not specified");Me=Me.name.replace(/[,_]/g,"-");const Fe=this.getBaseFontMetrics(Me),$e=Me.split("-")[0],tt=(this.isSerifFont($e)?_.FontFlags.Serif:0)|(Fe.monospace?_.FontFlags.FixedPitch:0)|((0,w.getSymbolsFonts)()[$e]?_.FontFlags.Symbolic:_.FontFlags.Nonsymbolic);ge={type:V,name:Me,loadedName:te.loadedName,widths:Fe.widths,defaultWidth:Fe.defaultWidth,isSimulatedFlags:!0,flags:tt,firstChar:W,lastChar:ue,toUnicode:he,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Se};const ut=ee.get("Widths"),ct=(0,w.getStandardFontName)(Me);let mt=null;return ct&&(ge.isStandardFont=!0,mt=await this.fetchStandardFontData(ct),ge.isInternalFont=!!mt),this.extractDataStructures(ee,ee,ge).then(Ze=>{if(ut){const St=[];let Rt=W;for(const $t of ut)St[Rt++]=this.xref.fetchIfRef($t);Ze.widths=St}else Ze.widths=this.buildCharCodeToWidth(Fe.widths,Ze);return new x.Font(Me,mt,Ze)})}(me=new y.Dict(null)).set("FontName",y.Name.get(V)),me.set("FontBBox",ee.getArray("FontBBox")||[0,0,0,0])}let de,xe,ve,Ee,Te,_e=me.get("FontName"),Oe=ee.get("BaseFont");if(typeof _e=="string"&&(_e=y.Name.get(_e)),typeof Oe=="string"&&(Oe=y.Name.get(Oe)),!Se){const Me=_e&&_e.name,Fe=Oe&&Oe.name;Me!==Fe&&((0,d.info)(`The FontDescriptor's FontName is "${Me}" but should be the same as the Font's BaseFont "${Fe}".`),Me&&Fe&&Fe.startsWith(Me)&&(_e=Oe))}if(_e=_e||Oe,!(_e instanceof y.Name))throw new d.FormatError("invalid font name");try{de=me.get("FontFile","FontFile2","FontFile3")}catch(Me){if(!this.options.ignoreErrors)throw Me;(0,d.warn)(`translateFont - fetching "${_e.name}" font file: "${Me}".`),de=new v.NullStream}let Pe=!1,je=!1,De=null;if(de){if(de.dict){const Me=de.dict.get("Subtype");Me instanceof y.Name&&(xe=Me.name),ve=de.dict.get("Length1"),Ee=de.dict.get("Length2"),Te=de.dict.get("Length3")}}else if(pe){const Me=(0,C.getXfaFontName)(_e.name);Me&&(pe.fontFamily=`${pe.fontFamily}-PdfJS-XFA`,pe.metrics=Me.metrics||null,De=Me.factors||null,de=await this.fetchStandardFontData(Me.name),je=!!de,te=ee=(0,C.getXfaFontDict)(_e.name),oe=!0)}else if(!Se){const Me=(0,w.getStandardFontName)(_e.name);Me&&(Pe=!0,de=await this.fetchStandardFontData(Me),je=!!de)}if(ge={type:V,name:_e.name,subtype:xe,file:de,length1:ve,length2:Ee,length3:Te,isStandardFont:Pe,isInternalFont:je,loadedName:te.loadedName,composite:oe,fixedPitch:!1,fontMatrix:ee.getArray("FontMatrix")||d.FONT_IDENTITY_MATRIX,firstChar:W,lastChar:ue,toUnicode:he,bbox:me.getArray("FontBBox")||ee.getArray("FontBBox"),ascent:me.get("Ascent"),descent:me.get("Descent"),xHeight:me.get("XHeight")||0,capHeight:me.get("CapHeight")||0,flags:me.get("Flags"),italicAngle:me.get("ItalicAngle")||0,isType3Font:Se,cssFontInfo:pe,scaleFactors:De},oe){const Me=te.get("Encoding");Me instanceof y.Name&&(ge.cidEncoding=Me.name);const Fe=await m.CMapFactory.create({encoding:Me,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});ge.cMap=Fe,ge.vertical=ge.cMap.vertical}return this.extractDataStructures(ee,te,ge).then(Me=>(this.extractWidths(ee,me,Me),new x.Font(_e.name,de,Me)))}static buildFontPaths(me,ee,te,oe){function V(W){const ue=`${me.loadedName}_path_${W}`;try{if(me.renderer.hasBuiltPath(W))return;te.send("commonobj",[ue,"FontPath",me.renderer.getPathJs(W)])}catch(he){if(oe.ignoreErrors){te.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,d.warn)(`buildFontPaths - ignoring ${ue} glyph: "${he}".`);return}throw he}}for(const W of ee){V(W.fontChar);const ue=W.accent;ue&&ue.fontChar&&V(ue.fontChar)}}static get fallbackFontDict(){const me=new y.Dict;return me.set("BaseFont",y.Name.get("PDFJS-FallbackFont")),me.set("Type",y.Name.get("FallbackType")),me.set("Subtype",y.Name.get("FallbackType")),me.set("Encoding",y.Name.get("WinAnsiEncoding")),(0,d.shadow)(this,"fallbackFontDict",me)}}h.PartialEvaluator=le;class fe{constructor({loadedName:me,font:ee,dict:te,evaluatorOptions:oe}){this.loadedName=me,this.font=ee,this.dict=te,this._evaluatorOptions=oe||se,this.type3Loaded=null,this.type3Dependencies=ee.isType3Font?new Set:null,this.sent=!1}send(me){this.sent||(this.sent=!0,me.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(me){this.font.data&&(this.font.disableFontFace=!0,le.buildFontPaths(this.font,this.font.glyphCacheValues,me,this._evaluatorOptions))}loadType3Data(me,ee,te){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const oe=me.clone({ignoreErrors:!1});oe.parsingType3Font=!0;const V=new y.RefSet(me.type3FontRefs);this.dict.objId&&!V.has(this.dict.objId)&&V.put(this.dict.objId),oe.type3FontRefs=V;const W=this.font,ue=this.type3Dependencies;let he=Promise.resolve();const pe=this.dict.get("CharProcs"),Se=this.dict.get("Resources")||ee,ge=Object.create(null),de=d.Util.normalizeRect(W.bbox||[0,0,0,0]),xe=de[2]-de[0],ve=de[3]-de[1],Ee=Math.hypot(xe,ve);for(const Te of pe.getKeys())he=he.then(()=>{const _e=pe.get(Te),Oe=new F.OperatorList;return oe.getOperatorList({stream:_e,task:te,resources:Se,operatorList:Oe}).then(()=>{Oe.fnArray[0]===d.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Oe,Ee),ge[Te]=Oe.getIR();for(const Pe of Oe.dependencies)ue.add(Pe)}).catch(function(Pe){(0,d.warn)(`Type3 font resource "${Te}" is not available.`);const je=new F.OperatorList;ge[Te]=je.getIR()})});return this.type3Loaded=he.then(()=>{W.charProcOperatorList=ge,this._bbox&&(W.isCharBBox=!0,W.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(me,ee=NaN){const te=d.Util.normalizeRect(me.argsArray[0].slice(2)),oe=te[2]-te[0],V=te[3]-te[1],W=Math.hypot(oe,V);oe===0||V===0?(me.fnArray.splice(0,1),me.argsArray.splice(0,1)):(ee===0||Math.round(W/ee)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],te[0]),this._bbox[1]=Math.min(this._bbox[1],te[1]),this._bbox[2]=Math.max(this._bbox[2],te[2]),this._bbox[3]=Math.max(this._bbox[3],te[3]));let ue=0,he=me.length;for(;ue<he;){switch(me.fnArray[ue]){case d.OPS.setCharWidthAndBounds:break;case d.OPS.setStrokeColorSpace:case d.OPS.setFillColorSpace:case d.OPS.setStrokeColor:case d.OPS.setStrokeColorN:case d.OPS.setFillColor:case d.OPS.setFillColorN:case d.OPS.setStrokeGray:case d.OPS.setFillGray:case d.OPS.setStrokeRGBColor:case d.OPS.setFillRGBColor:case d.OPS.setStrokeCMYKColor:case d.OPS.setFillCMYKColor:case d.OPS.shadingFill:case d.OPS.setRenderingIntent:me.fnArray.splice(ue,1),me.argsArray.splice(ue,1),he--;continue;case d.OPS.setGState:const[pe]=me.argsArray[ue];let Se=0,ge=pe.length;for(;Se<ge;){const[de]=pe[Se];switch(de){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":pe.splice(Se,1),ge--;continue}Se++}}ue++}}}class ae{constructor(me=new be){this.state=me,this.stateStack=[]}save(){const me=this.state;this.stateStack.push(this.state),this.state=me.clone()}restore(){const me=this.stateStack.pop();me&&(this.state=me)}transform(me){this.state.ctm=d.Util.transform(this.state.ctm,me)}}class re{constructor(){this.ctm=new Float32Array(d.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.textMatrix=d.IDENTITY_MATRIX.slice(),this.textLineMatrix=d.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(me,ee,te,oe,V,W){const ue=this.textMatrix;ue[0]=me,ue[1]=ee,ue[2]=te,ue[3]=oe,ue[4]=V,ue[5]=W}setTextLineMatrix(me,ee,te,oe,V,W){const ue=this.textLineMatrix;ue[0]=me,ue[1]=ee,ue[2]=te,ue[3]=oe,ue[4]=V,ue[5]=W}translateTextMatrix(me,ee){const te=this.textMatrix;te[4]=te[0]*me+te[2]*ee+te[4],te[5]=te[1]*me+te[3]*ee+te[5]}translateTextLineMatrix(me,ee){const te=this.textLineMatrix;te[4]=te[0]*me+te[2]*ee+te[4],te[5]=te[1]*me+te[3]*ee+te[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const me=Object.create(this);return me.textMatrix=this.textMatrix.slice(),me.textLineMatrix=this.textLineMatrix.slice(),me.fontMatrix=this.fontMatrix.slice(),me}}class be{constructor(){this.ctm=new Float32Array(d.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=d.TextRenderingMode.FILL,this.fillColorSpace=I.ColorSpace.singletons.gray,this.strokeColorSpace=I.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class ye{static get opMap(){const me=(0,K.getLookupTableFactory)(function(ee){ee.w={id:d.OPS.setLineWidth,numArgs:1,variableArgs:!1},ee.J={id:d.OPS.setLineCap,numArgs:1,variableArgs:!1},ee.j={id:d.OPS.setLineJoin,numArgs:1,variableArgs:!1},ee.M={id:d.OPS.setMiterLimit,numArgs:1,variableArgs:!1},ee.d={id:d.OPS.setDash,numArgs:2,variableArgs:!1},ee.ri={id:d.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},ee.i={id:d.OPS.setFlatness,numArgs:1,variableArgs:!1},ee.gs={id:d.OPS.setGState,numArgs:1,variableArgs:!1},ee.q={id:d.OPS.save,numArgs:0,variableArgs:!1},ee.Q={id:d.OPS.restore,numArgs:0,variableArgs:!1},ee.cm={id:d.OPS.transform,numArgs:6,variableArgs:!1},ee.m={id:d.OPS.moveTo,numArgs:2,variableArgs:!1},ee.l={id:d.OPS.lineTo,numArgs:2,variableArgs:!1},ee.c={id:d.OPS.curveTo,numArgs:6,variableArgs:!1},ee.v={id:d.OPS.curveTo2,numArgs:4,variableArgs:!1},ee.y={id:d.OPS.curveTo3,numArgs:4,variableArgs:!1},ee.h={id:d.OPS.closePath,numArgs:0,variableArgs:!1},ee.re={id:d.OPS.rectangle,numArgs:4,variableArgs:!1},ee.S={id:d.OPS.stroke,numArgs:0,variableArgs:!1},ee.s={id:d.OPS.closeStroke,numArgs:0,variableArgs:!1},ee.f={id:d.OPS.fill,numArgs:0,variableArgs:!1},ee.F={id:d.OPS.fill,numArgs:0,variableArgs:!1},ee["f*"]={id:d.OPS.eoFill,numArgs:0,variableArgs:!1},ee.B={id:d.OPS.fillStroke,numArgs:0,variableArgs:!1},ee["B*"]={id:d.OPS.eoFillStroke,numArgs:0,variableArgs:!1},ee.b={id:d.OPS.closeFillStroke,numArgs:0,variableArgs:!1},ee["b*"]={id:d.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},ee.n={id:d.OPS.endPath,numArgs:0,variableArgs:!1},ee.W={id:d.OPS.clip,numArgs:0,variableArgs:!1},ee["W*"]={id:d.OPS.eoClip,numArgs:0,variableArgs:!1},ee.BT={id:d.OPS.beginText,numArgs:0,variableArgs:!1},ee.ET={id:d.OPS.endText,numArgs:0,variableArgs:!1},ee.Tc={id:d.OPS.setCharSpacing,numArgs:1,variableArgs:!1},ee.Tw={id:d.OPS.setWordSpacing,numArgs:1,variableArgs:!1},ee.Tz={id:d.OPS.setHScale,numArgs:1,variableArgs:!1},ee.TL={id:d.OPS.setLeading,numArgs:1,variableArgs:!1},ee.Tf={id:d.OPS.setFont,numArgs:2,variableArgs:!1},ee.Tr={id:d.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},ee.Ts={id:d.OPS.setTextRise,numArgs:1,variableArgs:!1},ee.Td={id:d.OPS.moveText,numArgs:2,variableArgs:!1},ee.TD={id:d.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},ee.Tm={id:d.OPS.setTextMatrix,numArgs:6,variableArgs:!1},ee["T*"]={id:d.OPS.nextLine,numArgs:0,variableArgs:!1},ee.Tj={id:d.OPS.showText,numArgs:1,variableArgs:!1},ee.TJ={id:d.OPS.showSpacedText,numArgs:1,variableArgs:!1},ee["'"]={id:d.OPS.nextLineShowText,numArgs:1,variableArgs:!1},ee['"']={id:d.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},ee.d0={id:d.OPS.setCharWidth,numArgs:2,variableArgs:!1},ee.d1={id:d.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},ee.CS={id:d.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},ee.cs={id:d.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},ee.SC={id:d.OPS.setStrokeColor,numArgs:4,variableArgs:!0},ee.SCN={id:d.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},ee.sc={id:d.OPS.setFillColor,numArgs:4,variableArgs:!0},ee.scn={id:d.OPS.setFillColorN,numArgs:33,variableArgs:!0},ee.G={id:d.OPS.setStrokeGray,numArgs:1,variableArgs:!1},ee.g={id:d.OPS.setFillGray,numArgs:1,variableArgs:!1},ee.RG={id:d.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},ee.rg={id:d.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},ee.K={id:d.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},ee.k={id:d.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},ee.sh={id:d.OPS.shadingFill,numArgs:1,variableArgs:!1},ee.BI={id:d.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ee.ID={id:d.OPS.beginImageData,numArgs:0,variableArgs:!1},ee.EI={id:d.OPS.endInlineImage,numArgs:1,variableArgs:!1},ee.Do={id:d.OPS.paintXObject,numArgs:1,variableArgs:!1},ee.MP={id:d.OPS.markPoint,numArgs:1,variableArgs:!1},ee.DP={id:d.OPS.markPointProps,numArgs:2,variableArgs:!1},ee.BMC={id:d.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},ee.BDC={id:d.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},ee.EMC={id:d.OPS.endMarkedContent,numArgs:0,variableArgs:!1},ee.BX={id:d.OPS.beginCompat,numArgs:0,variableArgs:!1},ee.EX={id:d.OPS.endCompat,numArgs:0,variableArgs:!1},ee.BM=null,ee.BD=null,ee.true=null,ee.fa=null,ee.fal=null,ee.fals=null,ee.false=null,ee.nu=null,ee.nul=null,ee.null=null});return(0,d.shadow)(this,"opMap",me())}static get MAX_INVALID_PATH_OPS(){return(0,d.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(me,ee,te=new ae){this.parser=new g.Parser({lexer:new g.Lexer(me,ye.opMap),xref:ee}),this.stateManager=te,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(me){let ee=me.args;for(;;){const te=this.parser.getObj();if(te instanceof y.Cmd){const oe=te.cmd,V=ye.opMap[oe];if(!V){(0,d.warn)(`Unknown command "${oe}".`);continue}const W=V.id,ue=V.numArgs;let he=ee!==null?ee.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=W>=d.OPS.moveTo&&W<=d.OPS.endPath,V.variableArgs)he>ue&&(0,d.info)(`Command ${oe}: expected [0, ${ue}] args, but received ${he} args.`);else{if(he!==ue){const pe=this.nonProcessedArgs;for(;he>ue;)pe.push(ee.shift()),he--;for(;he<ue&&pe.length!==0;)ee===null&&(ee=[]),ee.unshift(pe.pop()),he++}if(he<ue){const pe=`command ${oe}: expected ${ue} args, but received ${he} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>ye.MAX_INVALID_PATH_OPS)throw new d.FormatError(`Invalid ${pe}`);(0,d.warn)(`Skipping ${pe}`),ee!==null&&(ee.length=0);continue}}return this.preprocessCommand(W,ee),me.fn=W,me.args=ee,!0}if(te===y.EOF)return!1;if(te!==null&&(ee===null&&(ee=[]),ee.push(te),ee.length>33))throw new d.FormatError("Too many arguments")}}preprocessCommand(me,ee){switch(0|me){case d.OPS.save:this.stateManager.save();break;case d.OPS.restore:this.stateManager.restore();break;case d.OPS.transform:this.stateManager.transform(ee)}}}h.EvaluatorPreprocessor=ye},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.IdentityCMap=h.CMapFactory=h.CMap=void 0;var d=p(2),m=p(4),y=p(5),x=p(15),u=p(3),w=p(8);const T=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],C=2**24-1;class k{constructor(M=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=M}addCodespaceRange(M,R,I){this.codespaceRanges[M-1].push(R,I),this.numCodespaceRanges++}mapCidRange(M,R,I){if(R-M>C)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;M<=R;)this._map[M++]=I++}mapBfRange(M,R,I){if(R-M>C)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const J=I.length-1;for(;M<=R;){this._map[M++]=I;const _=I.charCodeAt(J)+1;_>255?I=I.substring(0,J-1)+String.fromCharCode(I.charCodeAt(J-1)+1)+"\0":I=I.substring(0,J)+String.fromCharCode(_)}}mapBfRangeToArray(M,R,I){if(R-M>C)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const J=I.length;let _=0;for(;M<=R&&_<J;)this._map[M]=I[_++],++M}mapOne(M,R){this._map[M]=R}lookup(M){return this._map[M]}contains(M){return this._map[M]!==void 0}forEach(M){const R=this._map,I=R.length;if(I<=65536)for(let J=0;J<I;J++)R[J]!==void 0&&M(J,R[J]);else for(const J in R)M(J,R[J])}charCodeOf(M){const R=this._map;if(R.length<=65536)return R.indexOf(M);for(const I in R)if(R[I]===M)return 0|I;return-1}getMap(){return this._map}readCharCode(M,R,I){let J=0;const _=this.codespaceRanges;for(let L=0,K=_.length;L<K;L++){J=(J<<8|M.charCodeAt(R+L))>>>0;const $=_[L];for(let D=0,ne=$.length;D<ne;){const F=$[D++],j=$[D++];if(J>=F&&J<=j){I.charcode=J,I.length=L+1;return}}}I.charcode=0,I.length=1}getCharCodeLength(M){const R=this.codespaceRanges;for(let I=0,J=R.length;I<J;I++){const _=R[I];for(let L=0,K=_.length;L<K;){const $=_[L++],D=_[L++];if(M>=$&&M<=D)return I+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(this.name!=="Identity-H"&&this.name!=="Identity-V"||this._map.length!==65536)return!1;for(let M=0;M<65536;M++)if(this._map[M]!==M)return!1;return!0}}h.CMap=k;class A extends k{constructor(M,R){super(),this.vertical=M,this.addCodespaceRange(R,0,65535)}mapCidRange(M,R,I){(0,d.unreachable)("should not call mapCidRange")}mapBfRange(M,R,I){(0,d.unreachable)("should not call mapBfRange")}mapBfRangeToArray(M,R,I){(0,d.unreachable)("should not call mapBfRangeToArray")}mapOne(M,R){(0,d.unreachable)("should not call mapCidOne")}lookup(M){return Number.isInteger(M)&&M<=65535?M:void 0}contains(M){return Number.isInteger(M)&&M<=65535}forEach(M){for(let R=0;R<=65535;R++)M(R,R)}charCodeOf(M){return Number.isInteger(M)&&M<=65535?M:-1}getMap(){const M=new Array(65536);for(let R=0;R<=65535;R++)M[R]=R;return M}get length(){return 65536}get isIdentityCMap(){(0,d.unreachable)("should not access .isIdentityCMap")}}h.IdentityCMap=A;const g=function(){function M(K,$){let D=0;for(let ne=0;ne<=$;ne++)D=D<<8|K[ne];return D>>>0}function R(K,$){return $===1?String.fromCharCode(K[0],K[1]):$===3?String.fromCharCode(K[0],K[1],K[2],K[3]):String.fromCharCode.apply(null,K.subarray(0,$+1))}function I(K,$,D){let ne=0;for(let F=D;F>=0;F--)ne+=K[F]+$[F],K[F]=255&ne,ne>>=8}function J(K,$){let D=1;for(let ne=$;ne>=0&&D>0;ne--)D+=K[ne],K[ne]=255&D,D>>=8}const _=16;class L{constructor($){this.buffer=$,this.pos=0,this.end=$.length,this.tmpBuf=new Uint8Array(19)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let $,D=0;do{const ne=this.readByte();if(ne<0)throw new d.FormatError("unexpected EOF in bcmap");$=!(128&ne),D=D<<7|127&ne}while(!$);return D}readSigned(){const $=this.readNumber();return 1&$?~($>>>1):$>>>1}readHex($,D){$.set(this.buffer.subarray(this.pos,this.pos+D+1)),this.pos+=D+1}readHexNumber($,D){let ne;const F=this.tmpBuf;let j=0;do{const Q=this.readByte();if(Q<0)throw new d.FormatError("unexpected EOF in bcmap");ne=!(128&Q),F[j++]=127&Q}while(!ne);let se=D,Y=0,q=0;for(;se>=0;){for(;q<8&&F.length>0;)Y|=F[--j]<<q,q+=7;$[se]=255&Y,se--,Y>>=8,q-=8}}readHexSigned($,D){this.readHexNumber($,D);const ne=1&$[D]?255:0;let F=0;for(let j=0;j<=D;j++)F=(1&F)<<8|$[j],$[j]=F>>1^ne}readString(){const $=this.readNumber();let D="";for(let ne=0;ne<$;ne++)D+=String.fromCharCode(this.readNumber());return D}}return class{async process($,D,ne){const F=new L($),j=F.readByte();D.vertical=!!(1&j);let se=null;const Y=new Uint8Array(_),q=new Uint8Array(_),Q=new Uint8Array(_),N=new Uint8Array(_),O=new Uint8Array(_);let H,G;for(;(G=F.readByte())>=0;){const le=G>>5;if(le===7){switch(31&G){case 0:F.readString();break;case 1:se=F.readString()}continue}const fe=!!(16&G),ae=15&G;if(ae+1>_)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const re=1,be=F.readNumber();switch(le){case 0:F.readHex(Y,ae),F.readHexNumber(q,ae),I(q,Y,ae),D.addCodespaceRange(ae+1,M(Y,ae),M(q,ae));for(let ye=1;ye<be;ye++)J(q,ae),F.readHexNumber(Y,ae),I(Y,q,ae),F.readHexNumber(q,ae),I(q,Y,ae),D.addCodespaceRange(ae+1,M(Y,ae),M(q,ae));break;case 1:F.readHex(Y,ae),F.readHexNumber(q,ae),I(q,Y,ae),F.readNumber();for(let ye=1;ye<be;ye++)J(q,ae),F.readHexNumber(Y,ae),I(Y,q,ae),F.readHexNumber(q,ae),I(q,Y,ae),F.readNumber();break;case 2:F.readHex(Q,ae),H=F.readNumber(),D.mapOne(M(Q,ae),H);for(let ye=1;ye<be;ye++)J(Q,ae),fe||(F.readHexNumber(O,ae),I(Q,O,ae)),H=F.readSigned()+(H+1),D.mapOne(M(Q,ae),H);break;case 3:F.readHex(Y,ae),F.readHexNumber(q,ae),I(q,Y,ae),H=F.readNumber(),D.mapCidRange(M(Y,ae),M(q,ae),H);for(let ye=1;ye<be;ye++)J(q,ae),fe?Y.set(q):(F.readHexNumber(Y,ae),I(Y,q,ae)),F.readHexNumber(q,ae),I(q,Y,ae),H=F.readNumber(),D.mapCidRange(M(Y,ae),M(q,ae),H);break;case 4:F.readHex(Q,re),F.readHex(N,ae),D.mapOne(M(Q,re),R(N,ae));for(let ye=1;ye<be;ye++)J(Q,re),fe||(F.readHexNumber(O,re),I(Q,O,re)),J(N,ae),F.readHexSigned(O,ae),I(N,O,ae),D.mapOne(M(Q,re),R(N,ae));break;case 5:F.readHex(Y,re),F.readHexNumber(q,re),I(q,Y,re),F.readHex(N,ae),D.mapBfRange(M(Y,re),M(q,re),R(N,ae));for(let ye=1;ye<be;ye++)J(q,re),fe?Y.set(q):(F.readHexNumber(Y,re),I(Y,q,re)),F.readHexNumber(q,re),I(q,Y,re),F.readHex(N,ae),D.mapBfRange(M(Y,re),M(q,re),R(N,ae));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${le}`)}}return se?ne(se):D}}}(),E=function(){function M(Y){let q=0;for(let Q=0;Q<Y.length;Q++)q=q<<8|Y.charCodeAt(Q);return q>>>0}function R(Y){if(typeof Y!="string")throw new d.FormatError("Malformed CMap: expected string.")}function I(Y){if(!Number.isInteger(Y))throw new d.FormatError("Malformed CMap: expected int.")}function J(Y,q){for(;;){let Q=q.getObj();if(Q===m.EOF)break;if((0,m.isCmd)(Q,"endbfchar"))return;R(Q);const N=M(Q);Q=q.getObj(),R(Q);const O=Q;Y.mapOne(N,O)}}function _(Y,q){for(;;){let Q=q.getObj();if(Q===m.EOF)break;if((0,m.isCmd)(Q,"endbfrange"))return;R(Q);const N=M(Q);Q=q.getObj(),R(Q);const O=M(Q);if(Q=q.getObj(),Number.isInteger(Q)||typeof Q=="string"){const H=Number.isInteger(Q)?String.fromCharCode(Q):Q;Y.mapBfRange(N,O,H)}else{if(!(0,m.isCmd)(Q,"["))break;{Q=q.getObj();const H=[];for(;!(0,m.isCmd)(Q,"]")&&Q!==m.EOF;)H.push(Q),Q=q.getObj();Y.mapBfRangeToArray(N,O,H)}}}throw new d.FormatError("Invalid bf range.")}function L(Y,q){for(;;){let Q=q.getObj();if(Q===m.EOF)break;if((0,m.isCmd)(Q,"endcidchar"))return;R(Q);const N=M(Q);Q=q.getObj(),I(Q);const O=Q;Y.mapOne(N,O)}}function K(Y,q){for(;;){let Q=q.getObj();if(Q===m.EOF)break;if((0,m.isCmd)(Q,"endcidrange"))return;R(Q);const N=M(Q);Q=q.getObj(),R(Q);const O=M(Q);Q=q.getObj(),I(Q);const H=Q;Y.mapCidRange(N,O,H)}}function $(Y,q){for(;;){let Q=q.getObj();if(Q===m.EOF)break;if((0,m.isCmd)(Q,"endcodespacerange"))return;if(typeof Q!="string")break;const N=M(Q);if(Q=q.getObj(),typeof Q!="string")break;const O=M(Q);Y.addCodespaceRange(Q.length,N,O)}throw new d.FormatError("Invalid codespace range.")}function D(Y,q){const Q=q.getObj();Number.isInteger(Q)&&(Y.vertical=!!Q)}function ne(Y,q){const Q=q.getObj();Q instanceof m.Name&&(Y.name=Q.name)}async function F(Y,q,Q,N){let O,H;e:for(;;)try{const G=q.getObj();if(G===m.EOF)break;if(G instanceof m.Name)G.name==="WMode"?D(Y,q):G.name==="CMapName"&&ne(Y,q),O=G;else if(G instanceof m.Cmd)switch(G.cmd){case"endcmap":break e;case"usecmap":O instanceof m.Name&&(H=O.name);break;case"begincodespacerange":$(Y,q);break;case"beginbfchar":J(Y,q);break;case"begincidchar":L(Y,q);break;case"beginbfrange":_(Y,q);break;case"begincidrange":K(Y,q)}}catch(G){if(G instanceof u.MissingDataException)throw G;(0,d.warn)("Invalid cMap data: "+G);continue}return!N&&H&&(N=H),N?j(Y,Q,N):Y}async function j(Y,q,Q){if(Y.useCMap=await se(Q,q),Y.numCodespaceRanges===0){const N=Y.useCMap.codespaceRanges;for(let O=0;O<N.length;O++)Y.codespaceRanges[O]=N[O].slice();Y.numCodespaceRanges=Y.useCMap.numCodespaceRanges}return Y.useCMap.forEach(function(N,O){Y.contains(N)||Y.mapOne(N,Y.useCMap.lookup(N))}),Y}async function se(Y,q){if(Y==="Identity-H")return new A(!1,2);if(Y==="Identity-V")return new A(!0,2);if(!T.includes(Y))throw new Error("Unknown CMap name: "+Y);if(!q)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:Q,compressionType:N}=await q(Y),O=new k(!0);if(N===d.CMapCompressionType.BINARY)return new g().process(Q,O,H=>j(O,q,H));if(N===d.CMapCompressionType.NONE){const H=new x.Lexer(new w.Stream(Q));return F(O,H,q,null)}throw new Error(`Invalid CMap "compressionType" value: ${N}`)}return{async create(Y){const q=Y.encoding,Q=Y.fetchBuiltInCMap,N=Y.useCMap;if(q instanceof m.Name)return se(q.name,Q);if(q instanceof y.BaseStream){const O=await F(new k,new x.Lexer(q),Q,N);return O.isIdentityCMap?se(O.name,Q):O}throw new Error("Encoding required.")}}}();h.CMapFactory=E},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Parser=h.Linearization=h.Lexer=void 0;var d=p(2),m=p(4),y=p(3),x=p(16),u=p(18),w=p(19),T=p(21),C=p(22),k=p(25),A=p(27),g=p(29),E=p(8),v=p(30),M=p(31);class R{constructor({lexer:K,xref:$,allowStreams:D=!1,recoveryMode:ne=!1}){this.lexer=K,this.xref=$,this.allowStreams=D,this.recoveryMode=ne,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof m.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(K){if(K instanceof y.MissingDataException)throw K;return!1}}getObj(K=null){const $=this.buf1;if(this.shift(),$ instanceof m.Cmd)switch($.cmd){case"BI":return this.makeInlineImage(K);case"[":const D=[];for(;!(0,m.isCmd)(this.buf1,"]")&&this.buf1!==m.EOF;)D.push(this.getObj(K));if(this.buf1===m.EOF){if(this.recoveryMode)return D;throw new y.ParserEOFException("End of file inside array.")}return this.shift(),D;case"<<":const ne=new m.Dict(this.xref);for(;!(0,m.isCmd)(this.buf1,">>")&&this.buf1!==m.EOF;){if(!(this.buf1 instanceof m.Name)){(0,d.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const F=this.buf1.name;if(this.shift(),this.buf1===m.EOF)break;ne.set(F,this.getObj(K))}if(this.buf1===m.EOF){if(this.recoveryMode)return ne;throw new y.ParserEOFException("End of file inside dictionary.")}return(0,m.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(ne,K):ne:(this.shift(),ne);default:return $}if(Number.isInteger($)){if(Number.isInteger(this.buf1)&&(0,m.isCmd)(this.buf2,"R")){const D=m.Ref.get($,this.buf1);return this.shift(),this.shift(),D}return $}return typeof $=="string"&&K?K.decryptString($):$}findDefaultInlineStreamEnd(K){const $=this.lexer,D=K.pos;let ne,F,j=0;for(;(ne=K.getByte())!==-1;)if(j===0)j=ne===69?1:0;else if(j===1)j=ne===73?2:0;else if(ne===32||ne===10||ne===13){F=K.pos;const Y=K.peekBytes(10);for(let q=0,Q=Y.length;q<Q;q++)if(ne=Y[q],(ne!==0||Y[q+1]===0)&&ne!==10&&ne!==13&&(ne<32||ne>127)){j=0;break}if(j!==2)continue;if($.knownCommands){const q=$.peekObj();q instanceof m.Cmd&&!$.knownCommands[q.cmd]&&(j=0)}else(0,d.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(j===2)break}else j=0;ne===-1&&((0,d.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),F&&((0,d.warn)('... trying to recover by using the last "EI" occurrence.'),K.skip(-(K.pos-F))));let se=4;return K.skip(-se),ne=K.peekByte(),K.skip(se),(0,y.isWhiteSpace)(ne)||se--,K.pos-se-D}findDCTDecodeInlineStreamEnd(K){const $=K.pos;let D,ne,F=!1;for(;(D=K.getByte())!==-1;)if(D===255){switch(K.getByte()){case 0:break;case 255:K.skip(-1);break;case 217:F=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:ne=K.getUint16(),ne>2?K.skip(ne-2):K.skip(-2)}if(F)break}const j=K.pos-$;return D===-1?((0,d.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),K.skip(-j),this.findDefaultInlineStreamEnd(K)):(this.inlineStreamSkipEI(K),j)}findASCII85DecodeInlineStreamEnd(K){const $=K.pos;let D;for(;(D=K.getByte())!==-1;)if(D===126){const F=K.pos;for(D=K.peekByte();(0,y.isWhiteSpace)(D);)K.skip(),D=K.peekByte();if(D===62){K.skip();break}if(K.pos>F){const j=K.peekBytes(2);if(j[0]===69&&j[1]===73)break}}const ne=K.pos-$;return D===-1?((0,d.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),K.skip(-ne),this.findDefaultInlineStreamEnd(K)):(this.inlineStreamSkipEI(K),ne)}findASCIIHexDecodeInlineStreamEnd(K){const $=K.pos;let D;for(;(D=K.getByte())!==-1&&D!==62;);const ne=K.pos-$;return D===-1?((0,d.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),K.skip(-ne),this.findDefaultInlineStreamEnd(K)):(this.inlineStreamSkipEI(K),ne)}inlineStreamSkipEI(K){let $,D=0;for(;($=K.getByte())!==-1;)if(D===0)D=$===69?1:0;else if(D===1)D=$===73?2:0;else if(D===2)break}makeInlineImage(K){const $=this.lexer,D=$.stream,ne=Object.create(null);let F;for(;!(0,m.isCmd)(this.buf1,"ID")&&this.buf1!==m.EOF;){if(!(this.buf1 instanceof m.Name))throw new d.FormatError("Dictionary key must be a name object");const H=this.buf1.name;if(this.shift(),this.buf1===m.EOF)break;ne[H]=this.getObj(K)}$.beginInlineImagePos!==-1&&(F=D.pos-$.beginInlineImagePos);const j=this.xref.fetchIfRef(ne.F||ne.Filter);let se;if(j instanceof m.Name)se=j.name;else if(Array.isArray(j)){const H=this.xref.fetchIfRef(j[0]);H instanceof m.Name&&(se=H.name)}const Y=D.pos;let q,Q;switch(se){case"DCT":case"DCTDecode":q=this.findDCTDecodeInlineStreamEnd(D);break;case"A85":case"ASCII85Decode":q=this.findASCII85DecodeInlineStreamEnd(D);break;case"AHx":case"ASCIIHexDecode":q=this.findASCIIHexDecodeInlineStreamEnd(D);break;default:q=this.findDefaultInlineStreamEnd(D)}if(q<1e3&&F>0){const H=D.pos;D.pos=$.beginInlineImagePos,Q=function(fe){const ae=[],re=fe.length;let be=0;for(;be<re-1;)ae.push(fe[be++]<<8|fe[be++]);return be<re&&ae.push(fe[be]),re+"_"+String.fromCharCode.apply(null,ae)}(D.getBytes(F+q)),D.pos=H;const G=this.imageCache[Q];if(G!==void 0)return this.buf2=m.Cmd.get("EI"),this.shift(),G.reset(),G}const N=new m.Dict(this.xref);for(const H in ne)N.set(H,ne[H]);let O=D.makeSubStream(Y,q,N);return K&&(O=K.createStream(O,q)),O=this.filter(O,N,q),O.dict=N,Q!==void 0&&(O.cacheKey="inline_img_"+ ++this._imageId,this.imageCache[Q]=O),this.buf2=m.Cmd.get("EI"),this.shift(),O}_findStreamLength(K,$){const{stream:D}=this.lexer;D.pos=K;const ne=$.length;for(;D.pos<D.end;){const F=D.peekBytes(2048),j=F.length-ne;if(j<=0)break;let se=0;for(;se<j;){let Y=0;for(;Y<ne&&F[se+Y]===$[Y];)Y++;if(Y>=ne)return D.pos+=se,D.pos-K;se++}D.pos+=j}return-1}makeStream(K,$){const D=this.lexer;let ne=D.stream;D.skipToNextLine();const F=ne.pos-1;let j=K.get("Length");if(Number.isInteger(j)||((0,d.info)(`Bad length "${j&&j.toString()}" in stream.`),j=0),ne.pos=F+j,D.nextChar(),this.tryShift()&&(0,m.isCmd)(this.buf2,"endstream"))this.shift();else{const se=new Uint8Array([101,110,100,115,116,114,101,97,109]);let Y=this._findStreamLength(F,se);if(Y<0){for(let Q=1;Q<=1;Q++){const N=se.length-Q,O=se.slice(0,N),H=this._findStreamLength(F,O);if(H>=0){const G=ne.peekBytes(N+1)[N];if(!(0,y.isWhiteSpace)(G))break;(0,d.info)(`Found "${(0,d.bytesToString)(O)}" when searching for endstream command.`),Y=H;break}}if(Y<0)throw new d.FormatError("Missing endstream command.")}j=Y,D.nextChar(),this.shift(),this.shift()}return this.shift(),ne=ne.makeSubStream(F,j,K),$&&(ne=$.createStream(ne,j)),ne=this.filter(ne,K,j),ne.dict=K,ne}filter(K,$,D){let ne=$.get("F","Filter"),F=$.get("DP","DecodeParms");if(ne instanceof m.Name)return Array.isArray(F)&&(0,d.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(K,ne.name,D,F);let j=D;if(Array.isArray(ne)){const se=ne,Y=F;for(let q=0,Q=se.length;q<Q;++q){if(ne=this.xref.fetchIfRef(se[q]),!(ne instanceof m.Name))throw new d.FormatError(`Bad filter name "${ne}"`);F=null,Array.isArray(Y)&&q in Y&&(F=this.xref.fetchIfRef(Y[q])),K=this.makeFilter(K,ne.name,j,F),j=null}}return K}makeFilter(K,$,D,ne){if(D===0)return(0,d.warn)(`Empty "${$}" stream.`),new E.NullStream;try{switch($){case"Fl":case"FlateDecode":return ne?new v.PredictorStream(new T.FlateStream(K,D),D,ne):new T.FlateStream(K,D);case"LZW":case"LZWDecode":let F=1;return ne?(ne.has("EarlyChange")&&(F=ne.get("EarlyChange")),new v.PredictorStream(new g.LZWStream(K,D,F),D,ne)):new g.LZWStream(K,D,F);case"DCT":case"DCTDecode":return new k.JpegStream(K,D,ne);case"JPX":case"JPXDecode":return new A.JpxStream(K,D,ne);case"A85":case"ASCII85Decode":return new x.Ascii85Stream(K,D);case"AHx":case"ASCIIHexDecode":return new u.AsciiHexStream(K,D);case"CCF":case"CCITTFaxDecode":return new w.CCITTFaxStream(K,D,ne);case"RL":case"RunLengthDecode":return new M.RunLengthStream(K,D);case"JBIG2Decode":return new C.Jbig2Stream(K,D,ne)}return(0,d.warn)(`Filter "${$}" is not supported.`),K}catch(F){if(F instanceof y.MissingDataException)throw F;return(0,d.warn)(`Invalid stream: "${F}"`),new E.NullStream}}}h.Parser=R;const I=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function J(L){return L>=48&&L<=57?15&L:L>=65&&L<=70||L>=97&&L<=102?9+(15&L):-1}class _{constructor(K,$=null){this.stream=K,this.nextChar(),this.strBuf=[],this.knownCommands=$,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let K=this.currentChar,$=!1,D=0,ne=0;if(K===45?(ne=-1,K=this.nextChar(),K===45&&(K=this.nextChar())):K===43&&(ne=1,K=this.nextChar()),K===10||K===13)do K=this.nextChar();while(K===10||K===13);if(K===46&&(D=10,K=this.nextChar()),K<48||K>57){const Y=`Invalid number: ${String.fromCharCode(K)} (charCode ${K})`;if((0,y.isWhiteSpace)(K)||K===-1)return(0,d.info)(`Lexer.getNumber - "${Y}".`),0;throw new d.FormatError(Y)}ne=ne||1;let F=K-48,j=0,se=1;for(;(K=this.nextChar())>=0;)if(K>=48&&K<=57){const Y=K-48;$?j=10*j+Y:(D!==0&&(D*=10),F=10*F+Y)}else if(K===46){if(D!==0)break;D=1}else if(K===45)(0,d.warn)("Badly formatted number: minus sign in the middle");else{if(K!==69&&K!==101)break;if(K=this.peekChar(),K===43||K===45)se=K===45?-1:1,this.nextChar();else if(K<48||K>57)break;$=!0}return D!==0&&(F/=D),$&&(F*=10**(se*j)),ne*F}getString(){let K=1,$=!1;const D=this.strBuf;D.length=0;let ne=this.nextChar();for(;;){let F=!1;switch(0|ne){case-1:(0,d.warn)("Unterminated string"),$=!0;break;case 40:++K,D.push("(");break;case 41:--K==0?(this.nextChar(),$=!0):D.push(")");break;case 92:switch(ne=this.nextChar(),ne){case-1:(0,d.warn)("Unterminated string"),$=!0;break;case 110:D.push(`
`);break;case 114:D.push("\r");break;case 116:D.push("	");break;case 98:D.push("\b");break;case 102:D.push("\f");break;case 92:case 40:case 41:D.push(String.fromCharCode(ne));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let j=15&ne;ne=this.nextChar(),F=!0,ne>=48&&ne<=55&&(j=(j<<3)+(15&ne),ne=this.nextChar(),ne>=48&&ne<=55&&(F=!1,j=(j<<3)+(15&ne))),D.push(String.fromCharCode(j));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:D.push(String.fromCharCode(ne))}break;default:D.push(String.fromCharCode(ne))}if($)break;F||(ne=this.nextChar())}return D.join("")}getName(){let K,$;const D=this.strBuf;for(D.length=0;(K=this.nextChar())>=0&&!I[K];)if(K===35){if(K=this.nextChar(),I[K]){(0,d.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),D.push("#");break}const ne=J(K);if(ne!==-1){$=K,K=this.nextChar();const F=J(K);if(F===-1){if((0,d.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(K)}) in hexadecimal number.`),D.push("#",String.fromCharCode($)),I[K])break;D.push(String.fromCharCode(K));continue}D.push(String.fromCharCode(ne<<4|F))}else D.push("#",String.fromCharCode(K))}else D.push(String.fromCharCode(K));return D.length>127&&(0,d.warn)(`Name token is longer than allowed by the spec: ${D.length}`),m.Name.get(D.join(""))}_hexStringWarn(K){this._hexStringNumWarn++!=5?this._hexStringNumWarn>5||(0,d.warn)(`getHexString - ignoring invalid character: ${K}`):(0,d.warn)("getHexString - ignoring additional invalid characters.")}getHexString(){const K=this.strBuf;K.length=0;let $,D,ne=this.currentChar,F=!0;for(this._hexStringNumWarn=0;;){if(ne<0){(0,d.warn)("Unterminated hex string");break}if(ne===62){this.nextChar();break}if(I[ne]!==1){if(F){if($=J(ne),$===-1){this._hexStringWarn(ne),ne=this.nextChar();continue}}else{if(D=J(ne),D===-1){this._hexStringWarn(ne),ne=this.nextChar();continue}K.push(String.fromCharCode($<<4|D))}F=!F,ne=this.nextChar()}else ne=this.nextChar()}return K.join("")}getObj(){let K=!1,$=this.currentChar;for(;;){if($<0)return m.EOF;if(K)$!==10&&$!==13||(K=!1);else if($===37)K=!0;else if(I[$]!==1)break;$=this.nextChar()}switch(0|$){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),m.Cmd.get("[");case 93:return this.nextChar(),m.Cmd.get("]");case 60:return $=this.nextChar(),$===60?(this.nextChar(),m.Cmd.get("<<")):this.getHexString();case 62:return $=this.nextChar(),$===62?(this.nextChar(),m.Cmd.get(">>")):m.Cmd.get(">");case 123:return this.nextChar(),m.Cmd.get("{");case 125:return this.nextChar(),m.Cmd.get("}");case 41:throw this.nextChar(),new d.FormatError(`Illegal character: ${$}`)}let D=String.fromCharCode($);if($<32||$>127){const j=this.peekChar();if(j>=32&&j<=127)return this.nextChar(),m.Cmd.get(D)}const ne=this.knownCommands;let F=ne&&ne[D]!==void 0;for(;($=this.nextChar())>=0&&!I[$];){const j=D+String.fromCharCode($);if(F&&ne[j]===void 0)break;if(D.length===128)throw new d.FormatError(`Command token too long: ${D.length}`);D=j,F=ne&&ne[D]!==void 0}return D==="true"?!0:D==="false"?!1:D==="null"?null:(D==="BI"&&(this.beginInlineImagePos=this.stream.pos),m.Cmd.get(D))}peekObj(){const K=this.stream.pos,$=this.currentChar,D=this.beginInlineImagePos;let ne;try{ne=this.getObj()}catch(F){if(F instanceof y.MissingDataException)throw F;(0,d.warn)(`peekObj: ${F}`)}return this.stream.pos=K,this.currentChar=$,this.beginInlineImagePos=D,ne}skipToNextLine(){let K=this.currentChar;for(;K>=0;){if(K===13){K=this.nextChar(),K===10&&this.nextChar();break}if(K===10){this.nextChar();break}K=this.nextChar()}}}h.Lexer=_,h.Linearization=class{static create(K){function $(Q,N,O=!1){const H=Q.get(N);if(Number.isInteger(H)&&(O?H>=0:H>0))return H;throw new Error(`The "${N}" parameter in the linearization dictionary is invalid.`)}const D=new R({lexer:new _(K),xref:null}),ne=D.getObj(),F=D.getObj(),j=D.getObj(),se=D.getObj();let Y,q;if(!(Number.isInteger(ne)&&Number.isInteger(F)&&(0,m.isCmd)(j,"obj")&&se instanceof m.Dict&&typeof(Y=se.get("Linearized"))=="number"&&Y>0))return null;if((q=$(se,"L"))!==K.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:q,hints:function(N){const O=N.get("H");let H;if(Array.isArray(O)&&((H=O.length)===2||H===4)){for(let G=0;G<H;G++){const le=O[G];if(!(Number.isInteger(le)&&le>0))throw new Error(`Hint (${G}) in the linearization dictionary is invalid.`)}return O}throw new Error("Hint array in the linearization dictionary is invalid.")}(se),objectNumberFirst:$(se,"O"),endFirst:$(se,"E"),numPages:$(se,"N"),mainXRefEntriesOffset:$(se,"T"),pageFirst:se.has("P")?$(se,"P",!0):0}}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Ascii85Stream=void 0;var d=p(17),m=p(3);class y extends d.DecodeStream{constructor(u,w){w&&(w*=.8),super(w),this.str=u,this.dict=u.dict,this.input=new Uint8Array(5)}readBlock(){const u=this.str;let w=u.getByte();for(;(0,m.isWhiteSpace)(w);)w=u.getByte();if(w===-1||w===126){this.eof=!0;return}const T=this.bufferLength;let C,k;if(w===122){for(C=this.ensureBuffer(T+4),k=0;k<4;++k)C[T+k]=0;this.bufferLength+=4}else{const A=this.input;for(A[0]=w,k=1;k<5;++k){for(w=u.getByte();(0,m.isWhiteSpace)(w);)w=u.getByte();if(A[k]=w,w===-1||w===126)break}if(C=this.ensureBuffer(T+k-1),this.bufferLength+=k-1,k<5){for(;k<5;++k)A[k]=117;this.eof=!0}let g=0;for(k=0;k<5;++k)g=85*g+(A[k]-33);for(k=3;k>=0;--k)C[T+k]=255&g,g>>=8}}}h.Ascii85Stream=y},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StreamsSequenceStream=h.DecodeStream=void 0;var d=p(5),m=p(8);const y=new Uint8Array(0);class x extends d.BaseStream{constructor(w){if(super(),this._rawMinBufferLength=w||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=y,this.minBufferLength=512,w)for(;this.minBufferLength<w;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(w){const T=this.buffer;if(w<=T.byteLength)return T;let C=this.minBufferLength;for(;C<w;)C*=2;const k=new Uint8Array(C);return k.set(T),this.buffer=k}getByte(){const w=this.pos;for(;this.bufferLength<=w;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(w){const T=this.pos;let C;if(w){for(this.ensureBuffer(T+w),C=T+w;!this.eof&&this.bufferLength<C;)this.readBlock();const k=this.bufferLength;C>k&&(C=k)}else{for(;!this.eof;)this.readBlock();C=this.bufferLength}return this.pos=C,this.buffer.subarray(T,C)}reset(){this.pos=0}makeSubStream(w,T,C=null){if(T===void 0)for(;!this.eof;)this.readBlock();else{const k=w+T;for(;this.bufferLength<=k&&!this.eof;)this.readBlock()}return new m.Stream(this.buffer,w,T,C)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}h.DecodeStream=x,h.StreamsSequenceStream=class extends x{constructor(w,T=null){let C=0;for(const k of w)C+=k instanceof x?k._rawMinBufferLength:k.length;super(C),this.streams=w,this._onError=T}readBlock(){const w=this.streams;if(w.length===0){this.eof=!0;return}const T=w.shift();let C;try{C=T.getBytes()}catch(g){if(this._onError){this._onError(g,T.dict&&T.dict.objId);return}throw g}const k=this.bufferLength,A=k+C.length;this.ensureBuffer(A).set(C,k),this.bufferLength=A}getBaseStreams(){const w=[];for(const T of this.streams){const C=T.getBaseStreams();C&&w.push(...C)}return w.length>0?w:null}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AsciiHexStream=void 0;var d=p(17);class m extends d.DecodeStream{constructor(x,u){u&&(u*=.5),super(u),this.str=x,this.dict=x.dict,this.firstDigit=-1}readBlock(){const x=this.str.getBytes(8e3);if(!x.length){this.eof=!0;return}const u=x.length+1>>1,w=this.ensureBuffer(this.bufferLength+u);let T=this.bufferLength,C=this.firstDigit;for(const k of x){let A;if(k>=48&&k<=57)A=15&k;else{if(!(k>=65&&k<=70||k>=97&&k<=102)){if(k===62){this.eof=!0;break}continue}A=9+(15&k)}C<0?C=A:(w[T++]=C<<4|A,C=-1)}C>=0&&this.eof&&(w[T++]=C<<4,C=-1),this.firstDigit=C,this.bufferLength=T}}h.AsciiHexStream=m},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CCITTFaxStream=void 0;var d=p(20),m=p(17),y=p(4);class x extends m.DecodeStream{constructor(w,T,C){super(T),this.str=w,this.dict=w.dict,C instanceof y.Dict||(C=y.Dict.empty);const k={next:()=>w.getByte()};this.ccittFaxDecoder=new d.CCITTFaxDecoder(k,{K:C.get("K"),EndOfLine:C.get("EndOfLine"),EncodedByteAlign:C.get("EncodedByteAlign"),Columns:C.get("Columns"),Rows:C.get("Rows"),EndOfBlock:C.get("EndOfBlock"),BlackIs1:C.get("BlackIs1")})}readBlock(){for(;!this.eof;){const w=this.ccittFaxDecoder.readNextChar();if(w===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=w}}}h.CCITTFaxStream=x},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CCITTFaxDecoder=void 0;var d=p(2);const m=-1,y=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],x=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],u=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],w=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],T=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],C=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];h.CCITTFaxDecoder=class{constructor(A,g={}){if(!A||typeof A.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=A,this.eof=!1,this.encoding=g.K||0,this.eoline=g.EndOfLine||!1,this.byteAlign=g.EncodedByteAlign||!1,this.columns=g.Columns||1728,this.rows=g.Rows||0;let E,v=g.EndOfBlock;for(v==null&&(v=!0),this.eoblock=v,this.black=g.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;(E=this._lookBits(12))===0;)this._eatBits(1);E===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const A=this.refLine,g=this.codingLine,E=this.columns;let v,M,R,I,J;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let _,L,K;if(this.nextLine2D){for(I=0;g[I]<E;++I)A[I]=g[I];for(A[I++]=E,A[I]=E,g[0]=0,this.codingPos=0,v=0,M=0;g[this.codingPos]<E;)switch(_=this._getTwoDimCode(),_){case 0:this._addPixels(A[v+1],M),A[v+1]<E&&(v+=2);break;case 1:if(_=L=0,M){do _+=K=this._getBlackCode();while(K>=64);do L+=K=this._getWhiteCode();while(K>=64)}else{do _+=K=this._getWhiteCode();while(K>=64);do L+=K=this._getBlackCode();while(K>=64)}for(this._addPixels(g[this.codingPos]+_,M),g[this.codingPos]<E&&this._addPixels(g[this.codingPos]+L,1^M);A[v]<=g[this.codingPos]&&A[v]<E;)v+=2;break;case 7:if(this._addPixels(A[v]+3,M),M^=1,g[this.codingPos]<E)for(++v;A[v]<=g[this.codingPos]&&A[v]<E;)v+=2;break;case 5:if(this._addPixels(A[v]+2,M),M^=1,g[this.codingPos]<E)for(++v;A[v]<=g[this.codingPos]&&A[v]<E;)v+=2;break;case 3:if(this._addPixels(A[v]+1,M),M^=1,g[this.codingPos]<E)for(++v;A[v]<=g[this.codingPos]&&A[v]<E;)v+=2;break;case 2:if(this._addPixels(A[v],M),M^=1,g[this.codingPos]<E)for(++v;A[v]<=g[this.codingPos]&&A[v]<E;)v+=2;break;case 8:if(this._addPixelsNeg(A[v]-3,M),M^=1,g[this.codingPos]<E)for(v>0?--v:++v;A[v]<=g[this.codingPos]&&A[v]<E;)v+=2;break;case 6:if(this._addPixelsNeg(A[v]-2,M),M^=1,g[this.codingPos]<E)for(v>0?--v:++v;A[v]<=g[this.codingPos]&&A[v]<E;)v+=2;break;case 4:if(this._addPixelsNeg(A[v]-1,M),M^=1,g[this.codingPos]<E)for(v>0?--v:++v;A[v]<=g[this.codingPos]&&A[v]<E;)v+=2;break;case m:this._addPixels(E,0),this.eof=!0;break;default:(0,d.info)("bad 2d code"),this._addPixels(E,0),this.err=!0}}else for(g[0]=0,this.codingPos=0,M=0;g[this.codingPos]<E;){if(_=0,M)do _+=K=this._getBlackCode();while(K>=64);else do _+=K=this._getWhiteCode();while(K>=64);this._addPixels(g[this.codingPos]+_,M),M^=1}let $=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(_=this._lookBits(12),this.eoline)for(;_!==m&&_!==1;)this._eatBits(1),_=this._lookBits(12);else for(;_===0;)this._eatBits(1),_=this._lookBits(12);_===1?(this._eatBits(12),$=!0):_===m&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&$&&this.byteAlign){if(_=this._lookBits(12),_===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(I=0;I<4;++I)_=this._lookBits(12),_!==1&&(0,d.info)("bad rtc code: "+_),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(_=this._lookBits(13),_===m)return this.eof=!0,-1;if(_>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&_))}g[0]>0?this.outputBits=g[this.codingPos=0]:this.outputBits=g[this.codingPos=1],this.row++}if(this.outputBits>=8)J=1&this.codingPos?0:255,this.outputBits-=8,this.outputBits===0&&g[this.codingPos]<E&&(this.codingPos++,this.outputBits=g[this.codingPos]-g[this.codingPos-1]);else{R=8,J=0;do{if(typeof this.outputBits!="number")throw new d.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>R?(J<<=R,1&this.codingPos||(J|=255>>8-R),this.outputBits-=R,R=0):(J<<=this.outputBits,1&this.codingPos||(J|=255>>8-this.outputBits),R-=this.outputBits,this.outputBits=0,g[this.codingPos]<E?(this.codingPos++,this.outputBits=g[this.codingPos]-g[this.codingPos-1]):R>0&&(J<<=R,R=0))}while(R)}return this.black&&(J^=255),J}_addPixels(A,g){const E=this.codingLine;let v=this.codingPos;A>E[v]&&(A>this.columns&&((0,d.info)("row is wrong length"),this.err=!0,A=this.columns),1&v^g&&++v,E[v]=A),this.codingPos=v}_addPixelsNeg(A,g){const E=this.codingLine;let v=this.codingPos;if(A>E[v])A>this.columns&&((0,d.info)("row is wrong length"),this.err=!0,A=this.columns),1&v^g&&++v,E[v]=A;else if(A<E[v]){for(A<0&&((0,d.info)("invalid code"),this.err=!0,A=0);v>0&&A<E[v-1];)--v;E[v]=A}this.codingPos=v}_findTableCode(A,g,E,v){const M=v||0;for(let R=A;R<=g;++R){let I=this._lookBits(R);if(I===m)return[!0,1,!1];if(R<g&&(I<<=g-R),!M||I>=M){const J=E[I-M];if(J[0]===R)return this._eatBits(R),[!0,J[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let A,g=0;if(this.eoblock){if(g=this._lookBits(7),A=y[g],A&&A[0]>0)return this._eatBits(A[0]),A[1]}else{const E=this._findTableCode(1,7,y);if(E[0]&&E[2])return E[1]}return(0,d.info)("Bad two dim code"),m}_getWhiteCode(){let A,g=0;if(this.eoblock){if(g=this._lookBits(12),g===m)return 1;if(A=g>>5?u[g>>3]:x[g],A[0]>0)return this._eatBits(A[0]),A[1]}else{let E=this._findTableCode(1,9,u);if(E[0]||(E=this._findTableCode(11,12,x),E[0]))return E[1]}return(0,d.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let A,g;if(this.eoblock){if(A=this._lookBits(13),A===m)return 1;if(g=A>>7?!(A>>9)&&A>>7?T[(A>>1)-64]:C[A>>7]:w[A],g[0]>0)return this._eatBits(g[0]),g[1]}else{let E=this._findTableCode(2,6,C);if(E[0]||(E=this._findTableCode(7,12,T,64),E[0])||(E=this._findTableCode(10,13,w),E[0]))return E[1]}return(0,d.info)("bad black code"),this._eatBits(1),1}_lookBits(A){let g;for(;this.inputBits<A;){if((g=this.source.next())===-1)return this.inputBits===0?m:this.inputBuf<<A-this.inputBits&65535>>16-A;this.inputBuf=this.inputBuf<<8|g,this.inputBits+=8}return this.inputBuf>>this.inputBits-A&65535>>16-A}_eatBits(A){(this.inputBits-=A)<0&&(this.inputBits=0)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FlateStream=void 0;var d=p(17),m=p(2);const y=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),u=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),w=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],T=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class C extends d.DecodeStream{constructor(A,g){super(g),this.str=A,this.dict=A.dict;const E=A.getByte(),v=A.getByte();if(E===-1||v===-1)throw new m.FormatError(`Invalid header in flate stream: ${E}, ${v}`);if((15&E)!=8)throw new m.FormatError(`Unknown compression method in flate stream: ${E}, ${v}`);if(((E<<8)+v)%31!=0)throw new m.FormatError(`Bad FCHECK in flate stream: ${E}, ${v}`);if(32&v)throw new m.FormatError(`FDICT bit set in flate stream: ${E}, ${v}`);this.codeSize=0,this.codeBuf=0}getBits(A){const g=this.str;let E,v=this.codeSize,M=this.codeBuf;for(;v<A;){if((E=g.getByte())===-1)throw new m.FormatError("Bad encoding in flate stream");M|=E<<v,v+=8}return E=M&(1<<A)-1,this.codeBuf=M>>A,this.codeSize=v-=A,E}getCode(A){const g=this.str,E=A[0],v=A[1];let M,R=this.codeSize,I=this.codeBuf;for(;R<v&&(M=g.getByte())!==-1;)I|=M<<R,R+=8;const J=E[I&(1<<v)-1],_=J>>16,L=65535&J;if(_<1||R<_)throw new m.FormatError("Bad encoding in flate stream");return this.codeBuf=I>>_,this.codeSize=R-_,L}generateHuffmanTable(A){const g=A.length;let E,v=0;for(E=0;E<g;++E)A[E]>v&&(v=A[E]);const M=1<<v,R=new Int32Array(M);for(let I=1,J=0,_=2;I<=v;++I,J<<=1,_<<=1)for(let L=0;L<g;++L)if(A[L]===I){let K=0,$=J;for(E=0;E<I;++E)K=K<<1|1&$,$>>=1;for(E=K;E<M;E+=_)R[E]=I<<16|L;++J}return[R,v]}readBlock(){let A,g;const E=this.str;let v,M,R=this.getBits(3);if(1&R&&(this.eof=!0),R>>=1,R===0){let _;if((_=E.getByte())===-1)throw new m.FormatError("Bad block header in flate stream");let L=_;if((_=E.getByte())===-1)throw new m.FormatError("Bad block header in flate stream");if(L|=_<<8,(_=E.getByte())===-1)throw new m.FormatError("Bad block header in flate stream");let K=_;if((_=E.getByte())===-1)throw new m.FormatError("Bad block header in flate stream");if(K|=_<<8,K!==(65535&~L)&&(L!==0||K!==0))throw new m.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const $=this.bufferLength,D=$+L;if(A=this.ensureBuffer(D),this.bufferLength=D,L===0)E.peekByte()===-1&&(this.eof=!0);else{const ne=E.getBytes(L);A.set(ne,$),ne.length<L&&(this.eof=!0)}return}if(R===1)v=w,M=T;else{if(R!==2)throw new m.FormatError("Unknown block type in flate stream");{const _=this.getBits(5)+257,L=this.getBits(5)+1,K=this.getBits(4)+4,$=new Uint8Array(y.length);let D;for(D=0;D<K;++D)$[y[D]]=this.getBits(3);const ne=this.generateHuffmanTable($);g=0,D=0;const F=_+L,j=new Uint8Array(F);let se,Y,q;for(;D<F;){const Q=this.getCode(ne);if(Q===16)se=2,Y=3,q=g;else if(Q===17)se=3,Y=3,q=g=0;else{if(Q!==18){j[D++]=g=Q;continue}se=7,Y=11,q=g=0}let N=this.getBits(se)+Y;for(;N-- >0;)j[D++]=q}v=this.generateHuffmanTable(j.subarray(0,_)),M=this.generateHuffmanTable(j.subarray(_,F))}}A=this.buffer;let I=A?A.length:0,J=this.bufferLength;for(;;){let _=this.getCode(v);if(_<256){J+1>=I&&(A=this.ensureBuffer(J+1),I=A.length),A[J++]=_;continue}if(_===256){this.bufferLength=J;return}_-=257,_=x[_];let L=_>>16;L>0&&(L=this.getBits(L)),g=(65535&_)+L,_=this.getCode(M),_=u[_],L=_>>16,L>0&&(L=this.getBits(L));const K=(65535&_)+L;J+g>=I&&(A=this.ensureBuffer(J+g),I=A.length);for(let $=0;$<g;++$,++J)A[J]=A[J-K]}}}h.FlateStream=C},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Jbig2Stream=void 0;var d=p(5),m=p(17),y=p(4),x=p(23),u=p(2);class w extends m.DecodeStream{constructor(C,k,A){super(k),this.stream=C,this.dict=C.dict,this.maybeLength=k,this.params=A}get bytes(){return(0,u.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(C){}readBlock(){if(this.eof)return;const C=new x.Jbig2Image,k=[];if(this.params instanceof y.Dict){const E=this.params.get("JBIG2Globals");if(E instanceof d.BaseStream){const v=E.getBytes();k.push({data:v,start:0,end:v.length})}}k.push({data:this.bytes,start:0,end:this.bytes.length});const A=C.parseChunks(k),g=A.length;for(let E=0;E<g;E++)A[E]^=255;this.buffer=A,this.bufferLength=g,this.eof=!0}}h.Jbig2Stream=w},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Jbig2Image=void 0;var d=p(2),m=p(3),y=p(24),x=p(20);class u extends d.BaseException{constructor(re){super(`JBIG2 error: ${re}`,"Jbig2Error")}}class w{getContexts(re){return re in this?this[re]:this[re]=new Int8Array(65536)}}class T{constructor(re,be,ye){this.data=re,this.start=be,this.end=ye}get decoder(){const re=new y.ArithmeticDecoder(this.data,this.start,this.end);return(0,d.shadow)(this,"decoder",re)}get contextCache(){const re=new w;return(0,d.shadow)(this,"contextCache",re)}}const C=2**31-1,k=-2147483648;function A(ae,re,be){const ye=ae.getContexts(re);let Ce=1;function me(V){let W=0;for(let ue=0;ue<V;ue++){const he=be.readBit(ye,Ce);Ce=Ce<256?Ce<<1|he:511&(Ce<<1|he)|256,W=W<<1|he}return W>>>0}const ee=me(1),te=me(1)?me(1)?me(1)?me(1)?me(1)?me(32)+4436:me(12)+340:me(8)+84:me(6)+20:me(4)+4:me(2);let oe;return ee===0?oe=te:te>0&&(oe=-te),oe>=k&&oe<=C?oe:null}function g(ae,re,be){const ye=ae.getContexts("IAID");let Ce=1;for(let me=0;me<be;me++)Ce=Ce<<1|re.readBit(ye,Ce);return be<31?Ce&(1<<be)-1:2147483647&Ce}const E=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],v=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],M=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],R=[39717,1941,229,405],I=[32,8];function J(ae,re,be,ye,Ce,me,ee,te){if(ae)return fe(new H(te.data,te.start,te.end),re,be,!1);if(ye===0&&!Ce&&ee.length===4&&ee[0].x===3&&ee[0].y===-1&&ee[1].x===-3&&ee[1].y===-1&&ee[2].x===2&&ee[2].y===-2&&ee[3].x===-2&&ee[3].y===-2)return function(lt,st,Ge){const Ke=Ge.decoder,rt=Ge.contextCache.getContexts("GB"),ze=[];let Ve,Ye,Je,it,Tt,Ut,kt;for(Ye=0;Ye<st;Ye++)for(Tt=ze[Ye]=new Uint8Array(lt),Ut=Ye<1?Tt:ze[Ye-1],kt=Ye<2?Tt:ze[Ye-2],Ve=kt[0]<<13|kt[1]<<12|kt[2]<<11|Ut[0]<<7|Ut[1]<<6|Ut[2]<<5|Ut[3]<<4,Je=0;Je<lt;Je++)Tt[Je]=it=Ke.readBit(rt,Ve),Ve=(31735&Ve)<<1|(Je+3<lt?kt[Je+3]<<11:0)|(Je+4<lt?Ut[Je+4]<<4:0)|it;return ze}(re,be,te);const oe=v[ye].concat(ee);oe.sort(function(ot,lt){return ot.y-lt.y||ot.x-lt.x});const V=oe.length,W=new Int8Array(V),ue=new Int8Array(V),he=[];let pe,Se,ge=0,de=0,xe=0,ve=0;for(Se=0;Se<V;Se++)W[Se]=oe[Se].x,ue[Se]=oe[Se].y,de=Math.min(de,oe[Se].x),xe=Math.max(xe,oe[Se].x),ve=Math.min(ve,oe[Se].y),Se<V-1&&oe[Se].y===oe[Se+1].y&&oe[Se].x===oe[Se+1].x-1?ge|=1<<V-1-Se:he.push(Se);const Ee=he.length,Te=new Int8Array(Ee),_e=new Int8Array(Ee),Oe=new Uint16Array(Ee);for(pe=0;pe<Ee;pe++)Se=he[pe],Te[pe]=oe[Se].x,_e[pe]=oe[Se].y,Oe[pe]=1<<V-1-Se;const Pe=-de,je=-ve,De=re-xe,Me=R[ye];let Fe=new Uint8Array(re);const $e=[],tt=te.decoder,ut=te.contextCache.getContexts("GB");let ct,mt,Ze,St,Rt,$t=0,dt=0;for(let ot=0;ot<be;ot++){if(Ce&&($t^=tt.readBit(ut,Me),$t)){$e.push(Fe);continue}for(Fe=new Uint8Array(Fe),$e.push(Fe),ct=0;ct<re;ct++){if(ct>=Pe&&ct<De&&ot>=je)for(dt=dt<<1&ge,Se=0;Se<Ee;Se++)mt=ot+_e[Se],Ze=ct+Te[Se],St=$e[mt][Ze],St&&(St=Oe[Se],dt|=St);else for(dt=0,Rt=V-1,Se=0;Se<V;Se++,Rt--)Ze=ct+W[Se],Ze>=0&&Ze<re&&(mt=ot+ue[Se],mt>=0&&(St=$e[mt][Ze],St&&(dt|=St<<Rt)));const lt=tt.readBit(ut,dt);Fe[ct]=lt}}return $e}function _(ae,re,be,ye,Ce,me,ee,te,oe){let V=M[be].coding;be===0&&(V=V.concat([te[0]]));const W=V.length,ue=new Int32Array(W),he=new Int32Array(W);let pe;for(pe=0;pe<W;pe++)ue[pe]=V[pe].x,he[pe]=V[pe].y;let Se=M[be].reference;be===0&&(Se=Se.concat([te[1]]));const ge=Se.length,de=new Int32Array(ge),xe=new Int32Array(ge);for(pe=0;pe<ge;pe++)de[pe]=Se[pe].x,xe[pe]=Se[pe].y;const ve=ye[0].length,Ee=ye.length;I[be];const Te=[],_e=oe.decoder,Oe=oe.contextCache.getContexts("GR");for(let Pe=0;Pe<re;Pe++){const je=new Uint8Array(ae);Te.push(je);for(let De=0;De<ae;De++){let Me,Fe,$e=0;for(pe=0;pe<W;pe++)Me=Pe+he[pe],Fe=De+ue[pe],Me<0||Fe<0||Fe>=ae?$e<<=1:$e=$e<<1|Te[Me][Fe];for(pe=0;pe<ge;pe++)Me=Pe+xe[pe]-me,Fe=De+de[pe]-Ce,Me<0||Me>=Ee||Fe<0||Fe>=ve?$e<<=1:$e=$e<<1|ye[Me][Fe];const tt=_e.readBit(Oe,$e);je[De]=tt}}return Te}function L(ae,re,be,ye,Ce,me,ee,te,oe,V,W,ue,he,pe,Se,ge,de,xe,ve){if(ae&&re)throw new u("refinement with Huffman is not supported");const Ee=[];let Te,_e;for(Te=0;Te<ye;Te++){if(_e=new Uint8Array(be),Ce)for(let Me=0;Me<be;Me++)_e[Me]=Ce;Ee.push(_e)}const Oe=de.decoder,Pe=de.contextCache;let je=ae?-pe.tableDeltaT.decode(ve):-A(Pe,"IADT",Oe),De=0;for(Te=0;Te<me;){je+=ae?pe.tableDeltaT.decode(ve):A(Pe,"IADT",Oe),De+=ae?pe.tableFirstS.decode(ve):A(Pe,"IAFS",Oe);let Me=De;for(;;){let Fe=0;ee>1&&(Fe=ae?ve.readBits(xe):A(Pe,"IAIT",Oe));const $e=ee*je+Fe,tt=ae?pe.symbolIDTable.decode(ve):g(Pe,Oe,oe),ut=re&&(ae?ve.readBit():A(Pe,"IARI",Oe));let ct=te[tt],mt=ct[0].length,Ze=ct.length;if(ut){const st=A(Pe,"IARDW",Oe),Ge=A(Pe,"IARDH",Oe);mt+=st,Ze+=Ge,ct=_(mt,Ze,Se,ct,(st>>1)+A(Pe,"IARDX",Oe),(Ge>>1)+A(Pe,"IARDY",Oe),!1,ge,de)}const St=$e-(1&ue?0:Ze-1),Rt=Me-(2&ue?mt-1:0);let $t,dt,ot;if(V){for($t=0;$t<Ze;$t++){if(_e=Ee[Rt+$t],!_e)continue;ot=ct[$t];const st=Math.min(be-St,mt);switch(he){case 0:for(dt=0;dt<st;dt++)_e[St+dt]|=ot[dt];break;case 2:for(dt=0;dt<st;dt++)_e[St+dt]^=ot[dt];break;default:throw new u(`operator ${he} is not supported`)}}Me+=Ze-1}else{for(dt=0;dt<Ze;dt++)if(_e=Ee[St+dt],_e)switch(ot=ct[dt],he){case 0:for($t=0;$t<mt;$t++)_e[Rt+$t]|=ot[$t];break;case 2:for($t=0;$t<mt;$t++)_e[Rt+$t]^=ot[$t];break;default:throw new u(`operator ${he} is not supported`)}Me+=mt-1}Te++;const lt=ae?pe.tableDeltaS.decode(ve):A(Pe,"IADS",Oe);if(lt===null)break;Me+=lt+W}}return Ee}function K(ae,re){const be={};be.number=(0,m.readUint32)(ae,re);const ye=ae[re+4],Ce=63&ye;if(!E[Ce])throw new u("invalid segment type: "+Ce);be.type=Ce,be.typeName=E[Ce],be.deferredNonRetain=!!(128&ye);const me=!!(64&ye),ee=ae[re+5];let te=ee>>5&7;const oe=[31&ee];let V=re+6;if(ee===7){te=536870911&(0,m.readUint32)(ae,V-1),V+=3;let Se=te+7>>3;for(oe[0]=ae[V++];--Se>0;)oe.push(ae[V++])}else if(ee===5||ee===6)throw new u("invalid referred-to flags");be.retainBits=oe;let W=4;be.number<=256?W=1:be.number<=65536&&(W=2);const ue=[];let he,pe;for(he=0;he<te;he++){let Se;Se=W===1?ae[V]:W===2?(0,m.readUint16)(ae,V):(0,m.readUint32)(ae,V),ue.push(Se),V+=W}if(be.referredTo=ue,me?(be.pageAssociation=(0,m.readUint32)(ae,V),V+=4):be.pageAssociation=ae[V++],be.length=(0,m.readUint32)(ae,V),V+=4,be.length===4294967295){if(Ce!==38)throw new u("invalid unknown segment length");{const Se=D(ae,V),ge=!!(1&ae[V+ne]),de=6,xe=new Uint8Array(de);for(ge||(xe[0]=255,xe[1]=172),xe[2]=Se.height>>>24&255,xe[3]=Se.height>>16&255,xe[4]=Se.height>>8&255,xe[5]=255&Se.height,he=V,pe=ae.length;he<pe;he++){let ve=0;for(;ve<de&&xe[ve]===ae[he+ve];)ve++;if(ve===de){be.length=he+de;break}}if(be.length===4294967295)throw new u("segment end was not found")}}return be.headerEnd=V,be}function $(ae,re,be,ye){const Ce=[];let me=be;for(;me<ye;){const ee=K(re,me);me=ee.headerEnd;const te={header:ee,data:re};if(ae.randomAccess||(te.start=me,me+=ee.length,te.end=me),Ce.push(te),ee.type===51)break}if(ae.randomAccess)for(let ee=0,te=Ce.length;ee<te;ee++)Ce[ee].start=me,me+=Ce[ee].header.length,Ce[ee].end=me;return Ce}function D(ae,re){return{width:(0,m.readUint32)(ae,re),height:(0,m.readUint32)(ae,re+4),x:(0,m.readUint32)(ae,re+8),y:(0,m.readUint32)(ae,re+12),combinationOperator:7&ae[re+16]}}const ne=17;function F(ae,re){const be=ae.header,ye=ae.data,Ce=ae.end;let me,ee,te,oe,V=ae.start;switch(be.type){case 0:const ue={},he=(0,m.readUint16)(ye,V);if(ue.huffman=!!(1&he),ue.refinement=!!(2&he),ue.huffmanDHSelector=he>>2&3,ue.huffmanDWSelector=he>>4&3,ue.bitmapSizeSelector=he>>6&1,ue.aggregationInstancesSelector=he>>7&1,ue.bitmapCodingContextUsed=!!(256&he),ue.bitmapCodingContextRetained=!!(512&he),ue.template=he>>10&3,ue.refinementTemplate=he>>12&1,V+=2,!ue.huffman){for(oe=ue.template===0?4:1,ee=[],te=0;te<oe;te++)ee.push({x:(0,m.readInt8)(ye,V),y:(0,m.readInt8)(ye,V+1)}),V+=2;ue.at=ee}if(ue.refinement&&!ue.refinementTemplate){for(ee=[],te=0;te<2;te++)ee.push({x:(0,m.readInt8)(ye,V),y:(0,m.readInt8)(ye,V+1)}),V+=2;ue.refinementAt=ee}ue.numberOfExportedSymbols=(0,m.readUint32)(ye,V),V+=4,ue.numberOfNewSymbols=(0,m.readUint32)(ye,V),V+=4,me=[ue,be.number,be.referredTo,ye,V,Ce];break;case 6:case 7:const pe={};pe.info=D(ye,V),V+=ne;const Se=(0,m.readUint16)(ye,V);if(V+=2,pe.huffman=!!(1&Se),pe.refinement=!!(2&Se),pe.logStripSize=Se>>2&3,pe.stripSize=1<<pe.logStripSize,pe.referenceCorner=Se>>4&3,pe.transposed=!!(64&Se),pe.combinationOperator=Se>>7&3,pe.defaultPixelValue=Se>>9&1,pe.dsOffset=Se<<17>>27,pe.refinementTemplate=Se>>15&1,pe.huffman){const Pe=(0,m.readUint16)(ye,V);V+=2,pe.huffmanFS=3&Pe,pe.huffmanDS=Pe>>2&3,pe.huffmanDT=Pe>>4&3,pe.huffmanRefinementDW=Pe>>6&3,pe.huffmanRefinementDH=Pe>>8&3,pe.huffmanRefinementDX=Pe>>10&3,pe.huffmanRefinementDY=Pe>>12&3,pe.huffmanRefinementSizeSelector=!!(16384&Pe)}if(pe.refinement&&!pe.refinementTemplate){for(ee=[],te=0;te<2;te++)ee.push({x:(0,m.readInt8)(ye,V),y:(0,m.readInt8)(ye,V+1)}),V+=2;pe.refinementAt=ee}pe.numberOfSymbolInstances=(0,m.readUint32)(ye,V),V+=4,me=[pe,be.referredTo,ye,V,Ce];break;case 16:const ge={},de=ye[V++];ge.mmr=!!(1&de),ge.template=de>>1&3,ge.patternWidth=ye[V++],ge.patternHeight=ye[V++],ge.maxPatternIndex=(0,m.readUint32)(ye,V),V+=4,me=[ge,be.number,ye,V,Ce];break;case 22:case 23:const xe={};xe.info=D(ye,V),V+=ne;const ve=ye[V++];xe.mmr=!!(1&ve),xe.template=ve>>1&3,xe.enableSkip=!!(8&ve),xe.combinationOperator=ve>>4&7,xe.defaultPixelValue=ve>>7&1,xe.gridWidth=(0,m.readUint32)(ye,V),V+=4,xe.gridHeight=(0,m.readUint32)(ye,V),V+=4,xe.gridOffsetX=4294967295&(0,m.readUint32)(ye,V),V+=4,xe.gridOffsetY=4294967295&(0,m.readUint32)(ye,V),V+=4,xe.gridVectorX=(0,m.readUint16)(ye,V),V+=2,xe.gridVectorY=(0,m.readUint16)(ye,V),V+=2,me=[xe,be.referredTo,ye,V,Ce];break;case 38:case 39:const Ee={};Ee.info=D(ye,V),V+=ne;const Te=ye[V++];if(Ee.mmr=!!(1&Te),Ee.template=Te>>1&3,Ee.prediction=!!(8&Te),!Ee.mmr){for(oe=Ee.template===0?4:1,ee=[],te=0;te<oe;te++)ee.push({x:(0,m.readInt8)(ye,V),y:(0,m.readInt8)(ye,V+1)}),V+=2;Ee.at=ee}me=[Ee,ye,V,Ce];break;case 48:const _e={width:(0,m.readUint32)(ye,V),height:(0,m.readUint32)(ye,V+4),resolutionX:(0,m.readUint32)(ye,V+8),resolutionY:(0,m.readUint32)(ye,V+12)};_e.height===4294967295&&delete _e.height;const Oe=ye[V+16];(0,m.readUint16)(ye,V+17),_e.lossless=!!(1&Oe),_e.refinement=!!(2&Oe),_e.defaultPixelValue=Oe>>2&1,_e.combinationOperator=Oe>>3&3,_e.requiresBuffer=!!(32&Oe),_e.combinationOperatorOverride=!!(64&Oe),me=[_e];break;case 49:case 50:case 51:case 62:break;case 53:me=[be.number,ye,V,Ce];break;default:throw new u(`segment type ${be.typeName}(${be.type}) is not implemented`)}const W="on"+be.typeName;W in re&&re[W].apply(re,me)}function j(ae,re){for(let be=0,ye=ae.length;be<ye;be++)F(ae[be],re)}class se{onPageInformation(re){this.currentPageInfo=re;const be=re.width+7>>3,ye=new Uint8ClampedArray(be*re.height);re.defaultPixelValue&&ye.fill(255),this.buffer=ye}drawBitmap(re,be){const ye=this.currentPageInfo,Ce=re.width,me=re.height,ee=ye.width+7>>3,te=ye.combinationOperatorOverride?re.combinationOperator:ye.combinationOperator,oe=this.buffer,V=128>>(7&re.x);let W,ue,he,pe,Se=re.y*ee+(re.x>>3);switch(te){case 0:for(W=0;W<me;W++){for(he=V,pe=Se,ue=0;ue<Ce;ue++)be[W][ue]&&(oe[pe]|=he),he>>=1,he||(he=128,pe++);Se+=ee}break;case 2:for(W=0;W<me;W++){for(he=V,pe=Se,ue=0;ue<Ce;ue++)be[W][ue]&&(oe[pe]^=he),he>>=1,he||(he=128,pe++);Se+=ee}break;default:throw new u(`operator ${te} is not supported`)}}onImmediateGenericRegion(re,be,ye,Ce){const me=re.info,ee=new T(be,ye,Ce),te=J(re.mmr,me.width,me.height,re.template,re.prediction,null,re.at,ee);this.drawBitmap(me,te)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(re,be,ye,Ce,me,ee){let te,oe;re.huffman&&(te=function(pe,Se,ge){let de,xe,ve,Ee,Te=0;switch(pe.huffmanDHSelector){case 0:case 1:de=O(pe.huffmanDHSelector+4);break;case 3:de=G(Te,Se,ge),Te++;break;default:throw new u("invalid Huffman DH selector")}switch(pe.huffmanDWSelector){case 0:case 1:xe=O(pe.huffmanDWSelector+2);break;case 3:xe=G(Te,Se,ge),Te++;break;default:throw new u("invalid Huffman DW selector")}return pe.bitmapSizeSelector?(ve=G(Te,Se,ge),Te++):ve=O(1),Ee=pe.aggregationInstancesSelector?G(Te,Se,ge):O(1),{tableDeltaHeight:de,tableDeltaWidth:xe,tableBitmapSize:ve,tableAggregateInstances:Ee}}(re,ye,this.customTables),oe=new H(Ce,me,ee));let V=this.symbols;V||(this.symbols=V={});const W=[];for(const he of ye){const pe=V[he];pe&&W.push(...pe)}const ue=new T(Ce,me,ee);V[be]=function(pe,Se,ge,de,xe,ve,Ee,Te,_e,Oe,Pe,je){if(pe&&Se)throw new u("symbol refinement with Huffman is not supported");const De=[];let Me=0,Fe=(0,m.log2)(ge.length+de);const $e=Pe.decoder,tt=Pe.contextCache;let ut,ct;for(pe&&(ut=O(1),ct=[],Fe=Math.max(Fe,1));De.length<de;){Me+=pe?ve.tableDeltaHeight.decode(je):A(tt,"IADH",$e);let ot=0,lt=0;const st=pe?ct.length:0;for(;;){const Ge=pe?ve.tableDeltaWidth.decode(je):A(tt,"IADW",$e);if(Ge===null)break;ot+=Ge,lt+=ot;let Ke;if(Se){const rt=A(tt,"IAAI",$e);if(rt>1)Ke=L(pe,Se,ot,Me,0,rt,1,ge.concat(De),Fe,0,0,1,0,ve,_e,Oe,Pe,0,je);else{const ze=g(tt,$e,Fe),Ve=A(tt,"IARDX",$e),Ye=A(tt,"IARDY",$e);Ke=_(ot,Me,_e,ze<ge.length?ge[ze]:De[ze-ge.length],Ve,Ye,!1,Oe,Pe)}De.push(Ke)}else pe?ct.push(ot):(Ke=J(!1,ot,Me,Ee,!1,null,Te,Pe),De.push(Ke))}if(pe&&!Se){const Ge=ve.tableBitmapSize.decode(je);je.byteAlign();let Ke;if(Ge===0)Ke=le(je,lt,Me);else{const ze=je.end,Ve=je.position+Ge;je.end=Ve,Ke=fe(je,lt,Me,!1),je.end=ze,je.position=Ve}const rt=ct.length;if(st===rt-1)De.push(Ke);else{let ze,Ve,Ye,Je,it,Tt=0;for(ze=st;ze<rt;ze++){for(Je=ct[ze],Ye=Tt+Je,it=[],Ve=0;Ve<Me;Ve++)it.push(Ke[Ve].subarray(Tt,Ye));De.push(it),Tt=Ye}}}}const mt=[],Ze=[];let St,Rt,$t=!1;const dt=ge.length+de;for(;Ze.length<dt;){let ot=pe?ut.decode(je):A(tt,"IAEX",$e);for(;ot--;)Ze.push($t);$t=!$t}for(St=0,Rt=ge.length;St<Rt;St++)Ze[St]&&mt.push(ge[St]);for(let ot=0;ot<de;St++,ot++)Ze[St]&&mt.push(De[ot]);return mt}(re.huffman,re.refinement,W,re.numberOfNewSymbols,re.numberOfExportedSymbols,te,re.template,re.at,re.refinementTemplate,re.refinementAt,ue,oe)}onImmediateTextRegion(re,be,ye,Ce,me){const ee=re.info;let te,oe;const V=this.symbols,W=[];for(const Se of be){const ge=V[Se];ge&&W.push(...ge)}const ue=(0,m.log2)(W.length);re.huffman&&(oe=new H(ye,Ce,me),te=function(ge,de,xe,ve,Ee){const Te=[];for(let Fe=0;Fe<=34;Fe++){const $e=Ee.readBits(4);Te.push(new Y([Fe,$e,0,0]))}const _e=new Q(Te,!1);Te.length=0;for(let Fe=0;Fe<ve;){const $e=_e.decode(Ee);if($e>=32){let tt,ut,ct;switch($e){case 32:if(Fe===0)throw new u("no previous value in symbol ID table");ut=Ee.readBits(2)+3,tt=Te[Fe-1].prefixLength;break;case 33:ut=Ee.readBits(3)+3,tt=0;break;case 34:ut=Ee.readBits(7)+11,tt=0;break;default:throw new u("invalid code length in symbol ID table")}for(ct=0;ct<ut;ct++)Te.push(new Y([Fe,tt,0,0])),Fe++}else Te.push(new Y([Fe,$e,0,0])),Fe++}Ee.byteAlign();const Oe=new Q(Te,!1);let Pe,je,De,Me=0;switch(ge.huffmanFS){case 0:case 1:Pe=O(ge.huffmanFS+6);break;case 3:Pe=G(Me,de,xe),Me++;break;default:throw new u("invalid Huffman FS selector")}switch(ge.huffmanDS){case 0:case 1:case 2:je=O(ge.huffmanDS+8);break;case 3:je=G(Me,de,xe),Me++;break;default:throw new u("invalid Huffman DS selector")}switch(ge.huffmanDT){case 0:case 1:case 2:De=O(ge.huffmanDT+11);break;case 3:De=G(Me,de,xe),Me++;break;default:throw new u("invalid Huffman DT selector")}if(ge.refinement)throw new u("refinement with Huffman is not supported");return{symbolIDTable:Oe,tableFirstS:Pe,tableDeltaS:je,tableDeltaT:De}}(re,be,this.customTables,W.length,oe));const he=new T(ye,Ce,me),pe=L(re.huffman,re.refinement,ee.width,ee.height,re.defaultPixelValue,re.numberOfSymbolInstances,re.stripSize,W,ue,re.transposed,re.dsOffset,re.referenceCorner,re.combinationOperator,te,re.refinementTemplate,re.refinementAt,he,re.logStripSize,oe);this.drawBitmap(ee,pe)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(re,be,ye,Ce,me){let ee=this.patterns;ee||(this.patterns=ee={});const te=new T(ye,Ce,me);ee[be]=function(V,W,ue,he,pe,Se){const ge=[];V||(ge.push({x:-W,y:0}),pe===0&&ge.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const de=J(V,(he+1)*W,ue,pe,!1,null,ge,Se),xe=[];for(let ve=0;ve<=he;ve++){const Ee=[],Te=W*ve,_e=Te+W;for(let Oe=0;Oe<ue;Oe++)Ee.push(de[Oe].subarray(Te,_e));xe.push(Ee)}return xe}(re.mmr,re.patternWidth,re.patternHeight,re.maxPatternIndex,re.template,te)}onImmediateHalftoneRegion(re,be,ye,Ce,me){const ee=this.patterns[be[0]],te=re.info,oe=new T(ye,Ce,me),V=function(ue,he,pe,Se,ge,de,xe,ve,Ee,Te,_e,Oe,Pe,je,De){if(xe)throw new u("skip is not supported");if(ve!==0)throw new u(`operator "${ve}" is not supported in halftone region`);const Me=[];let Fe,$e,tt;for(Fe=0;Fe<ge;Fe++){if(tt=new Uint8Array(Se),de)for($e=0;$e<Se;$e++)tt[$e]=de;Me.push(tt)}const ut=he.length,ct=he[0],mt=ct[0].length,Ze=ct.length,St=(0,m.log2)(ut),Rt=[];ue||(Rt.push({x:pe<=1?3:2,y:-1}),pe===0&&Rt.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const $t=[];let dt,ot,lt,st,Ge,Ke,rt,ze,Ve,Ye,Je;for(ue&&(dt=new H(De.data,De.start,De.end)),Fe=St-1;Fe>=0;Fe--)ot=ue?fe(dt,Ee,Te,!0):J(!1,Ee,Te,pe,!1,null,Rt,De),$t[Fe]=ot;for(lt=0;lt<Te;lt++)for(st=0;st<Ee;st++){for(Ge=0,Ke=0,$e=St-1;$e>=0;$e--)Ge^=$t[$e][lt][st],Ke|=Ge<<$e;if(rt=he[Ke],ze=_e+lt*je+st*Pe>>8,Ve=Oe+lt*Pe-st*je>>8,ze>=0&&ze+mt<=Se&&Ve>=0&&Ve+Ze<=ge)for(Fe=0;Fe<Ze;Fe++)for(Je=Me[Ve+Fe],Ye=rt[Fe],$e=0;$e<mt;$e++)Je[ze+$e]|=Ye[$e];else{let it,Tt;for(Fe=0;Fe<Ze;Fe++)if(Tt=Ve+Fe,!(Tt<0||Tt>=ge))for(Je=Me[Tt],Ye=rt[Fe],$e=0;$e<mt;$e++)it=ze+$e,it>=0&&it<Se&&(Je[it]|=Ye[$e])}}return Me}(re.mmr,ee,re.template,te.width,te.height,re.defaultPixelValue,re.enableSkip,re.combinationOperator,re.gridWidth,re.gridHeight,re.gridOffsetX,re.gridOffsetY,re.gridVectorX,re.gridVectorY,oe);this.drawBitmap(te,V)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(re,be,ye,Ce){let me=this.customTables;me||(this.customTables=me={}),me[re]=function(te,oe,V){const W=te[oe],ue=4294967295&(0,m.readUint32)(te,oe+1),he=4294967295&(0,m.readUint32)(te,oe+5),pe=new H(te,oe+9,V),Se=1+(W>>1&7),ge=1+(W>>4&7),de=[];let xe,ve,Ee=ue;do xe=pe.readBits(Se),ve=pe.readBits(ge),de.push(new Y([Ee,xe,ve,0])),Ee+=1<<ve;while(Ee<he);return xe=pe.readBits(Se),de.push(new Y([ue-1,xe,32,0,"lower"])),xe=pe.readBits(Se),de.push(new Y([he,xe,32,0])),1&W&&(xe=pe.readBits(Se),de.push(new Y([xe,0]))),new Q(de,!1)}(be,ye,Ce)}}class Y{constructor(re){re.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=re[0],this.rangeLength=0,this.prefixCode=re[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=re[0],this.prefixLength=re[1],this.rangeLength=re[2],this.prefixCode=re[3],this.isLowerRange=re[4]==="lower")}}class q{constructor(re){this.children=[],re?(this.isLeaf=!0,this.rangeLength=re.rangeLength,this.rangeLow=re.rangeLow,this.isLowerRange=re.isLowerRange,this.isOOB=re.isOOB):this.isLeaf=!1}buildTree(re,be){const ye=re.prefixCode>>be&1;if(be<=0)this.children[ye]=new q(re);else{let Ce=this.children[ye];Ce||(this.children[ye]=Ce=new q(null)),Ce.buildTree(re,be-1)}}decodeNode(re){if(this.isLeaf){if(this.isOOB)return null;const ye=re.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-ye:ye)}const be=this.children[re.readBit()];if(!be)throw new u("invalid Huffman data");return be.decodeNode(re)}}class Q{constructor(re,be){be||this.assignPrefixCodes(re),this.rootNode=new q(null);for(let ye=0,Ce=re.length;ye<Ce;ye++){const me=re[ye];me.prefixLength>0&&this.rootNode.buildTree(me,me.prefixLength-1)}}decode(re){return this.rootNode.decodeNode(re)}assignPrefixCodes(re){const be=re.length;let ye=0;for(let W=0;W<be;W++)ye=Math.max(ye,re[W].prefixLength);const Ce=new Uint32Array(ye+1);for(let W=0;W<be;W++)Ce[re[W].prefixLength]++;let me,ee,te,oe=1,V=0;for(Ce[0]=0;oe<=ye;){for(V=V+Ce[oe-1]<<1,me=V,ee=0;ee<be;)te=re[ee],te.prefixLength===oe&&(te.prefixCode=me,me++),ee++;oe++}}}const N={};function O(ae){let re,be=N[ae];if(be)return be;switch(ae){case 1:re=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:re=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:re=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:re=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:re=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:re=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:re=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:re=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:re=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:re=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:re=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:re=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:re=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:re=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:re=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new u(`standard table B.${ae} does not exist`)}for(let ye=0,Ce=re.length;ye<Ce;ye++)re[ye]=new Y(re[ye]);return be=new Q(re,!0),N[ae]=be,be}class H{constructor(re,be,ye){this.data=re,this.start=be,this.end=ye,this.position=be,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new u("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const re=this.currentByte>>this.shift&1;return this.shift--,re}readBits(re){let be,ye=0;for(be=re-1;be>=0;be--)ye|=this.readBit()<<be;return ye}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function G(ae,re,be){let ye=0;for(let Ce=0,me=re.length;Ce<me;Ce++){const ee=be[re[Ce]];if(ee){if(ae===ye)return ee;ye++}}throw new u("can't find custom Huffman table")}function le(ae,re,be){const ye=[];for(let Ce=0;Ce<be;Ce++){const me=new Uint8Array(re);ye.push(me);for(let ee=0;ee<re;ee++)me[ee]=ae.readBit();ae.byteAlign()}return ye}function fe(ae,re,be,ye){const Ce={K:-1,Columns:re,Rows:be,BlackIs1:!0,EndOfBlock:ye},me=new x.CCITTFaxDecoder(ae,Ce),ee=[];let te,oe=!1;for(let V=0;V<be;V++){const W=new Uint8Array(re);ee.push(W);let ue=-1;for(let he=0;he<re;he++)ue<0&&(te=me.readNextChar(),te===-1&&(te=0,oe=!0),ue=7),W[he]=te>>ue&1,ue--}if(ye&&!oe)for(let W=0;W<5&&me.readNextChar()!==-1;W++);return ee}h.Jbig2Image=class{parseChunks(re){return function(ye){const Ce=new se;for(let me=0,ee=ye.length;me<ee;me++){const te=ye[me];j($({},te.data,te.start,te.end),Ce)}return Ce.buffer}(re)}parse(re){throw new Error("Not implemented: Jbig2Image.parse")}}},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ArithmeticDecoder=void 0;const p=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];h.ArithmeticDecoder=class{constructor(m,y,x){this.data=m,this.bp=y,this.dataEnd=x,this.chigh=m[y],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const m=this.data;let y=this.bp;m[y]===255?m[y+1]>143?(this.clow+=65280,this.ct=8):(y++,this.clow+=m[y]<<9,this.ct=7,this.bp=y):(y++,this.clow+=y<this.dataEnd?m[y]<<8:65280,this.ct=8,this.bp=y),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(m,y){let x=m[y]>>1,u=1&m[y];const w=p[x],T=w.qe;let C,k=this.a-T;if(this.chigh<T)k<T?(k=T,C=u,x=w.nmps):(k=T,C=1^u,w.switchFlag===1&&(u=C),x=w.nlps);else{if(this.chigh-=T,32768&k)return this.a=k,u;k<T?(C=1^u,w.switchFlag===1&&(u=C),x=w.nlps):(C=u,x=w.nmps)}do this.ct===0&&this.byteIn(),k<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(32768&k));return this.a=k,m[y]=x<<1|u,C}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JpegStream=void 0;var d=p(17),m=p(4),y=p(26),x=p(2);class u extends d.DecodeStream{constructor(T,C,k){let A;for(;(A=T.getByte())!==-1;)if(A===255){T.skip(-1);break}super(C),this.stream=T,this.dict=T.dict,this.maybeLength=C,this.params=k}get bytes(){return(0,x.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(T){}readBlock(){if(this.eof)return;const T={decodeTransform:void 0,colorTransform:void 0},C=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(C)){const g=this.dict.get("BPC","BitsPerComponent")||8,E=C.length,v=new Int32Array(E);let M=!1;const R=(1<<g)-1;for(let I=0;I<E;I+=2)v[I]=256*(C[I+1]-C[I])|0,v[I+1]=C[I]*R|0,v[I]===256&&v[I+1]===0||(M=!0);M&&(T.decodeTransform=v)}if(this.params instanceof m.Dict){const g=this.params.get("ColorTransform");Number.isInteger(g)&&(T.colorTransform=g)}const k=new y.JpegImage(T);k.parse(this.bytes);const A=k.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=A,this.bufferLength=A.length,this.eof=!0}}h.JpegStream=u},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JpegImage=void 0;var d=p(2),m=p(3);class y extends d.BaseException{constructor(D){super(`JPEG error: ${D}`,"JpegError")}}class x extends d.BaseException{constructor(D,ne){super(D,"DNLMarkerError"),this.scanLines=ne}}class u extends d.BaseException{constructor(D){super(D,"EOIMarkerError")}}const w=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),T=4017,C=799,k=3406,A=2276,g=1567,E=3784,v=5793,M=2896;function R($,D){let ne,F,j=0,se=16;for(;se>0&&!$[se-1];)se--;const Y=[{children:[],index:0}];let q,Q=Y[0];for(ne=0;ne<se;ne++){for(F=0;F<$[ne];F++){for(Q=Y.pop(),Q.children[Q.index]=D[j];Q.index>0;)Q=Y.pop();for(Q.index++,Y.push(Q);Y.length<=ne;)Y.push(q={children:[],index:0}),Q.children[Q.index]=q.children,Q=q;j++}ne+1<se&&(Y.push(q={children:[],index:0}),Q.children[Q.index]=q.children,Q=q)}return Y[0].children}function I($,D,ne){return 64*(($.blocksPerLine+1)*D+ne)}function J($,D,ne,F,j,se,Y,q,Q,N=!1){const O=ne.mcusPerLine,H=ne.progressive,G=D;let le=0,fe=0;function ae(){if(fe>0)return fe--,le>>fe&1;if(le=$[D++],le===255){const Oe=$[D++];if(Oe){if(Oe===220&&N){D+=2;const Pe=(0,m.readUint16)($,D);if(D+=2,Pe>0&&Pe!==ne.scanLines)throw new x("Found DNL marker (0xFFDC) while parsing scan data",Pe)}else if(Oe===217){if(N){const Pe=te*(ne.precision===8?8:0);if(Pe>0&&Math.round(ne.scanLines/Pe)>=5)throw new x("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Pe)}throw new u("Found EOI marker (0xFFD9) while parsing scan data")}throw new y(`unexpected marker ${(le<<8|Oe).toString(16)}`)}}return fe=7,le>>>7}function re(Oe){let Pe=Oe;for(;;){switch(Pe=Pe[ae()],typeof Pe){case"number":return Pe;case"object":continue}throw new y("invalid huffman sequence")}}function be(Oe){let Pe=0;for(;Oe>0;)Pe=Pe<<1|ae(),Oe--;return Pe}function ye(Oe){if(Oe===1)return ae()===1?1:-1;const Pe=be(Oe);return Pe>=1<<Oe-1?Pe:Pe+(-1<<Oe)+1}let Ce=0,me,ee=0,te=0;function oe(Oe,Pe,je,De,Me){const Fe=je%O;te=(je/O|0)*Oe.v+De;const $e=Fe*Oe.h+Me;Pe(Oe,I(Oe,te,$e))}function V(Oe,Pe,je){te=je/Oe.blocksPerLine|0;const De=je%Oe.blocksPerLine;Pe(Oe,I(Oe,te,De))}const W=F.length;let ue,he,pe,Se,ge,de;de=H?se===0?q===0?function(Pe,je){const De=re(Pe.huffmanTableDC),Me=De===0?0:ye(De)<<Q;Pe.blockData[je]=Pe.pred+=Me}:function(Pe,je){Pe.blockData[je]|=ae()<<Q}:q===0?function(Pe,je){if(Ce>0){Ce--;return}let De=se;const Me=Y;for(;De<=Me;){const Fe=re(Pe.huffmanTableAC),$e=15&Fe,tt=Fe>>4;if($e===0){if(tt<15){Ce=be(tt)+(1<<tt)-1;break}De+=16;continue}De+=tt;const ut=w[De];Pe.blockData[je+ut]=ye($e)*(1<<Q),De++}}:function(Pe,je){let De=se;const Me=Y;let Fe,$e,tt=0;for(;De<=Me;){const ut=je+w[De],ct=Pe.blockData[ut]<0?-1:1;switch(ee){case 0:if($e=re(Pe.huffmanTableAC),Fe=15&$e,tt=$e>>4,Fe===0)tt<15?(Ce=be(tt)+(1<<tt),ee=4):(tt=16,ee=1);else{if(Fe!==1)throw new y("invalid ACn encoding");me=ye(Fe),ee=tt?2:3}continue;case 1:case 2:Pe.blockData[ut]?Pe.blockData[ut]+=ct*(ae()<<Q):(tt--,tt===0&&(ee=ee===2?3:0));break;case 3:Pe.blockData[ut]?Pe.blockData[ut]+=ct*(ae()<<Q):(Pe.blockData[ut]=me<<Q,ee=0);break;case 4:Pe.blockData[ut]&&(Pe.blockData[ut]+=ct*(ae()<<Q))}De++}ee===4&&(Ce--,Ce===0&&(ee=0))}:function(Pe,je){const De=re(Pe.huffmanTableDC),Me=De===0?0:ye(De);Pe.blockData[je]=Pe.pred+=Me;let Fe=1;for(;Fe<64;){const $e=re(Pe.huffmanTableAC),tt=15&$e,ut=$e>>4;if(tt===0){if(ut<15)break;Fe+=16;continue}Fe+=ut;const ct=w[Fe];Pe.blockData[je+ct]=ye(tt),Fe++}};let xe,ve,Ee,Te,_e=0;for(ve=W===1?F[0].blocksPerLine*F[0].blocksPerColumn:O*ne.mcusPerColumn;_e<=ve;){const Oe=j?Math.min(ve-_e,j):ve;if(Oe>0){for(he=0;he<W;he++)F[he].pred=0;if(Ce=0,W===1)for(ue=F[0],ge=0;ge<Oe;ge++)V(ue,de,_e),_e++;else for(ge=0;ge<Oe;ge++){for(he=0;he<W;he++)for(ue=F[he],Ee=ue.h,Te=ue.v,pe=0;pe<Te;pe++)for(Se=0;Se<Ee;Se++)oe(ue,de,_e,pe,Se);_e++}}if(fe=0,xe=K($,D),!xe)break;if(xe.invalid){const Pe=Oe>0?"unexpected":"excessive";(0,d.warn)(`decodeScan - ${Pe} MCU data, current marker is: ${xe.invalid}`),D=xe.offset}if(!(xe.marker>=65488&&xe.marker<=65495))break;D+=2}return D-G}function _($,D,ne){const F=$.quantizationTable,j=$.blockData;let se,Y,q,Q,N,O,H,G,le,fe,ae,re,be,ye,Ce,me,ee;if(!F)throw new y("missing required Quantization Table.");for(let te=0;te<64;te+=8)le=j[D+te],fe=j[D+te+1],ae=j[D+te+2],re=j[D+te+3],be=j[D+te+4],ye=j[D+te+5],Ce=j[D+te+6],me=j[D+te+7],le*=F[te],fe|ae|re|be|ye|Ce|me?(fe*=F[te+1],ae*=F[te+2],re*=F[te+3],be*=F[te+4],ye*=F[te+5],Ce*=F[te+6],me*=F[te+7],se=v*le+128>>8,Y=v*be+128>>8,q=ae,Q=Ce,N=M*(fe-me)+128>>8,G=M*(fe+me)+128>>8,O=re<<4,H=ye<<4,se=se+Y+1>>1,Y=se-Y,ee=q*E+Q*g+128>>8,q=q*g-Q*E+128>>8,Q=ee,N=N+H+1>>1,H=N-H,G=G+O+1>>1,O=G-O,se=se+Q+1>>1,Q=se-Q,Y=Y+q+1>>1,q=Y-q,ee=N*A+G*k+2048>>12,N=N*k-G*A+2048>>12,G=ee,ee=O*C+H*T+2048>>12,O=O*T-H*C+2048>>12,H=ee,ne[te]=se+G,ne[te+7]=se-G,ne[te+1]=Y+H,ne[te+6]=Y-H,ne[te+2]=q+O,ne[te+5]=q-O,ne[te+3]=Q+N,ne[te+4]=Q-N):(ee=v*le+512>>10,ne[te]=ee,ne[te+1]=ee,ne[te+2]=ee,ne[te+3]=ee,ne[te+4]=ee,ne[te+5]=ee,ne[te+6]=ee,ne[te+7]=ee);for(let te=0;te<8;++te)le=ne[te],fe=ne[te+8],ae=ne[te+16],re=ne[te+24],be=ne[te+32],ye=ne[te+40],Ce=ne[te+48],me=ne[te+56],fe|ae|re|be|ye|Ce|me?(se=v*le+2048>>12,Y=v*be+2048>>12,q=ae,Q=Ce,N=M*(fe-me)+2048>>12,G=M*(fe+me)+2048>>12,O=re,H=ye,se=4112+(se+Y+1>>1),Y=se-Y,ee=q*E+Q*g+2048>>12,q=q*g-Q*E+2048>>12,Q=ee,N=N+H+1>>1,H=N-H,G=G+O+1>>1,O=G-O,se=se+Q+1>>1,Q=se-Q,Y=Y+q+1>>1,q=Y-q,ee=N*A+G*k+2048>>12,N=N*k-G*A+2048>>12,G=ee,ee=O*C+H*T+2048>>12,O=O*T-H*C+2048>>12,H=ee,le=se+G,me=se-G,fe=Y+H,Ce=Y-H,ae=q+O,ye=q-O,re=Q+N,be=Q-N,le<16?le=0:le>=4080?le=255:le>>=4,fe<16?fe=0:fe>=4080?fe=255:fe>>=4,ae<16?ae=0:ae>=4080?ae=255:ae>>=4,re<16?re=0:re>=4080?re=255:re>>=4,be<16?be=0:be>=4080?be=255:be>>=4,ye<16?ye=0:ye>=4080?ye=255:ye>>=4,Ce<16?Ce=0:Ce>=4080?Ce=255:Ce>>=4,me<16?me=0:me>=4080?me=255:me>>=4,j[D+te]=le,j[D+te+8]=fe,j[D+te+16]=ae,j[D+te+24]=re,j[D+te+32]=be,j[D+te+40]=ye,j[D+te+48]=Ce,j[D+te+56]=me):(ee=v*le+8192>>14,ee=ee<-2040?0:ee>=2024?255:ee+2056>>4,j[D+te]=ee,j[D+te+8]=ee,j[D+te+16]=ee,j[D+te+24]=ee,j[D+te+32]=ee,j[D+te+40]=ee,j[D+te+48]=ee,j[D+te+56]=ee)}function L($,D){const ne=D.blocksPerLine,F=D.blocksPerColumn,j=new Int16Array(64);for(let se=0;se<F;se++)for(let Y=0;Y<ne;Y++)_(D,I(D,se,Y),j);return D.blockData}function K($,D,ne=D){const F=$.length-1;let j=ne<D?ne:D;if(D>=F)return null;const se=(0,m.readUint16)($,D);if(se>=65472&&se<=65534)return{invalid:null,marker:se,offset:D};let Y=(0,m.readUint16)($,j);for(;!(Y>=65472&&Y<=65534);){if(++j>=F)return null;Y=(0,m.readUint16)($,j)}return{invalid:se.toString(16),marker:Y,offset:j}}h.JpegImage=class{constructor({decodeTransform:D=null,colorTransform:ne=-1}={}){this._decodeTransform=D,this._colorTransform=ne}parse(D,{dnlScanLines:ne=null}={}){function F(){const ae=(0,m.readUint16)(D,q);q+=2;let re=q+ae-2;const be=K(D,re,q);be&&be.invalid&&((0,d.warn)("readDataBlock - incorrect length, current marker is: "+be.invalid),re=be.offset);const ye=D.subarray(q,re);return q+=ye.length,ye}function j(ae){const re=Math.ceil(ae.samplesPerLine/8/ae.maxH),be=Math.ceil(ae.scanLines/8/ae.maxV);for(const ye of ae.components){const Ce=Math.ceil(Math.ceil(ae.samplesPerLine/8)*ye.h/ae.maxH),me=Math.ceil(Math.ceil(ae.scanLines/8)*ye.v/ae.maxV),ee=re*ye.h,te=64*(be*ye.v)*(ee+1);ye.blockData=new Int16Array(te),ye.blocksPerLine=Ce,ye.blocksPerColumn=me}ae.mcusPerLine=re,ae.mcusPerColumn=be}let se,Y,q=0,Q=null,N=null,O=0;const H=[],G=[],le=[];let fe=(0,m.readUint16)(D,q);if(q+=2,fe!==65496)throw new y("SOI not found");fe=(0,m.readUint16)(D,q),q+=2;e:for(;fe!==65497;){let ae,re,be;switch(fe){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const ye=F();fe===65504&&ye[0]===74&&ye[1]===70&&ye[2]===73&&ye[3]===70&&ye[4]===0&&(Q={version:{major:ye[5],minor:ye[6]},densityUnits:ye[7],xDensity:ye[8]<<8|ye[9],yDensity:ye[10]<<8|ye[11],thumbWidth:ye[12],thumbHeight:ye[13],thumbData:ye.subarray(14,14+3*ye[12]*ye[13])}),fe===65518&&ye[0]===65&&ye[1]===100&&ye[2]===111&&ye[3]===98&&ye[4]===101&&(N={version:ye[5]<<8|ye[6],flags0:ye[7]<<8|ye[8],flags1:ye[9]<<8|ye[10],transformCode:ye[11]});break;case 65499:const Ce=(0,m.readUint16)(D,q);q+=2;const me=Ce+q-2;let ee;for(;q<me;){const Ee=D[q++],Te=new Uint16Array(64);if(Ee>>4){if(Ee>>4!=1)throw new y("DQT - invalid table spec");for(re=0;re<64;re++)ee=w[re],Te[ee]=(0,m.readUint16)(D,q),q+=2}else for(re=0;re<64;re++)ee=w[re],Te[ee]=D[q++];H[15&Ee]=Te}break;case 65472:case 65473:case 65474:if(se)throw new y("Only single frame JPEGs supported");q+=2,se={},se.extended=fe===65473,se.progressive=fe===65474,se.precision=D[q++];const te=(0,m.readUint16)(D,q);q+=2,se.scanLines=ne||te,se.samplesPerLine=(0,m.readUint16)(D,q),q+=2,se.components=[],se.componentIds={};const oe=D[q++];let V=0,W=0;for(ae=0;ae<oe;ae++){const Ee=D[q],Te=D[q+1]>>4,_e=15&D[q+1];V<Te&&(V=Te),W<_e&&(W=_e);const Oe=D[q+2];be=se.components.push({h:Te,v:_e,quantizationId:Oe,quantizationTable:null}),se.componentIds[Ee]=be-1,q+=3}se.maxH=V,se.maxV=W,j(se);break;case 65476:const ue=(0,m.readUint16)(D,q);for(q+=2,ae=2;ae<ue;){const Ee=D[q++],Te=new Uint8Array(16);let _e=0;for(re=0;re<16;re++,q++)_e+=Te[re]=D[q];const Oe=new Uint8Array(_e);for(re=0;re<_e;re++,q++)Oe[re]=D[q];ae+=17+_e,(Ee>>4?G:le)[15&Ee]=R(Te,Oe)}break;case 65501:q+=2,Y=(0,m.readUint16)(D,q),q+=2;break;case 65498:const he=++O==1&&!ne;q+=2;const pe=D[q++],Se=[];for(ae=0;ae<pe;ae++){const Ee=D[q++],Te=se.componentIds[Ee],_e=se.components[Te];_e.index=Ee;const Oe=D[q++];_e.huffmanTableDC=le[Oe>>4],_e.huffmanTableAC=G[15&Oe],Se.push(_e)}const ge=D[q++],de=D[q++],xe=D[q++];try{const Ee=J(D,q,se,Se,Y,ge,de,xe>>4,15&xe,he);q+=Ee}catch(Ee){if(Ee instanceof x)return(0,d.warn)(`${Ee.message} -- attempting to re-parse the JPEG image.`),this.parse(D,{dnlScanLines:Ee.scanLines});if(Ee instanceof u){(0,d.warn)(`${Ee.message} -- ignoring the rest of the image data.`);break e}throw Ee}break;case 65500:q+=4;break;case 65535:D[q]!==255&&q--;break;default:const ve=K(D,q-2,q-3);if(ve&&ve.invalid){(0,d.warn)("JpegImage.parse - unexpected data, current marker is: "+ve.invalid),q=ve.offset;break}if(!ve||q>=D.length-1){(0,d.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new y("JpegImage.parse - unknown marker: "+fe.toString(16))}fe=(0,m.readUint16)(D,q),q+=2}this.width=se.samplesPerLine,this.height=se.scanLines,this.jfif=Q,this.adobe=N,this.components=[];for(const ae of se.components){const re=H[ae.quantizationId];re&&(ae.quantizationTable=re),this.components.push({index:ae.index,output:L(0,ae),scaleX:ae.h/se.maxH,scaleY:ae.v/se.maxV,blocksPerLine:ae.blocksPerLine,blocksPerColumn:ae.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(D,ne,F=!1){const j=this.width/D,se=this.height/ne;let Y,q,Q,N,O,H,G,le,fe,ae,re,be=0;const ye=this.components.length,Ce=D*ne*ye,me=new Uint8ClampedArray(Ce),ee=new Uint32Array(D),te=4294967288;let oe;for(G=0;G<ye;G++){if(Y=this.components[G],q=Y.scaleX*j,Q=Y.scaleY*se,be=G,re=Y.output,N=Y.blocksPerLine+1<<3,q!==oe){for(O=0;O<D;O++)le=0|O*q,ee[O]=(le&te)<<3|7&le;oe=q}for(H=0;H<ne;H++)for(le=0|H*Q,ae=N*(le&te)|(7&le)<<3,O=0;O<D;O++)me[be]=re[ae+ee[O]],be+=ye}let V=this._decodeTransform;if(F||ye!==4||V||(V=new Int32Array([-256,255,-256,255,-256,255,-256,255])),V)for(G=0;G<Ce;)for(le=0,fe=0;le<ye;le++,G++,fe+=2)me[G]=(me[G]*V[fe]>>8)+V[fe+1];return me}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform!==0&&(this.components[0].index!==82||this.components[1].index!==71||this.components[2].index!==66):this._colorTransform===1}_convertYccToRgb(D){let ne,F,j;for(let se=0,Y=D.length;se<Y;se+=3)ne=D[se],F=D[se+1],j=D[se+2],D[se]=ne-179.456+1.402*j,D[se+1]=ne+135.459-.344*F-.714*j,D[se+2]=ne-226.816+1.772*F;return D}_convertYcckToRgb(D){let ne,F,j,se,Y=0;for(let q=0,Q=D.length;q<Q;q+=4)ne=D[q],F=D[q+1],j=D[q+2],se=D[q+3],D[Y++]=F*(-660635669420364e-19*F+.000437130475926232*j-54080610064599e-18*ne+.00048449797120281*se-.154362151871126)-122.67195406894+j*(-.000957964378445773*j+.000817076911346625*ne-.00477271405408747*se+1.53380253221734)+ne*(.000961250184130688*ne-.00266257332283933*se+.48357088451265)+se*(-.000336197177618394*se+.484791561490776),D[Y++]=107.268039397724+F*(219927104525741e-19*F-.000640992018297945*j+.000659397001245577*ne+.000426105652938837*se-.176491792462875)+j*(-.000778269941513683*j+.00130872261408275*ne+.000770482631801132*se-.151051492775562)+ne*(.00126935368114843*ne-.00265090189010898*se+.25802910206845)+se*(-.000318913117588328*se-.213742400323665),D[Y++]=F*(-.000570115196973677*F-263409051004589e-19*j+.0020741088115012*ne-.00288260236853442*se+.814272968359295)-20.810012546947+j*(-153496057440975e-19*j-.000132689043961446*ne+.000560833691242812*se-.195152027534049)+ne*(.00174418132927582*ne-.00255243321439347*se+.116935020465145)+se*(-.000343531996510555*se+.24165260232407);return D.subarray(0,Y)}_convertYcckToCmyk(D){let ne,F,j;for(let se=0,Y=D.length;se<Y;se+=4)ne=D[se],F=D[se+1],j=D[se+2],D[se]=434.456-ne-1.402*j,D[se+1]=119.541-ne+.344*F+.714*j,D[se+2]=481.816-ne-1.772*F;return D}_convertCmykToRgb(D){let ne,F,j,se,Y=0;for(let q=0,Q=D.length;q<Q;q+=4)ne=D[q],F=D[q+1],j=D[q+2],se=D[q+3],D[Y++]=255+ne*(-6747147073602441e-20*ne+.0008379262121013727*F+.0002894718188643294*j+.003264231057537806*se-1.1185611867203937)+F*(26374107616089405e-21*F-8626949158638572e-20*j-.0002748769067499491*se-.02155688794978967)+j*(-3878099212869363e-20*j-.0003267808279485286*se+.0686742238595345)-se*(.0003361971776183937*se+.7430659151342254),D[Y++]=255+ne*(.00013596372813588848*ne+.000924537132573585*F+.00010567359618683593*j+.0004791864687436512*se-.3109689587515875)+F*(-.00023545346108370344*F+.0002702845253534714*j+.0020200308977307156*se-.7488052167015494)+j*(6834815998235662e-20*j+.00015168452363460973*se-.09751927774728933)-se*(.0003189131175883281*se+.7364883807733168),D[Y++]=255+ne*(13598650411385307e-21*ne+.00012423956175490851*F+.0004751985097583589*j-36729317476630422e-22*se-.05562186980264034)+F*(.00016141380598724676*F+.0009692239130725186*j+.0007782692450036253*se-.44015232367526463)+j*(5068882914068769e-22*j+.0017778369011375071*se-.7591454649749609)-se*(.0003435319965105553*se+.7063770186160144);return D.subarray(0,Y)}getData({width:D,height:ne,forceRGB:F=!1,isSourcePDF:j=!1}){if(this.numComponents>4)throw new y("Unsupported color mode");const se=this._getLinearizedBlockData(D,ne,j);if(this.numComponents===1&&F){const Y=new Uint8ClampedArray(3*se.length);let q=0;for(const Q of se)Y[q++]=Q,Y[q++]=Q,Y[q++]=Q;return Y}if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(se);if(this.numComponents===4){if(this._isColorConversionNeeded)return F?this._convertYcckToRgb(se):this._convertYcckToCmyk(se);if(F)return this._convertCmykToRgb(se)}return se}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JpxStream=void 0;var d=p(17),m=p(28),y=p(2);class x extends d.DecodeStream{constructor(w,T,C){super(T),this.stream=w,this.dict=w.dict,this.maybeLength=T,this.params=C}get bytes(){return(0,y.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(w){}readBlock(){if(this.eof)return;const w=new m.JpxImage;w.parse(this.bytes);const T=w.width,C=w.height,k=w.componentsCount,A=w.tiles.length;if(A===1)this.buffer=w.tiles[0].items;else{const g=new Uint8ClampedArray(T*C*k);for(let E=0;E<A;E++){const v=w.tiles[E],M=v.width,R=v.height,I=v.left,J=v.top,_=v.items;let L=0,K=(T*J+I)*k;const $=T*k,D=M*k;for(let ne=0;ne<R;ne++){const F=_.subarray(L,L+D);g.set(F,K),L+=D,K+=$}}this.buffer=g}this.bufferLength=this.buffer.length,this.eof=!0}}h.JpxStream=x},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JpxImage=void 0;var d=p(2),m=p(3),y=p(24);class x extends d.BaseException{constructor(O){super(`JPX error: ${O}`,"JpxError")}}const u={LL:0,LH:1,HL:1,HH:2};h.JpxImage=class{constructor(){this.failOnCorruptedImage=!1}parse(O){if((0,m.readUint16)(O,0)===65359){this.parseCodestream(O,0,O.length);return}const H=O.length;let G=0;for(;G<H;){let le=8,fe=(0,m.readUint32)(O,G);const ae=(0,m.readUint32)(O,G+4);if(G+=le,fe===1&&(fe=4294967296*(0,m.readUint32)(O,G)+(0,m.readUint32)(O,G+4),G+=8,le+=8),fe===0&&(fe=H-G+le),fe<le)throw new x("Invalid box field size");const re=fe-le;let be=!0;switch(ae){case 1785737832:be=!1;break;case 1668246642:const ye=O[G];if(ye===1){const me=(0,m.readUint32)(O,G+3);switch(me){case 16:case 17:case 18:break;default:(0,d.warn)("Unknown colorspace "+me)}}else ye===2&&(0,d.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(O,G,G+re);break;case 1783636e3:(0,m.readUint32)(O,G)!==218793738&&(0,d.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Ce=String.fromCharCode(ae>>24&255,ae>>16&255,ae>>8&255,255&ae);(0,d.warn)(`Unsupported header type ${ae} (${Ce}).`)}be&&(G+=re)}}parseImageProperties(O){let H=O.getByte();for(;H>=0;){const G=H;if(H=O.getByte(),(G<<8|H)===65361){O.skip(4);const le=O.getInt32()>>>0,fe=O.getInt32()>>>0,ae=O.getInt32()>>>0,re=O.getInt32()>>>0;O.skip(16);const be=O.getUint16();this.width=le-ae,this.height=fe-re,this.componentsCount=be,this.bitsPerComponent=8;return}}throw new x("No size marker found in JPX stream")}parseCodestream(O,H,G){const le={};let fe=!1;try{let ae=H;for(;ae+1<G;){const re=(0,m.readUint16)(O,ae);ae+=2;let be,ye,Ce,me,ee,te,oe=0;switch(re){case 65359:le.mainHeader=!0;break;case 65497:break;case 65361:oe=(0,m.readUint16)(O,ae);const V={};V.Xsiz=(0,m.readUint32)(O,ae+4),V.Ysiz=(0,m.readUint32)(O,ae+8),V.XOsiz=(0,m.readUint32)(O,ae+12),V.YOsiz=(0,m.readUint32)(O,ae+16),V.XTsiz=(0,m.readUint32)(O,ae+20),V.YTsiz=(0,m.readUint32)(O,ae+24),V.XTOsiz=(0,m.readUint32)(O,ae+28),V.YTOsiz=(0,m.readUint32)(O,ae+32);const W=(0,m.readUint16)(O,ae+36);V.Csiz=W;const ue=[];be=ae+38;for(let Ee=0;Ee<W;Ee++){const Te={precision:1+(127&O[be]),isSigned:!!(128&O[be]),XRsiz:O[be+1],YRsiz:O[be+2]};be+=3,w(Te,V),ue.push(Te)}le.SIZ=V,le.components=ue,T(le,ue),le.QCC=[],le.COC=[];break;case 65372:oe=(0,m.readUint16)(O,ae);const he={};switch(be=ae+2,ye=O[be++],31&ye){case 0:me=8,ee=!0;break;case 1:me=16,ee=!1;break;case 2:me=16,ee=!0;break;default:throw new Error("Invalid SQcd value "+ye)}for(he.noQuantization=me===8,he.scalarExpounded=ee,he.guardBits=ye>>5,Ce=[];be<oe+ae;){const Ee={};me===8?(Ee.epsilon=O[be++]>>3,Ee.mu=0):(Ee.epsilon=O[be]>>3,Ee.mu=(7&O[be])<<8|O[be+1],be+=2),Ce.push(Ee)}he.SPqcds=Ce,le.mainHeader?le.QCD=he:(le.currentTile.QCD=he,le.currentTile.QCC=[]);break;case 65373:oe=(0,m.readUint16)(O,ae);const pe={};be=ae+2;let Se;switch(le.SIZ.Csiz<257?Se=O[be++]:(Se=(0,m.readUint16)(O,be),be+=2),ye=O[be++],31&ye){case 0:me=8,ee=!0;break;case 1:me=16,ee=!1;break;case 2:me=16,ee=!0;break;default:throw new Error("Invalid SQcd value "+ye)}for(pe.noQuantization=me===8,pe.scalarExpounded=ee,pe.guardBits=ye>>5,Ce=[];be<oe+ae;){const Ee={};me===8?(Ee.epsilon=O[be++]>>3,Ee.mu=0):(Ee.epsilon=O[be]>>3,Ee.mu=(7&O[be])<<8|O[be+1],be+=2),Ce.push(Ee)}pe.SPqcds=Ce,le.mainHeader?le.QCC[Se]=pe:le.currentTile.QCC[Se]=pe;break;case 65362:oe=(0,m.readUint16)(O,ae);const ge={};be=ae+2;const de=O[be++];ge.entropyCoderWithCustomPrecincts=!!(1&de),ge.sopMarkerUsed=!!(2&de),ge.ephMarkerUsed=!!(4&de),ge.progressionOrder=O[be++],ge.layersCount=(0,m.readUint16)(O,be),be+=2,ge.multipleComponentTransform=O[be++],ge.decompositionLevelsCount=O[be++],ge.xcb=2+(15&O[be++]),ge.ycb=2+(15&O[be++]);const xe=O[be++];if(ge.selectiveArithmeticCodingBypass=!!(1&xe),ge.resetContextProbabilities=!!(2&xe),ge.terminationOnEachCodingPass=!!(4&xe),ge.verticallyStripe=!!(8&xe),ge.predictableTermination=!!(16&xe),ge.segmentationSymbolUsed=!!(32&xe),ge.reversibleTransformation=O[be++],ge.entropyCoderWithCustomPrecincts){const Ee=[];for(;be<oe+ae;){const Te=O[be++];Ee.push({PPx:15&Te,PPy:Te>>4})}ge.precinctsSizes=Ee}const ve=[];ge.selectiveArithmeticCodingBypass&&ve.push("selectiveArithmeticCodingBypass"),ge.terminationOnEachCodingPass&&ve.push("terminationOnEachCodingPass"),ge.verticallyStripe&&ve.push("verticallyStripe"),ge.predictableTermination&&ve.push("predictableTermination"),ve.length>0&&(fe=!0,(0,d.warn)(`JPX: Unsupported COD options (${ve.join(", ")}).`)),le.mainHeader?le.COD=ge:(le.currentTile.COD=ge,le.currentTile.COC=[]);break;case 65424:oe=(0,m.readUint16)(O,ae),te={},te.index=(0,m.readUint16)(O,ae+2),te.length=(0,m.readUint32)(O,ae+4),te.dataEnd=te.length+ae-2,te.partIndex=O[ae+8],te.partsCount=O[ae+9],le.mainHeader=!1,te.partIndex===0&&(te.COD=le.COD,te.COC=le.COC.slice(0),te.QCD=le.QCD,te.QCC=le.QCC.slice(0)),le.currentTile=te;break;case 65427:te=le.currentTile,te.partIndex===0&&(ne(le,te.index),L(le)),oe=te.dataEnd-ae,K(le,O,ae,oe);break;case 65363:(0,d.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:oe=(0,m.readUint16)(O,ae);break;default:throw new Error("Unknown codestream code: "+re.toString(16))}ae+=oe}}catch(ae){if(fe||this.failOnCorruptedImage)throw new x(ae.message);(0,d.warn)(`JPX: Trying to recover from: "${ae.message}".`)}this.tiles=function(re){const be=re.SIZ,ye=re.components,Ce=be.Csiz,me=[];for(let ee=0,te=re.tiles.length;ee<te;ee++){const oe=re.tiles[ee],V=[];for(let _e=0;_e<Ce;_e++)V[_e]=D(re,oe,_e);const W=V[0],ue=new Uint8ClampedArray(W.items.length*Ce),he={left:W.left,top:W.top,width:W.width,height:W.height,items:ue};let pe,Se,ge,de,xe,ve,Ee,Te=0;if(oe.codingStyleDefaultParameters.multipleComponentTransform){const _e=Ce===4,Oe=V[0].items,Pe=V[1].items,je=V[2].items,De=_e?V[3].items:null;pe=ye[0].precision-8,Se=.5+(128<<pe);const Me=oe.components[0],Fe=Ce-3;if(de=Oe.length,Me.codingStyleParameters.reversibleTransformation)for(ge=0;ge<de;ge++,Te+=Fe){xe=Oe[ge]+Se,ve=Pe[ge],Ee=je[ge];const $e=xe-(Ee+ve>>2);ue[Te++]=$e+Ee>>pe,ue[Te++]=$e>>pe,ue[Te++]=$e+ve>>pe}else for(ge=0;ge<de;ge++,Te+=Fe)xe=Oe[ge]+Se,ve=Pe[ge],Ee=je[ge],ue[Te++]=xe+1.402*Ee>>pe,ue[Te++]=xe-.34413*ve-.71414*Ee>>pe,ue[Te++]=xe+1.772*ve>>pe;if(_e)for(ge=0,Te=3;ge<de;ge++,Te+=4)ue[Te]=De[ge]+Se>>pe}else for(let _e=0;_e<Ce;_e++){const Oe=V[_e].items;for(pe=ye[_e].precision-8,Se=.5+(128<<pe),Te=_e,ge=0,de=Oe.length;ge<de;ge++)ue[Te]=Oe[ge]+Se>>pe,Te+=Ce}me.push(he)}return me}(le),this.width=le.SIZ.Xsiz-le.SIZ.XOsiz,this.height=le.SIZ.Ysiz-le.SIZ.YOsiz,this.componentsCount=le.SIZ.Csiz}};function w(N,O){N.x0=Math.ceil(O.XOsiz/N.XRsiz),N.x1=Math.ceil(O.Xsiz/N.XRsiz),N.y0=Math.ceil(O.YOsiz/N.YRsiz),N.y1=Math.ceil(O.Ysiz/N.YRsiz),N.width=N.x1-N.x0,N.height=N.y1-N.y0}function T(N,O){const H=N.SIZ,G=[];let le;const fe=Math.ceil((H.Xsiz-H.XTOsiz)/H.XTsiz),ae=Math.ceil((H.Ysiz-H.YTOsiz)/H.YTsiz);for(let re=0;re<ae;re++)for(let be=0;be<fe;be++)le={},le.tx0=Math.max(H.XTOsiz+be*H.XTsiz,H.XOsiz),le.ty0=Math.max(H.YTOsiz+re*H.YTsiz,H.YOsiz),le.tx1=Math.min(H.XTOsiz+(be+1)*H.XTsiz,H.Xsiz),le.ty1=Math.min(H.YTOsiz+(re+1)*H.YTsiz,H.Ysiz),le.width=le.tx1-le.tx0,le.height=le.ty1-le.ty0,le.components=[],G.push(le);N.tiles=G;for(let re=0,be=H.Csiz;re<be;re++){const ye=O[re];for(let Ce=0,me=G.length;Ce<me;Ce++){const ee={};le=G[Ce],ee.tcx0=Math.ceil(le.tx0/ye.XRsiz),ee.tcy0=Math.ceil(le.ty0/ye.YRsiz),ee.tcx1=Math.ceil(le.tx1/ye.XRsiz),ee.tcy1=Math.ceil(le.ty1/ye.YRsiz),ee.width=ee.tcx1-ee.tcx0,ee.height=ee.tcy1-ee.tcy0,le.components[re]=ee}}}function C(N,O,H){const G=O.codingStyleParameters,le={};return G.entropyCoderWithCustomPrecincts?(le.PPx=G.precinctsSizes[H].PPx,le.PPy=G.precinctsSizes[H].PPy):(le.PPx=15,le.PPy=15),le.xcb_=H>0?Math.min(G.xcb,le.PPx-1):Math.min(G.xcb,le.PPx),le.ycb_=H>0?Math.min(G.ycb,le.PPy-1):Math.min(G.ycb,le.PPy),le}function k(N,O,H){const G=1<<H.PPx,le=1<<H.PPy,fe=O.resLevel===0,ae=1<<H.PPx+(fe?0:-1),re=1<<H.PPy+(fe?0:-1),be=O.trx1>O.trx0?Math.ceil(O.trx1/G)-Math.floor(O.trx0/G):0,ye=O.try1>O.try0?Math.ceil(O.try1/le)-Math.floor(O.try0/le):0,Ce=be*ye;O.precinctParameters={precinctWidth:G,precinctHeight:le,numprecinctswide:be,numprecinctshigh:ye,numprecincts:Ce,precinctWidthInSubband:ae,precinctHeightInSubband:re}}function A(N,O,H){const G=H.xcb_,le=H.ycb_,fe=1<<G,ae=1<<le,re=O.tbx0>>G,be=O.tby0>>le,ye=O.tbx1+fe-1>>G,Ce=O.tby1+ae-1>>le,me=O.resolution.precinctParameters,ee=[],te=[];let oe,V,W,ue;for(V=be;V<Ce;V++)for(oe=re;oe<ye;oe++){if(W={cbx:oe,cby:V,tbx0:fe*oe,tby0:ae*V,tbx1:fe*(oe+1),tby1:ae*(V+1)},W.tbx0_=Math.max(O.tbx0,W.tbx0),W.tby0_=Math.max(O.tby0,W.tby0),W.tbx1_=Math.min(O.tbx1,W.tbx1),W.tby1_=Math.min(O.tby1,W.tby1),ue=Math.floor((W.tbx0_-O.tbx0)/me.precinctWidthInSubband)+Math.floor((W.tby0_-O.tby0)/me.precinctHeightInSubband)*me.numprecinctswide,W.precinctNumber=ue,W.subbandType=O.type,W.Lblock=3,W.tbx1_<=W.tbx0_||W.tby1_<=W.tby0_)continue;ee.push(W);let he=te[ue];he!==void 0?(oe<he.cbxMin?he.cbxMin=oe:oe>he.cbxMax&&(he.cbxMax=oe),V<he.cbyMin?he.cbxMin=V:V>he.cbyMax&&(he.cbyMax=V)):te[ue]=he={cbxMin:oe,cbyMin:V,cbxMax:oe,cbyMax:V},W.precinct=he}O.codeblockParameters={codeblockWidth:G,codeblockHeight:le,numcodeblockwide:ye-re+1,numcodeblockhigh:Ce-be+1},O.codeblocks=ee,O.precincts=te}function g(N,O,H){const G=[],le=N.subbands;for(let fe=0,ae=le.length;fe<ae;fe++){const re=le[fe].codeblocks;for(let be=0,ye=re.length;be<ye;be++){const Ce=re[be];Ce.precinctNumber===O&&G.push(Ce)}}return{layerNumber:H,codeblocks:G}}function E(N){const O=N.SIZ,H=N.currentTile.index,G=N.tiles[H],le=G.codingStyleDefaultParameters.layersCount,fe=O.Csiz;let ae=0;for(let me=0;me<fe;me++)ae=Math.max(ae,G.components[me].codingStyleParameters.decompositionLevelsCount);let re=0,be=0,ye=0,Ce=0;this.nextPacket=function(){for(;re<le;re++){for(;be<=ae;be++){for(;ye<fe;ye++){const ee=G.components[ye];if(be>ee.codingStyleParameters.decompositionLevelsCount)continue;const te=ee.resolutions[be],oe=te.precinctParameters.numprecincts;for(;Ce<oe;){const V=g(te,Ce,re);return Ce++,V}Ce=0}ye=0}be=0}throw new x("Out of packets")}}function v(N){const O=N.SIZ,H=N.currentTile.index,G=N.tiles[H],le=G.codingStyleDefaultParameters.layersCount,fe=O.Csiz;let ae=0;for(let me=0;me<fe;me++)ae=Math.max(ae,G.components[me].codingStyleParameters.decompositionLevelsCount);let re=0,be=0,ye=0,Ce=0;this.nextPacket=function(){for(;re<=ae;re++){for(;be<le;be++){for(;ye<fe;ye++){const ee=G.components[ye];if(re>ee.codingStyleParameters.decompositionLevelsCount)continue;const te=ee.resolutions[re],oe=te.precinctParameters.numprecincts;for(;Ce<oe;){const V=g(te,Ce,be);return Ce++,V}Ce=0}ye=0}be=0}throw new x("Out of packets")}}function M(N){const O=N.SIZ,H=N.currentTile.index,G=N.tiles[H],le=G.codingStyleDefaultParameters.layersCount,fe=O.Csiz;let ae,re,be,ye,Ce=0;for(be=0;be<fe;be++){const ee=G.components[be];Ce=Math.max(Ce,ee.codingStyleParameters.decompositionLevelsCount)}const me=new Int32Array(Ce+1);for(re=0;re<=Ce;++re){let ee=0;for(be=0;be<fe;++be){const te=G.components[be].resolutions;re<te.length&&(ee=Math.max(ee,te[re].precinctParameters.numprecincts))}me[re]=ee}ae=0,re=0,be=0,ye=0,this.nextPacket=function(){for(;re<=Ce;re++){for(;ye<me[re];ye++){for(;be<fe;be++){const te=G.components[be];if(re>te.codingStyleParameters.decompositionLevelsCount)continue;const oe=te.resolutions[re],V=oe.precinctParameters.numprecincts;if(!(ye>=V)){for(;ae<le;){const W=g(oe,ye,ae);return ae++,W}ae=0}}be=0}ye=0}throw new x("Out of packets")}}function R(N){const O=N.SIZ,H=N.currentTile.index,G=N.tiles[H],le=G.codingStyleDefaultParameters.layersCount,fe=O.Csiz,ae=_(G),re=ae;let be=0,ye=0,Ce=0,me=0,ee=0;this.nextPacket=function(){for(;ee<re.maxNumHigh;ee++){for(;me<re.maxNumWide;me++){for(;Ce<fe;Ce++){const oe=G.components[Ce],V=oe.codingStyleParameters.decompositionLevelsCount;for(;ye<=V;ye++){const W=oe.resolutions[ye],ue=ae.components[Ce].resolutions[ye],he=J(me,ee,ue,re,W);if(he!==null){for(;be<le;){const pe=g(W,he,be);return be++,pe}be=0}}ye=0}Ce=0}me=0}throw new x("Out of packets")}}function I(N){const O=N.SIZ,H=N.currentTile.index,G=N.tiles[H],le=G.codingStyleDefaultParameters.layersCount,fe=O.Csiz,ae=_(G);let re=0,be=0,ye=0,Ce=0,me=0;this.nextPacket=function(){for(;ye<fe;++ye){const te=G.components[ye],oe=ae.components[ye],V=te.codingStyleParameters.decompositionLevelsCount;for(;me<oe.maxNumHigh;me++){for(;Ce<oe.maxNumWide;Ce++){for(;be<=V;be++){const W=te.resolutions[be],ue=oe.resolutions[be],he=J(Ce,me,ue,oe,W);if(he!==null){for(;re<le;){const pe=g(W,he,re);return re++,pe}re=0}}be=0}Ce=0}me=0}throw new x("Out of packets")}}function J(N,O,H,G,le){const fe=N*G.minWidth,ae=O*G.minHeight;if(fe%H.width!=0||ae%H.height!=0)return null;const re=ae/H.width*le.precinctParameters.numprecinctswide;return fe/H.height+re}function _(N){const O=N.components.length;let H=Number.MAX_VALUE,G=Number.MAX_VALUE,le=0,fe=0;const ae=new Array(O);for(let re=0;re<O;re++){const be=N.components[re],ye=be.codingStyleParameters.decompositionLevelsCount,Ce=new Array(ye+1);let me=Number.MAX_VALUE,ee=Number.MAX_VALUE,te=0,oe=0,V=1;for(let W=ye;W>=0;--W){const ue=be.resolutions[W],he=V*ue.precinctParameters.precinctWidth,pe=V*ue.precinctParameters.precinctHeight;me=Math.min(me,he),ee=Math.min(ee,pe),te=Math.max(te,ue.precinctParameters.numprecinctswide),oe=Math.max(oe,ue.precinctParameters.numprecinctshigh),Ce[W]={width:he,height:pe},V<<=1}H=Math.min(H,me),G=Math.min(G,ee),le=Math.max(le,te),fe=Math.max(fe,oe),ae[re]={resolutions:Ce,minWidth:me,minHeight:ee,maxNumWide:te,maxNumHigh:oe}}return{components:ae,minWidth:H,minHeight:G,maxNumWide:le,maxNumHigh:fe}}function L(N){const O=N.SIZ,H=N.currentTile.index,G=N.tiles[H],le=O.Csiz;for(let ae=0;ae<le;ae++){const re=G.components[ae],be=re.codingStyleParameters.decompositionLevelsCount,ye=[],Ce=[];for(let me=0;me<=be;me++){const ee=C(0,re,me),te={},oe=1<<be-me;te.trx0=Math.ceil(re.tcx0/oe),te.try0=Math.ceil(re.tcy0/oe),te.trx1=Math.ceil(re.tcx1/oe),te.try1=Math.ceil(re.tcy1/oe),te.resLevel=me,k(0,te,ee),ye.push(te);let V;if(me===0)V={},V.type="LL",V.tbx0=Math.ceil(re.tcx0/oe),V.tby0=Math.ceil(re.tcy0/oe),V.tbx1=Math.ceil(re.tcx1/oe),V.tby1=Math.ceil(re.tcy1/oe),V.resolution=te,A(0,V,ee),Ce.push(V),te.subbands=[V];else{const W=1<<be-me+1,ue=[];V={},V.type="HL",V.tbx0=Math.ceil(re.tcx0/W-.5),V.tby0=Math.ceil(re.tcy0/W),V.tbx1=Math.ceil(re.tcx1/W-.5),V.tby1=Math.ceil(re.tcy1/W),V.resolution=te,A(0,V,ee),Ce.push(V),ue.push(V),V={},V.type="LH",V.tbx0=Math.ceil(re.tcx0/W),V.tby0=Math.ceil(re.tcy0/W-.5),V.tbx1=Math.ceil(re.tcx1/W),V.tby1=Math.ceil(re.tcy1/W-.5),V.resolution=te,A(0,V,ee),Ce.push(V),ue.push(V),V={},V.type="HH",V.tbx0=Math.ceil(re.tcx0/W-.5),V.tby0=Math.ceil(re.tcy0/W-.5),V.tbx1=Math.ceil(re.tcx1/W-.5),V.tby1=Math.ceil(re.tcy1/W-.5),V.resolution=te,A(0,V,ee),Ce.push(V),ue.push(V),te.subbands=ue}}re.resolutions=ye,re.subbands=Ce}const fe=G.codingStyleDefaultParameters.progressionOrder;switch(fe){case 0:G.packetsIterator=new E(N);break;case 1:G.packetsIterator=new v(N);break;case 2:G.packetsIterator=new M(N);break;case 3:G.packetsIterator=new R(N);break;case 4:G.packetsIterator=new I(N);break;default:throw new x(`Unsupported progression order ${fe}`)}}function K(N,O,H,G){let le,fe=0,ae=0,re=!1;function be(he){for(;ae<he;){const pe=O[H+fe];fe++,re?(le=le<<7|pe,ae+=7,re=!1):(le=le<<8|pe,ae+=8),pe===255&&(re=!0)}return ae-=he,le>>>ae&(1<<he)-1}function ye(he){return O[H+fe-1]===255&&O[H+fe]===he?(Ce(1),!0):O[H+fe]===255&&O[H+fe+1]===he?(Ce(2),!0):!1}function Ce(he){fe+=he}function me(){ae=0,re&&(fe++,re=!1)}function ee(){if(be(1)===0)return 1;if(be(1)===0)return 2;let he=be(2);return he<3?he+3:(he=be(5),he<31?he+6:(he=be(7),he+37))}const te=N.currentTile.index,oe=N.tiles[te],V=N.COD.sopMarkerUsed,W=N.COD.ephMarkerUsed,ue=oe.packetsIterator;for(;fe<G;){me(),V&&ye(145)&&Ce(4);const he=ue.nextPacket();if(!be(1))continue;const pe=he.layerNumber,Se=[];let ge;for(let de=0,xe=he.codeblocks.length;de<xe;de++){ge=he.codeblocks[de];let ve=ge.precinct;const Ee=ge.cbx-ve.cbxMin,Te=ge.cby-ve.cbyMin;let _e,Oe,Pe=!1,je=!1;if(ge.included!==void 0)Pe=!!be(1);else{ve=ge.precinct;let $e;if(ve.inclusionTree!==void 0)$e=ve.inclusionTree;else{const tt=ve.cbxMax-ve.cbxMin+1,ut=ve.cbyMax-ve.cbyMin+1;$e=new j(tt,ut,pe),Oe=new F(tt,ut),ve.inclusionTree=$e,ve.zeroBitPlanesTree=Oe;for(let ct=0;ct<pe;ct++)if(be(1)!==0)throw new x("Invalid tag tree")}if($e.reset(Ee,Te,pe))for(;;){if(!be(1)){$e.incrementValue(pe);break}if(_e=!$e.nextLevel(),_e){ge.included=!0,Pe=je=!0;break}}}if(!Pe)continue;if(je){for(Oe=ve.zeroBitPlanesTree,Oe.reset(Ee,Te);;)if(be(1)){if(_e=!Oe.nextLevel(),_e)break}else Oe.incrementValue();ge.zeroBitPlanes=Oe.value}const De=ee();for(;be(1);)ge.Lblock++;const Me=(0,m.log2)(De),Fe=be((De<1<<Me?Me-1:Me)+ge.Lblock);Se.push({codeblock:ge,codingpasses:De,dataLength:Fe})}for(me(),W&&ye(146);Se.length>0;){const de=Se.shift();ge=de.codeblock,ge.data===void 0&&(ge.data=[]),ge.data.push({data:O,start:H+fe,end:H+fe+de.dataLength,codingpasses:de.codingpasses}),fe+=de.dataLength}}return fe}function $(N,O,H,G,le,fe,ae,re,be){const ye=G.tbx0,Ce=G.tby0,me=G.tbx1-G.tbx0,ee=G.codeblocks,te=G.type.charAt(0)==="H"?1:0,oe=G.type.charAt(1)==="H"?O:0;for(let V=0,W=ee.length;V<W;++V){const ue=ee[V],he=ue.tbx1_-ue.tbx0_,pe=ue.tby1_-ue.tby0_;if(he===0||pe===0||ue.data===void 0)continue;const Se=new se(he,pe,ue.subbandType,ue.zeroBitPlanes,fe);let ge=2;const de=ue.data;let xe,ve,Ee,Te=0,_e=0;for(xe=0,ve=de.length;xe<ve;xe++)Ee=de[xe],Te+=Ee.end-Ee.start,_e+=Ee.codingpasses;const Oe=new Uint8Array(Te);let Pe=0;for(xe=0,ve=de.length;xe<ve;xe++){Ee=de[xe];const St=Ee.data.subarray(Ee.start,Ee.end);Oe.set(St,Pe),Pe+=St.length}const je=new y.ArithmeticDecoder(Oe,0,Te);for(Se.setDecoder(je),xe=0;xe<_e;xe++){switch(ge){case 0:Se.runSignificancePropagationPass();break;case 1:Se.runMagnitudeRefinementPass();break;case 2:Se.runCleanupPass(),re&&Se.checkSegmentationSymbol()}be&&Se.reset(),ge=(ge+1)%3}let De=ue.tbx0_-ye+(ue.tby0_-Ce)*me;const Me=Se.coefficentsSign,Fe=Se.coefficentsMagnitude,$e=Se.bitsDecoded,tt=ae?0:.5;let ut,ct,mt;Pe=0;const Ze=G.type!=="LL";for(xe=0;xe<pe;xe++){const St=2*(De/me|0)*(O-me)+te+oe;for(ut=0;ut<he;ut++){if(ct=Fe[Pe],ct!==0){ct=(ct+tt)*le,Me[Pe]!==0&&(ct=-ct),mt=$e[Pe];const Rt=Ze?St+(De<<1):De;N[Rt]=ae&&mt>=fe?ct:ct*(1<<fe-mt)}De++,Pe++}De+=me-he}}}function D(N,O,H){const G=O.components[H],le=G.codingStyleParameters,fe=G.quantizationParameters,ae=le.decompositionLevelsCount,re=fe.SPqcds,be=fe.scalarExpounded,ye=fe.guardBits,Ce=le.segmentationSymbolUsed,me=le.resetContextProbabilities,ee=N.components[H].precision,te=le.reversibleTransformation,oe=te?new Q:new q,V=[];let W=0;for(let he=0;he<=ae;he++){const pe=G.resolutions[he],Se=pe.trx1-pe.trx0,ge=pe.try1-pe.try0,de=new Float32Array(Se*ge);for(let xe=0,ve=pe.subbands.length;xe<ve;xe++){let Ee,Te;be?(Ee=re[W].mu,Te=re[W].epsilon,W++):(Ee=re[0].mu,Te=re[0].epsilon+(he>0?1-he:0));const _e=pe.subbands[xe],Oe=u[_e.type];$(de,Se,0,_e,te?1:2**(ee+Oe-Te)*(1+Ee/2048),ye+Te-1,te,Ce,me)}V.push({width:Se,height:ge,items:de})}const ue=oe.calculate(V,G.tcx0,G.tcy0);return{left:G.tcx0,top:G.tcy0,width:ue.width,height:ue.height,items:ue.items}}function ne(N,O){const H=N.SIZ.Csiz,G=N.tiles[O];for(let le=0;le<H;le++){const fe=G.components[le],ae=N.currentTile.QCC[le]!==void 0?N.currentTile.QCC[le]:N.currentTile.QCD;fe.quantizationParameters=ae;const re=N.currentTile.COC[le]!==void 0?N.currentTile.COC[le]:N.currentTile.COD;fe.codingStyleParameters=re}G.codingStyleDefaultParameters=N.currentTile.COD}class F{constructor(O,H){const G=(0,m.log2)(Math.max(O,H))+1;this.levels=[];for(let le=0;le<G;le++){const fe={width:O,height:H,items:[]};this.levels.push(fe),O=Math.ceil(O/2),H=Math.ceil(H/2)}}reset(O,H){let G,le=0,fe=0;for(;le<this.levels.length;){G=this.levels[le];const ae=O+H*G.width;if(G.items[ae]!==void 0){fe=G.items[ae];break}G.index=ae,O>>=1,H>>=1,le++}le--,G=this.levels[le],G.items[G.index]=fe,this.currentLevel=le,delete this.value}incrementValue(){const O=this.levels[this.currentLevel];O.items[O.index]++}nextLevel(){let O=this.currentLevel,H=this.levels[O];const G=H.items[H.index];return O--,O<0?(this.value=G,!1):(this.currentLevel=O,H=this.levels[O],H.items[H.index]=G,!0)}}class j{constructor(O,H,G){const le=(0,m.log2)(Math.max(O,H))+1;this.levels=[];for(let fe=0;fe<le;fe++){const ae=new Uint8Array(O*H);for(let be=0,ye=ae.length;be<ye;be++)ae[be]=G;const re={width:O,height:H,items:ae};this.levels.push(re),O=Math.ceil(O/2),H=Math.ceil(H/2)}}reset(O,H,G){let le=0;for(;le<this.levels.length;){const fe=this.levels[le],ae=O+H*fe.width;fe.index=ae;const re=fe.items[ae];if(re===255)break;if(re>G)return this.currentLevel=le,this.propagateValues(),!1;O>>=1,H>>=1,le++}return this.currentLevel=le-1,!0}incrementValue(O){const H=this.levels[this.currentLevel];H.items[H.index]=O+1,this.propagateValues()}propagateValues(){let O=this.currentLevel,H=this.levels[O];const G=H.items[H.index];for(;--O>=0;)H=this.levels[O],H.items[H.index]=G}nextLevel(){let O=this.currentLevel,H=this.levels[O];const G=H.items[H.index];return H.items[H.index]=255,O--,O<0?!1:(this.currentLevel=O,H=this.levels[O],H.items[H.index]=G,!0)}}const se=function(){const H=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),G=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),le=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return class{constructor(ae,re,be,ye,Ce){this.width=ae,this.height=re;let me;me=be==="HH"?le:be==="HL"?G:H,this.contextLabelTable=me;const ee=ae*re;this.neighborsSignificance=new Uint8Array(ee),this.coefficentsSign=new Uint8Array(ee);let te;te=Ce>14?new Uint32Array(ee):Ce>6?new Uint16Array(ee):new Uint8Array(ee),this.coefficentsMagnitude=te,this.processingFlags=new Uint8Array(ee);const oe=new Uint8Array(ee);if(ye!==0)for(let V=0;V<ee;V++)oe[V]=ye;this.bitsDecoded=oe,this.reset()}setDecoder(ae){this.decoder=ae}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(ae,re,be){const ye=this.neighborsSignificance,Ce=this.width,me=this.height,ee=re>0,te=re+1<Ce;let oe;ae>0&&(oe=be-Ce,ee&&(ye[oe-1]+=16),te&&(ye[oe+1]+=16),ye[oe]+=4),ae+1<me&&(oe=be+Ce,ee&&(ye[oe-1]+=16),te&&(ye[oe+1]+=16),ye[oe]+=4),ee&&(ye[be-1]+=1),te&&(ye[be+1]+=1),ye[be]|=128}runSignificancePropagationPass(){const ae=this.decoder,re=this.width,be=this.height,ye=this.coefficentsMagnitude,Ce=this.coefficentsSign,me=this.neighborsSignificance,ee=this.processingFlags,te=this.contexts,oe=this.contextLabelTable,V=this.bitsDecoded;for(let W=0;W<be;W+=4)for(let ue=0;ue<re;ue++){let he=W*re+ue;for(let pe=0;pe<4;pe++,he+=re){const Se=W+pe;if(Se>=be)break;if(ee[he]&=-2,ye[he]||!me[he])continue;const ge=oe[me[he]];if(ae.readBit(te,ge)){const de=this.decodeSignBit(Se,ue,he);Ce[he]=de,ye[he]=1,this.setNeighborsSignificance(Se,ue,he),ee[he]|=2}V[he]++,ee[he]|=1}}}decodeSignBit(ae,re,be){const ye=this.width,Ce=this.height,me=this.coefficentsMagnitude,ee=this.coefficentsSign;let te,oe,V,W,ue,he;W=re>0&&me[be-1]!==0,re+1<ye&&me[be+1]!==0?(V=ee[be+1],W?(oe=ee[be-1],te=1-V-oe):te=1-V-V):W?(oe=ee[be-1],te=1-oe-oe):te=0;const pe=3*te;return W=ae>0&&me[be-ye]!==0,ae+1<Ce&&me[be+ye]!==0?(V=ee[be+ye],W?(oe=ee[be-ye],te=1-V-oe+pe):te=1-V-V+pe):W?(oe=ee[be-ye],te=1-oe-oe+pe):te=pe,te>=0?(ue=9+te,he=this.decoder.readBit(this.contexts,ue)):(ue=9-te,he=1^this.decoder.readBit(this.contexts,ue)),he}runMagnitudeRefinementPass(){const ae=this.decoder,re=this.width,be=this.height,ye=this.coefficentsMagnitude,Ce=this.neighborsSignificance,me=this.contexts,ee=this.bitsDecoded,te=this.processingFlags,oe=re*be,V=4*re;for(let W,ue=0;ue<oe;ue=W){W=Math.min(oe,ue+V);for(let he=0;he<re;he++)for(let pe=ue+he;pe<W;pe+=re){if(!ye[pe]||1&te[pe])continue;let Se=16;2&te[pe]&&(te[pe]^=2,Se=127&Ce[pe]?14:15);const ge=ae.readBit(me,Se);ye[pe]=ye[pe]<<1|ge,ee[pe]++,te[pe]|=1}}}runCleanupPass(){const ae=this.decoder,re=this.width,be=this.height,ye=this.neighborsSignificance,Ce=this.coefficentsMagnitude,me=this.coefficentsSign,ee=this.contexts,te=this.contextLabelTable,oe=this.bitsDecoded,V=this.processingFlags,W=re,ue=2*re,he=3*re;let pe;for(let Se=0;Se<be;Se=pe){pe=Math.min(Se+4,be);const ge=Se*re,de=Se+3<be;for(let xe=0;xe<re;xe++){const ve=ge+xe;let Ee,Te=0,_e=ve,Oe=Se;if(de&&V[ve]===0&&V[ve+W]===0&&V[ve+ue]===0&&V[ve+he]===0&&ye[ve]===0&&ye[ve+W]===0&&ye[ve+ue]===0&&ye[ve+he]===0){if(!ae.readBit(ee,18)){oe[ve]++,oe[ve+W]++,oe[ve+ue]++,oe[ve+he]++;continue}Te=ae.readBit(ee,17)<<1|ae.readBit(ee,17),Te!==0&&(Oe=Se+Te,_e+=Te*re),Ee=this.decodeSignBit(Oe,xe,_e),me[_e]=Ee,Ce[_e]=1,this.setNeighborsSignificance(Oe,xe,_e),V[_e]|=2,_e=ve;for(let Pe=Se;Pe<=Oe;Pe++,_e+=re)oe[_e]++;Te++}for(Oe=Se+Te;Oe<pe;Oe++,_e+=re){if(Ce[_e]||1&V[_e])continue;const Pe=te[ye[_e]];ae.readBit(ee,Pe)===1&&(Ee=this.decodeSignBit(Oe,xe,_e),me[_e]=Ee,Ce[_e]=1,this.setNeighborsSignificance(Oe,xe,_e),V[_e]|=2),oe[_e]++}}}}checkSegmentationSymbol(){const ae=this.decoder,re=this.contexts;if((ae.readBit(re,17)<<3|ae.readBit(re,17)<<2|ae.readBit(re,17)<<1|ae.readBit(re,17))!==10)throw new x("Invalid segmentation symbol")}}}();class Y{constructor(){this.constructor===Y&&(0,d.unreachable)("Cannot initialize Transform.")}calculate(O,H,G){let le=O[0];for(let fe=1,ae=O.length;fe<ae;fe++)le=this.iterate(le,O[fe],H,G);return le}extend(O,H,G){let le=H-1,fe=H+1,ae=H+G-2,re=H+G;O[le--]=O[fe++],O[re++]=O[ae--],O[le--]=O[fe++],O[re++]=O[ae--],O[le--]=O[fe++],O[re++]=O[ae--],O[le]=O[fe],O[re]=O[ae]}filter(O,H,G){(0,d.unreachable)("Abstract method `filter` called")}iterate(O,H,G,le){const fe=O.width,ae=O.height;let re=O.items;const be=H.width,ye=H.height,Ce=H.items;let me,ee,te,oe,V,W;for(te=0,me=0;me<ae;me++)for(oe=2*me*be,ee=0;ee<fe;ee++,te++,oe+=2)Ce[oe]=re[te];re=O.items=null;const ue=new Float32Array(be+8);if(be===1){if(1&G)for(W=0,te=0;W<ye;W++,te+=be)Ce[te]*=.5}else for(W=0,te=0;W<ye;W++,te+=be)ue.set(Ce.subarray(te,te+be),4),this.extend(ue,4,be),this.filter(ue,4,be),Ce.set(ue.subarray(4,4+be),te);let he=16;const pe=[];for(me=0;me<he;me++)pe.push(new Float32Array(ye+8));let Se,ge=0;if(O=4+ye,ye===1){if(1&le)for(V=0;V<be;V++)Ce[V]*=.5}else for(V=0;V<be;V++){if(ge===0){for(he=Math.min(be-V,he),te=V,oe=4;oe<O;te+=be,oe++)for(Se=0;Se<he;Se++)pe[Se][oe]=Ce[te+Se];ge=he}ge--;const de=pe[ge];if(this.extend(de,4,ye),this.filter(de,4,ye),ge===0)for(te=V-he+1,oe=4;oe<O;te+=be,oe++)for(Se=0;Se<he;Se++)Ce[te+Se]=pe[Se][oe]}return{width:be,height:ye,items:Ce}}}class q extends Y{filter(O,H,G){const le=G>>1;let fe,ae,re,be;const ye=-1.586134342059924,Ce=-.052980118572961,me=.882911075530934,ee=.443506852043971,te=1.230174104914001;for(fe=(H|=0)-3,ae=le+4;ae--;fe+=2)O[fe]*=.8128930661159609;for(fe=H-2,re=ee*O[fe-1],ae=le+3;ae--&&(be=ee*O[fe+1],O[fe]=te*O[fe]-re-be,!!ae--);fe+=2)fe+=2,re=ee*O[fe+1],O[fe]=te*O[fe]-re-be;for(fe=H-1,re=me*O[fe-1],ae=le+2;ae--&&(be=me*O[fe+1],O[fe]-=re+be,!!ae--);fe+=2)fe+=2,re=me*O[fe+1],O[fe]-=re+be;for(fe=H,re=Ce*O[fe-1],ae=le+1;ae--&&(be=Ce*O[fe+1],O[fe]-=re+be,!!ae--);fe+=2)fe+=2,re=Ce*O[fe+1],O[fe]-=re+be;if(le!==0)for(fe=H+1,re=ye*O[fe-1],ae=le;ae--&&(be=ye*O[fe+1],O[fe]-=re+be,!!ae--);fe+=2)fe+=2,re=ye*O[fe+1],O[fe]-=re+be}}class Q extends Y{filter(O,H,G){const le=G>>1;let fe,ae;for(fe=H|=0,ae=le+1;ae--;fe+=2)O[fe]-=O[fe-1]+O[fe+1]+2>>2;for(fe=H+1,ae=le;ae--;fe+=2)O[fe]+=O[fe-1]+O[fe+1]>>1}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.LZWStream=void 0;var d=p(17);class m extends d.DecodeStream{constructor(x,u,w){super(u),this.str=x,this.dict=x.dict,this.cachedData=0,this.bitsCached=0;const T=4096,C={earlyChange:w,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(T),dictionaryLengths:new Uint16Array(T),dictionaryPrevCodes:new Uint16Array(T),currentSequence:new Uint8Array(T),currentSequenceLength:0};for(let k=0;k<256;++k)C.dictionaryValues[k]=k,C.dictionaryLengths[k]=1;this.lzwState=C}readBits(x){let u=this.bitsCached,w=this.cachedData;for(;u<x;){const T=this.str.getByte();if(T===-1)return this.eof=!0,null;w=w<<8|T,u+=8}return this.bitsCached=u-=x,this.cachedData=w,this.lastCode=null,w>>>u&(1<<x)-1}readBlock(){let x,u,w,T=1024;const C=this.lzwState;if(!C)return;const k=C.earlyChange;let A=C.nextCode;const g=C.dictionaryValues,E=C.dictionaryLengths,v=C.dictionaryPrevCodes;let M=C.codeLength,R=C.prevCode;const I=C.currentSequence;let J=C.currentSequenceLength,_=0,L=this.bufferLength,K=this.ensureBuffer(this.bufferLength+T);for(x=0;x<512;x++){const $=this.readBits(M),D=J>0;if($<256)I[0]=$,J=1;else{if(!($>=258)){if($===256){M=9,A=258,J=0;continue}this.eof=!0,delete this.lzwState;break}if($<A)for(J=E[$],u=J-1,w=$;u>=0;u--)I[u]=g[w],w=v[w];else I[J++]=I[0]}if(D&&(v[A]=R,E[A]=E[R]+1,g[A]=I[0],A++,M=A+k&A+k-1?M:0|Math.min(Math.log(A+k)/.6931471805599453+1,12)),R=$,_+=J,T<_){do T+=512;while(T<_);K=this.ensureBuffer(this.bufferLength+T)}for(u=0;u<J;u++)K[L++]=I[u]}C.nextCode=A,C.codeLength=M,C.prevCode=R,C.currentSequenceLength=J,this.bufferLength=L}}h.LZWStream=m},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PredictorStream=void 0;var d=p(17),m=p(4),y=p(2);class x extends d.DecodeStream{constructor(w,T,C){if(super(T),!(C instanceof m.Dict))return w;const k=this.predictor=C.get("Predictor")||1;if(k<=1)return w;if(k!==2&&(k<10||k>15))throw new y.FormatError(`Unsupported predictor: ${k}`);this.readBlock=k===2?this.readBlockTiff:this.readBlockPng,this.str=w,this.dict=w.dict;const A=this.colors=C.get("Colors")||1,g=this.bits=C.get("BPC","BitsPerComponent")||8,E=this.columns=C.get("Columns")||1;return this.pixBytes=A*g+7>>3,this.rowBytes=E*A*g+7>>3,this}readBlockTiff(){const w=this.rowBytes,T=this.bufferLength,C=this.ensureBuffer(T+w),k=this.bits,A=this.colors,g=this.str.getBytes(w);if(this.eof=!g.length,this.eof)return;let E,v=0,M=0,R=0,I=0,J=T;if(k===1&&A===1)for(E=0;E<w;++E){let _=g[E]^v;_^=_>>1,_^=_>>2,_^=_>>4,v=(1&_)<<7,C[J++]=_}else if(k===8){for(E=0;E<A;++E)C[J++]=g[E];for(;E<w;++E)C[J]=C[J-A]+g[E],J++}else if(k===16){const _=2*A;for(E=0;E<_;++E)C[J++]=g[E];for(;E<w;E+=2){const L=((255&g[E])<<8)+(255&g[E+1])+((255&C[J-_])<<8)+(255&C[J-_+1]);C[J++]=L>>8&255,C[J++]=255&L}}else{const _=new Uint8Array(A+1),L=(1<<k)-1;let K=0,$=T;const D=this.columns;for(E=0;E<D;++E)for(let ne=0;ne<A;++ne)R<k&&(v=v<<8|255&g[K++],R+=8),_[ne]=_[ne]+(v>>R-k)&L,R-=k,M=M<<k|_[ne],I+=k,I>=8&&(C[$++]=M>>I-8&255,I-=8);I>0&&(C[$++]=(M<<8-I)+(v&(1<<8-I)-1))}this.bufferLength+=w}readBlockPng(){const w=this.rowBytes,T=this.pixBytes,C=this.str.getByte(),k=this.str.getBytes(w);if(this.eof=!k.length,this.eof)return;const A=this.bufferLength,g=this.ensureBuffer(A+w);let E=g.subarray(A-w,A);E.length===0&&(E=new Uint8Array(w));let v,M,R,I=A;switch(C){case 0:for(v=0;v<w;++v)g[I++]=k[v];break;case 1:for(v=0;v<T;++v)g[I++]=k[v];for(;v<w;++v)g[I]=g[I-T]+k[v]&255,I++;break;case 2:for(v=0;v<w;++v)g[I++]=E[v]+k[v]&255;break;case 3:for(v=0;v<T;++v)g[I++]=(E[v]>>1)+k[v];for(;v<w;++v)g[I]=(E[v]+g[I-T]>>1)+k[v]&255,I++;break;case 4:for(v=0;v<T;++v)M=E[v],R=k[v],g[I++]=M+R;for(;v<w;++v){M=E[v];const J=E[v-T],_=g[I-T],L=_+M-J;let K=L-_;K<0&&(K=-K);let $=L-M;$<0&&($=-$);let D=L-J;D<0&&(D=-D),R=k[v],g[I++]=K<=$&&K<=D?_+R:$<=D?M+R:J+R}break;default:throw new y.FormatError(`Unsupported predictor: ${C}`)}this.bufferLength+=w}}h.PredictorStream=x},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RunLengthStream=void 0;var d=p(17);class m extends d.DecodeStream{constructor(x,u){super(u),this.str=x,this.dict=x.dict}readBlock(){const x=this.str.getBytes(2);if(!x||x.length<2||x[0]===128){this.eof=!0;return}let u,w=this.bufferLength,T=x[0];if(T<128){if(u=this.ensureBuffer(w+T+1),u[w++]=x[1],T>0){const C=this.str.getBytes(T);u.set(C,w),w+=T}}else{T=257-T;const C=x[1];u=this.ensureBuffer(w+T+1);for(let k=0;k<T;k++)u[w++]=C}this.bufferLength=w}}h.RunLengthStream=m},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Font=h.ErrorFont=void 0;var d=p(2),m=p(33),y=p(36),x=p(38),u=p(37),w=p(35),T=p(39),C=p(40),k=p(41),A=p(42),g=p(43),E=p(44),v=p(14),M=p(45),R=p(3),I=p(8),J=p(46);const _=[[57344,63743],[1048576,1114109]],L=1e3,K=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],$=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function D(te){if(!te.fontMatrix||te.fontMatrix[0]===d.FONT_IDENTITY_MATRIX[0])return;const oe=.001/te.fontMatrix[0],V=te.widths;for(const W in V)V[W]*=oe;te.defaultWidth*=oe}function ne(te){if(!te.fallbackToUnicode||te.toUnicode instanceof C.IdentityToUnicodeMap)return;const oe=[];for(const V in te.fallbackToUnicode)te.toUnicode.has(V)||(oe[V]=te.fallbackToUnicode[V]);oe.length>0&&te.toUnicode.amend(oe)}class F{constructor(oe,V,W,ue,he,pe,Se,ge,de){this.originalCharCode=oe,this.fontChar=V,this.unicode=W,this.accent=ue,this.width=he,this.vmetric=pe,this.operatorListId=Se,this.isSpace=ge,this.isInFont=de}get category(){return(0,d.shadow)(this,"category",(0,x.getCharUnicodeCategory)(this.unicode),!0)}get normalizedUnicode(){return(0,d.shadow)(this,"normalizedUnicode",(0,x.reverseIfRtl)(F._NormalizedUnicodes[this.unicode]||this.unicode),!0)}static get _NormalizedUnicodes(){return(0,d.shadow)(this,"_NormalizedUnicodes",(0,x.getNormalizedUnicodes)())}}function j(te,oe){return(te<<8)+oe}function se(te,oe,V){te[oe+1]=V,te[oe]=V>>>8}function Y(te,oe){const V=(te<<8)+oe;return 32768&V?V-65536:V}function q(te){return String.fromCharCode(te>>8&255,255&te)}function Q(te){return te>32767?te=32767:te<-32768&&(te=-32768),String.fromCharCode(te>>8&255,255&te)}function N(te){const oe=te.peekBytes(4);return(0,d.bytesToString)(oe)==="ttcf"}function O(te,{type:oe,subtype:V,composite:W}){let ue,he;return function(Se){const ge=Se.peekBytes(4);return(0,R.readUint32)(ge,0)===65536||(0,d.bytesToString)(ge)==="true"}(te)||N(te)?ue=W?"CIDFontType2":"TrueType":function(Se){const ge=Se.peekBytes(4);return(0,d.bytesToString)(ge)==="OTTO"}(te)?ue=W?"CIDFontType2":"OpenType":function(Se){const ge=Se.peekBytes(2);return ge[0]===37&&ge[1]===33||ge[0]===128&&ge[1]===1}(te)?ue=W?"CIDFontType0":oe==="MMType1"?"MMType1":"Type1":function(Se){const ge=Se.peekBytes(4);return ge[0]>=1&&ge[3]>=1&&ge[3]<=4}(te)?W?(ue="CIDFontType0",he="CIDFontType0C"):(ue=oe==="MMType1"?"MMType1":"Type1",he="Type1C"):((0,d.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),ue=oe,he=V),[ue,he]}function H(te,oe){for(const V in oe)te[+V]=oe[V]}function G(te,oe,V){const W=[];let ue;for(let he=0,pe=te.length;he<pe;he++)ue=(0,x.getUnicodeForGlyph)(te[he],oe),ue!==-1&&(W[he]=ue);for(const he in V)ue=(0,x.getUnicodeForGlyph)(V[he],oe),ue!==-1&&(W[+he]=ue);return W}function le(te){return te.platform===1&&te.encoding===0&&te.language===0}function fe(te){return te.platform===3&&te.encoding===1&&te.language===1033}function ae(te,oe,V=!1){switch(oe.length){case 1:return oe.charCodeAt(0);case 2:return oe.charCodeAt(0)<<8|oe.charCodeAt(1)}const W=`Unsupported CID string (charCode ${te}): "${oe}".`;if(V)throw new d.FormatError(W);return(0,d.warn)(W),oe}function re(te,oe,V,W){const ue=Object.create(null),he=new Map,pe=[],Se=new Set;let ge=0;const de=_[ge][0];let xe=de,ve=_[ge][1];for(let Ee in te){Ee|=0;let Te=te[Ee];if(!oe(Te))continue;if(xe>ve){if(ge++,ge>=_.length){(0,d.warn)("Ran out of space in font private use area.");break}xe=_[ge][0],ve=_[ge][1]}const _e=xe++;Te===0&&(Te=V);let Oe=W.get(Ee);typeof Oe=="string"&&(Oe=Oe.codePointAt(0)),Oe&&Oe<de&&!Se.has(Te)&&(he.set(Oe,Te),Se.add(Te)),ue[_e]=Te,pe[Ee]=_e}return{toFontChar:pe,charCodeToGlyphId:ue,toUnicodeExtraMap:he,nextAvailableFontCharCode:xe}}function be(te,oe,V){const W=function(Rt,$t,dt){const ot=[];for(const Ge in Rt)Rt[Ge]>=dt||ot.push({fontCharCode:0|Ge,glyphId:Rt[Ge]});if($t)for(const[Ge,Ke]of $t)Ke>=dt||ot.push({fontCharCode:Ge,glyphId:Ke});ot.length===0&&ot.push({fontCharCode:0,glyphId:0}),ot.sort(function(Ke,rt){return Ke.fontCharCode-rt.fontCharCode});const lt=[],st=ot.length;for(let Ge=0;Ge<st;){const Ke=ot[Ge].fontCharCode,rt=[ot[Ge].glyphId];++Ge;let ze=Ke;for(;Ge<st&&ze+1===ot[Ge].fontCharCode&&(rt.push(ot[Ge].glyphId),++ze,++Ge,ze!==65535););lt.push([Ke,ze,rt])}return lt}(te,oe,V),ue=W.at(-1)[1]>65535?2:1;let he,pe,Se,ge,de="\0\0"+q(ue)+"\0\0"+(0,d.string32)(4+8*ue);for(he=W.length-1;he>=0&&!(W[he][0]<=65535);--he);const xe=he+1;W[he][0]<65535&&W[he][1]===65535&&(W[he][1]=65534);const ve=W[he][1]<65535?1:0,Ee=xe+ve,Te=M.OpenTypeFileBuilder.getSearchParams(Ee,2);let _e,Oe,Pe,je,De="",Me="",Fe="",$e="",tt="",ut=0;for(he=0,pe=xe;he<pe;he++){_e=W[he],Oe=_e[0],Pe=_e[1],De+=q(Oe),Me+=q(Pe),je=_e[2];let St=!0;for(Se=1,ge=je.length;Se<ge;++Se)if(je[Se]!==je[Se-1]+1){St=!1;break}if(St)Fe+=q(je[0]-Oe&65535),$e+=q(0);else{const Rt=2*(Ee-he)+2*ut;for(ut+=Pe-Oe+1,Fe+=q(0),$e+=q(Rt),Se=0,ge=je.length;Se<ge;++Se)tt+=q(je[Se])}}ve>0&&(Me+="",De+="",Fe+="\0",$e+="\0\0");const ct="\0\0"+q(2*Ee)+q(Te.range)+q(Te.entry)+q(Te.rangeShift)+Me+"\0\0"+De+Fe+$e+tt;let mt="",Ze="";if(ue>1){for(de+=`\0\0
`+(0,d.string32)(4+8*ue+4+ct.length),mt="",he=0,pe=W.length;he<pe;he++){_e=W[he],Oe=_e[0],je=_e[2];let St=je[0];for(Se=1,ge=je.length;Se<ge;++Se)je[Se]!==je[Se-1]+1&&(Pe=_e[0]+Se-1,mt+=(0,d.string32)(Oe)+(0,d.string32)(Pe)+(0,d.string32)(St),Oe=Pe+1,St=je[Se]);mt+=(0,d.string32)(Oe)+(0,d.string32)(_e[1])+(0,d.string32)(St)}Ze="\0\f\0\0"+(0,d.string32)(mt.length+16)+"\0\0\0\0"+(0,d.string32)(mt.length/12)}return de+"\0"+q(ct.length+4)+ct+Ze+mt}function ye(te,oe,V){V=V||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let W=0,ue=0,he=0,pe=0,Se=null,ge=0;if(oe){for(let Pe in oe){Pe|=0,(Se>Pe||!Se)&&(Se=Pe),ge<Pe&&(ge=Pe);const je=(0,x.getUnicodeRangeFor)(Pe);if(je<32)W|=1<<je;else if(je<64)ue|=1<<je-32;else if(je<96)he|=1<<je-64;else{if(!(je<123))throw new d.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");pe|=1<<je-96}}ge>65535&&(ge=65535)}else Se=0,ge=255;const de=te.bbox||[0,0,0,0],xe=V.unitsPerEm||1/(te.fontMatrix||d.FONT_IDENTITY_MATRIX)[0],ve=te.ascentScaled?1:xe/L,Ee=V.ascent||Math.round(ve*(te.ascent||de[3]));let Te=V.descent||Math.round(ve*(te.descent||de[1]));Te>0&&te.descent>0&&de[1]<0&&(Te=-Te);const _e=V.yMax||Ee,Oe=-V.yMin||-Te;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(te.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,d.string32)(W)+(0,d.string32)(ue)+(0,d.string32)(he)+(0,d.string32)(pe)+"*21*"+q(te.italicAngle?1:0)+q(Se||te.firstChar)+q(ge||te.lastChar)+q(Ee)+q(Te)+"\0d"+q(_e)+q(Oe)+"\0\0\0\0\0\0\0\0"+q(te.xHeight)+q(te.capHeight)+q(0)+q(Se||te.firstChar)+"\0"}function Ce(te){const oe=Math.floor(65536*te.italicAngle);return"\0\0\0"+(0,d.string32)(oe)+"\0\0\0\0"+(0,d.string32)(te.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function me(te){return te.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function ee(te,oe){oe||(oe=[[],[]]);const V=[oe[0][0]||"Original licence",oe[0][1]||te,oe[0][2]||"Unknown",oe[0][3]||"uniqueID",oe[0][4]||te,oe[0][5]||"Version 0.11",oe[0][6]||me(te),oe[0][7]||"Unknown",oe[0][8]||"Unknown",oe[0][9]||"Unknown"],W=[];let ue,he,pe,Se,ge;for(ue=0,he=V.length;ue<he;ue++){ge=oe[1][ue]||V[ue];const Pe=[];for(pe=0,Se=ge.length;pe<Se;pe++)Pe.push(q(ge.charCodeAt(pe)));W.push(Pe.join(""))}const de=[V,W],xe=["\0","\0"],ve=["\0\0","\0"],Ee=["\0\0","	"],Te=V.length*xe.length;let _e="\0\0"+q(Te)+q(12*Te+6),Oe=0;for(ue=0,he=xe.length;ue<he;ue++){const Pe=de[ue];for(pe=0,Se=Pe.length;pe<Se;pe++)ge=Pe[pe],_e+=xe[ue]+ve[ue]+Ee[ue]+q(pe)+q(ge.length)+q(Oe),Oe+=ge.length}return _e+=V.join("")+W.join(""),_e}h.Font=class{constructor(oe,V,W){this.name=oe,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=W.loadedName,this.isType3Font=W.isType3Font,this.missingFile=!1,this.cssFontInfo=W.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let ue=!!(W.flags&y.FontFlags.Serif);if(!ue&&!W.isSimulatedFlags){const de=oe.replace(/[,_]/g,"-").split("-")[0],xe=(0,T.getSerifFonts)();for(const ve of de.split("+"))if(xe[ve]){ue=!0;break}}this.isSerifFont=ue,this.isSymbolicFont=!!(W.flags&y.FontFlags.Symbolic),this.isMonospace=!!(W.flags&y.FontFlags.FixedPitch);let{type:he,subtype:pe}=W;this.type=he,this.subtype=pe;const Se=oe.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!Se,this.isInvalidPDFjsFont?this.fallbackName=Se[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",this.differences=W.differences,this.widths=W.widths,this.defaultWidth=W.defaultWidth,this.composite=W.composite,this.cMap=W.cMap,this.capHeight=W.capHeight/L,this.ascent=W.ascent/L,this.descent=W.descent/L,this.lineHeight=this.ascent-this.descent,this.fontMatrix=W.fontMatrix,this.bbox=W.bbox,this.defaultEncoding=W.defaultEncoding,this.toUnicode=W.toUnicode,this.toFontChar=[],W.type==="Type3"){for(let de=0;de<256;de++)this.toFontChar[de]=this.differences[de]||W.defaultEncoding[de];return}if(this.cidEncoding=W.cidEncoding||"",this.vertical=!!W.vertical,this.vertical&&(this.vmetrics=W.vmetrics,this.defaultVMetrics=W.defaultVMetrics),!V||V.isEmpty){V&&(0,d.warn)('Font file is empty in "'+oe+'" ('+this.loadedName+")"),this.fallbackToSystemFont(W);return}[he,pe]=O(V,W),he===this.type&&pe===this.subtype||(0,d.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${he}/${pe}.`);let ge;try{switch(he){case"MMType1":(0,d.info)("MMType1 font ("+oe+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const de=pe==="Type1C"||pe==="CIDFontType0C"?new k.CFFFont(V,W):new J.Type1Font(oe,V,W);D(W),ge=this.convert(oe,de,W);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",ge=this.checkAndRepair(oe,V,W),this.isOpenType&&(D(W),he="OpenType");break;default:throw new d.FormatError(`Font ${he} is not supported`)}}catch(de){(0,d.warn)(de),this.fallbackToSystemFont(W);return}ne(W),this.data=ge,this.type=he,this.subtype=pe,this.fontMatrix=W.fontMatrix,this.widths=W.widths,this.defaultWidth=W.defaultWidth,this.toUnicode=W.toUnicode,this.seacMap=W.seacMap}get renderer(){const oe=A.FontRendererFactory.create(this,y.SEAC_ANALYSIS_ENABLED);return(0,d.shadow)(this,"renderer",oe)}exportData(oe=!1){const V=oe?[...K,...$]:K,W=Object.create(null);let ue,he;for(ue of V)he=this[ue],he!==void 0&&(W[ue]=he);return W}fallbackToSystemFont(oe){this.missingFile=!0;const{name:V,type:W}=this;let ue=(0,y.normalizeFontName)(V);const he=(0,T.getStdFontMap)(),pe=(0,T.getNonStdFontMap)(),Se=!!he[ue],ge=!(!pe[ue]||!he[pe[ue]]);ue=he[ue]||pe[ue]||ue;const de=(0,g.getFontBasicMetrics)()[ue];de&&(isNaN(this.ascent)&&(this.ascent=de.ascent/L),isNaN(this.descent)&&(this.descent=de.descent/L),isNaN(this.capHeight)&&(this.capHeight=de.capHeight/L)),this.bold=/bold/gi.test(ue),this.italic=/oblique|italic/gi.test(ue),this.black=/Black/g.test(V);const xe=/Narrow/g.test(V);if(this.remeasure=(!Se||xe)&&Object.keys(this.widths).length>0,(Se||ge)&&W==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const ve=oe.cidToGidMap,Ee=[];if(H(Ee,(0,T.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(V)?H(Ee,(0,T.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(V)&&H(Ee,(0,T.getSupplementalGlyphMapForCalibri)()),ve){for(const Te in Ee){const _e=Ee[Te];ve[_e]!==void 0&&(Ee[+Te]=ve[_e])}ve.length!==this.toUnicode.length&&oe.hasIncludedToUnicodeMap&&this.toUnicode instanceof C.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Te,_e){const Oe=Ee[Te];ve[Oe]===void 0&&(Ee[+Te]=_e)})}this.toUnicode instanceof C.IdentityToUnicodeMap||this.toUnicode.forEach(function(Te,_e){Ee[+Te]=_e}),this.toFontChar=Ee,this.toUnicode=new C.ToUnicodeMap(Ee)}else if(/Symbol/i.test(ue))this.toFontChar=G(w.SymbolSetEncoding,(0,u.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(ue))/Wingdings/i.test(V)&&(0,d.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=G(w.ZapfDingbatsEncoding,(0,u.getDingbatsGlyphsUnicode)(),this.differences);else if(Se){const ve=G(this.defaultEncoding,(0,u.getGlyphsUnicode)(),this.differences);W!=="CIDFontType2"||this.cidEncoding.startsWith("Identity-")||this.toUnicode instanceof C.IdentityToUnicodeMap||this.toUnicode.forEach(function(Ee,Te){ve[+Ee]=Te}),this.toFontChar=ve}else{const ve=(0,u.getGlyphsUnicode)(),Ee=[];this.toUnicode.forEach((Te,_e)=>{if(!this.composite){const Oe=this.differences[Te]||this.defaultEncoding[Te],Pe=(0,x.getUnicodeForGlyph)(Oe,ve);Pe!==-1&&(_e=Pe)}Ee[+Te]=_e}),this.composite&&this.toUnicode instanceof C.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(V)&&H(Ee,(0,T.getGlyphMapForStandardFonts)()),this.toFontChar=Ee}ne(oe),this.loadedName=ue.split("-")[0]}checkAndRepair(oe,V,W){const ue=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function he(dt,ot){const lt=Object.create(null);lt["OS/2"]=null,lt.cmap=null,lt.head=null,lt.hhea=null,lt.hmtx=null,lt.maxp=null,lt.name=null,lt.post=null;for(let st=0;st<ot;st++){const Ge=pe(dt);ue.includes(Ge.tag)&&Ge.length!==0&&(lt[Ge.tag]=Ge)}return lt}function pe(dt){const ot=dt.getString(4),lt=dt.getInt32()>>>0,st=dt.getInt32()>>>0,Ge=dt.getInt32()>>>0,Ke=dt.pos;dt.pos=dt.start||0,dt.skip(st);const rt=dt.getBytes(Ge);return dt.pos=Ke,ot==="head"&&(rt[8]=rt[9]=rt[10]=rt[11]=0,rt[17]|=32),{tag:ot,checksum:lt,length:Ge,offset:st,data:rt}}function Se(dt){return{version:dt.getString(4),numTables:dt.getUint16(),searchRange:dt.getUint16(),entrySelector:dt.getUint16(),rangeShift:dt.getUint16()}}function ge(dt,ot,lt,st,Ge,Ke){const rt={length:0,sizeOfInstructions:0};if(lt-ot<=12)return rt;const ze=dt.subarray(ot,lt);let Ve=Y(ze[0],ze[1]);if(Ve<0)return Ve=-1,se(ze,0,Ve),st.set(ze,Ge),rt.length=ze.length,rt;let Ye,Je=10,it=0;for(Ye=0;Ye<Ve;Ye++)it=(ze[Je]<<8|ze[Je+1])+1,Je+=2;const Tt=Je,Ut=ze[Je]<<8|ze[Je+1];rt.sizeOfInstructions=Ut,Je+=2+Ut;const kt=Je;let pt=0;for(Ye=0;Ye<it;Ye++){const Xt=ze[Je++];192&Xt&&(ze[Je-1]=63&Xt);let Vt=2;2&Xt?Vt=1:16&Xt&&(Vt=0);let Ot=2;4&Xt?Ot=1:32&Xt&&(Ot=0);const At=Vt+Ot;if(pt+=At,8&Xt){const vt=ze[Je++];Ye+=vt,pt+=vt*At}}if(pt===0)return rt;let Ht=Je+pt;return Ht>ze.length?rt:!Ke&&Ut>0?(st.set(ze.subarray(0,Tt),Ge),st.set([0,0],Ge+Tt),st.set(ze.subarray(kt,Ht),Ge+Tt+2),Ht-=Ut,ze.length-Ht>3&&(Ht=Ht+3&-4),rt.length=Ht,rt):ze.length-Ht>3?(Ht=Ht+3&-4,st.set(ze.subarray(0,Ht),Ge),rt.length=Ht,rt):(st.set(ze,Ge),rt.length=ze.length,rt)}function de(dt){const ot=(V.start||0)+dt.offset;V.pos=ot;const lt=[[],[]],st=[],Ge=dt.length,Ke=ot+Ge;if(V.getUint16()!==0||Ge<6)return[lt,st];const rt=V.getUint16(),ze=V.getUint16();let Ve,Ye;for(Ve=0;Ve<rt&&V.pos+12<=Ke;Ve++){const Je={platform:V.getUint16(),encoding:V.getUint16(),language:V.getUint16(),name:V.getUint16(),length:V.getUint16(),offset:V.getUint16()};(le(Je)||fe(Je))&&st.push(Je)}for(Ve=0,Ye=st.length;Ve<Ye;Ve++){const Je=st[Ve];if(Je.length<=0)continue;const it=ot+ze+Je.offset;if(it+Je.length>Ke)continue;V.pos=it;const Tt=Je.name;if(Je.encoding){let Ut="";for(let kt=0,pt=Je.length;kt<pt;kt+=2)Ut+=String.fromCharCode(V.getUint16());lt[1][Tt]=Ut}else lt[0][Tt]=V.getString(Je.length)}return[lt,st]}const xe=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function ve(dt,ot){let lt,st,Ge,Ke,rt,ze=dt.data,Ve=0,Ye=0,Je=0;const it=[],Tt=[],Ut=[];let kt=ot.tooComplexToFollowFunctions,pt=!1,Ht=0,Xt=0;for(let Ot=ze.length;Ve<Ot;){const At=ze[Ve++];if(At===64)if(st=ze[Ve++],pt||Xt)Ve+=st;else for(lt=0;lt<st;lt++)it.push(ze[Ve++]);else if(At===65)if(st=ze[Ve++],pt||Xt)Ve+=2*st;else for(lt=0;lt<st;lt++)Ge=ze[Ve++],it.push(Ge<<8|ze[Ve++]);else if((248&At)==176)if(st=At-176+1,pt||Xt)Ve+=st;else for(lt=0;lt<st;lt++)it.push(ze[Ve++]);else if((248&At)==184)if(st=At-184+1,pt||Xt)Ve+=2*st;else for(lt=0;lt<st;lt++)Ge=ze[Ve++],it.push(Ge<<8|ze[Ve++]);else if(At!==43||kt)if(At!==44||kt){if(At===45)if(pt)pt=!1,Ye=Ve;else{if(rt=Tt.pop(),!rt){(0,d.warn)("TT: ENDF bad stack"),ot.hintsValid=!1;return}Ke=Ut.pop(),ze=rt.data,Ve=rt.i,ot.functionsStackDeltas[Ke]=it.length-rt.stackTop}else if(At===137)(pt||Xt)&&((0,d.warn)("TT: nested IDEFs not allowed"),kt=!0),pt=!0,Je=Ve;else if(At===88)++Ht;else if(At===27)Xt=Ht;else if(At===89)Xt===Ht&&(Xt=0),--Ht;else if(At===28&&!pt&&!Xt){const vt=it.at(-1);vt>0&&(Ve+=vt-1)}}else(pt||Xt)&&((0,d.warn)("TT: nested FDEFs not allowed"),kt=!0),pt=!0,Je=Ve,Ke=it.pop(),ot.functionsDefined[Ke]={data:ze,i:Ve};else if(!pt&&!Xt){if(Ke=it.at(-1),isNaN(Ke))(0,d.info)("TT: CALL empty stack (or invalid entry).");else if(ot.functionsUsed[Ke]=!0,Ke in ot.functionsStackDeltas){const vt=it.length+ot.functionsStackDeltas[Ke];if(vt<0){(0,d.warn)("TT: CALL invalid functions stack delta."),ot.hintsValid=!1;return}it.length=vt}else if(Ke in ot.functionsDefined&&!Ut.includes(Ke)){if(Tt.push({data:ze,i:Ve,stackTop:it.length-1}),Ut.push(Ke),rt=ot.functionsDefined[Ke],!rt){(0,d.warn)("TT: CALL non-existent function"),ot.hintsValid=!1;return}ze=rt.data,Ve=rt.i}}if(!pt&&!Xt){let vt=0;for(At<=142?vt=xe[At]:At>=192&&At<=223?vt=-1:At>=224&&(vt=-2),At>=113&&At<=117&&(st=it.pop(),isNaN(st)||(vt=2*-st));vt<0&&it.length>0;)it.pop(),vt++;for(;vt>0;)it.push(NaN),vt--}}ot.tooComplexToFollowFunctions=kt;const Vt=[ze];Ve>ze.length&&Vt.push(new Uint8Array(Ve-ze.length)),Je>Ye&&((0,d.warn)("TT: complementing a missing function tail"),Vt.push(new Uint8Array([34,45]))),function(At,vt){if(vt.length>1){let Wt,It,Ct=0;for(Wt=0,It=vt.length;Wt<It;Wt++)Ct+=vt[Wt].length;Ct=Ct+3&-4;const Dt=new Uint8Array(Ct);let Bt=0;for(Wt=0,It=vt.length;Wt<It;Wt++)Dt.set(vt[Wt],Bt),Bt+=vt[Wt].length;At.data=Dt,At.length=Ct}}(dt,Vt)}let Ee,Te,_e,Oe;if(N(V=new I.Stream(new Uint8Array(V.getBytes())))){const dt=function(lt,st){const{numFonts:Ge,offsetTable:Ke}=function(Ye){const Je=Ye.getString(4);(0,d.assert)(Je==="ttcf","Must be a TrueType Collection font.");const it=Ye.getUint16(),Tt=Ye.getUint16(),Ut=Ye.getInt32()>>>0,kt=[];for(let Ht=0;Ht<Ut;Ht++)kt.push(Ye.getInt32()>>>0);const pt={ttcTag:Je,majorVersion:it,minorVersion:Tt,numFonts:Ut,offsetTable:kt};switch(it){case 1:return pt;case 2:return pt.dsigTag=Ye.getInt32()>>>0,pt.dsigLength=Ye.getInt32()>>>0,pt.dsigOffset=Ye.getInt32()>>>0,pt}throw new d.FormatError(`Invalid TrueType Collection majorVersion: ${it}.`)}(lt),rt=st.split("+");let ze;for(let Ve=0;Ve<Ge;Ve++){lt.pos=(lt.start||0)+Ke[Ve];const Ye=Se(lt),Je=he(lt,Ye.numTables);if(!Je.name)throw new d.FormatError('TrueType Collection font must contain a "name" table.');const[it]=de(Je.name);for(let Tt=0,Ut=it.length;Tt<Ut;Tt++)for(let kt=0,pt=it[Tt].length;kt<pt;kt++){const Ht=it[Tt][kt]&&it[Tt][kt].replace(/\s/g,"");if(Ht){if(Ht===st)return{header:Ye,tables:Je};if(!(rt.length<2))for(const Xt of rt)Ht===Xt&&(ze={name:Xt,header:Ye,tables:Je})}}}if(ze)return(0,d.warn)(`TrueType Collection does not contain "${st}" font, falling back to "${ze.name}" font instead.`),{header:ze.header,tables:ze.tables};throw new d.FormatError(`TrueType Collection does not contain "${st}" font.`)}(V,this.name);Ee=dt.header,Te=dt.tables}else Ee=Se(V),Te=he(V,Ee.numTables);const Pe=!Te["CFF "];if(Pe){if(!Te.loca)throw new d.FormatError('Required "loca" table is not found');Te.glyf||((0,d.warn)('Required "glyf" table is not found -- trying to recover.'),Te.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const dt=W.composite&&((W.cidToGidMap||[]).length>0||!(W.cMap instanceof v.IdentityCMap));if(Ee.version==="OTTO"&&!dt||!Te.head||!Te.hhea||!Te.maxp||!Te.post)return Oe=new I.Stream(Te["CFF "].data),_e=new k.CFFFont(Oe,W),D(W),this.convert(oe,_e,W);delete Te.glyf,delete Te.loca,delete Te.fpgm,delete Te.prep,delete Te["cvt "],this.isOpenType=!0}if(!Te.maxp)throw new d.FormatError('Required "maxp" table is not found');V.pos=(V.start||0)+Te.maxp.offset;const je=V.getInt32(),De=V.getUint16();if(W.scaleFactors&&W.scaleFactors.length===De&&Pe){const{scaleFactors:dt}=W,ot=j(Te.head.data[50],Te.head.data[51]),lt=new E.GlyfTable({glyfTable:Te.glyf.data,isGlyphLocationsLong:ot,locaTable:Te.loca.data,numGlyphs:De});lt.scale(dt);const{glyf:st,loca:Ge,isLocationLong:Ke}=lt.write();Te.glyf.data=st,Te.loca.data=Ge,Ke!==!!ot&&(Te.head.data[50]=0,Te.head.data[51]=Ke?1:0);const rt=Te.hmtx.data;for(let ze=0;ze<De;ze++){const Ve=4*ze,Ye=Math.round(dt[ze]*j(rt[Ve],rt[Ve+1]));rt[Ve]=Ye>>8&255,rt[Ve+1]=255&Ye,se(rt,Ve+2,Math.round(dt[ze]*Y(rt[Ve+2],rt[Ve+3])))}}let Me=De+1,Fe=!0;Me>65535&&(Fe=!1,Me=De,(0,d.warn)("Not enough space in glyfs to duplicate first glyph."));let $e=0,tt=0;je>=65536&&Te.maxp.length>=22&&(V.pos+=8,V.getUint16()>2&&(Te.maxp.data[14]=0,Te.maxp.data[15]=2),V.pos+=4,$e=V.getUint16(),V.pos+=4,tt=V.getUint16()),Te.maxp.data[4]=Me>>8,Te.maxp.data[5]=255&Me;const ut=function(ot,lt,st,Ge){const Ke={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(ot&&ve(ot,Ke),lt&&ve(lt,Ke),ot&&function(ze,Ve){if(!ze.tooComplexToFollowFunctions)if(ze.functionsDefined.length>Ve)(0,d.warn)("TT: more functions defined than expected"),ze.hintsValid=!1;else for(let Ye=0,Je=ze.functionsUsed.length;Ye<Je;Ye++){if(Ye>Ve){(0,d.warn)("TT: invalid function id: "+Ye),ze.hintsValid=!1;return}if(ze.functionsUsed[Ye]&&!ze.functionsDefined[Ye]){(0,d.warn)("TT: undefined function: "+Ye),ze.hintsValid=!1;return}}}(Ke,Ge),st&&1&st.length){const rt=new Uint8Array(st.length+1);rt.set(st.data),st.data=rt}return Ke.hintsValid}(Te.fpgm,Te.prep,Te["cvt "],$e);if(ut||(delete Te.fpgm,delete Te.prep,delete Te["cvt "]),function(ot,lt,st,Ge,Ke,rt){if(!lt){st&&(st.data=null);return}ot.pos=(ot.start||0)+lt.offset,ot.pos+=4,ot.pos+=2,ot.pos+=2,ot.pos+=2,ot.pos+=2,ot.pos+=2,ot.pos+=2,ot.pos+=2,ot.pos+=2,ot.pos+=2;const ze=ot.getUint16();ot.pos+=8,ot.pos+=2;let Ve=ot.getUint16();ze!==0&&(2&j(Ge.data[44],Ge.data[45])||(lt.data[22]=0,lt.data[23]=0)),Ve>Ke&&((0,d.info)(`The numOfMetrics (${Ve}) should not be greater than the numGlyphs (${Ke}).`),Ve=Ke,lt.data[34]=(65280&Ve)>>8,lt.data[35]=255&Ve);const Ye=Ke-Ve-(st.length-4*Ve>>1);if(Ye>0){const Je=new Uint8Array(st.length+2*Ye);Je.set(st.data),rt&&(Je[st.length]=st.data[2],Je[st.length+1]=st.data[3]),st.data=Je}}(V,Te.hhea,Te.hmtx,Te.head,Me,Fe),!Te.head)throw new d.FormatError('Required "head" table is not found');(function(ot,lt,st){const Ge=ot.data,Ke=function(Ve,Ye,Je,it){return(Ve<<24)+(Ye<<16)+(Je<<8)+it}(Ge[0],Ge[1],Ge[2],Ge[3]);Ke>>16!=1&&((0,d.info)("Attempting to fix invalid version in head table: "+Ke),Ge[0]=0,Ge[1]=1,Ge[2]=0,Ge[3]=0);const rt=j(Ge[50],Ge[51]);if(rt<0||rt>1){(0,d.info)("Attempting to fix invalid indexToLocFormat in head table: "+rt);const ze=lt+1;if(st===ze<<1)Ge[50]=0,Ge[51]=0;else{if(st!==ze<<2)throw new d.FormatError("Could not fix indexToLocFormat: "+rt);Ge[50]=0,Ge[51]=1}}})(Te.head,De,Pe?Te.loca.length:0);let ct=Object.create(null);if(Pe){const dt=j(Te.head.data[50],Te.head.data[51]),ot=function(st,Ge,Ke,rt,ze,Ve,Ye){let Je,it,Tt;rt?(Je=4,it=function(Dt,Bt){return Dt[Bt]<<24|Dt[Bt+1]<<16|Dt[Bt+2]<<8|Dt[Bt+3]},Tt=function(Dt,Bt,Ue){Dt[Bt]=Ue>>>24&255,Dt[Bt+1]=Ue>>16&255,Dt[Bt+2]=Ue>>8&255,Dt[Bt+3]=255&Ue}):(Je=2,it=function(Dt,Bt){return Dt[Bt]<<9|Dt[Bt+1]<<1},Tt=function(Dt,Bt,Ue){Dt[Bt]=Ue>>9&255,Dt[Bt+1]=Ue>>1&255});const Ut=Ve?Ke+1:Ke,kt=Je*(1+Ut),pt=new Uint8Array(kt);pt.set(st.data.subarray(0,kt)),st.data=pt;const Ht=Ge.data,Xt=Ht.length,Vt=new Uint8Array(Xt);let Ot,At;const vt=[];for(Ot=0,At=0;Ot<Ke+1;Ot++,At+=Je){let Ct=it(pt,At);Ct>Xt&&(Ct=Xt),vt.push({index:Ot,offset:Ct,endOffset:0})}for(vt.sort((Ct,Dt)=>Ct.offset-Dt.offset),Ot=0;Ot<Ke;Ot++)vt[Ot].endOffset=vt[Ot+1].offset;for(vt.sort((Ct,Dt)=>Ct.index-Dt.index),Ot=0;Ot<Ke;Ot++){const{offset:Ct,endOffset:Dt}=vt[Ot];if(Ct!==0||Dt!==0)break;const Bt=vt[Ot+1].offset;if(Bt!==0){vt[Ot].endOffset=Bt;break}}const Wt=Object.create(null);let It=0;for(Tt(pt,0,It),Ot=0,At=Je;Ot<Ke;Ot++,At+=Je){const Ct=ge(Ht,vt[Ot].offset,vt[Ot].endOffset,Vt,It,ze),Dt=Ct.length;Dt===0&&(Wt[Ot]=!0),Ct.sizeOfInstructions>Ye&&(Ye=Ct.sizeOfInstructions),It+=Dt,Tt(pt,At,It)}if(It===0){const Ct=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Ot=0,At=Je;Ot<Ut;Ot++,At+=Je)Tt(pt,At,Ct.length);Ge.data=Ct}else if(Ve){const Ct=it(pt,Je);Vt.length>Ct+It?Ge.data=Vt.subarray(0,Ct+It):(Ge.data=new Uint8Array(Ct+It),Ge.data.set(Vt.subarray(0,It))),Ge.data.set(Vt.subarray(0,Ct),It),Tt(st.data,pt.length-Je,It+Ct)}else Ge.data=Vt.subarray(0,It);return{missingGlyphs:Wt,maxSizeOfInstructions:Ye}}(Te.loca,Te.glyf,De,dt,ut,Fe,tt);ct=ot.missingGlyphs,je>=65536&&Te.maxp.length>=22&&(Te.maxp.data[26]=ot.maxSizeOfInstructions>>8,Te.maxp.data[27]=255&ot.maxSizeOfInstructions)}if(!Te.hhea)throw new d.FormatError('Required "hhea" table is not found');Te.hhea.data[10]===0&&Te.hhea.data[11]===0&&(Te.hhea.data[10]=255,Te.hhea.data[11]=255);const mt={unitsPerEm:j(Te.head.data[18],Te.head.data[19]),yMax:j(Te.head.data[42],Te.head.data[43]),yMin:Y(Te.head.data[38],Te.head.data[39]),ascent:Y(Te.hhea.data[4],Te.hhea.data[5]),descent:Y(Te.hhea.data[6],Te.hhea.data[7]),lineGap:Y(Te.hhea.data[8],Te.hhea.data[9])};this.ascent=mt.ascent/mt.unitsPerEm,this.descent=mt.descent/mt.unitsPerEm,this.lineGap=mt.lineGap/mt.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Te.post&&function(ot,lt,st){const Ge=(V.start||0)+ot.offset;V.pos=Ge;const Ke=Ge+ot.length,rt=V.getInt32();V.skip(28);let ze,Ve,Ye=!0;switch(rt){case 65536:ze=y.MacStandardGlyphOrdering;break;case 131072:const Je=V.getUint16();if(Je!==st){Ye=!1;break}const it=[];for(Ve=0;Ve<Je;++Ve){const kt=V.getUint16();if(kt>=32768){Ye=!1;break}it.push(kt)}if(!Ye)break;const Tt=[],Ut=[];for(;V.pos<Ke;){const kt=V.getByte();for(Ut.length=kt,Ve=0;Ve<kt;++Ve)Ut[Ve]=String.fromCharCode(V.getByte());Tt.push(Ut.join(""))}for(ze=[],Ve=0;Ve<Je;++Ve){const kt=it[Ve];kt<258?ze.push(y.MacStandardGlyphOrdering[kt]):ze.push(Tt[kt-258])}break;case 196608:break;default:(0,d.warn)("Unknown/unsupported post table version "+rt),Ye=!1,lt.defaultEncoding&&(ze=lt.defaultEncoding)}return lt.glyphNames=ze,Ye}(Te.post,W,De),Te.post={tag:"post",data:Ce(W)};const Ze=[];function St(dt){return!ct[dt]}if(W.composite){const dt=W.cidToGidMap||[],ot=dt.length===0;W.cMap.forEach(function(lt,st){if(typeof st=="string"&&(st=ae(lt,st,!0)),st>65535)throw new d.FormatError("Max size of CID is 65,535");let Ge=-1;ot?Ge=st:dt[st]!==void 0&&(Ge=dt[st]),Ge>=0&&Ge<De&&St(Ge)&&(Ze[lt]=Ge)})}else{const dt=function(ze,Ve,Ye,Je){if(!ze)return(0,d.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let it,Tt=(Ve.start||0)+ze.offset;Ve.pos=Tt,Ve.skip(2);const Ut=Ve.getUint16();let kt,pt=!1;for(let vt=0;vt<Ut;vt++){const Wt=Ve.getUint16(),It=Ve.getUint16(),Ct=Ve.getInt32()>>>0;let Dt=!1;if(!kt||kt.platformId!==Wt||kt.encodingId!==It){if(Wt!==0||It!==0&&It!==1&&It!==3)if(Wt===1&&It===0)Dt=!0;else if(Wt!==3||It!==1||!Je&&kt){if(Ye&&Wt===3&&It===0){Dt=!0;let Bt=!0;if(vt<Ut-1){const Ue=Ve.peekBytes(2);j(Ue[0],Ue[1])<Wt&&(Bt=!1)}Bt&&(pt=!0)}}else Dt=!0,Ye||(pt=!0);else Dt=!0;if(Dt&&(kt={platformId:Wt,encodingId:It,offset:Ct}),pt)break}}if(kt&&(Ve.pos=Tt+kt.offset),!kt||Ve.peekByte()===-1)return(0,d.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Ht=Ve.getUint16();let Xt=!1;const Vt=[];let Ot,At;if(Ht===0){for(Ve.skip(4),Ot=0;Ot<256;Ot++){const vt=Ve.getByte();vt&&Vt.push({charCode:Ot,glyphId:vt})}Xt=!0}else if(Ht===2){Ve.skip(4);const vt=[];let Wt=0;for(let Ct=0;Ct<256;Ct++){const Dt=Ve.getUint16()>>3;vt.push(Dt),Wt=Math.max(Dt,Wt)}const It=[];for(let Ct=0;Ct<=Wt;Ct++)It.push({firstCode:Ve.getUint16(),entryCount:Ve.getUint16(),idDelta:Y(Ve.getByte(),Ve.getByte()),idRangePos:Ve.pos+Ve.getUint16()});for(let Ct=0;Ct<256;Ct++)if(vt[Ct]===0)Ve.pos=It[0].idRangePos+2*Ct,At=Ve.getUint16(),Vt.push({charCode:Ct,glyphId:At});else{const Dt=It[vt[Ct]];for(Ot=0;Ot<Dt.entryCount;Ot++){const Bt=(Ct<<8)+Ot+Dt.firstCode;Ve.pos=Dt.idRangePos+2*Ot,At=Ve.getUint16(),At!==0&&(At=(At+Dt.idDelta)%65536),Vt.push({charCode:Bt,glyphId:At})}}}else if(Ht===4){Ve.skip(4);const vt=Ve.getUint16()>>1;Ve.skip(6);const Wt=[];let It;for(It=0;It<vt;It++)Wt.push({end:Ve.getUint16()});for(Ve.skip(2),It=0;It<vt;It++)Wt[It].start=Ve.getUint16();for(It=0;It<vt;It++)Wt[It].delta=Ve.getUint16();let Ct,Dt=0;for(It=0;It<vt;It++){it=Wt[It];const Ue=Ve.getUint16();Ue?(Ct=(Ue>>1)-(vt-It),it.offsetIndex=Ct,Dt=Math.max(Dt,Ct+it.end-it.start+1)):it.offsetIndex=-1}const Bt=[];for(Ot=0;Ot<Dt;Ot++)Bt.push(Ve.getUint16());for(It=0;It<vt;It++){it=Wt[It],Tt=it.start;const Ue=it.end,nt=it.delta;for(Ct=it.offsetIndex,Ot=Tt;Ot<=Ue;Ot++)Ot!==65535&&(At=Ct<0?Ot:Bt[Ct+Ot-Tt],At=At+nt&65535,Vt.push({charCode:Ot,glyphId:At}))}}else if(Ht===6){Ve.skip(4);const vt=Ve.getUint16(),Wt=Ve.getUint16();for(Ot=0;Ot<Wt;Ot++){At=Ve.getUint16();const It=vt+Ot;Vt.push({charCode:It,glyphId:At})}}else{if(Ht!==12)return(0,d.warn)("cmap table has unsupported format: "+Ht),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};{Ve.skip(10);const vt=Ve.getInt32()>>>0;for(Ot=0;Ot<vt;Ot++){const Wt=Ve.getInt32()>>>0,It=Ve.getInt32()>>>0;let Ct=Ve.getInt32()>>>0;for(let Dt=Wt;Dt<=It;Dt++)Vt.push({charCode:Dt,glyphId:Ct++})}}}Vt.sort(function(vt,Wt){return vt.charCode-Wt.charCode});for(let vt=1;vt<Vt.length;vt++)Vt[vt-1].charCode===Vt[vt].charCode&&(Vt.splice(vt,1),vt--);return{platformId:kt.platformId,encodingId:kt.encodingId,mappings:Vt,hasShortCmap:Xt}}(Te.cmap,V,this.isSymbolicFont,W.hasEncoding),ot=dt.platformId,lt=dt.encodingId,st=dt.mappings;let Ge=[],Ke=!1;if(!W.hasEncoding||W.baseEncodingName!=="MacRomanEncoding"&&W.baseEncodingName!=="WinAnsiEncoding"||(Ge=(0,w.getEncoding)(W.baseEncodingName)),W.hasEncoding&&!this.isSymbolicFont&&(ot===3&&lt===1||ot===1&&lt===0)){const rt=(0,u.getGlyphsUnicode)();for(let ze=0;ze<256;ze++){let Ve;if(Ve=this.differences[ze]!==void 0?this.differences[ze]:Ge.length&&Ge[ze]!==""?Ge[ze]:w.StandardEncoding[ze],!Ve)continue;const Ye=(0,y.recoverGlyphName)(Ve,rt);let Je;if(ot===3&&lt===1?Je=rt[Ye]:ot===1&&lt===0&&(Je=w.MacRomanEncoding.indexOf(Ye)),Je===void 0){if(!W.glyphNames&&W.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof C.IdentityToUnicodeMap)){const it=this.toUnicode.get(ze);it&&(Je=it.codePointAt(0))}if(Je===void 0)continue}for(const it of st)if(it.charCode===Je){Ze[ze]=it.glyphId;break}}}else if(ot===0){for(const rt of st)Ze[rt.charCode]=rt.glyphId;Ke=!0}else for(const rt of st){let ze=rt.charCode;ot===3&&ze>=61440&&ze<=61695&&(ze&=255),Ze[ze]=rt.glyphId}if(W.glyphNames&&(Ge.length||this.differences.length))for(let rt=0;rt<256;++rt){if(!Ke&&Ze[rt]!==void 0)continue;const ze=this.differences[rt]||Ge[rt];if(!ze)continue;const Ve=W.glyphNames.indexOf(ze);Ve>0&&St(Ve)&&(Ze[rt]=Ve)}}Ze.length===0&&(Ze[0]=0);let Rt=Me-1;if(Fe||(Rt=0),!W.cssFontInfo){const dt=re(Ze,St,Rt,this.toUnicode);this.toFontChar=dt.toFontChar,Te.cmap={tag:"cmap",data:be(dt.charCodeToGlyphId,dt.toUnicodeExtraMap,Me)},Te["OS/2"]&&function(lt,st){st.pos=(st.start||0)+lt.offset;const Ge=st.getUint16();st.skip(60);const Ke=st.getUint16();return Ge<4&&768&Ke||st.getUint16()>st.getUint16()||(st.skip(6),st.getUint16()===0)?!1:(lt.data[8]=lt.data[9]=0,!0)}(Te["OS/2"],V)||(Te["OS/2"]={tag:"OS/2",data:ye(W,dt.charCodeToGlyphId,mt)})}if(!Pe)try{Oe=new I.Stream(Te["CFF "].data),_e=new m.CFFParser(Oe,W,y.SEAC_ANALYSIS_ENABLED).parse(),_e.duplicateFirstGlyph();const dt=new m.CFFCompiler(_e);Te["CFF "].data=dt.compile()}catch{(0,d.warn)("Failed to compile font "+W.loadedName)}if(Te.name){const[dt,ot]=de(Te.name);Te.name.data=ee(oe,dt),this.psName=dt[0][6]||null,W.composite||function(st,Ge,Ke){if(st.isInternalFont||st.hasIncludedToUnicodeMap||st.hasEncoding||st.toUnicode instanceof C.IdentityToUnicodeMap||!Ge||Ke.length===0||st.defaultEncoding===w.WinAnsiEncoding)return;for(const Ye of Ke)if(!fe(Ye))return;const rt=w.WinAnsiEncoding,ze=[],Ve=(0,u.getGlyphsUnicode)();for(const Ye in rt){const Je=rt[Ye];if(Je==="")continue;const it=Ve[Je];it!==void 0&&(ze[Ye]=String.fromCharCode(it))}ze.length>0&&st.toUnicode.amend(ze)}(W,this.isSymbolicFont,ot)}else Te.name={tag:"name",data:ee(this.name)};const $t=new M.OpenTypeFileBuilder(Ee.version);for(const dt in Te)$t.addTable(dt,Te[dt].data);return $t.toArray()}convert(oe,V,W){W.fixedPitch=!1,W.builtInEncoding&&function(Pe,je){if(Pe.isInternalFont||Pe.hasIncludedToUnicodeMap||je===Pe.defaultEncoding||Pe.toUnicode instanceof C.IdentityToUnicodeMap)return;const De=[],Me=(0,u.getGlyphsUnicode)();for(const Fe in je){if(Pe.hasEncoding&&(Pe.baseEncodingName||Pe.differences[Fe]!==void 0))continue;const $e=je[Fe],tt=(0,x.getUnicodeForGlyph)($e,Me);tt!==-1&&(De[Fe]=String.fromCharCode(tt))}De.length>0&&Pe.toUnicode.amend(De)}(W,W.builtInEncoding);let ue=1;V instanceof k.CFFFont&&(ue=V.numGlyphs-1);const he=V.getGlyphMapping(W);let pe=null,Se=he,ge=null;W.cssFontInfo||(pe=re(he,V.hasGlyphId.bind(V),ue,this.toUnicode),this.toFontChar=pe.toFontChar,Se=pe.charCodeToGlyphId,ge=pe.toUnicodeExtraMap);const de=V.numGlyphs;function xe(Oe,Pe){let je=null;for(const De in Oe)Pe===Oe[De]&&(je||(je=[]),je.push(0|De));return je}function ve(Oe,Pe){for(const je in Oe)if(Pe===Oe[je])return 0|je;return pe.charCodeToGlyphId[pe.nextAvailableFontCharCode]=Pe,pe.nextAvailableFontCharCode++}const Ee=V.seacs;if(pe&&y.SEAC_ANALYSIS_ENABLED&&Ee&&Ee.length){const Oe=W.fontMatrix||d.FONT_IDENTITY_MATRIX,Pe=V.getCharset(),je=Object.create(null);for(let De in Ee){De|=0;const Me=Ee[De],Fe=w.StandardEncoding[Me[2]],$e=w.StandardEncoding[Me[3]],tt=Pe.indexOf(Fe),ut=Pe.indexOf($e);if(tt<0||ut<0)continue;const ct={x:Me[0]*Oe[0]+Me[1]*Oe[2]+Oe[4],y:Me[0]*Oe[1]+Me[1]*Oe[3]+Oe[5]},mt=xe(he,De);if(mt)for(const Ze of mt){const St=pe.charCodeToGlyphId,Rt=ve(St,tt),$t=ve(St,ut);je[Ze]={baseFontCharCode:Rt,accentFontCharCode:$t,accentOffset:ct}}}W.seacMap=je}const Te=1/(W.fontMatrix||d.FONT_IDENTITY_MATRIX)[0],_e=new M.OpenTypeFileBuilder("OTTO");return _e.addTable("CFF ",V.data),_e.addTable("OS/2",ye(W,Se)),_e.addTable("cmap",be(Se,ge,de)),_e.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+Q(Te)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+Q(W.descent)+""+Q(W.ascent)+q(W.italicAngle?2:0)+"\0\0\0\0\0\0\0"),_e.addTable("hhea","\0\0\0"+Q(W.ascent)+Q(W.descent)+"\0\0\0\0\0\0\0\0"+Q(W.capHeight)+Q(Math.tan(W.italicAngle)*W.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+q(de)),_e.addTable("hmtx",function(){const Pe=V.charstrings,je=V.cff?V.cff.widths:null;let De="\0\0\0\0";for(let Me=1,Fe=de;Me<Fe;Me++){let $e=0;if(Pe){const tt=Pe[Me-1];$e="width"in tt?tt.width:0}else je&&($e=Math.ceil(je[Me]||0));De+=q($e)+q(0)}return De}()),_e.addTable("maxp","\0\0P\0"+q(de)),_e.addTable("name",ee(oe)),_e.addTable("post",Ce(W)),_e.toArray()}get spaceWidth(){const oe=["space","minus","one","i","I"];let V;for(const W of oe){if(W in this.widths){V=this.widths[W];break}const ue=(0,u.getGlyphsUnicode)()[W];let he=0;if(this.composite&&this.cMap.contains(ue)&&(he=this.cMap.lookup(ue),typeof he=="string"&&(he=ae(ue,he))),!he&&this.toUnicode&&(he=this.toUnicode.charCodeOf(ue)),he<=0&&(he=ue),V=this.widths[he],V)break}return V=V||this.defaultWidth,(0,d.shadow)(this,"spaceWidth",V)}_charToGlyph(oe,V=!1){let W,ue,he,pe=this._glyphCache[oe];if(pe&&pe.isSpace===V)return pe;let Se=oe;this.cMap&&this.cMap.contains(oe)&&(Se=this.cMap.lookup(oe),typeof Se=="string"&&(Se=ae(oe,Se))),ue=this.widths[Se],typeof ue!="number"&&(ue=this.defaultWidth);const ge=this.vmetrics&&this.vmetrics[Se];let de=this.toUnicode.get(oe)||oe;typeof de=="number"&&(de=String.fromCharCode(de));let xe=this.toFontChar[oe]!==void 0;if(W=this.toFontChar[oe]||oe,this.missingFile){const Te=this.differences[oe]||this.defaultEncoding[oe];Te!==".notdef"&&Te!==""||this.type!=="Type1"||(W=32),W=(0,x.mapSpecialUnicodeValues)(W)}this.isType3Font&&(he=W);let ve=null;if(this.seacMap&&this.seacMap[oe]){xe=!0;const Te=this.seacMap[oe];W=Te.baseFontCharCode,ve={fontChar:String.fromCodePoint(Te.accentFontCharCode),offset:Te.accentOffset}}let Ee="";return typeof W=="number"&&(W<=1114111?Ee=String.fromCodePoint(W):(0,d.warn)(`charToGlyph - invalid fontCharCode: ${W}`)),pe=new F(oe,Ee,de,ve,ue,ge,he,V,xe),this._glyphCache[oe]=pe}charsToGlyphs(oe){let V=this._charsCache[oe];if(V)return V;if(V=[],this.cMap){const W=Object.create(null),ue=oe.length;let he=0;for(;he<ue;){this.cMap.readCharCode(oe,he,W);const{charcode:pe,length:Se}=W;he+=Se;const ge=this._charToGlyph(pe,Se===1&&oe.charCodeAt(he-1)===32);V.push(ge)}}else for(let W=0,ue=oe.length;W<ue;++W){const he=oe.charCodeAt(W),pe=this._charToGlyph(he,he===32);V.push(pe)}return this._charsCache[oe]=V}getCharPositions(oe){const V=[];if(this.cMap){const W=Object.create(null);let ue=0;for(;ue<oe.length;){this.cMap.readCharCode(oe,ue,W);const he=W.length;V.push([ue,ue+he]),ue+=he}}else for(let W=0,ue=oe.length;W<ue;++W)V.push([W,W+1]);return V}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(oe){const V=[],W=[],ue=()=>V.length%2==1,he=this.toUnicode instanceof C.IdentityToUnicodeMap?pe=>this.toUnicode.charCodeOf(pe):pe=>this.toUnicode.charCodeOf(String.fromCodePoint(pe));for(let pe=0,Se=oe.length;pe<Se;pe++){const ge=oe.codePointAt(pe);if(ge>55295&&(ge<57344||ge>65533)&&pe++,this.toUnicode){const de=he(ge);if(de!==-1){ue()&&(V.push(W.join("")),W.length=0);for(let xe=(this.cMap?this.cMap.getCharCodeLength(de):1)-1;xe>=0;xe--)W.push(String.fromCharCode(de>>8*xe&255));continue}}ue()||(V.push(W.join("")),W.length=0),W.push(String.fromCodePoint(ge))}return V.push(W.join("")),V}},h.ErrorFont=class{constructor(oe){this.error=oe,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(oe){return[oe]}exportData(oe=!1){return{error:this.error}}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CFFTopDict=h.CFFStrings=h.CFFStandardStrings=h.CFFPrivateDict=h.CFFParser=h.CFFIndex=h.CFFHeader=h.CFFFDSelect=h.CFFCompiler=h.CFFCharset=h.CFF=void 0;var d=p(2),m=p(34),y=p(35);const x=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];h.CFFStandardStrings=x;const u=391,w=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],T=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(ne,F){ne[F-2]=ne[F-2]+ne[F-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(ne,F){ne[F-2]=ne[F-2]-ne[F-1]}},{id:"div",min:2,stackDelta:-1,stackFn(ne,F){ne[F-2]=ne[F-2]/ne[F-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(ne,F){ne[F-1]=-ne[F-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(ne,F){ne[F-2]=ne[F-2]*ne[F-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];h.CFFParser=class{constructor(F,j,se){this.bytes=F.getBytes(),this.properties=j,this.seacAnalysisEnabled=!!se}parse(){const F=this.properties,j=new C;this.cff=j;const se=this.parseHeader(),Y=this.parseIndex(se.endPos),q=this.parseIndex(Y.endPos),Q=this.parseIndex(q.endPos),N=this.parseIndex(Q.endPos),O=this.parseDict(q.obj.get(0)),H=this.createDict(M,O,j.strings);j.header=se.obj,j.names=this.parseNameIndex(Y.obj),j.strings=this.parseStringIndex(Q.obj),j.topDict=H,j.globalSubrIndex=N.obj,this.parsePrivateDict(j.topDict),j.isCIDFont=H.hasName("ROS");const G=H.getByName("CharStrings"),le=this.parseIndex(G).obj,fe=H.getByName("FontMatrix");fe&&(F.fontMatrix=fe);const ae=H.getByName("FontBBox");ae&&(F.ascent=Math.max(ae[3],ae[1]),F.descent=Math.min(ae[1],ae[3]),F.ascentScaled=!0);let re,be;if(j.isCIDFont){const Ce=this.parseIndex(H.getByName("FDArray")).obj;for(let me=0,ee=Ce.count;me<ee;++me){const te=Ce.get(me),oe=this.createDict(M,this.parseDict(te),j.strings);this.parsePrivateDict(oe),j.fdArray.push(oe)}be=null,re=this.parseCharsets(H.getByName("charset"),le.count,j.strings,!0),j.fdSelect=this.parseFDSelect(H.getByName("FDSelect"),le.count)}else re=this.parseCharsets(H.getByName("charset"),le.count,j.strings,!1),be=this.parseEncoding(H.getByName("Encoding"),F,j.strings,re.charset);j.charset=re,j.encoding=be;const ye=this.parseCharStrings({charStrings:le,localSubrIndex:H.privateDict.subrsIndex,globalSubrIndex:N.obj,fdSelect:j.fdSelect,fdArray:j.fdArray,privateDict:H.privateDict});return j.charStrings=ye.charStrings,j.seacs=ye.seacs,j.widths=ye.widths,j}parseHeader(){let F=this.bytes;const j=F.length;let se=0;for(;se<j&&F[se]!==1;)++se;if(se>=j)throw new d.FormatError("Invalid CFF header");se!==0&&((0,d.info)("cff data is shifted"),F=F.subarray(se),this.bytes=F);const Y=F[0],q=F[1],Q=F[2],N=F[3];return{obj:new k(Y,q,Q,N),endPos:Q}}parseDict(F){let j=0;function se(){let N=F[j++];return N===30?function(){let H="";const le=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],fe=F.length;for(;j<fe;){const ae=F[j++],re=ae>>4,be=15&ae;if(re===15||(H+=le[re],be===15))break;H+=le[be]}return parseFloat(H)}():N===28?(N=F[j++],N=(N<<24|F[j++]<<16)>>16,N):N===29?(N=F[j++],N=N<<8|F[j++],N=N<<8|F[j++],N=N<<8|F[j++],N):N>=32&&N<=246?N-139:N>=247&&N<=250?256*(N-247)+F[j++]+108:N>=251&&N<=254?-256*(N-251)-F[j++]-108:((0,d.warn)('CFFParser_parseDict: "'+N+'" is a reserved command.'),NaN)}let Y=[];const q=[];j=0;const Q=F.length;for(;j<Q;){let N=F[j];N<=21?(N===12&&(N=N<<8|F[++j]),q.push([N,Y]),Y=[],++j):Y.push(se())}return q}parseIndex(F){const j=new g,se=this.bytes,Y=se[F++]<<8|se[F++],q=[];let Q,N,O=F;if(Y!==0){const H=se[F++],G=F+(Y+1)*H-1;for(Q=0,N=Y+1;Q<N;++Q){let le=0;for(let fe=0;fe<H;++fe)le<<=8,le+=se[F++];q.push(G+le)}O=q[Y]}for(Q=0,N=q.length-1;Q<N;++Q){const H=q[Q],G=q[Q+1];j.add(se.subarray(H,G))}return{obj:j,endPos:O}}parseNameIndex(F){const j=[];for(let se=0,Y=F.count;se<Y;++se){const q=F.get(se);j.push((0,d.bytesToString)(q))}return j}parseStringIndex(F){const j=new A;for(let se=0,Y=F.count;se<Y;++se){const q=F.get(se);j.add((0,d.bytesToString)(q))}return j}createDict(F,j,se){const Y=new F(se);for(const[q,Q]of j)Y.setByKey(q,Q);return Y}parseCharString(F,j,se,Y){if(!j||F.callDepth>10)return!1;let q=F.stackSize;const Q=F.stack;let N=j.length;for(let O=0;O<N;){const H=j[O++];let G=null;if(H===12){const le=j[O++];le===0?(j[O-2]=139,j[O-1]=22,q=0):G=T[le]}else if(H===28)Q[q]=(j[O]<<24|j[O+1]<<16)>>16,O+=2,q++;else if(H===14){if(q>=4&&(q-=4,this.seacAnalysisEnabled))return F.seac=Q.slice(q,q+4),!1;G=w[H]}else if(H>=32&&H<=246)Q[q]=H-139,q++;else if(H>=247&&H<=254)Q[q]=H<251?(H-247<<8)+j[O]+108:-(H-251<<8)-j[O]-108,O++,q++;else if(H===255)Q[q]=(j[O]<<24|j[O+1]<<16|j[O+2]<<8|j[O+3])/65536,O+=4,q++;else if(H===19||H===20)F.hints+=q>>1,O+=F.hints+7>>3,q%=2,G=w[H];else{if(H===10||H===29){let le;if(le=H===10?se:Y,!le)return G=w[H],(0,d.warn)("Missing subrsIndex for "+G.id),!1;let fe=32768;le.count<1240?fe=107:le.count<33900&&(fe=1131);const ae=Q[--q]+fe;if(ae<0||ae>=le.count||isNaN(ae))return G=w[H],(0,d.warn)("Out of bounds subrIndex for "+G.id),!1;if(F.stackSize=q,F.callDepth++,!this.parseCharString(F,le.get(ae),se,Y))return!1;F.callDepth--,q=F.stackSize;continue}if(H===11)return F.stackSize=q,!0;if(H===0&&O===j.length)j[O-1]=14,G=w[14];else{if(H===9){j.copyWithin(O-1,O,-1),O-=1,N-=1;continue}G=w[H]}}if(G){if(G.stem&&(F.hints+=q>>1,H===3||H===23?F.hasVStems=!0:F.hasVStems&&(H===1||H===18)&&((0,d.warn)("CFF stem hints are in wrong order"),j[O-1]=H===1?3:23)),"min"in G&&!F.undefStack&&q<G.min)return(0,d.warn)("Not enough parameters for "+G.id+"; actual: "+q+", expected: "+G.min),q===0?(j[O-1]=14,!0):!1;F.firstStackClearing&&G.stackClearing&&(F.firstStackClearing=!1,q-=G.min,q>=2&&G.stem?q%=2:q>1&&(0,d.warn)("Found too many parameters for stack-clearing command"),q>0&&(F.width=Q[q-1])),"stackDelta"in G?("stackFn"in G&&G.stackFn(Q,q),q+=G.stackDelta):G.stackClearing?q=0:G.resetStack?(q=0,F.undefStack=!1):G.undefStack&&(q=0,F.undefStack=!0,F.firstStackClearing=!1)}}return N<j.length&&j.fill(14,N),F.stackSize=q,!0}parseCharStrings({charStrings:F,localSubrIndex:j,globalSubrIndex:se,fdSelect:Y,fdArray:q,privateDict:Q}){const N=[],O=[],H=F.count;for(let G=0;G<H;G++){const le=F.get(G),fe={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let ae=!0,re=null,be=Q;if(Y&&q.length){const ye=Y.getFDIndex(G);ye===-1&&((0,d.warn)("Glyph index is not in fd select."),ae=!1),ye>=q.length&&((0,d.warn)("Invalid fd index for glyph index."),ae=!1),ae&&(be=q[ye].privateDict,re=be.subrsIndex)}else j&&(re=j);if(ae&&(ae=this.parseCharString(fe,le,re,se)),fe.width!==null){const ye=be.getByName("nominalWidthX");O[G]=ye+fe.width}else{const ye=be.getByName("defaultWidthX");O[G]=ye}fe.seac!==null&&(N[G]=fe.seac),ae||F.set(G,new Uint8Array([14]))}return{charStrings:F,seacs:N,widths:O}}emptyPrivateDictionary(F){const j=this.createDict(I,[],F.strings);F.setByKey(18,[0,0]),F.privateDict=j}parsePrivateDict(F){if(!F.hasName("Private")){this.emptyPrivateDictionary(F);return}const j=F.getByName("Private");if(!Array.isArray(j)||j.length!==2){F.removeByName("Private");return}const se=j[0],Y=j[1];if(se===0||Y>=this.bytes.length){this.emptyPrivateDictionary(F);return}const q=Y+se,Q=this.bytes.subarray(Y,q),N=this.parseDict(Q),O=this.createDict(I,N,F.strings);if(F.privateDict=O,O.getByName("ExpansionFactor")===0&&O.setByName("ExpansionFactor",.06),!O.getByName("Subrs"))return;const H=O.getByName("Subrs"),G=Y+H;if(H===0||G>=this.bytes.length){this.emptyPrivateDictionary(F);return}const le=this.parseIndex(G);O.subrsIndex=le.obj}parseCharsets(F,j,se,Y){if(F===0)return new _(!0,J.ISO_ADOBE,m.ISOAdobeCharset);if(F===1)return new _(!0,J.EXPERT,m.ExpertCharset);if(F===2)return new _(!0,J.EXPERT_SUBSET,m.ExpertSubsetCharset);const q=this.bytes,Q=F,N=q[F++],O=[Y?0:".notdef"];let H,G,le;switch(j-=1,N){case 0:for(le=0;le<j;le++)H=q[F++]<<8|q[F++],O.push(Y?H:se.get(H));break;case 1:for(;O.length<=j;)for(H=q[F++]<<8|q[F++],G=q[F++],le=0;le<=G;le++)O.push(Y?H++:se.get(H++));break;case 2:for(;O.length<=j;)for(H=q[F++]<<8|q[F++],G=q[F++]<<8|q[F++],le=0;le<=G;le++)O.push(Y?H++:se.get(H++));break;default:throw new d.FormatError("Unknown charset format")}const fe=F,ae=q.subarray(Q,fe);return new _(!1,N,O,ae)}parseEncoding(F,j,se,Y){const q=Object.create(null),Q=this.bytes;let N,O,H,G=!1,le=null;if(F===0||F===1){G=!0,N=F;const fe=F?y.ExpertEncoding:y.StandardEncoding;for(O=0,H=Y.length;O<H;O++){const ae=fe.indexOf(Y[O]);ae!==-1&&(q[ae]=O)}}else{const fe=F;switch(N=Q[F++],127&N){case 0:const re=Q[F++];for(O=1;O<=re;O++)q[Q[F++]]=O;break;case 1:const be=Q[F++];let ye=1;for(O=0;O<be;O++){const Ce=Q[F++],me=Q[F++];for(let ee=Ce;ee<=Ce+me;ee++)q[ee]=ye++}break;default:throw new d.FormatError(`Unknown encoding format: ${N} in CFF`)}const ae=F;128&N&&(Q[fe]&=127,function(){const be=Q[F++];for(O=0;O<be;O++){const ye=Q[F++],Ce=(Q[F++]<<8)+(255&Q[F++]);q[ye]=Y.indexOf(se.get(Ce))}}()),le=Q.subarray(fe,ae)}return N&=127,new L(G,N,q,le)}parseFDSelect(F,j){const se=this.bytes,Y=se[F++],q=[];let Q;switch(Y){case 0:for(Q=0;Q<j;++Q){const O=se[F++];q.push(O)}break;case 3:const N=se[F++]<<8|se[F++];for(Q=0;Q<N;++Q){let O=se[F++]<<8|se[F++];Q===0&&O!==0&&((0,d.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),O=0);const H=se[F++],G=se[F]<<8|se[F+1];for(let le=O;le<G;++le)q.push(H)}F+=2;break;default:throw new d.FormatError(`parseFDSelect: Unknown format "${Y}".`)}if(q.length!==j)throw new d.FormatError("parseFDSelect: Invalid font data.");return new K(Y,q)}};class C{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new A,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,d.warn)("Not enough space in charstrings to duplicate first glyph.");return}const F=this.charStrings.get(0);this.charStrings.add(F),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(F){return F<0||F>=this.charStrings.count?!1:this.charStrings.get(F).length>0}}h.CFF=C;class k{constructor(F,j,se,Y){this.major=F,this.minor=j,this.hdrSize=se,this.offSize=Y}}h.CFFHeader=k;class A{constructor(){this.strings=[]}get(F){return F>=0&&F<=390?x[F]:F-u<=this.strings.length?this.strings[F-u]:x[0]}getSID(F){let j=x.indexOf(F);return j!==-1?j:(j=this.strings.indexOf(F),j!==-1?j+u:-1)}add(F){this.strings.push(F)}get count(){return this.strings.length}}h.CFFStrings=A;class g{constructor(){this.objects=[],this.length=0}add(F){this.length+=F.length,this.objects.push(F)}set(F,j){this.length+=j.length-this.objects[F].length,this.objects[F]=j}get(F){return this.objects[F]}get count(){return this.objects.length}}h.CFFIndex=g;class E{constructor(F,j){this.keyToNameMap=F.keyToNameMap,this.nameToKeyMap=F.nameToKeyMap,this.defaults=F.defaults,this.types=F.types,this.opcodes=F.opcodes,this.order=F.order,this.strings=j,this.values=Object.create(null)}setByKey(F,j){if(!(F in this.keyToNameMap))return!1;if(j.length===0)return!0;for(const Y of j)if(isNaN(Y))return(0,d.warn)(`Invalid CFFDict value: "${j}" for key "${F}".`),!0;const se=this.types[F];return se!=="num"&&se!=="sid"&&se!=="offset"||(j=j[0]),this.values[F]=j,!0}setByName(F,j){if(!(F in this.nameToKeyMap))throw new d.FormatError(`Invalid dictionary name "${F}"`);this.values[this.nameToKeyMap[F]]=j}hasName(F){return this.nameToKeyMap[F]in this.values}getByName(F){if(!(F in this.nameToKeyMap))throw new d.FormatError(`Invalid dictionary name ${F}"`);const j=this.nameToKeyMap[F];return j in this.values?this.values[j]:this.defaults[j]}removeByName(F){delete this.values[this.nameToKeyMap[F]]}static createTables(F){const j={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const se of F){const Y=Array.isArray(se[0])?(se[0][0]<<8)+se[0][1]:se[0];j.keyToNameMap[Y]=se[1],j.nameToKeyMap[se[1]]=Y,j.types[Y]=se[2],j.defaults[Y]=se[3],j.opcodes[Y]=Array.isArray(se[0])?se[0]:[se[0]],j.order.push(Y)}return j}}const v=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class M extends E{static get tables(){return(0,d.shadow)(this,"tables",this.createTables(v))}constructor(F){super(M.tables,F),this.privateDict=null}}h.CFFTopDict=M;const R=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class I extends E{static get tables(){return(0,d.shadow)(this,"tables",this.createTables(R))}constructor(F){super(I.tables,F),this.subrsIndex=null}}h.CFFPrivateDict=I;const J={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class _{constructor(F,j,se,Y){this.predefined=F,this.format=j,this.charset=se,this.raw=Y}}h.CFFCharset=_;class L{constructor(F,j,se,Y){this.predefined=F,this.format=j,this.encoding=se,this.raw=Y}}class K{constructor(F,j){this.format=F,this.fdSelect=j}getFDIndex(F){return F<0||F>=this.fdSelect.length?-1:this.fdSelect[F]}}h.CFFFDSelect=K;class ${constructor(){this.offsets=Object.create(null)}isTracking(F){return F in this.offsets}track(F,j){if(F in this.offsets)throw new d.FormatError(`Already tracking location of ${F}`);this.offsets[F]=j}offset(F){for(const j in this.offsets)this.offsets[j]+=F}setEntryLocation(F,j,se){if(!(F in this.offsets))throw new d.FormatError(`Not tracking location of ${F}`);const Y=se.data,q=this.offsets[F];for(let Q=0,N=j.length;Q<N;++Q){const O=5*Q+q,H=O+1,G=O+2,le=O+3,fe=O+4;if(Y[O]!==29||Y[H]!==0||Y[G]!==0||Y[le]!==0||Y[fe]!==0)throw new d.FormatError("writing to an offset that is not empty");const ae=j[Q];Y[O]=29,Y[H]=ae>>24&255,Y[G]=ae>>16&255,Y[le]=ae>>8&255,Y[fe]=255&ae}}}class D{constructor(F){this.cff=F}compile(){const F=this.cff,j={data:[],length:0,add(fe){this.data=this.data.concat(fe),this.length=this.data.length}},se=this.compileHeader(F.header);j.add(se);const Y=this.compileNameIndex(F.names);if(j.add(Y),F.isCIDFont&&F.topDict.hasName("FontMatrix")){const fe=F.topDict.getByName("FontMatrix");F.topDict.removeByName("FontMatrix");for(const ae of F.fdArray){let re=fe.slice(0);ae.hasName("FontMatrix")&&(re=d.Util.transform(re,ae.getByName("FontMatrix"))),ae.setByName("FontMatrix",re)}}const q=F.topDict.getByName("XUID");q&&q.length>16&&F.topDict.removeByName("XUID"),F.topDict.setByName("charset",0);let Q=this.compileTopDicts([F.topDict],j.length,F.isCIDFont);j.add(Q.output);const N=Q.trackers[0],O=this.compileStringIndex(F.strings.strings);j.add(O);const H=this.compileIndex(F.globalSubrIndex);if(j.add(H),F.encoding&&F.topDict.hasName("Encoding"))if(F.encoding.predefined)N.setEntryLocation("Encoding",[F.encoding.format],j);else{const fe=this.compileEncoding(F.encoding);N.setEntryLocation("Encoding",[j.length],j),j.add(fe)}const G=this.compileCharset(F.charset,F.charStrings.count,F.strings,F.isCIDFont);N.setEntryLocation("charset",[j.length],j),j.add(G);const le=this.compileCharStrings(F.charStrings);if(N.setEntryLocation("CharStrings",[j.length],j),j.add(le),F.isCIDFont){N.setEntryLocation("FDSelect",[j.length],j);const fe=this.compileFDSelect(F.fdSelect);j.add(fe),Q=this.compileTopDicts(F.fdArray,j.length,!0),N.setEntryLocation("FDArray",[j.length],j),j.add(Q.output);const ae=Q.trackers;this.compilePrivateDicts(F.fdArray,ae,j)}return this.compilePrivateDicts([F.topDict],[N],j),j.add([0]),j.data}encodeNumber(F){return Number.isInteger(F)?this.encodeInteger(F):this.encodeFloat(F)}static get EncodeFloatRegExp(){return(0,d.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(F){let j=F.toString();const se=D.EncodeFloatRegExp.exec(j);if(se){const O=parseFloat("1e"+((se[2]?+se[2]:0)+se[1].length));j=(Math.round(F*O)/O).toString()}let Y,q,Q="";for(Y=0,q=j.length;Y<q;++Y){const O=j[Y];Q+=O==="e"?j[++Y]==="-"?"c":"b":O==="."?"a":O==="-"?"e":O}Q+=1&Q.length?"f":"ff";const N=[30];for(Y=0,q=Q.length;Y<q;Y+=2)N.push(parseInt(Q.substring(Y,Y+2),16));return N}encodeInteger(F){let j;return j=F>=-107&&F<=107?[F+139]:F>=108&&F<=1131?[247+((F-=108)>>8),255&F]:F>=-1131&&F<=-108?[251+((F=-F-108)>>8),255&F]:F>=-32768&&F<=32767?[28,F>>8&255,255&F]:[29,F>>24&255,F>>16&255,F>>8&255,255&F],j}compileHeader(F){return[F.major,F.minor,4,F.offSize]}compileNameIndex(F){const j=new g;for(const se of F){const Y=Math.min(se.length,127);let q=new Array(Y);for(let Q=0;Q<Y;Q++){let N=se[Q];(N<"!"||N>"~"||N==="["||N==="]"||N==="("||N===")"||N==="{"||N==="}"||N==="<"||N===">"||N==="/"||N==="%")&&(N="_"),q[Q]=N}q=q.join(""),q===""&&(q="Bad_Font_Name"),j.add((0,d.stringToBytes)(q))}return this.compileIndex(j)}compileTopDicts(F,j,se){const Y=[];let q=new g;for(const Q of F){se&&(Q.removeByName("CIDFontVersion"),Q.removeByName("CIDFontRevision"),Q.removeByName("CIDFontType"),Q.removeByName("CIDCount"),Q.removeByName("UIDBase"));const N=new $,O=this.compileDict(Q,N);Y.push(N),q.add(O),N.offset(j)}return q=this.compileIndex(q,Y),{trackers:Y,output:q}}compilePrivateDicts(F,j,se){for(let Y=0,q=F.length;Y<q;++Y){const Q=F[Y],N=Q.privateDict;if(!N||!Q.hasName("Private"))throw new d.FormatError("There must be a private dictionary.");const O=new $,H=this.compileDict(N,O);let G=se.length;if(O.offset(G),H.length||(G=0),j[Y].setEntryLocation("Private",[H.length,G],se),se.add(H),N.subrsIndex&&N.hasName("Subrs")){const le=this.compileIndex(N.subrsIndex);O.setEntryLocation("Subrs",[H.length],se),se.add(le)}}}compileDict(F,j){const se=[];for(const Y of F.order){if(!(Y in F.values))continue;let q=F.values[Y],Q=F.types[Y];if(Array.isArray(Q)||(Q=[Q]),Array.isArray(q)||(q=[q]),q.length!==0){for(let N=0,O=Q.length;N<O;++N){const H=Q[N],G=q[N];switch(H){case"num":case"sid":se.push(...this.encodeNumber(G));break;case"offset":const le=F.keyToNameMap[Y];j.isTracking(le)||j.track(le,se.length),se.push(29,0,0,0,0);break;case"array":case"delta":se.push(...this.encodeNumber(G));for(let fe=1,ae=q.length;fe<ae;++fe)se.push(...this.encodeNumber(q[fe]));break;default:throw new d.FormatError(`Unknown data type of ${H}`)}}se.push(...F.opcodes[Y])}}return se}compileStringIndex(F){const j=new g;for(const se of F)j.add((0,d.stringToBytes)(se));return this.compileIndex(j)}compileGlobalSubrIndex(){const F=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(F))}compileCharStrings(F){const j=new g;for(let se=0;se<F.count;se++){const Y=F.get(se);Y.length!==0?j.add(Y):j.add(new Uint8Array([139,14]))}return this.compileIndex(j)}compileCharset(F,j,se,Y){let q;const Q=j-1;if(Y)q=new Uint8Array([2,0,0,Q>>8&255,255&Q]);else{q=new Uint8Array(1+2*Q),q[0]=0;let N=0;const O=F.charset.length;let H=!1;for(let G=1;G<q.length;G+=2){let le=0;if(N<O){const fe=F.charset[N++];le=se.getSID(fe),le===-1&&(le=0,H||(H=!0,(0,d.warn)(`Couldn't find ${fe} in CFF strings`)))}q[G]=le>>8&255,q[G+1]=255&le}}return this.compileTypedArray(q)}compileEncoding(F){return this.compileTypedArray(F.raw)}compileFDSelect(F){const j=F.format;let se,Y;switch(j){case 0:for(se=new Uint8Array(1+F.fdSelect.length),se[0]=j,Y=0;Y<F.fdSelect.length;Y++)se[Y+1]=F.fdSelect[Y];break;case 3:const q=0;let Q=F.fdSelect[0];const N=[j,0,0,q>>8&255,255&q,Q];for(Y=1;Y<F.fdSelect.length;Y++){const H=F.fdSelect[Y];H!==Q&&(N.push(Y>>8&255,255&Y,H),Q=H)}const O=(N.length-3)/3;N[1]=O>>8&255,N[2]=255&O,N.push(Y>>8&255,255&Y),se=new Uint8Array(N)}return this.compileTypedArray(se)}compileTypedArray(F){const j=[];for(let se=0,Y=F.length;se<Y;++se)j[se]=F[se];return j}compileIndex(F,j=[]){const se=F.objects,Y=se.length;if(Y===0)return[0,0];const q=[Y>>8&255,255&Y];let Q,N,O=1;for(Q=0;Q<Y;++Q)O+=se[Q].length;N=O<256?1:O<65536?2:O<16777216?3:4,q.push(N);let H=1;for(Q=0;Q<Y+1;Q++)N===1?q.push(255&H):N===2?q.push(H>>8&255,255&H):N===3?q.push(H>>16&255,H>>8&255,255&H):q.push(H>>>24&255,H>>16&255,H>>8&255,255&H),se[Q]&&(H+=se[Q].length);for(Q=0;Q<Y;Q++)j[Q]&&j[Q].offset(q.length),q.push(...se[Q]);return q}}h.CFFCompiler=D},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ISOAdobeCharset=h.ExpertSubsetCharset=h.ExpertCharset=void 0,h.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],h.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],h.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ZapfDingbatsEncoding=h.WinAnsiEncoding=h.SymbolSetEncoding=h.StandardEncoding=h.MacRomanEncoding=h.ExpertEncoding=void 0,h.getEncoding=function(C){switch(C){case"WinAnsiEncoding":return x;case"StandardEncoding":return y;case"MacRomanEncoding":return m;case"SymbolSetEncoding":return u;case"ZapfDingbatsEncoding":return w;case"ExpertEncoding":return p;case"MacExpertEncoding":return d;default:return null}};const p=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];h.ExpertEncoding=p;const d=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],m=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];h.MacRomanEncoding=m;const y=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];h.StandardEncoding=y;const x=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];h.WinAnsiEncoding=x;const u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];h.SymbolSetEncoding=u;const w=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];h.ZapfDingbatsEncoding=w},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SEAC_ANALYSIS_ENABLED=h.MacStandardGlyphOrdering=h.FontFlags=void 0,h.normalizeFontName=function(C){return C.replace(/[,_]/g,"-").replace(/\s/g,"")},h.recoverGlyphName=w,h.type1FontGlyphMapping=function(C,k,A){const g=Object.create(null);let E,v,M;const R=!!(C.flags&u.Symbolic);if(C.isInternalFont)for(M=k,v=0;v<M.length;v++)E=A.indexOf(M[v]),g[v]=E>=0?E:0;else if(C.baseEncodingName)for(M=(0,d.getEncoding)(C.baseEncodingName),v=0;v<M.length;v++)E=A.indexOf(M[v]),g[v]=E>=0?E:0;else if(R)for(v in k)g[v]=k[v];else for(M=d.StandardEncoding,v=0;v<M.length;v++)E=A.indexOf(M[v]),g[v]=E>=0?E:0;const I=C.differences;let J;if(I)for(v in I){const _=I[v];if(E=A.indexOf(_),E===-1){J||(J=(0,m.getGlyphsUnicode)());const L=w(_,J);L!==_&&(E=A.indexOf(L))}g[v]=E>=0?E:0}return g};var d=p(35),m=p(37),y=p(38),x=p(2);h.SEAC_ANALYSIS_ENABLED=!0;const u={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};h.FontFlags=u,h.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function w(T,C){if(C[T]!==void 0)return T;const k=(0,y.getUnicodeForGlyph)(T,C);if(k!==-1){for(const A in C)if(C[A]===k)return A}return(0,x.info)("Unable to recover a standard glyph name for: "+T),T}},(f,h,p)=>{p.r(h),p.d(h,{getDingbatsGlyphsUnicode:()=>y,getGlyphsUnicode:()=>m});var d=p(3);const m=(0,d.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"f_f_i",64259,"ffl",64260,"f_f_l",64260,"fi",64257,"f_i",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"f_l",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),y=(0,d.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(f,h,p)=>{p.r(h),p.d(h,{clearUnicodeCaches:()=>E,getCharUnicodeCategory:()=>g,getNormalizedUnicodes:()=>T,getUnicodeForGlyph:()=>x,getUnicodeRangeFor:()=>w,mapSpecialUnicodeValues:()=>y,reverseIfRtl:()=>C});var d=p(3);const m=(0,d.getLookupTableFactory)(function(v){v[63721]=169,v[63193]=169,v[63720]=174,v[63194]=174,v[63722]=8482,v[63195]=8482,v[63729]=9127,v[63730]=9128,v[63731]=9129,v[63740]=9131,v[63741]=9132,v[63742]=9133,v[63726]=9121,v[63727]=9122,v[63728]=9123,v[63737]=9124,v[63738]=9125,v[63739]=9126,v[63723]=9115,v[63724]=9116,v[63725]=9117,v[63734]=9118,v[63735]=9119,v[63736]=9120});function y(v){return v>=65520&&v<=65535?0:v>=62976&&v<=63743?m()[v]||v:v===173?45:v}function x(v,M){let R=M[v];if(R!==void 0)return R;if(!v)return-1;if(v[0]==="u"){const I=v.length;let J;if(I===7&&v[1]==="n"&&v[2]==="i")J=v.substring(3);else{if(!(I>=5&&I<=7))return-1;J=v.substring(1)}if(J===J.toUpperCase()&&(R=parseInt(J,16),R>=0))return R}return-1}const u=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function w(v){for(let M=0,R=u.length;M<R;M++){const I=u[M];if(v>=I.begin&&v<I.end)return M}return-1}const T=(0,d.getArrayLookupTableFactory)(function(){return[""," ",""," ",""," ","","",""," ","","IJ","","ij","","L","","l","","n","","s","","D","","D","","d","","LJ","","Lj","","lj","","NJ","","Nj","","nj","","DZ","","Dz","","dz",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","a",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","",".","","..","","...","","","","","","","","","","!!",""," ","","??","","?!","","!?","","",""," ","","Rs","","a/c","","a/s","","C","","c/o","","c/u","","","","F","","No","","TEL","","","","","","","","","","FAX","","I","","II","","III","","IV","","V","","VI","","VII","","VIII","","IX","","X","","XI","","XII","","L","","C","","D","","M","","i","","ii","","iii","","iv","","v","","vi","","vii","","viii","","ix","","x","","xi","","xii","","l","","c","","d","","m","","","","","","","","","","(1)","","(2)","","(3)","","(4)","","(5)","","(6)","","(7)","","(8)","","(9)","","(10)","","(11)","","(12)","","(13)","","(14)","","(15)","","(16)","","(17)","","(18)","","(19)","","(20)","","1.","","2.","","3.","","4.","","5.","","6.","","7.","","8.","","9.","","10.","","11.","","12.","","13.","","14.","","15.","","16.","","17.","","18.","","19.","","20.","","(a)","","(b)","","(c)","","(d)","","(e)","","(f)","","(g)","","(h)","","(i)","","(j)","","(k)","","(l)","","(m)","","(n)","","(o)","","(p)","","(q)","","(r)","","(s)","","(t)","","(u)","","(v)","","(w)","","(x)","","(y)","","(z)","","","","::=","","==","","===","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","0","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","25","","26","","27","","28","","29","","30","","31","","ff","","fi","","fl","","ffi","","ffl","","t","","st","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","","_","","_","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]});function C(v){const M=v.length;if(M<=1||!function(J){let _=u[13];return J>=_.begin&&J<_.end?!0:(_=u[11],J>=_.begin&&J<_.end)}(v.charCodeAt(0)))return v;const R=[];for(let I=M-1;I>=0;I--)R.push(v[I]);return R.join("")}const k=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),A=new Map;function g(v){const M=A.get(v);if(M)return M;const R=v.match(k),I={isWhitespace:!(!R||!R[1]),isZeroWidthDiacritic:!(!R||!R[2]),isInvisibleFormatMark:!(!R||!R[3])};return A.set(v,I),I}function E(){A.clear()}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getSerifFonts=h.getNonStdFontMap=h.getGlyphMapForStandardFonts=h.getFontNameToFileMap=void 0,h.getStandardFontName=function(E){const v=(0,m.normalizeFontName)(E);return y()[v]},h.getSymbolsFonts=h.getSupplementalGlyphMapForCalibri=h.getSupplementalGlyphMapForArialBlack=h.getStdFontMap=void 0;var d=p(3),m=p(36);const y=(0,d.getLookupTableFactory)(function(g){g["Times-Roman"]="Times-Roman",g.Helvetica="Helvetica",g.Courier="Courier",g.Symbol="Symbol",g["Times-Bold"]="Times-Bold",g["Helvetica-Bold"]="Helvetica-Bold",g["Courier-Bold"]="Courier-Bold",g.ZapfDingbats="ZapfDingbats",g["Times-Italic"]="Times-Italic",g["Helvetica-Oblique"]="Helvetica-Oblique",g["Courier-Oblique"]="Courier-Oblique",g["Times-BoldItalic"]="Times-BoldItalic",g["Helvetica-BoldOblique"]="Helvetica-BoldOblique",g["Courier-BoldOblique"]="Courier-BoldOblique",g.ArialNarrow="Helvetica",g["ArialNarrow-Bold"]="Helvetica-Bold",g["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",g["ArialNarrow-Italic"]="Helvetica-Oblique",g.ArialBlack="Helvetica",g["ArialBlack-Bold"]="Helvetica-Bold",g["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",g["ArialBlack-Italic"]="Helvetica-Oblique",g["Arial-Black"]="Helvetica",g["Arial-Black-Bold"]="Helvetica-Bold",g["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",g["Arial-Black-Italic"]="Helvetica-Oblique",g.Arial="Helvetica",g["Arial-Bold"]="Helvetica-Bold",g["Arial-BoldItalic"]="Helvetica-BoldOblique",g["Arial-Italic"]="Helvetica-Oblique",g.ArialMT="Helvetica",g["Arial-BoldItalicMT"]="Helvetica-BoldOblique",g["Arial-BoldMT"]="Helvetica-Bold",g["Arial-ItalicMT"]="Helvetica-Oblique",g.ArialUnicodeMS="Helvetica",g["ArialUnicodeMS-Bold"]="Helvetica-Bold",g["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",g["ArialUnicodeMS-Italic"]="Helvetica-Oblique",g["Courier-BoldItalic"]="Courier-BoldOblique",g["Courier-Italic"]="Courier-Oblique",g.CourierNew="Courier",g["CourierNew-Bold"]="Courier-Bold",g["CourierNew-BoldItalic"]="Courier-BoldOblique",g["CourierNew-Italic"]="Courier-Oblique",g["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",g["CourierNewPS-BoldMT"]="Courier-Bold",g["CourierNewPS-ItalicMT"]="Courier-Oblique",g.CourierNewPSMT="Courier",g["Helvetica-BoldItalic"]="Helvetica-BoldOblique",g["Helvetica-Italic"]="Helvetica-Oblique",g["Symbol-Bold"]="Symbol",g["Symbol-BoldItalic"]="Symbol",g["Symbol-Italic"]="Symbol",g.TimesNewRoman="Times-Roman",g["TimesNewRoman-Bold"]="Times-Bold",g["TimesNewRoman-BoldItalic"]="Times-BoldItalic",g["TimesNewRoman-Italic"]="Times-Italic",g.TimesNewRomanPS="Times-Roman",g["TimesNewRomanPS-Bold"]="Times-Bold",g["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",g["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",g["TimesNewRomanPS-BoldMT"]="Times-Bold",g["TimesNewRomanPS-Italic"]="Times-Italic",g["TimesNewRomanPS-ItalicMT"]="Times-Italic",g.TimesNewRomanPSMT="Times-Roman",g["TimesNewRomanPSMT-Bold"]="Times-Bold",g["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",g["TimesNewRomanPSMT-Italic"]="Times-Italic"});h.getStdFontMap=y;const x=(0,d.getLookupTableFactory)(function(g){g.Courier="FoxitFixed.pfb",g["Courier-Bold"]="FoxitFixedBold.pfb",g["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",g["Courier-Oblique"]="FoxitFixedItalic.pfb",g.Helvetica="FoxitSans.pfb",g["Helvetica-Bold"]="FoxitSansBold.pfb",g["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",g["Helvetica-Oblique"]="FoxitSansItalic.pfb",g["Times-Roman"]="FoxitSerif.pfb",g["Times-Bold"]="FoxitSerifBold.pfb",g["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",g["Times-Italic"]="FoxitSerifItalic.pfb",g.Symbol="FoxitSymbol.pfb",g.ZapfDingbats="FoxitDingbats.pfb",g["LiberationSans-Regular"]="LiberationSans-Regular.ttf",g["LiberationSans-Bold"]="LiberationSans-Bold.ttf",g["LiberationSans-Italic"]="LiberationSans-Italic.ttf",g["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});h.getFontNameToFileMap=x;const u=(0,d.getLookupTableFactory)(function(g){g.Calibri="Helvetica",g["Calibri-Bold"]="Helvetica-Bold",g["Calibri-BoldItalic"]="Helvetica-BoldOblique",g["Calibri-Italic"]="Helvetica-Oblique",g.CenturyGothic="Helvetica",g["CenturyGothic-Bold"]="Helvetica-Bold",g["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",g["CenturyGothic-Italic"]="Helvetica-Oblique",g.ComicSansMS="Comic Sans MS",g["ComicSansMS-Bold"]="Comic Sans MS-Bold",g["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",g["ComicSansMS-Italic"]="Comic Sans MS-Italic",g["ItcSymbol-Bold"]="Helvetica-Bold",g["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",g["ItcSymbol-Book"]="Helvetica",g["ItcSymbol-BookItalic"]="Helvetica-Oblique",g["ItcSymbol-Medium"]="Helvetica",g["ItcSymbol-MediumItalic"]="Helvetica-Oblique",g.LucidaConsole="Courier",g["LucidaConsole-Bold"]="Courier-Bold",g["LucidaConsole-BoldItalic"]="Courier-BoldOblique",g["LucidaConsole-Italic"]="Courier-Oblique",g["LucidaSans-Demi"]="Helvetica-Bold",g["MS-Gothic"]="MS Gothic",g["MS-Gothic-Bold"]="MS Gothic-Bold",g["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",g["MS-Gothic-Italic"]="MS Gothic-Italic",g["MS-Mincho"]="MS Mincho",g["MS-Mincho-Bold"]="MS Mincho-Bold",g["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",g["MS-Mincho-Italic"]="MS Mincho-Italic",g["MS-PGothic"]="MS PGothic",g["MS-PGothic-Bold"]="MS PGothic-Bold",g["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",g["MS-PGothic-Italic"]="MS PGothic-Italic",g["MS-PMincho"]="MS PMincho",g["MS-PMincho-Bold"]="MS PMincho-Bold",g["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",g["MS-PMincho-Italic"]="MS PMincho-Italic",g.NuptialScript="Times-Italic",g.SegoeUISymbol="Helvetica",g.Wingdings="ZapfDingbats",g["Wingdings-Regular"]="ZapfDingbats"});h.getNonStdFontMap=u;const w=(0,d.getLookupTableFactory)(function(g){g["Adobe Jenson"]=!0,g["Adobe Text"]=!0,g.Albertus=!0,g.Aldus=!0,g.Alexandria=!0,g.Algerian=!0,g["American Typewriter"]=!0,g.Antiqua=!0,g.Apex=!0,g.Arno=!0,g.Aster=!0,g.Aurora=!0,g.Baskerville=!0,g.Bell=!0,g.Bembo=!0,g["Bembo Schoolbook"]=!0,g.Benguiat=!0,g["Berkeley Old Style"]=!0,g["Bernhard Modern"]=!0,g["Berthold City"]=!0,g.Bodoni=!0,g["Bauer Bodoni"]=!0,g["Book Antiqua"]=!0,g.Bookman=!0,g["Bordeaux Roman"]=!0,g["Californian FB"]=!0,g.Calisto=!0,g.Calvert=!0,g.Capitals=!0,g.Cambria=!0,g.Cartier=!0,g.Caslon=!0,g.Catull=!0,g.Centaur=!0,g["Century Old Style"]=!0,g["Century Schoolbook"]=!0,g.Chaparral=!0,g["Charis SIL"]=!0,g.Cheltenham=!0,g["Cholla Slab"]=!0,g.Clarendon=!0,g.Clearface=!0,g.Cochin=!0,g.Colonna=!0,g["Computer Modern"]=!0,g["Concrete Roman"]=!0,g.Constantia=!0,g["Cooper Black"]=!0,g.Corona=!0,g.Ecotype=!0,g.Egyptienne=!0,g.Elephant=!0,g.Excelsior=!0,g.Fairfield=!0,g["FF Scala"]=!0,g.Folkard=!0,g.Footlight=!0,g.FreeSerif=!0,g["Friz Quadrata"]=!0,g.Garamond=!0,g.Gentium=!0,g.Georgia=!0,g.Gloucester=!0,g["Goudy Old Style"]=!0,g["Goudy Schoolbook"]=!0,g["Goudy Pro Font"]=!0,g.Granjon=!0,g["Guardian Egyptian"]=!0,g.Heather=!0,g.Hercules=!0,g["High Tower Text"]=!0,g.Hiroshige=!0,g["Hoefler Text"]=!0,g["Humana Serif"]=!0,g.Imprint=!0,g["Ionic No. 5"]=!0,g.Janson=!0,g.Joanna=!0,g.Korinna=!0,g.Lexicon=!0,g.LiberationSerif=!0,g["Liberation Serif"]=!0,g["Linux Libertine"]=!0,g.Literaturnaya=!0,g.Lucida=!0,g["Lucida Bright"]=!0,g.Melior=!0,g.Memphis=!0,g.Miller=!0,g.Minion=!0,g.Modern=!0,g["Mona Lisa"]=!0,g["Mrs Eaves"]=!0,g["MS Serif"]=!0,g["Museo Slab"]=!0,g["New York"]=!0,g["Nimbus Roman"]=!0,g["NPS Rawlinson Roadway"]=!0,g.NuptialScript=!0,g.Palatino=!0,g.Perpetua=!0,g.Plantin=!0,g["Plantin Schoolbook"]=!0,g.Playbill=!0,g["Poor Richard"]=!0,g["Rawlinson Roadway"]=!0,g.Renault=!0,g.Requiem=!0,g.Rockwell=!0,g.Roman=!0,g["Rotis Serif"]=!0,g.Sabon=!0,g.Scala=!0,g.Seagull=!0,g.Sistina=!0,g.Souvenir=!0,g.STIX=!0,g["Stone Informal"]=!0,g["Stone Serif"]=!0,g.Sylfaen=!0,g.Times=!0,g.Trajan=!0,g.Trinit=!0,g["Trump Mediaeval"]=!0,g.Utopia=!0,g["Vale Type"]=!0,g["Bitstream Vera"]=!0,g["Vera Serif"]=!0,g.Versailles=!0,g.Wanted=!0,g.Weiss=!0,g["Wide Latin"]=!0,g.Windsor=!0,g.XITS=!0});h.getSerifFonts=w;const T=(0,d.getLookupTableFactory)(function(g){g.Dingbats=!0,g.Symbol=!0,g.ZapfDingbats=!0});h.getSymbolsFonts=T;const C=(0,d.getLookupTableFactory)(function(g){g[2]=10,g[3]=32,g[4]=33,g[5]=34,g[6]=35,g[7]=36,g[8]=37,g[9]=38,g[10]=39,g[11]=40,g[12]=41,g[13]=42,g[14]=43,g[15]=44,g[16]=45,g[17]=46,g[18]=47,g[19]=48,g[20]=49,g[21]=50,g[22]=51,g[23]=52,g[24]=53,g[25]=54,g[26]=55,g[27]=56,g[28]=57,g[29]=58,g[30]=894,g[31]=60,g[32]=61,g[33]=62,g[34]=63,g[35]=64,g[36]=65,g[37]=66,g[38]=67,g[39]=68,g[40]=69,g[41]=70,g[42]=71,g[43]=72,g[44]=73,g[45]=74,g[46]=75,g[47]=76,g[48]=77,g[49]=78,g[50]=79,g[51]=80,g[52]=81,g[53]=82,g[54]=83,g[55]=84,g[56]=85,g[57]=86,g[58]=87,g[59]=88,g[60]=89,g[61]=90,g[62]=91,g[63]=92,g[64]=93,g[65]=94,g[66]=95,g[67]=96,g[68]=97,g[69]=98,g[70]=99,g[71]=100,g[72]=101,g[73]=102,g[74]=103,g[75]=104,g[76]=105,g[77]=106,g[78]=107,g[79]=108,g[80]=109,g[81]=110,g[82]=111,g[83]=112,g[84]=113,g[85]=114,g[86]=115,g[87]=116,g[88]=117,g[89]=118,g[90]=119,g[91]=120,g[92]=121,g[93]=122,g[94]=123,g[95]=124,g[96]=125,g[97]=126,g[98]=196,g[99]=197,g[100]=199,g[101]=201,g[102]=209,g[103]=214,g[104]=220,g[105]=225,g[106]=224,g[107]=226,g[108]=228,g[109]=227,g[110]=229,g[111]=231,g[112]=233,g[113]=232,g[114]=234,g[115]=235,g[116]=237,g[117]=236,g[118]=238,g[119]=239,g[120]=241,g[121]=243,g[122]=242,g[123]=244,g[124]=246,g[125]=245,g[126]=250,g[127]=249,g[128]=251,g[129]=252,g[130]=8224,g[131]=176,g[132]=162,g[133]=163,g[134]=167,g[135]=8226,g[136]=182,g[137]=223,g[138]=174,g[139]=169,g[140]=8482,g[141]=180,g[142]=168,g[143]=8800,g[144]=198,g[145]=216,g[146]=8734,g[147]=177,g[148]=8804,g[149]=8805,g[150]=165,g[151]=181,g[152]=8706,g[153]=8721,g[154]=8719,g[156]=8747,g[157]=170,g[158]=186,g[159]=8486,g[160]=230,g[161]=248,g[162]=191,g[163]=161,g[164]=172,g[165]=8730,g[166]=402,g[167]=8776,g[168]=8710,g[169]=171,g[170]=187,g[171]=8230,g[179]=8220,g[180]=8221,g[181]=8216,g[182]=8217,g[200]=193,g[203]=205,g[207]=211,g[210]=218,g[223]=711,g[224]=321,g[225]=322,g[226]=352,g[227]=353,g[228]=381,g[229]=382,g[233]=221,g[234]=253,g[252]=263,g[253]=268,g[254]=269,g[258]=258,g[260]=260,g[261]=261,g[265]=280,g[266]=281,g[267]=282,g[268]=283,g[269]=313,g[275]=323,g[276]=324,g[278]=328,g[283]=344,g[284]=345,g[285]=346,g[286]=347,g[292]=367,g[295]=377,g[296]=378,g[298]=380,g[305]=963,g[306]=964,g[307]=966,g[308]=8215,g[309]=8252,g[310]=8319,g[311]=8359,g[312]=8592,g[313]=8593,g[337]=9552,g[493]=1039,g[494]=1040,g[672]=1488,g[673]=1489,g[674]=1490,g[675]=1491,g[676]=1492,g[677]=1493,g[678]=1494,g[679]=1495,g[680]=1496,g[681]=1497,g[682]=1498,g[683]=1499,g[684]=1500,g[685]=1501,g[686]=1502,g[687]=1503,g[688]=1504,g[689]=1505,g[690]=1506,g[691]=1507,g[692]=1508,g[693]=1509,g[694]=1510,g[695]=1511,g[696]=1512,g[697]=1513,g[698]=1514,g[705]=1524,g[706]=8362,g[710]=64288,g[711]=64298,g[759]=1617,g[761]=1776,g[763]=1778,g[775]=1652,g[777]=1764,g[778]=1780,g[779]=1781,g[780]=1782,g[782]=771,g[783]=64726,g[786]=8363,g[788]=8532,g[790]=768,g[791]=769,g[792]=768,g[795]=803,g[797]=64336,g[798]=64337,g[799]=64342,g[800]=64343,g[801]=64344,g[802]=64345,g[803]=64362,g[804]=64363,g[805]=64364,g[2424]=7821,g[2425]=7822,g[2426]=7823,g[2427]=7824,g[2428]=7825,g[2429]=7826,g[2430]=7827,g[2433]=7682,g[2678]=8045,g[2679]=8046,g[2830]=1552,g[2838]=686,g[2840]=751,g[2842]=753,g[2843]=754,g[2844]=755,g[2846]=757,g[2856]=767,g[2857]=848,g[2858]=849,g[2862]=853,g[2863]=854,g[2864]=855,g[2865]=861,g[2866]=862,g[2906]=7460,g[2908]=7462,g[2909]=7463,g[2910]=7464,g[2912]=7466,g[2913]=7467,g[2914]=7468,g[2916]=7470,g[2917]=7471,g[2918]=7472,g[2920]=7474,g[2921]=7475,g[2922]=7476,g[2924]=7478,g[2925]=7479,g[2926]=7480,g[2928]=7482,g[2929]=7483,g[2930]=7484,g[2932]=7486,g[2933]=7487,g[2934]=7488,g[2936]=7490,g[2937]=7491,g[2938]=7492,g[2940]=7494,g[2941]=7495,g[2942]=7496,g[2944]=7498,g[2946]=7500,g[2948]=7502,g[2950]=7504,g[2951]=7505,g[2952]=7506,g[2954]=7508,g[2955]=7509,g[2956]=7510,g[2958]=7512,g[2959]=7513,g[2960]=7514,g[2962]=7516,g[2963]=7517,g[2964]=7518,g[2966]=7520,g[2967]=7521,g[2968]=7522,g[2970]=7524,g[2971]=7525,g[2972]=7526,g[2974]=7528,g[2975]=7529,g[2976]=7530,g[2978]=1537,g[2979]=1538,g[2980]=1539,g[2982]=1549,g[2983]=1551,g[2984]=1552,g[2986]=1554,g[2987]=1555,g[2988]=1556,g[2990]=1623,g[2991]=1624,g[2995]=1775,g[2999]=1791,g[3002]=64290,g[3003]=64291,g[3004]=64292,g[3006]=64294,g[3007]=64295,g[3008]=64296,g[3011]=1900,g[3014]=8223,g[3015]=8244,g[3017]=7532,g[3018]=7533,g[3019]=7534,g[3075]=7590,g[3076]=7591,g[3079]=7594,g[3080]=7595,g[3083]=7598,g[3084]=7599,g[3087]=7602,g[3088]=7603,g[3091]=7606,g[3092]=7607,g[3095]=7610,g[3096]=7611,g[3099]=7614,g[3100]=7615,g[3103]=7618,g[3104]=7619,g[3107]=8337,g[3108]=8338,g[3116]=1884,g[3119]=1885,g[3120]=1885,g[3123]=1886,g[3124]=1886,g[3127]=1887,g[3128]=1887,g[3131]=1888,g[3132]=1888,g[3135]=1889,g[3136]=1889,g[3139]=1890,g[3140]=1890,g[3143]=1891,g[3144]=1891,g[3147]=1892,g[3148]=1892,g[3153]=580,g[3154]=581,g[3157]=584,g[3158]=585,g[3161]=588,g[3162]=589,g[3165]=891,g[3166]=892,g[3169]=1274,g[3170]=1275,g[3173]=1278,g[3174]=1279,g[3181]=7622,g[3182]=7623,g[3282]=11799,g[3316]=578,g[3379]=42785,g[3393]=1159,g[3416]=8377});h.getGlyphMapForStandardFonts=C;const k=(0,d.getLookupTableFactory)(function(g){g[227]=322,g[264]=261,g[291]=346});h.getSupplementalGlyphMapForArialBlack=k;const A=(0,d.getLookupTableFactory)(function(g){g[1]=32,g[4]=65,g[5]=192,g[6]=193,g[9]=196,g[17]=66,g[18]=67,g[21]=268,g[24]=68,g[28]=69,g[29]=200,g[30]=201,g[32]=282,g[38]=70,g[39]=71,g[44]=72,g[47]=73,g[48]=204,g[49]=205,g[58]=74,g[60]=75,g[62]=76,g[68]=77,g[69]=78,g[75]=79,g[76]=210,g[80]=214,g[87]=80,g[89]=81,g[90]=82,g[92]=344,g[94]=83,g[97]=352,g[100]=84,g[104]=85,g[109]=220,g[115]=86,g[116]=87,g[121]=88,g[122]=89,g[124]=221,g[127]=90,g[129]=381,g[258]=97,g[259]=224,g[260]=225,g[263]=228,g[268]=261,g[271]=98,g[272]=99,g[273]=263,g[275]=269,g[282]=100,g[286]=101,g[287]=232,g[288]=233,g[290]=283,g[295]=281,g[296]=102,g[336]=103,g[346]=104,g[349]=105,g[350]=236,g[351]=237,g[361]=106,g[364]=107,g[367]=108,g[371]=322,g[373]=109,g[374]=110,g[381]=111,g[382]=242,g[383]=243,g[386]=246,g[393]=112,g[395]=113,g[396]=114,g[398]=345,g[400]=115,g[401]=347,g[403]=353,g[410]=116,g[437]=117,g[442]=252,g[448]=118,g[449]=119,g[454]=120,g[455]=121,g[457]=253,g[460]=122,g[462]=382,g[463]=380,g[853]=44,g[855]=58,g[856]=46,g[876]=47,g[878]=45,g[882]=45,g[894]=40,g[895]=41,g[896]=91,g[897]=93,g[923]=64,g[1004]=48,g[1005]=49,g[1006]=50,g[1007]=51,g[1008]=52,g[1009]=53,g[1010]=54,g[1011]=55,g[1012]=56,g[1013]=57,g[1081]=37,g[1085]=43,g[1086]=45});h.getSupplementalGlyphMapForCalibri=A},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ToUnicodeMap=h.IdentityToUnicodeMap=void 0;var d=p(2);h.ToUnicodeMap=class{constructor(y=[]){this._map=y}get length(){return this._map.length}forEach(y){for(const x in this._map)y(x,this._map[x].charCodeAt(0))}has(y){return this._map[y]!==void 0}get(y){return this._map[y]}charCodeOf(y){const x=this._map;if(x.length<=65536)return x.indexOf(y);for(const u in x)if(x[u]===y)return 0|u;return-1}amend(y){for(const x in y)this._map[x]=y[x]}},h.IdentityToUnicodeMap=class{constructor(y,x){this.firstChar=y,this.lastChar=x}get length(){return this.lastChar+1-this.firstChar}forEach(y){for(let x=this.firstChar,u=this.lastChar;x<=u;x++)y(x,x)}has(y){return this.firstChar<=y&&y<=this.lastChar}get(y){if(this.firstChar<=y&&y<=this.lastChar)return String.fromCharCode(y)}charCodeOf(y){return Number.isInteger(y)&&y>=this.firstChar&&y<=this.lastChar?y:-1}amend(y){(0,d.unreachable)("Should not call amend()")}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CFFFont=void 0;var d=p(33),m=p(36),y=p(2);h.CFFFont=class{constructor(u,w){this.properties=w;const T=new d.CFFParser(u,w,m.SEAC_ANALYSIS_ENABLED);this.cff=T.parse(),this.cff.duplicateFirstGlyph();const C=new d.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=C.compile()}catch{(0,y.warn)("Failed to compile font "+w.loadedName),this.data=u}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const u=this.cff,w=this.properties,{cidToGidMap:T,cMap:C}=w,k=u.charset.charset;let A,g;if(w.composite){let v,M;if(T&&T.length>0){v=Object.create(null);for(let R=0,I=T.length;R<I;R++){const J=T[R];J!==void 0&&(v[J]=R)}}if(A=Object.create(null),u.isCIDFont)for(g=0;g<k.length;g++){const R=k[g];M=C.charCodeOf(R),v&&v[M]!==void 0&&(M=v[M]),A[M]=g}else for(g=0;g<u.charStrings.count;g++)M=C.charCodeOf(g),A[M]=g;return A}let E=u.encoding?u.encoding.encoding:null;return w.isInternalFont&&(E=w.defaultEncoding),A=(0,m.type1FontGlyphMapping)(w,E,k),A}hasGlyphId(u){return this.cff.hasGlyphId(u)}_createBuiltInEncoding(){const{charset:u,encoding:w}=this.cff;if(!u||!w)return;const T=u.charset,C=w.encoding,k=[];for(const A in C){const g=C[A];if(g>=0){const E=T[g];E&&(k[A]=E)}}k.length>0&&(this.properties.builtInEncoding=k)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FontRendererFactory=void 0;var d=p(2),m=p(33),y=p(37),x=p(35),u=p(8);function w($,D){return($[D]<<24|$[D+1]<<16|$[D+2]<<8|$[D+3])>>>0}function T($,D){return $[D]<<8|$[D+1]}function C($,D){return($[D]<<24|$[D+1]<<16)>>16}function k($,D){return $[D]<<24>>24}function A($,D){return C($,D)/16384}function g($){const D=$.length;let ne=32768;return D<1240?ne=107:D<33900&&(ne=1131),ne}function E($,D,ne){const F=T($,D+2)===1?w($,D+8):w($,D+16),j=T($,D+F);let se,Y,q;if(j===4){T($,D+F+2);const Q=T($,D+F+6)>>1;for(Y=D+F+14,se=[],q=0;q<Q;q++,Y+=2)se[q]={end:T($,Y)};for(Y+=2,q=0;q<Q;q++,Y+=2)se[q].start=T($,Y);for(q=0;q<Q;q++,Y+=2)se[q].idDelta=T($,Y);for(q=0;q<Q;q++,Y+=2){let N=T($,Y);if(N!==0){se[q].ids=[];for(let O=0,H=se[q].end-se[q].start+1;O<H;O++)se[q].ids[O]=T($,Y+N),N+=2}}return se}if(j===12){const Q=w($,D+F+12);for(Y=D+F+16,se=[],q=0;q<Q;q++)D=w($,Y),se.push({start:D,end:w($,Y+4),idDelta:w($,Y+8)-D}),Y+=12;return se}throw new d.FormatError(`unsupported cmap: ${j}`)}function v($,D,ne,F){const j=new m.CFFParser(new u.Stream($,D,ne-D),{},F).parse();return{glyphs:j.charStrings.objects,subrs:j.topDict.privateDict&&j.topDict.privateDict.subrsIndex&&j.topDict.privateDict.subrsIndex.objects,gsubrs:j.globalSubrIndex&&j.globalSubrIndex.objects,isCFFCIDFont:j.isCIDFont,fdSelect:j.fdSelect,fdArray:j.fdArray}}function M($,D){const ne=D.codePointAt(0);let F=0,j=0,se=$.length-1;for(;j<se;){const Y=j+se+1>>1;ne<$[Y].start?se=Y-1:j=Y}return $[j].start<=ne&&ne<=$[j].end&&(F=$[j].idDelta+($[j].ids?$[j].ids[ne-$[j].start]:ne)&65535),{charCode:ne,glyphId:F}}function R($,D,ne){function F(H,G){D.push({cmd:"moveTo",args:[H,G]})}function j(H,G){D.push({cmd:"lineTo",args:[H,G]})}function se(H,G,le,fe){D.push({cmd:"quadraticCurveTo",args:[H,G,le,fe]})}let Y=0;const q=C($,Y);let Q,N=0,O=0;if(Y+=10,q<0)do{Q=T($,Y);const H=T($,Y+2);Y+=4;let G,le;1&Q?(2&Q?(G=C($,Y),le=C($,Y+2)):(G=T($,Y),le=T($,Y+2)),Y+=4):2&Q?(G=k($,Y++),le=k($,Y++)):(G=$[Y++],le=$[Y++]),2&Q?(N=G,O=le):(N=0,O=0);let fe=1,ae=1,re=0,be=0;8&Q?(fe=ae=A($,Y),Y+=2):64&Q?(fe=A($,Y),ae=A($,Y+2),Y+=4):128&Q&&(fe=A($,Y),re=A($,Y+2),be=A($,Y+4),ae=A($,Y+6),Y+=8);const ye=ne.glyphs[H];ye&&(D.push({cmd:"save"},{cmd:"transform",args:[fe,re,be,ae,N,O]}),R(ye,D,ne),D.push({cmd:"restore"}))}while(32&Q);else{const H=[];let G,le;for(G=0;G<q;G++)H.push(T($,Y)),Y+=2;Y+=2+T($,Y);const fe=H.at(-1)+1,ae=[];for(;ae.length<fe;){Q=$[Y++];let be=1;for(8&Q&&(be+=$[Y++]);be-- >0;)ae.push({flags:Q})}for(G=0;G<fe;G++){switch(18&ae[G].flags){case 0:N+=C($,Y),Y+=2;break;case 2:N-=$[Y++];break;case 18:N+=$[Y++]}ae[G].x=N}for(G=0;G<fe;G++){switch(36&ae[G].flags){case 0:O+=C($,Y),Y+=2;break;case 4:O-=$[Y++];break;case 36:O+=$[Y++]}ae[G].y=O}let re=0;for(Y=0;Y<q;Y++){const be=H[Y],ye=ae.slice(re,be+1);if(1&ye[0].flags)ye.push(ye[0]);else if(1&ye.at(-1).flags)ye.unshift(ye.at(-1));else{const Ce={flags:1,x:(ye[0].x+ye.at(-1).x)/2,y:(ye[0].y+ye.at(-1).y)/2};ye.unshift(Ce),ye.push(Ce)}for(F(ye[0].x,ye[0].y),G=1,le=ye.length;G<le;G++)1&ye[G].flags?j(ye[G].x,ye[G].y):1&ye[G+1].flags?(se(ye[G].x,ye[G].y,ye[G+1].x,ye[G+1].y),G++):se(ye[G].x,ye[G].y,(ye[G].x+ye[G+1].x)/2,(ye[G].y+ye[G+1].y)/2);re=be+1}}}function I($,D,ne,F){function j(H,G){D.push({cmd:"moveTo",args:[H,G]})}function se(H,G){D.push({cmd:"lineTo",args:[H,G]})}function Y(H,G,le,fe,ae,re){D.push({cmd:"bezierCurveTo",args:[H,G,le,fe,ae,re]})}const q=[];let Q=0,N=0,O=0;(function H(G){let le=0;for(;le<G.length;){let fe,ae,re,be,ye,Ce,me,ee,te,oe=!1,V=G[le++];switch(V){case 1:case 3:case 18:case 23:O+=q.length>>1,oe=!0;break;case 4:N+=q.pop(),j(Q,N),oe=!0;break;case 5:for(;q.length>0;)Q+=q.shift(),N+=q.shift(),se(Q,N);break;case 6:for(;q.length>0&&(Q+=q.shift(),se(Q,N),q.length!==0);)N+=q.shift(),se(Q,N);break;case 7:for(;q.length>0&&(N+=q.shift(),se(Q,N),q.length!==0);)Q+=q.shift(),se(Q,N);break;case 8:for(;q.length>0;)fe=Q+q.shift(),re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be+q.shift(),Y(fe,re,ae,be,Q,N);break;case 10:if(ee=q.pop(),te=null,ne.isCFFCIDFont){const W=ne.fdSelect.getFDIndex(F);if(W>=0&&W<ne.fdArray.length){const ue=ne.fdArray[W];let he;ue.privateDict&&ue.privateDict.subrsIndex&&(he=ue.privateDict.subrsIndex.objects),he&&(ee+=g(he),te=he[ee])}else(0,d.warn)("Invalid fd index for glyph index.")}else te=ne.subrs[ee+ne.subrsBias];te&&H(te);break;case 11:return;case 12:switch(V=G[le++],V){case 34:fe=Q+q.shift(),ae=fe+q.shift(),ye=N+q.shift(),Q=ae+q.shift(),Y(fe,N,ae,ye,Q,ye),fe=Q+q.shift(),ae=fe+q.shift(),Q=ae+q.shift(),Y(fe,ye,ae,N,Q,N);break;case 35:fe=Q+q.shift(),re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be+q.shift(),Y(fe,re,ae,be,Q,N),fe=Q+q.shift(),re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be+q.shift(),Y(fe,re,ae,be,Q,N),q.pop();break;case 36:fe=Q+q.shift(),ye=N+q.shift(),ae=fe+q.shift(),Ce=ye+q.shift(),Q=ae+q.shift(),Y(fe,ye,ae,Ce,Q,Ce),fe=Q+q.shift(),ae=fe+q.shift(),me=Ce+q.shift(),Q=ae+q.shift(),Y(fe,Ce,ae,me,Q,N);break;case 37:const W=Q,ue=N;fe=Q+q.shift(),re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be+q.shift(),Y(fe,re,ae,be,Q,N),fe=Q+q.shift(),re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae,N=be,Math.abs(Q-W)>Math.abs(N-ue)?Q+=q.shift():N+=q.shift(),Y(fe,re,ae,be,Q,N);break;default:throw new d.FormatError(`unknown operator: 12 ${V}`)}break;case 14:if(q.length>=4){const W=q.pop(),ue=q.pop();N=q.pop(),Q=q.pop(),D.push({cmd:"save"},{cmd:"translate",args:[Q,N]});let he=M(ne.cmap,String.fromCharCode(ne.glyphNameMap[x.StandardEncoding[W]]));I(ne.glyphs[he.glyphId],D,ne,he.glyphId),D.push({cmd:"restore"}),he=M(ne.cmap,String.fromCharCode(ne.glyphNameMap[x.StandardEncoding[ue]])),I(ne.glyphs[he.glyphId],D,ne,he.glyphId)}return;case 19:case 20:O+=q.length>>1,le+=O+7>>3,oe=!0;break;case 21:N+=q.pop(),Q+=q.pop(),j(Q,N),oe=!0;break;case 22:Q+=q.pop(),j(Q,N),oe=!0;break;case 24:for(;q.length>2;)fe=Q+q.shift(),re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be+q.shift(),Y(fe,re,ae,be,Q,N);Q+=q.shift(),N+=q.shift(),se(Q,N);break;case 25:for(;q.length>6;)Q+=q.shift(),N+=q.shift(),se(Q,N);fe=Q+q.shift(),re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be+q.shift(),Y(fe,re,ae,be,Q,N);break;case 26:for(q.length%2&&(Q+=q.shift());q.length>0;)fe=Q,re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae,N=be+q.shift(),Y(fe,re,ae,be,Q,N);break;case 27:for(q.length%2&&(N+=q.shift());q.length>0;)fe=Q+q.shift(),re=N,ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be,Y(fe,re,ae,be,Q,N);break;case 28:q.push((G[le]<<24|G[le+1]<<16)>>16),le+=2;break;case 29:ee=q.pop()+ne.gsubrsBias,te=ne.gsubrs[ee],te&&H(te);break;case 30:for(;q.length>0&&(fe=Q,re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be+(q.length===1?q.shift():0),Y(fe,re,ae,be,Q,N),q.length!==0);)fe=Q+q.shift(),re=N,ae=fe+q.shift(),be=re+q.shift(),N=be+q.shift(),Q=ae+(q.length===1?q.shift():0),Y(fe,re,ae,be,Q,N);break;case 31:for(;q.length>0&&(fe=Q+q.shift(),re=N,ae=fe+q.shift(),be=re+q.shift(),N=be+q.shift(),Q=ae+(q.length===1?q.shift():0),Y(fe,re,ae,be,Q,N),q.length!==0);)fe=Q,re=N+q.shift(),ae=fe+q.shift(),be=re+q.shift(),Q=ae+q.shift(),N=be+(q.length===1?q.shift():0),Y(fe,re,ae,be,Q,N);break;default:if(V<32)throw new d.FormatError(`unknown operator: ${V}`);V<247?q.push(V-139):V<251?q.push(256*(V-247)+G[le++]+108):V<255?q.push(256*-(V-251)-G[le++]-108):(q.push((G[le]<<24|G[le+1]<<16|G[le+2]<<8|G[le+3])/65536),le+=4)}oe&&(q.length=0)}})($)}const J=[];class _{constructor(D){this.constructor===_&&(0,d.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=D,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(D){const{charCode:ne,glyphId:F}=M(this.cmap,D);let j=this.compiledGlyphs[F];if(!j)try{j=this.compileGlyph(this.glyphs[F],F),this.compiledGlyphs[F]=j}catch(se){throw this.compiledGlyphs[F]=J,this.compiledCharCodeToGlyphId[ne]===void 0&&(this.compiledCharCodeToGlyphId[ne]=F),se}return this.compiledCharCodeToGlyphId[ne]===void 0&&(this.compiledCharCodeToGlyphId[ne]=F),j}compileGlyph(D,ne){if(!D||D.length===0||D[0]===14)return J;let F=this.fontMatrix;if(this.isCFFCIDFont){const se=this.fdSelect.getFDIndex(ne);se>=0&&se<this.fdArray.length?F=this.fdArray[se].getByName("FontMatrix")||d.FONT_IDENTITY_MATRIX:(0,d.warn)("Invalid fd index for glyph index.")}const j=[{cmd:"save"},{cmd:"transform",args:F.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(D,j,ne),j.push({cmd:"restore"}),j}compileGlyphImpl(){(0,d.unreachable)("Children classes should implement this.")}hasBuiltPath(D){const{charCode:ne,glyphId:F}=M(this.cmap,D);return this.compiledGlyphs[F]!==void 0&&this.compiledCharCodeToGlyphId[ne]!==void 0}}class L extends _{constructor(D,ne,F){super(F||[488e-6,0,0,488e-6,0,0]),this.glyphs=D,this.cmap=ne}compileGlyphImpl(D,ne){R(D,ne,this)}}class K extends _{constructor(D,ne,F,j){super(F||[.001,0,0,.001,0,0]),this.glyphs=D.glyphs,this.gsubrs=D.gsubrs||[],this.subrs=D.subrs||[],this.cmap=ne,this.glyphNameMap=j||(0,y.getGlyphsUnicode)(),this.gsubrsBias=g(this.gsubrs),this.subrsBias=g(this.subrs),this.isCFFCIDFont=D.isCFFCIDFont,this.fdSelect=D.fdSelect,this.fdArray=D.fdArray}compileGlyphImpl(D,ne,F){I(D,ne,this,F)}}h.FontRendererFactory=class{static create(D,ne){const F=new Uint8Array(D.data);let j,se,Y,q,Q,N;const O=T(F,4);for(let H=0,G=12;H<O;H++,G+=16){const le=(0,d.bytesToString)(F.subarray(G,G+4)),fe=w(F,G+8),ae=w(F,G+12);switch(le){case"cmap":j=E(F,fe);break;case"glyf":se=F.subarray(fe,fe+ae);break;case"loca":Y=F.subarray(fe,fe+ae);break;case"head":N=T(F,fe+18),Q=T(F,fe+50);break;case"CFF ":q=v(F,fe,fe+ae,ne)}}if(se){const H=N?[1/N,0,0,1/N,0,0]:D.fontMatrix;return new L(function(le,fe,ae){let re,be;ae?(re=4,be=w):(re=2,be=(me,ee)=>2*T(me,ee));const ye=[];let Ce=be(fe,0);for(let me=re;me<fe.length;me+=re){const ee=be(fe,me);ye.push(le.subarray(Ce,ee)),Ce=ee}return ye}(se,Y,Q),j,H)}return new K(q,j,D.fontMatrix,D.glyphNameMap)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getMetrics=h.getFontBasicMetrics=void 0;var d=p(3);const m=(0,d.getLookupTableFactory)(function(x){x.Courier=600,x["Courier-Bold"]=600,x["Courier-BoldOblique"]=600,x["Courier-Oblique"]=600,x.Helvetica=(0,d.getLookupTableFactory)(function(u){u.space=278,u.exclam=278,u.quotedbl=355,u.numbersign=556,u.dollar=556,u.percent=889,u.ampersand=667,u.quoteright=222,u.parenleft=333,u.parenright=333,u.asterisk=389,u.plus=584,u.comma=278,u.hyphen=333,u.period=278,u.slash=278,u.zero=556,u.one=556,u.two=556,u.three=556,u.four=556,u.five=556,u.six=556,u.seven=556,u.eight=556,u.nine=556,u.colon=278,u.semicolon=278,u.less=584,u.equal=584,u.greater=584,u.question=556,u.at=1015,u.A=667,u.B=667,u.C=722,u.D=722,u.E=667,u.F=611,u.G=778,u.H=722,u.I=278,u.J=500,u.K=667,u.L=556,u.M=833,u.N=722,u.O=778,u.P=667,u.Q=778,u.R=722,u.S=667,u.T=611,u.U=722,u.V=667,u.W=944,u.X=667,u.Y=667,u.Z=611,u.bracketleft=278,u.backslash=278,u.bracketright=278,u.asciicircum=469,u.underscore=556,u.quoteleft=222,u.a=556,u.b=556,u.c=500,u.d=556,u.e=556,u.f=278,u.g=556,u.h=556,u.i=222,u.j=222,u.k=500,u.l=222,u.m=833,u.n=556,u.o=556,u.p=556,u.q=556,u.r=333,u.s=500,u.t=278,u.u=556,u.v=500,u.w=722,u.x=500,u.y=500,u.z=500,u.braceleft=334,u.bar=260,u.braceright=334,u.asciitilde=584,u.exclamdown=333,u.cent=556,u.sterling=556,u.fraction=167,u.yen=556,u.florin=556,u.section=556,u.currency=556,u.quotesingle=191,u.quotedblleft=333,u.guillemotleft=556,u.guilsinglleft=333,u.guilsinglright=333,u.fi=500,u.fl=500,u.endash=556,u.dagger=556,u.daggerdbl=556,u.periodcentered=278,u.paragraph=537,u.bullet=350,u.quotesinglbase=222,u.quotedblbase=333,u.quotedblright=333,u.guillemotright=556,u.ellipsis=1e3,u.perthousand=1e3,u.questiondown=611,u.grave=333,u.acute=333,u.circumflex=333,u.tilde=333,u.macron=333,u.breve=333,u.dotaccent=333,u.dieresis=333,u.ring=333,u.cedilla=333,u.hungarumlaut=333,u.ogonek=333,u.caron=333,u.emdash=1e3,u.AE=1e3,u.ordfeminine=370,u.Lslash=556,u.Oslash=778,u.OE=1e3,u.ordmasculine=365,u.ae=889,u.dotlessi=278,u.lslash=222,u.oslash=611,u.oe=944,u.germandbls=611,u.Idieresis=278,u.eacute=556,u.abreve=556,u.uhungarumlaut=556,u.ecaron=556,u.Ydieresis=667,u.divide=584,u.Yacute=667,u.Acircumflex=667,u.aacute=556,u.Ucircumflex=722,u.yacute=500,u.scommaaccent=500,u.ecircumflex=556,u.Uring=722,u.Udieresis=722,u.aogonek=556,u.Uacute=722,u.uogonek=556,u.Edieresis=667,u.Dcroat=722,u.commaaccent=250,u.copyright=737,u.Emacron=667,u.ccaron=500,u.aring=556,u.Ncommaaccent=722,u.lacute=222,u.agrave=556,u.Tcommaaccent=611,u.Cacute=722,u.atilde=556,u.Edotaccent=667,u.scaron=500,u.scedilla=500,u.iacute=278,u.lozenge=471,u.Rcaron=722,u.Gcommaaccent=778,u.ucircumflex=556,u.acircumflex=556,u.Amacron=667,u.rcaron=333,u.ccedilla=500,u.Zdotaccent=611,u.Thorn=667,u.Omacron=778,u.Racute=722,u.Sacute=667,u.dcaron=643,u.Umacron=722,u.uring=556,u.threesuperior=333,u.Ograve=778,u.Agrave=667,u.Abreve=667,u.multiply=584,u.uacute=556,u.Tcaron=611,u.partialdiff=476,u.ydieresis=500,u.Nacute=722,u.icircumflex=278,u.Ecircumflex=667,u.adieresis=556,u.edieresis=556,u.cacute=500,u.nacute=556,u.umacron=556,u.Ncaron=722,u.Iacute=278,u.plusminus=584,u.brokenbar=260,u.registered=737,u.Gbreve=778,u.Idotaccent=278,u.summation=600,u.Egrave=667,u.racute=333,u.omacron=556,u.Zacute=611,u.Zcaron=611,u.greaterequal=549,u.Eth=722,u.Ccedilla=722,u.lcommaaccent=222,u.tcaron=317,u.eogonek=556,u.Uogonek=722,u.Aacute=667,u.Adieresis=667,u.egrave=556,u.zacute=500,u.iogonek=222,u.Oacute=778,u.oacute=556,u.amacron=556,u.sacute=500,u.idieresis=278,u.Ocircumflex=778,u.Ugrave=722,u.Delta=612,u.thorn=556,u.twosuperior=333,u.Odieresis=778,u.mu=556,u.igrave=278,u.ohungarumlaut=556,u.Eogonek=667,u.dcroat=556,u.threequarters=834,u.Scedilla=667,u.lcaron=299,u.Kcommaaccent=667,u.Lacute=556,u.trademark=1e3,u.edotaccent=556,u.Igrave=278,u.Imacron=278,u.Lcaron=556,u.onehalf=834,u.lessequal=549,u.ocircumflex=556,u.ntilde=556,u.Uhungarumlaut=722,u.Eacute=667,u.emacron=556,u.gbreve=556,u.onequarter=834,u.Scaron=667,u.Scommaaccent=667,u.Ohungarumlaut=778,u.degree=400,u.ograve=556,u.Ccaron=722,u.ugrave=556,u.radical=453,u.Dcaron=722,u.rcommaaccent=333,u.Ntilde=722,u.otilde=556,u.Rcommaaccent=722,u.Lcommaaccent=556,u.Atilde=667,u.Aogonek=667,u.Aring=667,u.Otilde=778,u.zdotaccent=500,u.Ecaron=667,u.Iogonek=278,u.kcommaaccent=500,u.minus=584,u.Icircumflex=278,u.ncaron=556,u.tcommaaccent=278,u.logicalnot=584,u.odieresis=556,u.udieresis=556,u.notequal=549,u.gcommaaccent=556,u.eth=556,u.zcaron=500,u.ncommaaccent=556,u.onesuperior=333,u.imacron=278,u.Euro=556}),x["Helvetica-Bold"]=(0,d.getLookupTableFactory)(function(u){u.space=278,u.exclam=333,u.quotedbl=474,u.numbersign=556,u.dollar=556,u.percent=889,u.ampersand=722,u.quoteright=278,u.parenleft=333,u.parenright=333,u.asterisk=389,u.plus=584,u.comma=278,u.hyphen=333,u.period=278,u.slash=278,u.zero=556,u.one=556,u.two=556,u.three=556,u.four=556,u.five=556,u.six=556,u.seven=556,u.eight=556,u.nine=556,u.colon=333,u.semicolon=333,u.less=584,u.equal=584,u.greater=584,u.question=611,u.at=975,u.A=722,u.B=722,u.C=722,u.D=722,u.E=667,u.F=611,u.G=778,u.H=722,u.I=278,u.J=556,u.K=722,u.L=611,u.M=833,u.N=722,u.O=778,u.P=667,u.Q=778,u.R=722,u.S=667,u.T=611,u.U=722,u.V=667,u.W=944,u.X=667,u.Y=667,u.Z=611,u.bracketleft=333,u.backslash=278,u.bracketright=333,u.asciicircum=584,u.underscore=556,u.quoteleft=278,u.a=556,u.b=611,u.c=556,u.d=611,u.e=556,u.f=333,u.g=611,u.h=611,u.i=278,u.j=278,u.k=556,u.l=278,u.m=889,u.n=611,u.o=611,u.p=611,u.q=611,u.r=389,u.s=556,u.t=333,u.u=611,u.v=556,u.w=778,u.x=556,u.y=556,u.z=500,u.braceleft=389,u.bar=280,u.braceright=389,u.asciitilde=584,u.exclamdown=333,u.cent=556,u.sterling=556,u.fraction=167,u.yen=556,u.florin=556,u.section=556,u.currency=556,u.quotesingle=238,u.quotedblleft=500,u.guillemotleft=556,u.guilsinglleft=333,u.guilsinglright=333,u.fi=611,u.fl=611,u.endash=556,u.dagger=556,u.daggerdbl=556,u.periodcentered=278,u.paragraph=556,u.bullet=350,u.quotesinglbase=278,u.quotedblbase=500,u.quotedblright=500,u.guillemotright=556,u.ellipsis=1e3,u.perthousand=1e3,u.questiondown=611,u.grave=333,u.acute=333,u.circumflex=333,u.tilde=333,u.macron=333,u.breve=333,u.dotaccent=333,u.dieresis=333,u.ring=333,u.cedilla=333,u.hungarumlaut=333,u.ogonek=333,u.caron=333,u.emdash=1e3,u.AE=1e3,u.ordfeminine=370,u.Lslash=611,u.Oslash=778,u.OE=1e3,u.ordmasculine=365,u.ae=889,u.dotlessi=278,u.lslash=278,u.oslash=611,u.oe=944,u.germandbls=611,u.Idieresis=278,u.eacute=556,u.abreve=556,u.uhungarumlaut=611,u.ecaron=556,u.Ydieresis=667,u.divide=584,u.Yacute=667,u.Acircumflex=722,u.aacute=556,u.Ucircumflex=722,u.yacute=556,u.scommaaccent=556,u.ecircumflex=556,u.Uring=722,u.Udieresis=722,u.aogonek=556,u.Uacute=722,u.uogonek=611,u.Edieresis=667,u.Dcroat=722,u.commaaccent=250,u.copyright=737,u.Emacron=667,u.ccaron=556,u.aring=556,u.Ncommaaccent=722,u.lacute=278,u.agrave=556,u.Tcommaaccent=611,u.Cacute=722,u.atilde=556,u.Edotaccent=667,u.scaron=556,u.scedilla=556,u.iacute=278,u.lozenge=494,u.Rcaron=722,u.Gcommaaccent=778,u.ucircumflex=611,u.acircumflex=556,u.Amacron=722,u.rcaron=389,u.ccedilla=556,u.Zdotaccent=611,u.Thorn=667,u.Omacron=778,u.Racute=722,u.Sacute=667,u.dcaron=743,u.Umacron=722,u.uring=611,u.threesuperior=333,u.Ograve=778,u.Agrave=722,u.Abreve=722,u.multiply=584,u.uacute=611,u.Tcaron=611,u.partialdiff=494,u.ydieresis=556,u.Nacute=722,u.icircumflex=278,u.Ecircumflex=667,u.adieresis=556,u.edieresis=556,u.cacute=556,u.nacute=611,u.umacron=611,u.Ncaron=722,u.Iacute=278,u.plusminus=584,u.brokenbar=280,u.registered=737,u.Gbreve=778,u.Idotaccent=278,u.summation=600,u.Egrave=667,u.racute=389,u.omacron=611,u.Zacute=611,u.Zcaron=611,u.greaterequal=549,u.Eth=722,u.Ccedilla=722,u.lcommaaccent=278,u.tcaron=389,u.eogonek=556,u.Uogonek=722,u.Aacute=722,u.Adieresis=722,u.egrave=556,u.zacute=500,u.iogonek=278,u.Oacute=778,u.oacute=611,u.amacron=556,u.sacute=556,u.idieresis=278,u.Ocircumflex=778,u.Ugrave=722,u.Delta=612,u.thorn=611,u.twosuperior=333,u.Odieresis=778,u.mu=611,u.igrave=278,u.ohungarumlaut=611,u.Eogonek=667,u.dcroat=611,u.threequarters=834,u.Scedilla=667,u.lcaron=400,u.Kcommaaccent=722,u.Lacute=611,u.trademark=1e3,u.edotaccent=556,u.Igrave=278,u.Imacron=278,u.Lcaron=611,u.onehalf=834,u.lessequal=549,u.ocircumflex=611,u.ntilde=611,u.Uhungarumlaut=722,u.Eacute=667,u.emacron=556,u.gbreve=611,u.onequarter=834,u.Scaron=667,u.Scommaaccent=667,u.Ohungarumlaut=778,u.degree=400,u.ograve=611,u.Ccaron=722,u.ugrave=611,u.radical=549,u.Dcaron=722,u.rcommaaccent=389,u.Ntilde=722,u.otilde=611,u.Rcommaaccent=722,u.Lcommaaccent=611,u.Atilde=722,u.Aogonek=722,u.Aring=722,u.Otilde=778,u.zdotaccent=500,u.Ecaron=667,u.Iogonek=278,u.kcommaaccent=556,u.minus=584,u.Icircumflex=278,u.ncaron=611,u.tcommaaccent=333,u.logicalnot=584,u.odieresis=611,u.udieresis=611,u.notequal=549,u.gcommaaccent=611,u.eth=611,u.zcaron=500,u.ncommaaccent=611,u.onesuperior=333,u.imacron=278,u.Euro=556}),x["Helvetica-BoldOblique"]=(0,d.getLookupTableFactory)(function(u){u.space=278,u.exclam=333,u.quotedbl=474,u.numbersign=556,u.dollar=556,u.percent=889,u.ampersand=722,u.quoteright=278,u.parenleft=333,u.parenright=333,u.asterisk=389,u.plus=584,u.comma=278,u.hyphen=333,u.period=278,u.slash=278,u.zero=556,u.one=556,u.two=556,u.three=556,u.four=556,u.five=556,u.six=556,u.seven=556,u.eight=556,u.nine=556,u.colon=333,u.semicolon=333,u.less=584,u.equal=584,u.greater=584,u.question=611,u.at=975,u.A=722,u.B=722,u.C=722,u.D=722,u.E=667,u.F=611,u.G=778,u.H=722,u.I=278,u.J=556,u.K=722,u.L=611,u.M=833,u.N=722,u.O=778,u.P=667,u.Q=778,u.R=722,u.S=667,u.T=611,u.U=722,u.V=667,u.W=944,u.X=667,u.Y=667,u.Z=611,u.bracketleft=333,u.backslash=278,u.bracketright=333,u.asciicircum=584,u.underscore=556,u.quoteleft=278,u.a=556,u.b=611,u.c=556,u.d=611,u.e=556,u.f=333,u.g=611,u.h=611,u.i=278,u.j=278,u.k=556,u.l=278,u.m=889,u.n=611,u.o=611,u.p=611,u.q=611,u.r=389,u.s=556,u.t=333,u.u=611,u.v=556,u.w=778,u.x=556,u.y=556,u.z=500,u.braceleft=389,u.bar=280,u.braceright=389,u.asciitilde=584,u.exclamdown=333,u.cent=556,u.sterling=556,u.fraction=167,u.yen=556,u.florin=556,u.section=556,u.currency=556,u.quotesingle=238,u.quotedblleft=500,u.guillemotleft=556,u.guilsinglleft=333,u.guilsinglright=333,u.fi=611,u.fl=611,u.endash=556,u.dagger=556,u.daggerdbl=556,u.periodcentered=278,u.paragraph=556,u.bullet=350,u.quotesinglbase=278,u.quotedblbase=500,u.quotedblright=500,u.guillemotright=556,u.ellipsis=1e3,u.perthousand=1e3,u.questiondown=611,u.grave=333,u.acute=333,u.circumflex=333,u.tilde=333,u.macron=333,u.breve=333,u.dotaccent=333,u.dieresis=333,u.ring=333,u.cedilla=333,u.hungarumlaut=333,u.ogonek=333,u.caron=333,u.emdash=1e3,u.AE=1e3,u.ordfeminine=370,u.Lslash=611,u.Oslash=778,u.OE=1e3,u.ordmasculine=365,u.ae=889,u.dotlessi=278,u.lslash=278,u.oslash=611,u.oe=944,u.germandbls=611,u.Idieresis=278,u.eacute=556,u.abreve=556,u.uhungarumlaut=611,u.ecaron=556,u.Ydieresis=667,u.divide=584,u.Yacute=667,u.Acircumflex=722,u.aacute=556,u.Ucircumflex=722,u.yacute=556,u.scommaaccent=556,u.ecircumflex=556,u.Uring=722,u.Udieresis=722,u.aogonek=556,u.Uacute=722,u.uogonek=611,u.Edieresis=667,u.Dcroat=722,u.commaaccent=250,u.copyright=737,u.Emacron=667,u.ccaron=556,u.aring=556,u.Ncommaaccent=722,u.lacute=278,u.agrave=556,u.Tcommaaccent=611,u.Cacute=722,u.atilde=556,u.Edotaccent=667,u.scaron=556,u.scedilla=556,u.iacute=278,u.lozenge=494,u.Rcaron=722,u.Gcommaaccent=778,u.ucircumflex=611,u.acircumflex=556,u.Amacron=722,u.rcaron=389,u.ccedilla=556,u.Zdotaccent=611,u.Thorn=667,u.Omacron=778,u.Racute=722,u.Sacute=667,u.dcaron=743,u.Umacron=722,u.uring=611,u.threesuperior=333,u.Ograve=778,u.Agrave=722,u.Abreve=722,u.multiply=584,u.uacute=611,u.Tcaron=611,u.partialdiff=494,u.ydieresis=556,u.Nacute=722,u.icircumflex=278,u.Ecircumflex=667,u.adieresis=556,u.edieresis=556,u.cacute=556,u.nacute=611,u.umacron=611,u.Ncaron=722,u.Iacute=278,u.plusminus=584,u.brokenbar=280,u.registered=737,u.Gbreve=778,u.Idotaccent=278,u.summation=600,u.Egrave=667,u.racute=389,u.omacron=611,u.Zacute=611,u.Zcaron=611,u.greaterequal=549,u.Eth=722,u.Ccedilla=722,u.lcommaaccent=278,u.tcaron=389,u.eogonek=556,u.Uogonek=722,u.Aacute=722,u.Adieresis=722,u.egrave=556,u.zacute=500,u.iogonek=278,u.Oacute=778,u.oacute=611,u.amacron=556,u.sacute=556,u.idieresis=278,u.Ocircumflex=778,u.Ugrave=722,u.Delta=612,u.thorn=611,u.twosuperior=333,u.Odieresis=778,u.mu=611,u.igrave=278,u.ohungarumlaut=611,u.Eogonek=667,u.dcroat=611,u.threequarters=834,u.Scedilla=667,u.lcaron=400,u.Kcommaaccent=722,u.Lacute=611,u.trademark=1e3,u.edotaccent=556,u.Igrave=278,u.Imacron=278,u.Lcaron=611,u.onehalf=834,u.lessequal=549,u.ocircumflex=611,u.ntilde=611,u.Uhungarumlaut=722,u.Eacute=667,u.emacron=556,u.gbreve=611,u.onequarter=834,u.Scaron=667,u.Scommaaccent=667,u.Ohungarumlaut=778,u.degree=400,u.ograve=611,u.Ccaron=722,u.ugrave=611,u.radical=549,u.Dcaron=722,u.rcommaaccent=389,u.Ntilde=722,u.otilde=611,u.Rcommaaccent=722,u.Lcommaaccent=611,u.Atilde=722,u.Aogonek=722,u.Aring=722,u.Otilde=778,u.zdotaccent=500,u.Ecaron=667,u.Iogonek=278,u.kcommaaccent=556,u.minus=584,u.Icircumflex=278,u.ncaron=611,u.tcommaaccent=333,u.logicalnot=584,u.odieresis=611,u.udieresis=611,u.notequal=549,u.gcommaaccent=611,u.eth=611,u.zcaron=500,u.ncommaaccent=611,u.onesuperior=333,u.imacron=278,u.Euro=556}),x["Helvetica-Oblique"]=(0,d.getLookupTableFactory)(function(u){u.space=278,u.exclam=278,u.quotedbl=355,u.numbersign=556,u.dollar=556,u.percent=889,u.ampersand=667,u.quoteright=222,u.parenleft=333,u.parenright=333,u.asterisk=389,u.plus=584,u.comma=278,u.hyphen=333,u.period=278,u.slash=278,u.zero=556,u.one=556,u.two=556,u.three=556,u.four=556,u.five=556,u.six=556,u.seven=556,u.eight=556,u.nine=556,u.colon=278,u.semicolon=278,u.less=584,u.equal=584,u.greater=584,u.question=556,u.at=1015,u.A=667,u.B=667,u.C=722,u.D=722,u.E=667,u.F=611,u.G=778,u.H=722,u.I=278,u.J=500,u.K=667,u.L=556,u.M=833,u.N=722,u.O=778,u.P=667,u.Q=778,u.R=722,u.S=667,u.T=611,u.U=722,u.V=667,u.W=944,u.X=667,u.Y=667,u.Z=611,u.bracketleft=278,u.backslash=278,u.bracketright=278,u.asciicircum=469,u.underscore=556,u.quoteleft=222,u.a=556,u.b=556,u.c=500,u.d=556,u.e=556,u.f=278,u.g=556,u.h=556,u.i=222,u.j=222,u.k=500,u.l=222,u.m=833,u.n=556,u.o=556,u.p=556,u.q=556,u.r=333,u.s=500,u.t=278,u.u=556,u.v=500,u.w=722,u.x=500,u.y=500,u.z=500,u.braceleft=334,u.bar=260,u.braceright=334,u.asciitilde=584,u.exclamdown=333,u.cent=556,u.sterling=556,u.fraction=167,u.yen=556,u.florin=556,u.section=556,u.currency=556,u.quotesingle=191,u.quotedblleft=333,u.guillemotleft=556,u.guilsinglleft=333,u.guilsinglright=333,u.fi=500,u.fl=500,u.endash=556,u.dagger=556,u.daggerdbl=556,u.periodcentered=278,u.paragraph=537,u.bullet=350,u.quotesinglbase=222,u.quotedblbase=333,u.quotedblright=333,u.guillemotright=556,u.ellipsis=1e3,u.perthousand=1e3,u.questiondown=611,u.grave=333,u.acute=333,u.circumflex=333,u.tilde=333,u.macron=333,u.breve=333,u.dotaccent=333,u.dieresis=333,u.ring=333,u.cedilla=333,u.hungarumlaut=333,u.ogonek=333,u.caron=333,u.emdash=1e3,u.AE=1e3,u.ordfeminine=370,u.Lslash=556,u.Oslash=778,u.OE=1e3,u.ordmasculine=365,u.ae=889,u.dotlessi=278,u.lslash=222,u.oslash=611,u.oe=944,u.germandbls=611,u.Idieresis=278,u.eacute=556,u.abreve=556,u.uhungarumlaut=556,u.ecaron=556,u.Ydieresis=667,u.divide=584,u.Yacute=667,u.Acircumflex=667,u.aacute=556,u.Ucircumflex=722,u.yacute=500,u.scommaaccent=500,u.ecircumflex=556,u.Uring=722,u.Udieresis=722,u.aogonek=556,u.Uacute=722,u.uogonek=556,u.Edieresis=667,u.Dcroat=722,u.commaaccent=250,u.copyright=737,u.Emacron=667,u.ccaron=500,u.aring=556,u.Ncommaaccent=722,u.lacute=222,u.agrave=556,u.Tcommaaccent=611,u.Cacute=722,u.atilde=556,u.Edotaccent=667,u.scaron=500,u.scedilla=500,u.iacute=278,u.lozenge=471,u.Rcaron=722,u.Gcommaaccent=778,u.ucircumflex=556,u.acircumflex=556,u.Amacron=667,u.rcaron=333,u.ccedilla=500,u.Zdotaccent=611,u.Thorn=667,u.Omacron=778,u.Racute=722,u.Sacute=667,u.dcaron=643,u.Umacron=722,u.uring=556,u.threesuperior=333,u.Ograve=778,u.Agrave=667,u.Abreve=667,u.multiply=584,u.uacute=556,u.Tcaron=611,u.partialdiff=476,u.ydieresis=500,u.Nacute=722,u.icircumflex=278,u.Ecircumflex=667,u.adieresis=556,u.edieresis=556,u.cacute=500,u.nacute=556,u.umacron=556,u.Ncaron=722,u.Iacute=278,u.plusminus=584,u.brokenbar=260,u.registered=737,u.Gbreve=778,u.Idotaccent=278,u.summation=600,u.Egrave=667,u.racute=333,u.omacron=556,u.Zacute=611,u.Zcaron=611,u.greaterequal=549,u.Eth=722,u.Ccedilla=722,u.lcommaaccent=222,u.tcaron=317,u.eogonek=556,u.Uogonek=722,u.Aacute=667,u.Adieresis=667,u.egrave=556,u.zacute=500,u.iogonek=222,u.Oacute=778,u.oacute=556,u.amacron=556,u.sacute=500,u.idieresis=278,u.Ocircumflex=778,u.Ugrave=722,u.Delta=612,u.thorn=556,u.twosuperior=333,u.Odieresis=778,u.mu=556,u.igrave=278,u.ohungarumlaut=556,u.Eogonek=667,u.dcroat=556,u.threequarters=834,u.Scedilla=667,u.lcaron=299,u.Kcommaaccent=667,u.Lacute=556,u.trademark=1e3,u.edotaccent=556,u.Igrave=278,u.Imacron=278,u.Lcaron=556,u.onehalf=834,u.lessequal=549,u.ocircumflex=556,u.ntilde=556,u.Uhungarumlaut=722,u.Eacute=667,u.emacron=556,u.gbreve=556,u.onequarter=834,u.Scaron=667,u.Scommaaccent=667,u.Ohungarumlaut=778,u.degree=400,u.ograve=556,u.Ccaron=722,u.ugrave=556,u.radical=453,u.Dcaron=722,u.rcommaaccent=333,u.Ntilde=722,u.otilde=556,u.Rcommaaccent=722,u.Lcommaaccent=556,u.Atilde=667,u.Aogonek=667,u.Aring=667,u.Otilde=778,u.zdotaccent=500,u.Ecaron=667,u.Iogonek=278,u.kcommaaccent=500,u.minus=584,u.Icircumflex=278,u.ncaron=556,u.tcommaaccent=278,u.logicalnot=584,u.odieresis=556,u.udieresis=556,u.notequal=549,u.gcommaaccent=556,u.eth=556,u.zcaron=500,u.ncommaaccent=556,u.onesuperior=333,u.imacron=278,u.Euro=556}),x.Symbol=(0,d.getLookupTableFactory)(function(u){u.space=250,u.exclam=333,u.universal=713,u.numbersign=500,u.existential=549,u.percent=833,u.ampersand=778,u.suchthat=439,u.parenleft=333,u.parenright=333,u.asteriskmath=500,u.plus=549,u.comma=250,u.minus=549,u.period=250,u.slash=278,u.zero=500,u.one=500,u.two=500,u.three=500,u.four=500,u.five=500,u.six=500,u.seven=500,u.eight=500,u.nine=500,u.colon=278,u.semicolon=278,u.less=549,u.equal=549,u.greater=549,u.question=444,u.congruent=549,u.Alpha=722,u.Beta=667,u.Chi=722,u.Delta=612,u.Epsilon=611,u.Phi=763,u.Gamma=603,u.Eta=722,u.Iota=333,u.theta1=631,u.Kappa=722,u.Lambda=686,u.Mu=889,u.Nu=722,u.Omicron=722,u.Pi=768,u.Theta=741,u.Rho=556,u.Sigma=592,u.Tau=611,u.Upsilon=690,u.sigma1=439,u.Omega=768,u.Xi=645,u.Psi=795,u.Zeta=611,u.bracketleft=333,u.therefore=863,u.bracketright=333,u.perpendicular=658,u.underscore=500,u.radicalex=500,u.alpha=631,u.beta=549,u.chi=549,u.delta=494,u.epsilon=439,u.phi=521,u.gamma=411,u.eta=603,u.iota=329,u.phi1=603,u.kappa=549,u.lambda=549,u.mu=576,u.nu=521,u.omicron=549,u.pi=549,u.theta=521,u.rho=549,u.sigma=603,u.tau=439,u.upsilon=576,u.omega1=713,u.omega=686,u.xi=493,u.psi=686,u.zeta=494,u.braceleft=480,u.bar=200,u.braceright=480,u.similar=549,u.Euro=750,u.Upsilon1=620,u.minute=247,u.lessequal=549,u.fraction=167,u.infinity=713,u.florin=500,u.club=753,u.diamond=753,u.heart=753,u.spade=753,u.arrowboth=1042,u.arrowleft=987,u.arrowup=603,u.arrowright=987,u.arrowdown=603,u.degree=400,u.plusminus=549,u.second=411,u.greaterequal=549,u.multiply=549,u.proportional=713,u.partialdiff=494,u.bullet=460,u.divide=549,u.notequal=549,u.equivalence=549,u.approxequal=549,u.ellipsis=1e3,u.arrowvertex=603,u.arrowhorizex=1e3,u.carriagereturn=658,u.aleph=823,u.Ifraktur=686,u.Rfraktur=795,u.weierstrass=987,u.circlemultiply=768,u.circleplus=768,u.emptyset=823,u.intersection=768,u.union=768,u.propersuperset=713,u.reflexsuperset=713,u.notsubset=713,u.propersubset=713,u.reflexsubset=713,u.element=713,u.notelement=713,u.angle=768,u.gradient=713,u.registerserif=790,u.copyrightserif=790,u.trademarkserif=890,u.product=823,u.radical=549,u.dotmath=250,u.logicalnot=713,u.logicaland=603,u.logicalor=603,u.arrowdblboth=1042,u.arrowdblleft=987,u.arrowdblup=603,u.arrowdblright=987,u.arrowdbldown=603,u.lozenge=494,u.angleleft=329,u.registersans=790,u.copyrightsans=790,u.trademarksans=786,u.summation=713,u.parenlefttp=384,u.parenleftex=384,u.parenleftbt=384,u.bracketlefttp=384,u.bracketleftex=384,u.bracketleftbt=384,u.bracelefttp=494,u.braceleftmid=494,u.braceleftbt=494,u.braceex=494,u.angleright=329,u.integral=274,u.integraltp=686,u.integralex=686,u.integralbt=686,u.parenrighttp=384,u.parenrightex=384,u.parenrightbt=384,u.bracketrighttp=384,u.bracketrightex=384,u.bracketrightbt=384,u.bracerighttp=494,u.bracerightmid=494,u.bracerightbt=494,u.apple=790}),x["Times-Roman"]=(0,d.getLookupTableFactory)(function(u){u.space=250,u.exclam=333,u.quotedbl=408,u.numbersign=500,u.dollar=500,u.percent=833,u.ampersand=778,u.quoteright=333,u.parenleft=333,u.parenright=333,u.asterisk=500,u.plus=564,u.comma=250,u.hyphen=333,u.period=250,u.slash=278,u.zero=500,u.one=500,u.two=500,u.three=500,u.four=500,u.five=500,u.six=500,u.seven=500,u.eight=500,u.nine=500,u.colon=278,u.semicolon=278,u.less=564,u.equal=564,u.greater=564,u.question=444,u.at=921,u.A=722,u.B=667,u.C=667,u.D=722,u.E=611,u.F=556,u.G=722,u.H=722,u.I=333,u.J=389,u.K=722,u.L=611,u.M=889,u.N=722,u.O=722,u.P=556,u.Q=722,u.R=667,u.S=556,u.T=611,u.U=722,u.V=722,u.W=944,u.X=722,u.Y=722,u.Z=611,u.bracketleft=333,u.backslash=278,u.bracketright=333,u.asciicircum=469,u.underscore=500,u.quoteleft=333,u.a=444,u.b=500,u.c=444,u.d=500,u.e=444,u.f=333,u.g=500,u.h=500,u.i=278,u.j=278,u.k=500,u.l=278,u.m=778,u.n=500,u.o=500,u.p=500,u.q=500,u.r=333,u.s=389,u.t=278,u.u=500,u.v=500,u.w=722,u.x=500,u.y=500,u.z=444,u.braceleft=480,u.bar=200,u.braceright=480,u.asciitilde=541,u.exclamdown=333,u.cent=500,u.sterling=500,u.fraction=167,u.yen=500,u.florin=500,u.section=500,u.currency=500,u.quotesingle=180,u.quotedblleft=444,u.guillemotleft=500,u.guilsinglleft=333,u.guilsinglright=333,u.fi=556,u.fl=556,u.endash=500,u.dagger=500,u.daggerdbl=500,u.periodcentered=250,u.paragraph=453,u.bullet=350,u.quotesinglbase=333,u.quotedblbase=444,u.quotedblright=444,u.guillemotright=500,u.ellipsis=1e3,u.perthousand=1e3,u.questiondown=444,u.grave=333,u.acute=333,u.circumflex=333,u.tilde=333,u.macron=333,u.breve=333,u.dotaccent=333,u.dieresis=333,u.ring=333,u.cedilla=333,u.hungarumlaut=333,u.ogonek=333,u.caron=333,u.emdash=1e3,u.AE=889,u.ordfeminine=276,u.Lslash=611,u.Oslash=722,u.OE=889,u.ordmasculine=310,u.ae=667,u.dotlessi=278,u.lslash=278,u.oslash=500,u.oe=722,u.germandbls=500,u.Idieresis=333,u.eacute=444,u.abreve=444,u.uhungarumlaut=500,u.ecaron=444,u.Ydieresis=722,u.divide=564,u.Yacute=722,u.Acircumflex=722,u.aacute=444,u.Ucircumflex=722,u.yacute=500,u.scommaaccent=389,u.ecircumflex=444,u.Uring=722,u.Udieresis=722,u.aogonek=444,u.Uacute=722,u.uogonek=500,u.Edieresis=611,u.Dcroat=722,u.commaaccent=250,u.copyright=760,u.Emacron=611,u.ccaron=444,u.aring=444,u.Ncommaaccent=722,u.lacute=278,u.agrave=444,u.Tcommaaccent=611,u.Cacute=667,u.atilde=444,u.Edotaccent=611,u.scaron=389,u.scedilla=389,u.iacute=278,u.lozenge=471,u.Rcaron=667,u.Gcommaaccent=722,u.ucircumflex=500,u.acircumflex=444,u.Amacron=722,u.rcaron=333,u.ccedilla=444,u.Zdotaccent=611,u.Thorn=556,u.Omacron=722,u.Racute=667,u.Sacute=556,u.dcaron=588,u.Umacron=722,u.uring=500,u.threesuperior=300,u.Ograve=722,u.Agrave=722,u.Abreve=722,u.multiply=564,u.uacute=500,u.Tcaron=611,u.partialdiff=476,u.ydieresis=500,u.Nacute=722,u.icircumflex=278,u.Ecircumflex=611,u.adieresis=444,u.edieresis=444,u.cacute=444,u.nacute=500,u.umacron=500,u.Ncaron=722,u.Iacute=333,u.plusminus=564,u.brokenbar=200,u.registered=760,u.Gbreve=722,u.Idotaccent=333,u.summation=600,u.Egrave=611,u.racute=333,u.omacron=500,u.Zacute=611,u.Zcaron=611,u.greaterequal=549,u.Eth=722,u.Ccedilla=667,u.lcommaaccent=278,u.tcaron=326,u.eogonek=444,u.Uogonek=722,u.Aacute=722,u.Adieresis=722,u.egrave=444,u.zacute=444,u.iogonek=278,u.Oacute=722,u.oacute=500,u.amacron=444,u.sacute=389,u.idieresis=278,u.Ocircumflex=722,u.Ugrave=722,u.Delta=612,u.thorn=500,u.twosuperior=300,u.Odieresis=722,u.mu=500,u.igrave=278,u.ohungarumlaut=500,u.Eogonek=611,u.dcroat=500,u.threequarters=750,u.Scedilla=556,u.lcaron=344,u.Kcommaaccent=722,u.Lacute=611,u.trademark=980,u.edotaccent=444,u.Igrave=333,u.Imacron=333,u.Lcaron=611,u.onehalf=750,u.lessequal=549,u.ocircumflex=500,u.ntilde=500,u.Uhungarumlaut=722,u.Eacute=611,u.emacron=444,u.gbreve=500,u.onequarter=750,u.Scaron=556,u.Scommaaccent=556,u.Ohungarumlaut=722,u.degree=400,u.ograve=500,u.Ccaron=667,u.ugrave=500,u.radical=453,u.Dcaron=722,u.rcommaaccent=333,u.Ntilde=722,u.otilde=500,u.Rcommaaccent=667,u.Lcommaaccent=611,u.Atilde=722,u.Aogonek=722,u.Aring=722,u.Otilde=722,u.zdotaccent=444,u.Ecaron=611,u.Iogonek=333,u.kcommaaccent=500,u.minus=564,u.Icircumflex=333,u.ncaron=500,u.tcommaaccent=278,u.logicalnot=564,u.odieresis=500,u.udieresis=500,u.notequal=549,u.gcommaaccent=500,u.eth=500,u.zcaron=444,u.ncommaaccent=500,u.onesuperior=300,u.imacron=278,u.Euro=500}),x["Times-Bold"]=(0,d.getLookupTableFactory)(function(u){u.space=250,u.exclam=333,u.quotedbl=555,u.numbersign=500,u.dollar=500,u.percent=1e3,u.ampersand=833,u.quoteright=333,u.parenleft=333,u.parenright=333,u.asterisk=500,u.plus=570,u.comma=250,u.hyphen=333,u.period=250,u.slash=278,u.zero=500,u.one=500,u.two=500,u.three=500,u.four=500,u.five=500,u.six=500,u.seven=500,u.eight=500,u.nine=500,u.colon=333,u.semicolon=333,u.less=570,u.equal=570,u.greater=570,u.question=500,u.at=930,u.A=722,u.B=667,u.C=722,u.D=722,u.E=667,u.F=611,u.G=778,u.H=778,u.I=389,u.J=500,u.K=778,u.L=667,u.M=944,u.N=722,u.O=778,u.P=611,u.Q=778,u.R=722,u.S=556,u.T=667,u.U=722,u.V=722,u.W=1e3,u.X=722,u.Y=722,u.Z=667,u.bracketleft=333,u.backslash=278,u.bracketright=333,u.asciicircum=581,u.underscore=500,u.quoteleft=333,u.a=500,u.b=556,u.c=444,u.d=556,u.e=444,u.f=333,u.g=500,u.h=556,u.i=278,u.j=333,u.k=556,u.l=278,u.m=833,u.n=556,u.o=500,u.p=556,u.q=556,u.r=444,u.s=389,u.t=333,u.u=556,u.v=500,u.w=722,u.x=500,u.y=500,u.z=444,u.braceleft=394,u.bar=220,u.braceright=394,u.asciitilde=520,u.exclamdown=333,u.cent=500,u.sterling=500,u.fraction=167,u.yen=500,u.florin=500,u.section=500,u.currency=500,u.quotesingle=278,u.quotedblleft=500,u.guillemotleft=500,u.guilsinglleft=333,u.guilsinglright=333,u.fi=556,u.fl=556,u.endash=500,u.dagger=500,u.daggerdbl=500,u.periodcentered=250,u.paragraph=540,u.bullet=350,u.quotesinglbase=333,u.quotedblbase=500,u.quotedblright=500,u.guillemotright=500,u.ellipsis=1e3,u.perthousand=1e3,u.questiondown=500,u.grave=333,u.acute=333,u.circumflex=333,u.tilde=333,u.macron=333,u.breve=333,u.dotaccent=333,u.dieresis=333,u.ring=333,u.cedilla=333,u.hungarumlaut=333,u.ogonek=333,u.caron=333,u.emdash=1e3,u.AE=1e3,u.ordfeminine=300,u.Lslash=667,u.Oslash=778,u.OE=1e3,u.ordmasculine=330,u.ae=722,u.dotlessi=278,u.lslash=278,u.oslash=500,u.oe=722,u.germandbls=556,u.Idieresis=389,u.eacute=444,u.abreve=500,u.uhungarumlaut=556,u.ecaron=444,u.Ydieresis=722,u.divide=570,u.Yacute=722,u.Acircumflex=722,u.aacute=500,u.Ucircumflex=722,u.yacute=500,u.scommaaccent=389,u.ecircumflex=444,u.Uring=722,u.Udieresis=722,u.aogonek=500,u.Uacute=722,u.uogonek=556,u.Edieresis=667,u.Dcroat=722,u.commaaccent=250,u.copyright=747,u.Emacron=667,u.ccaron=444,u.aring=500,u.Ncommaaccent=722,u.lacute=278,u.agrave=500,u.Tcommaaccent=667,u.Cacute=722,u.atilde=500,u.Edotaccent=667,u.scaron=389,u.scedilla=389,u.iacute=278,u.lozenge=494,u.Rcaron=722,u.Gcommaaccent=778,u.ucircumflex=556,u.acircumflex=500,u.Amacron=722,u.rcaron=444,u.ccedilla=444,u.Zdotaccent=667,u.Thorn=611,u.Omacron=778,u.Racute=722,u.Sacute=556,u.dcaron=672,u.Umacron=722,u.uring=556,u.threesuperior=300,u.Ograve=778,u.Agrave=722,u.Abreve=722,u.multiply=570,u.uacute=556,u.Tcaron=667,u.partialdiff=494,u.ydieresis=500,u.Nacute=722,u.icircumflex=278,u.Ecircumflex=667,u.adieresis=500,u.edieresis=444,u.cacute=444,u.nacute=556,u.umacron=556,u.Ncaron=722,u.Iacute=389,u.plusminus=570,u.brokenbar=220,u.registered=747,u.Gbreve=778,u.Idotaccent=389,u.summation=600,u.Egrave=667,u.racute=444,u.omacron=500,u.Zacute=667,u.Zcaron=667,u.greaterequal=549,u.Eth=722,u.Ccedilla=722,u.lcommaaccent=278,u.tcaron=416,u.eogonek=444,u.Uogonek=722,u.Aacute=722,u.Adieresis=722,u.egrave=444,u.zacute=444,u.iogonek=278,u.Oacute=778,u.oacute=500,u.amacron=500,u.sacute=389,u.idieresis=278,u.Ocircumflex=778,u.Ugrave=722,u.Delta=612,u.thorn=556,u.twosuperior=300,u.Odieresis=778,u.mu=556,u.igrave=278,u.ohungarumlaut=500,u.Eogonek=667,u.dcroat=556,u.threequarters=750,u.Scedilla=556,u.lcaron=394,u.Kcommaaccent=778,u.Lacute=667,u.trademark=1e3,u.edotaccent=444,u.Igrave=389,u.Imacron=389,u.Lcaron=667,u.onehalf=750,u.lessequal=549,u.ocircumflex=500,u.ntilde=556,u.Uhungarumlaut=722,u.Eacute=667,u.emacron=444,u.gbreve=500,u.onequarter=750,u.Scaron=556,u.Scommaaccent=556,u.Ohungarumlaut=778,u.degree=400,u.ograve=500,u.Ccaron=722,u.ugrave=556,u.radical=549,u.Dcaron=722,u.rcommaaccent=444,u.Ntilde=722,u.otilde=500,u.Rcommaaccent=722,u.Lcommaaccent=667,u.Atilde=722,u.Aogonek=722,u.Aring=722,u.Otilde=778,u.zdotaccent=444,u.Ecaron=667,u.Iogonek=389,u.kcommaaccent=556,u.minus=570,u.Icircumflex=389,u.ncaron=556,u.tcommaaccent=333,u.logicalnot=570,u.odieresis=500,u.udieresis=556,u.notequal=549,u.gcommaaccent=500,u.eth=500,u.zcaron=444,u.ncommaaccent=556,u.onesuperior=300,u.imacron=278,u.Euro=500}),x["Times-BoldItalic"]=(0,d.getLookupTableFactory)(function(u){u.space=250,u.exclam=389,u.quotedbl=555,u.numbersign=500,u.dollar=500,u.percent=833,u.ampersand=778,u.quoteright=333,u.parenleft=333,u.parenright=333,u.asterisk=500,u.plus=570,u.comma=250,u.hyphen=333,u.period=250,u.slash=278,u.zero=500,u.one=500,u.two=500,u.three=500,u.four=500,u.five=500,u.six=500,u.seven=500,u.eight=500,u.nine=500,u.colon=333,u.semicolon=333,u.less=570,u.equal=570,u.greater=570,u.question=500,u.at=832,u.A=667,u.B=667,u.C=667,u.D=722,u.E=667,u.F=667,u.G=722,u.H=778,u.I=389,u.J=500,u.K=667,u.L=611,u.M=889,u.N=722,u.O=722,u.P=611,u.Q=722,u.R=667,u.S=556,u.T=611,u.U=722,u.V=667,u.W=889,u.X=667,u.Y=611,u.Z=611,u.bracketleft=333,u.backslash=278,u.bracketright=333,u.asciicircum=570,u.underscore=500,u.quoteleft=333,u.a=500,u.b=500,u.c=444,u.d=500,u.e=444,u.f=333,u.g=500,u.h=556,u.i=278,u.j=278,u.k=500,u.l=278,u.m=778,u.n=556,u.o=500,u.p=500,u.q=500,u.r=389,u.s=389,u.t=278,u.u=556,u.v=444,u.w=667,u.x=500,u.y=444,u.z=389,u.braceleft=348,u.bar=220,u.braceright=348,u.asciitilde=570,u.exclamdown=389,u.cent=500,u.sterling=500,u.fraction=167,u.yen=500,u.florin=500,u.section=500,u.currency=500,u.quotesingle=278,u.quotedblleft=500,u.guillemotleft=500,u.guilsinglleft=333,u.guilsinglright=333,u.fi=556,u.fl=556,u.endash=500,u.dagger=500,u.daggerdbl=500,u.periodcentered=250,u.paragraph=500,u.bullet=350,u.quotesinglbase=333,u.quotedblbase=500,u.quotedblright=500,u.guillemotright=500,u.ellipsis=1e3,u.perthousand=1e3,u.questiondown=500,u.grave=333,u.acute=333,u.circumflex=333,u.tilde=333,u.macron=333,u.breve=333,u.dotaccent=333,u.dieresis=333,u.ring=333,u.cedilla=333,u.hungarumlaut=333,u.ogonek=333,u.caron=333,u.emdash=1e3,u.AE=944,u.ordfeminine=266,u.Lslash=611,u.Oslash=722,u.OE=944,u.ordmasculine=300,u.ae=722,u.dotlessi=278,u.lslash=278,u.oslash=500,u.oe=722,u.germandbls=500,u.Idieresis=389,u.eacute=444,u.abreve=500,u.uhungarumlaut=556,u.ecaron=444,u.Ydieresis=611,u.divide=570,u.Yacute=611,u.Acircumflex=667,u.aacute=500,u.Ucircumflex=722,u.yacute=444,u.scommaaccent=389,u.ecircumflex=444,u.Uring=722,u.Udieresis=722,u.aogonek=500,u.Uacute=722,u.uogonek=556,u.Edieresis=667,u.Dcroat=722,u.commaaccent=250,u.copyright=747,u.Emacron=667,u.ccaron=444,u.aring=500,u.Ncommaaccent=722,u.lacute=278,u.agrave=500,u.Tcommaaccent=611,u.Cacute=667,u.atilde=500,u.Edotaccent=667,u.scaron=389,u.scedilla=389,u.iacute=278,u.lozenge=494,u.Rcaron=667,u.Gcommaaccent=722,u.ucircumflex=556,u.acircumflex=500,u.Amacron=667,u.rcaron=389,u.ccedilla=444,u.Zdotaccent=611,u.Thorn=611,u.Omacron=722,u.Racute=667,u.Sacute=556,u.dcaron=608,u.Umacron=722,u.uring=556,u.threesuperior=300,u.Ograve=722,u.Agrave=667,u.Abreve=667,u.multiply=570,u.uacute=556,u.Tcaron=611,u.partialdiff=494,u.ydieresis=444,u.Nacute=722,u.icircumflex=278,u.Ecircumflex=667,u.adieresis=500,u.edieresis=444,u.cacute=444,u.nacute=556,u.umacron=556,u.Ncaron=722,u.Iacute=389,u.plusminus=570,u.brokenbar=220,u.registered=747,u.Gbreve=722,u.Idotaccent=389,u.summation=600,u.Egrave=667,u.racute=389,u.omacron=500,u.Zacute=611,u.Zcaron=611,u.greaterequal=549,u.Eth=722,u.Ccedilla=667,u.lcommaaccent=278,u.tcaron=366,u.eogonek=444,u.Uogonek=722,u.Aacute=667,u.Adieresis=667,u.egrave=444,u.zacute=389,u.iogonek=278,u.Oacute=722,u.oacute=500,u.amacron=500,u.sacute=389,u.idieresis=278,u.Ocircumflex=722,u.Ugrave=722,u.Delta=612,u.thorn=500,u.twosuperior=300,u.Odieresis=722,u.mu=576,u.igrave=278,u.ohungarumlaut=500,u.Eogonek=667,u.dcroat=500,u.threequarters=750,u.Scedilla=556,u.lcaron=382,u.Kcommaaccent=667,u.Lacute=611,u.trademark=1e3,u.edotaccent=444,u.Igrave=389,u.Imacron=389,u.Lcaron=611,u.onehalf=750,u.lessequal=549,u.ocircumflex=500,u.ntilde=556,u.Uhungarumlaut=722,u.Eacute=667,u.emacron=444,u.gbreve=500,u.onequarter=750,u.Scaron=556,u.Scommaaccent=556,u.Ohungarumlaut=722,u.degree=400,u.ograve=500,u.Ccaron=667,u.ugrave=556,u.radical=549,u.Dcaron=722,u.rcommaaccent=389,u.Ntilde=722,u.otilde=500,u.Rcommaaccent=667,u.Lcommaaccent=611,u.Atilde=667,u.Aogonek=667,u.Aring=667,u.Otilde=722,u.zdotaccent=389,u.Ecaron=667,u.Iogonek=389,u.kcommaaccent=500,u.minus=606,u.Icircumflex=389,u.ncaron=556,u.tcommaaccent=278,u.logicalnot=606,u.odieresis=500,u.udieresis=556,u.notequal=549,u.gcommaaccent=500,u.eth=500,u.zcaron=389,u.ncommaaccent=556,u.onesuperior=300,u.imacron=278,u.Euro=500}),x["Times-Italic"]=(0,d.getLookupTableFactory)(function(u){u.space=250,u.exclam=333,u.quotedbl=420,u.numbersign=500,u.dollar=500,u.percent=833,u.ampersand=778,u.quoteright=333,u.parenleft=333,u.parenright=333,u.asterisk=500,u.plus=675,u.comma=250,u.hyphen=333,u.period=250,u.slash=278,u.zero=500,u.one=500,u.two=500,u.three=500,u.four=500,u.five=500,u.six=500,u.seven=500,u.eight=500,u.nine=500,u.colon=333,u.semicolon=333,u.less=675,u.equal=675,u.greater=675,u.question=500,u.at=920,u.A=611,u.B=611,u.C=667,u.D=722,u.E=611,u.F=611,u.G=722,u.H=722,u.I=333,u.J=444,u.K=667,u.L=556,u.M=833,u.N=667,u.O=722,u.P=611,u.Q=722,u.R=611,u.S=500,u.T=556,u.U=722,u.V=611,u.W=833,u.X=611,u.Y=556,u.Z=556,u.bracketleft=389,u.backslash=278,u.bracketright=389,u.asciicircum=422,u.underscore=500,u.quoteleft=333,u.a=500,u.b=500,u.c=444,u.d=500,u.e=444,u.f=278,u.g=500,u.h=500,u.i=278,u.j=278,u.k=444,u.l=278,u.m=722,u.n=500,u.o=500,u.p=500,u.q=500,u.r=389,u.s=389,u.t=278,u.u=500,u.v=444,u.w=667,u.x=444,u.y=444,u.z=389,u.braceleft=400,u.bar=275,u.braceright=400,u.asciitilde=541,u.exclamdown=389,u.cent=500,u.sterling=500,u.fraction=167,u.yen=500,u.florin=500,u.section=500,u.currency=500,u.quotesingle=214,u.quotedblleft=556,u.guillemotleft=500,u.guilsinglleft=333,u.guilsinglright=333,u.fi=500,u.fl=500,u.endash=500,u.dagger=500,u.daggerdbl=500,u.periodcentered=250,u.paragraph=523,u.bullet=350,u.quotesinglbase=333,u.quotedblbase=556,u.quotedblright=556,u.guillemotright=500,u.ellipsis=889,u.perthousand=1e3,u.questiondown=500,u.grave=333,u.acute=333,u.circumflex=333,u.tilde=333,u.macron=333,u.breve=333,u.dotaccent=333,u.dieresis=333,u.ring=333,u.cedilla=333,u.hungarumlaut=333,u.ogonek=333,u.caron=333,u.emdash=889,u.AE=889,u.ordfeminine=276,u.Lslash=556,u.Oslash=722,u.OE=944,u.ordmasculine=310,u.ae=667,u.dotlessi=278,u.lslash=278,u.oslash=500,u.oe=667,u.germandbls=500,u.Idieresis=333,u.eacute=444,u.abreve=500,u.uhungarumlaut=500,u.ecaron=444,u.Ydieresis=556,u.divide=675,u.Yacute=556,u.Acircumflex=611,u.aacute=500,u.Ucircumflex=722,u.yacute=444,u.scommaaccent=389,u.ecircumflex=444,u.Uring=722,u.Udieresis=722,u.aogonek=500,u.Uacute=722,u.uogonek=500,u.Edieresis=611,u.Dcroat=722,u.commaaccent=250,u.copyright=760,u.Emacron=611,u.ccaron=444,u.aring=500,u.Ncommaaccent=667,u.lacute=278,u.agrave=500,u.Tcommaaccent=556,u.Cacute=667,u.atilde=500,u.Edotaccent=611,u.scaron=389,u.scedilla=389,u.iacute=278,u.lozenge=471,u.Rcaron=611,u.Gcommaaccent=722,u.ucircumflex=500,u.acircumflex=500,u.Amacron=611,u.rcaron=389,u.ccedilla=444,u.Zdotaccent=556,u.Thorn=611,u.Omacron=722,u.Racute=611,u.Sacute=500,u.dcaron=544,u.Umacron=722,u.uring=500,u.threesuperior=300,u.Ograve=722,u.Agrave=611,u.Abreve=611,u.multiply=675,u.uacute=500,u.Tcaron=556,u.partialdiff=476,u.ydieresis=444,u.Nacute=667,u.icircumflex=278,u.Ecircumflex=611,u.adieresis=500,u.edieresis=444,u.cacute=444,u.nacute=500,u.umacron=500,u.Ncaron=667,u.Iacute=333,u.plusminus=675,u.brokenbar=275,u.registered=760,u.Gbreve=722,u.Idotaccent=333,u.summation=600,u.Egrave=611,u.racute=389,u.omacron=500,u.Zacute=556,u.Zcaron=556,u.greaterequal=549,u.Eth=722,u.Ccedilla=667,u.lcommaaccent=278,u.tcaron=300,u.eogonek=444,u.Uogonek=722,u.Aacute=611,u.Adieresis=611,u.egrave=444,u.zacute=389,u.iogonek=278,u.Oacute=722,u.oacute=500,u.amacron=500,u.sacute=389,u.idieresis=278,u.Ocircumflex=722,u.Ugrave=722,u.Delta=612,u.thorn=500,u.twosuperior=300,u.Odieresis=722,u.mu=500,u.igrave=278,u.ohungarumlaut=500,u.Eogonek=611,u.dcroat=500,u.threequarters=750,u.Scedilla=500,u.lcaron=300,u.Kcommaaccent=667,u.Lacute=556,u.trademark=980,u.edotaccent=444,u.Igrave=333,u.Imacron=333,u.Lcaron=611,u.onehalf=750,u.lessequal=549,u.ocircumflex=500,u.ntilde=500,u.Uhungarumlaut=722,u.Eacute=611,u.emacron=444,u.gbreve=500,u.onequarter=750,u.Scaron=500,u.Scommaaccent=500,u.Ohungarumlaut=722,u.degree=400,u.ograve=500,u.Ccaron=667,u.ugrave=500,u.radical=453,u.Dcaron=722,u.rcommaaccent=389,u.Ntilde=667,u.otilde=500,u.Rcommaaccent=611,u.Lcommaaccent=556,u.Atilde=611,u.Aogonek=611,u.Aring=611,u.Otilde=722,u.zdotaccent=389,u.Ecaron=611,u.Iogonek=333,u.kcommaaccent=444,u.minus=675,u.Icircumflex=333,u.ncaron=500,u.tcommaaccent=278,u.logicalnot=675,u.odieresis=500,u.udieresis=500,u.notequal=549,u.gcommaaccent=500,u.eth=500,u.zcaron=389,u.ncommaaccent=500,u.onesuperior=300,u.imacron=278,u.Euro=500}),x.ZapfDingbats=(0,d.getLookupTableFactory)(function(u){u.space=278,u.a1=974,u.a2=961,u.a202=974,u.a3=980,u.a4=719,u.a5=789,u.a119=790,u.a118=791,u.a117=690,u.a11=960,u.a12=939,u.a13=549,u.a14=855,u.a15=911,u.a16=933,u.a105=911,u.a17=945,u.a18=974,u.a19=755,u.a20=846,u.a21=762,u.a22=761,u.a23=571,u.a24=677,u.a25=763,u.a26=760,u.a27=759,u.a28=754,u.a6=494,u.a7=552,u.a8=537,u.a9=577,u.a10=692,u.a29=786,u.a30=788,u.a31=788,u.a32=790,u.a33=793,u.a34=794,u.a35=816,u.a36=823,u.a37=789,u.a38=841,u.a39=823,u.a40=833,u.a41=816,u.a42=831,u.a43=923,u.a44=744,u.a45=723,u.a46=749,u.a47=790,u.a48=792,u.a49=695,u.a50=776,u.a51=768,u.a52=792,u.a53=759,u.a54=707,u.a55=708,u.a56=682,u.a57=701,u.a58=826,u.a59=815,u.a60=789,u.a61=789,u.a62=707,u.a63=687,u.a64=696,u.a65=689,u.a66=786,u.a67=787,u.a68=713,u.a69=791,u.a70=785,u.a71=791,u.a72=873,u.a73=761,u.a74=762,u.a203=762,u.a75=759,u.a204=759,u.a76=892,u.a77=892,u.a78=788,u.a79=784,u.a81=438,u.a82=138,u.a83=277,u.a84=415,u.a97=392,u.a98=392,u.a99=668,u.a100=668,u.a89=390,u.a90=390,u.a93=317,u.a94=317,u.a91=276,u.a92=276,u.a205=509,u.a85=509,u.a206=410,u.a86=410,u.a87=234,u.a88=234,u.a95=334,u.a96=334,u.a101=732,u.a102=544,u.a103=544,u.a104=910,u.a106=667,u.a107=760,u.a108=760,u.a112=776,u.a111=595,u.a110=694,u.a109=626,u.a120=788,u.a121=788,u.a122=788,u.a123=788,u.a124=788,u.a125=788,u.a126=788,u.a127=788,u.a128=788,u.a129=788,u.a130=788,u.a131=788,u.a132=788,u.a133=788,u.a134=788,u.a135=788,u.a136=788,u.a137=788,u.a138=788,u.a139=788,u.a140=788,u.a141=788,u.a142=788,u.a143=788,u.a144=788,u.a145=788,u.a146=788,u.a147=788,u.a148=788,u.a149=788,u.a150=788,u.a151=788,u.a152=788,u.a153=788,u.a154=788,u.a155=788,u.a156=788,u.a157=788,u.a158=788,u.a159=788,u.a160=894,u.a161=838,u.a163=1016,u.a164=458,u.a196=748,u.a165=924,u.a192=748,u.a166=918,u.a167=927,u.a168=928,u.a169=928,u.a170=834,u.a171=873,u.a172=828,u.a173=924,u.a162=924,u.a174=917,u.a175=930,u.a176=931,u.a177=463,u.a178=883,u.a179=836,u.a193=836,u.a180=867,u.a199=867,u.a181=696,u.a200=696,u.a182=874,u.a201=874,u.a183=760,u.a184=946,u.a197=771,u.a185=865,u.a194=771,u.a198=888,u.a186=967,u.a195=888,u.a187=831,u.a188=873,u.a189=927,u.a190=970,u.a191=918})});h.getMetrics=m;const y=(0,d.getLookupTableFactory)(function(x){x.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},x["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},x["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},x["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},x.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},x["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},x["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},x["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},x["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},x["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},x["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},x["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},x.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},x.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});h.getFontBasicMetrics=y},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GlyfTable=void 0,h.GlyfTable=class{constructor({glyfTable:w,isGlyphLocationsLong:T,locaTable:C,numGlyphs:k}){this.glyphs=[];const A=new DataView(C.buffer,C.byteOffset,C.byteLength),g=new DataView(w.buffer,w.byteOffset,w.byteLength),E=T?4:2;let v=T?A.getUint32(0):2*A.getUint16(0),M=0;for(let R=0;R<k;R++){M+=E;const I=T?A.getUint32(M):2*A.getUint16(M);if(I===v){this.glyphs.push(new p({}));continue}const J=p.parse(v,g);this.glyphs.push(J),v=I}}getSize(){return this.glyphs.reduce((w,T)=>w+(T.getSize()+3&-4),0)}write(){const w=this.getSize(),T=new DataView(new ArrayBuffer(w)),C=w>131070,k=C?4:2,A=new DataView(new ArrayBuffer((this.glyphs.length+1)*k));C?A.setUint32(0,0):A.setUint16(0,0);let g=0,E=0;for(const v of this.glyphs)g+=v.write(g,T),g=g+3&-4,E+=k,C?A.setUint32(E,g):A.setUint16(E,g>>1);return{isLocationLong:C,loca:new Uint8Array(A.buffer),glyf:new Uint8Array(T.buffer)}}scale(w){for(let T=0,C=this.glyphs.length;T<C;T++)this.glyphs[T].scale(w[T])}};class p{constructor({header:w=null,simple:T=null,composites:C=null}){this.header=w,this.simple=T,this.composites=C}static parse(w,T){const[C,k]=d.parse(w,T);if(w+=C,k.numberOfContours<0){const g=[];for(;;){const[E,v]=x.parse(w,T);if(w+=E,g.push(v),!(32&v.flags))break}return new p({header:k,composites:g})}const A=y.parse(w,T,k.numberOfContours);return new p({header:k,simple:A})}getSize(){if(!this.header)return 0;const w=this.simple?this.simple.getSize():this.composites.reduce((T,C)=>T+C.getSize(),0);return this.header.getSize()+w}write(w,T){if(!this.header)return 0;const C=w;if(w+=this.header.write(w,T),this.simple)w+=this.simple.write(w,T);else for(const k of this.composites)w+=k.write(w,T);return w-C}scale(w){if(!this.header)return;const T=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(T,w),this.simple)this.simple.scale(T,w);else for(const C of this.composites)C.scale(T,w)}}class d{constructor({numberOfContours:w,xMin:T,yMin:C,xMax:k,yMax:A}){this.numberOfContours=w,this.xMin=T,this.yMin=C,this.xMax=k,this.yMax=A}static parse(w,T){return[10,new d({numberOfContours:T.getInt16(w),xMin:T.getInt16(w+2),yMin:T.getInt16(w+4),xMax:T.getInt16(w+6),yMax:T.getInt16(w+8)})]}getSize(){return 10}write(w,T){return T.setInt16(w,this.numberOfContours),T.setInt16(w+2,this.xMin),T.setInt16(w+4,this.yMin),T.setInt16(w+6,this.xMax),T.setInt16(w+8,this.yMax),10}scale(w,T){this.xMin=Math.round(w+(this.xMin-w)*T),this.xMax=Math.round(w+(this.xMax-w)*T)}}class m{constructor({flags:w,xCoordinates:T,yCoordinates:C}){this.xCoordinates=T,this.yCoordinates=C,this.flags=w}}class y{constructor({contours:w,instructions:T}){this.contours=w,this.instructions=T}static parse(w,T,C){const k=[];for(let $=0;$<C;$++){const D=T.getUint16(w);w+=2,k.push(D)}const A=k[C-1]+1,g=T.getUint16(w);w+=2;const E=new Uint8Array(T).slice(w,w+g);w+=g;const v=[];for(let $=0;$<A;w++,$++){let D=T.getUint8(w);if(v.push(D),8&D){const ne=T.getUint8(++w);D^=8;for(let F=0;F<ne;F++)v.push(D);$+=ne}}const M=[];let R=[],I=[],J=[];const _=[];let L=0,K=0;for(let $=0;$<A;$++){const D=v[$];if(2&D){const ne=T.getUint8(w++);K+=16&D?ne:-ne,R.push(K)}else 16&D||(K+=T.getInt16(w),w+=2),R.push(K);k[L]===$&&(L++,M.push(R),R=[])}K=0,L=0;for(let $=0;$<A;$++){const D=v[$];if(4&D){const ne=T.getUint8(w++);K+=32&D?ne:-ne,I.push(K)}else 32&D||(K+=T.getInt16(w),w+=2),I.push(K);J.push(1&D|64&D),k[L]===$&&(R=M[L],L++,_.push(new m({flags:J,xCoordinates:R,yCoordinates:I})),I=[],J=[])}return new y({contours:_,instructions:E})}getSize(){let w=2*this.contours.length+2+this.instructions.length,T=0,C=0;for(const k of this.contours){w+=k.flags.length;for(let A=0,g=k.xCoordinates.length;A<g;A++){const E=k.xCoordinates[A],v=k.yCoordinates[A];let M=Math.abs(E-T);M>255?w+=2:M>0&&(w+=1),T=E,M=Math.abs(v-C),M>255?w+=2:M>0&&(w+=1),C=v}}return w}write(w,T){const C=w,k=[],A=[],g=[];let E=0,v=0;for(const M of this.contours){for(let R=0,I=M.xCoordinates.length;R<I;R++){let J=M.flags[R];const _=M.xCoordinates[R];let L=_-E;if(L===0)J|=16,k.push(0);else{const $=Math.abs(L);$<=255?(J|=L>=0?18:2,k.push($)):k.push(L)}E=_;const K=M.yCoordinates[R];if(L=K-v,L===0)J|=32,A.push(0);else{const $=Math.abs(L);$<=255?(J|=L>=0?36:4,A.push($)):A.push(L)}v=K,g.push(J)}T.setUint16(w,k.length-1),w+=2}T.setUint16(w,this.instructions.length),w+=2,this.instructions.length&&(new Uint8Array(T.buffer,0,T.buffer.byteLength).set(this.instructions,w),w+=this.instructions.length);for(const M of g)T.setUint8(w++,M);for(let M=0,R=k.length;M<R;M++){const I=k[M],J=g[M];2&J?T.setUint8(w++,I):16&J||(T.setInt16(w,I),w+=2)}for(let M=0,R=A.length;M<R;M++){const I=A[M],J=g[M];4&J?T.setUint8(w++,I):32&J||(T.setInt16(w,I),w+=2)}return w-C}scale(w,T){for(const C of this.contours)if(C.xCoordinates.length!==0)for(let k=0,A=C.xCoordinates.length;k<A;k++)C.xCoordinates[k]=Math.round(w+(C.xCoordinates[k]-w)*T)}}class x{constructor({flags:w,glyphIndex:T,argument1:C,argument2:k,transf:A,instructions:g}){this.flags=w,this.glyphIndex=T,this.argument1=C,this.argument2=k,this.transf=A,this.instructions=g}static parse(w,T){const C=w,k=[];let A=T.getUint16(w);const g=T.getUint16(w+2);w+=4;let E,v;1&A?(2&A?(E=T.getInt16(w),v=T.getInt16(w+2)):(E=T.getUint16(w),v=T.getUint16(w+2)),w+=4,A^=1):(2&A?(E=T.getInt8(w),v=T.getInt8(w+1)):(E=T.getUint8(w),v=T.getUint8(w+1)),w+=2),8&A?(k.push(T.getUint16(w)),w+=2):64&A?(k.push(T.getUint16(w),T.getUint16(w+2)),w+=4):128&A&&(k.push(T.getUint16(w),T.getUint16(w+2),T.getUint16(w+4),T.getUint16(w+6)),w+=8);let M=null;if(256&A){const R=T.getUint16(w);w+=2,M=new Uint8Array(T).slice(w,w+R),w+=R}return[w-C,new x({flags:A,glyphIndex:g,argument1:E,argument2:v,transf:k,instructions:M})]}getSize(){let w=4+2*this.transf.length;return 256&this.flags&&(w+=2+this.instructions.length),w+=2,2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(w+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(w+=2),w}write(w,T){const C=w;return 2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=1):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=1),T.setUint16(w,this.flags),T.setUint16(w+2,this.glyphIndex),w+=4,1&this.flags?(2&this.flags?(T.setInt16(w,this.argument1),T.setInt16(w+2,this.argument2)):(T.setUint16(w,this.argument1),T.setUint16(w+2,this.argument2)),w+=4):(T.setUint8(w,this.argument1),T.setUint8(w+1,this.argument2),w+=2),256&this.flags&&(T.setUint16(w,this.instructions.length),w+=2,this.instructions.length&&(new Uint8Array(T.buffer,0,T.buffer.byteLength).set(this.instructions,w),w+=this.instructions.length)),w-C}scale(w,T){}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OpenTypeFileBuilder=void 0;var d=p(3),m=p(2);function y(T,C,k){T[C]=k>>8&255,T[C+1]=255&k}function x(T,C,k){T[C]=k>>24&255,T[C+1]=k>>16&255,T[C+2]=k>>8&255,T[C+3]=255&k}function u(T,C,k){if(k instanceof Uint8Array)T.set(k,C);else if(typeof k=="string")for(let A=0,g=k.length;A<g;A++)T[C++]=255&k.charCodeAt(A);else for(const A of k)T[C++]=255&A}class w{constructor(C){this.sfnt=C,this.tables=Object.create(null)}static getSearchParams(C,k){let A=1,g=0;for(;(A^C)>A;)A<<=1,g++;const E=A*k;return{range:E,entry:g,rangeShift:k*C-E}}toArray(){let C=this.sfnt;const k=this.tables,A=Object.keys(k);A.sort();const g=A.length;let E,v,M,R,I,J=12+16*g;const _=[J];for(E=0;E<g;E++)R=k[A[E]],J+=(R.length+3&-4)>>>0,_.push(J);const L=new Uint8Array(J);for(E=0;E<g;E++)R=k[A[E]],u(L,_[E],R);C==="true"&&(C=(0,m.string32)(65536)),L[0]=255&C.charCodeAt(0),L[1]=255&C.charCodeAt(1),L[2]=255&C.charCodeAt(2),L[3]=255&C.charCodeAt(3),y(L,4,g);const K=w.getSearchParams(g,16);for(y(L,6,K.range),y(L,8,K.entry),y(L,10,K.rangeShift),J=12,E=0;E<g;E++){I=A[E],L[J]=255&I.charCodeAt(0),L[J+1]=255&I.charCodeAt(1),L[J+2]=255&I.charCodeAt(2),L[J+3]=255&I.charCodeAt(3);let $=0;for(v=_[E],M=_[E+1];v<M;v+=4)$=$+(0,d.readUint32)(L,v)>>>0;x(L,J+4,$),x(L,J+8,_[E]),x(L,J+12,k[I].length),J+=16}return L}addTable(C,k){if(C in this.tables)throw new Error("Table "+C+" already exists");this.tables[C]=k}}h.OpenTypeFileBuilder=w},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Type1Font=void 0;var d=p(33),m=p(2),y=p(36),x=p(3),u=p(8),w=p(47);function T(C,k,A){const g=C.length,E=k.length,v=g-E;let M=A,R=!1;for(;M<v;){let I=0;for(;I<E&&C[M+I]===k[I];)I++;if(I>=E){for(M+=I;M<g&&(0,x.isWhiteSpace)(C[M]);)M++;R=!0;break}M++}return{found:R,length:M}}h.Type1Font=class{constructor(k,A,g){let E=g.length1;g.length2;let v=A.peekBytes(6);const M=v[0]===128&&v[1]===1;M&&(A.skip(6),E=v[5]<<24|v[4]<<16|v[3]<<8|v[2]);const R=function(D,ne){const F=[101,101,120,101,99],j=D.pos;let se,Y,q,Q;try{se=D.getBytes(ne),Y=se.length}catch{}if(Y===ne&&(q=T(se,F,ne-2*F.length),q.found&&q.length===ne))return{stream:new u.Stream(se),length:ne};for((0,m.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),D.pos=j;q=T(D.peekBytes(2048),F,0),q.length!==0;)if(D.pos+=q.length,q.found){Q=D.pos-j;break}return D.pos=j,Q?{stream:new u.Stream(D.getBytes(Q)),length:Q}:((0,m.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new u.Stream(D.getBytes(ne)),length:ne})}(A,E);new w.Type1Parser(R.stream,!1,y.SEAC_ANALYSIS_ENABLED).extractFontHeader(g),M&&(v=A.getBytes(6),v[5]<<24|v[4]<<16|v[3]<<8|v[2]);const I=function(D,ne){const F=D.getBytes();if(F.length===0)throw new m.FormatError("getEexecBlock - no font program found.");return{stream:new u.Stream(F),length:F.length}}(A),J=new w.Type1Parser(I.stream,!0,y.SEAC_ANALYSIS_ENABLED).extractFontProgram(g);for(const $ in J.properties)g[$]=J.properties[$];const _=J.charstrings,L=this.getType2Charstrings(_),K=this.getType2Subrs(J.subrs);this.charstrings=_,this.data=this.wrap(k,L,this.charstrings,K,g),this.seacs=this.getSeacs(J.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const k=[".notdef"];for(const{glyphName:A}of this.charstrings)k.push(A);return k}getGlyphMapping(k){const A=this.charstrings;if(k.composite){const R=Object.create(null);for(let I=0,J=A.length;I<J;I++)R[k.cMap.charCodeOf(I)]=I+1;return R}const g=[".notdef"];let E,v;for(v=0;v<A.length;v++)g.push(A[v].glyphName);const M=k.builtInEncoding;if(M){E=Object.create(null);for(const R in M)v=g.indexOf(M[R]),v>=0&&(E[R]=v)}return(0,y.type1FontGlyphMapping)(k,E,g)}hasGlyphId(k){return k<0||k>=this.numGlyphs?!1:k===0?!0:this.charstrings[k-1].charstring.length>0}getSeacs(k){const A=[];for(let g=0,E=k.length;g<E;g++){const v=k[g];v.seac&&(A[g+1]=v.seac)}return A}getType2Charstrings(k){const A=[];for(const g of k)A.push(g.charstring);return A}getType2Subrs(k){let A=0;const g=k.length;A=g<1133?107:g<33769?1131:32768;const E=[];let v;for(v=0;v<A;v++)E.push([11]);for(v=0;v<g;v++)E.push(k[v]);return E}wrap(k,A,g,E,v){const M=new d.CFF;M.header=new d.CFFHeader(1,0,4,4),M.names=[k];const R=new d.CFFTopDict;R.setByName("version",391),R.setByName("Notice",392),R.setByName("FullName",393),R.setByName("FamilyName",394),R.setByName("Weight",395),R.setByName("Encoding",null),R.setByName("FontMatrix",v.fontMatrix),R.setByName("FontBBox",v.bbox),R.setByName("charset",null),R.setByName("CharStrings",null),R.setByName("Private",null),M.topDict=R;const I=new d.CFFStrings;I.add("Version 0.11"),I.add("See original notice"),I.add(k),I.add(k),I.add("Medium"),M.strings=I,M.globalSubrIndex=new d.CFFIndex;const J=A.length,_=[".notdef"];let L,K;for(L=0;L<J;L++){const j=g[L].glyphName;d.CFFStandardStrings.indexOf(j)===-1&&I.add(j),_.push(j)}M.charset=new d.CFFCharset(!1,0,_);const $=new d.CFFIndex;for($.add([139,14]),L=0;L<J;L++)$.add(A[L]);M.charStrings=$;const D=new d.CFFPrivateDict;D.setByName("Subrs",null);const ne=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(L=0,K=ne.length;L<K;L++){const j=ne[L];if(!(j in v.privateData))continue;const se=v.privateData[j];if(Array.isArray(se))for(let Y=se.length-1;Y>0;Y--)se[Y]-=se[Y-1];D.setByName(j,se)}M.topDict.privateDict=D;const F=new d.CFFIndex;for(L=0,K=E.length;L<K;L++)F.add(E[L]);return D.subrsIndex=F,new d.CFFCompiler(M).compile()}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Type1Parser=void 0;var d=p(35),m=p(3),y=p(8),x=p(2);const u=[4],w=[5],T=[6],C=[7],k=[8],A=[12,35],g=[14],E=[21],v=[22],M=[30],R=[31];class I{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert($,D,ne){const F=$.length;let j,se,Y,q=!1;for(let Q=0;Q<F;Q++){let N=$[Q];if(N<32){switch(N===12&&(N=(N<<8)+$[++Q]),N){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){q=!0;break}const fe=this.stack.pop();this.stack.push(0,fe);break}q=this.executeCommand(1,u);break;case 5:q=this.executeCommand(2,w);break;case 6:q=this.executeCommand(1,T);break;case 7:q=this.executeCommand(1,C);break;case 8:q=this.executeCommand(6,k);break;case 10:if(this.stack.length<1){q=!0;break}if(Y=this.stack.pop(),!D[Y]){q=!0;break}q=this.convert(D[Y],D,ne);break;case 11:return q;case 13:if(this.stack.length<2){q=!0;break}j=this.stack.pop(),se=this.stack.pop(),this.lsb=se,this.width=j,this.stack.push(j,se),q=this.executeCommand(2,v);break;case 14:this.output.push(g[0]);break;case 21:if(this.flexing)break;q=this.executeCommand(2,E);break;case 22:if(this.flexing){this.stack.push(0);break}q=this.executeCommand(1,v);break;case 30:q=this.executeCommand(4,M);break;case 31:q=this.executeCommand(4,R);break;case 3078:if(ne){const fe=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-fe,q=this.executeCommand(0,g)}else q=this.executeCommand(4,g);break;case 3079:if(this.stack.length<4){q=!0;break}this.stack.pop(),j=this.stack.pop();const O=this.stack.pop();se=this.stack.pop(),this.lsb=se,this.width=j,this.stack.push(j,se,O),q=this.executeCommand(3,E);break;case 3084:if(this.stack.length<2){q=!0;break}const H=this.stack.pop(),G=this.stack.pop();this.stack.push(G/H);break;case 3088:if(this.stack.length<2){q=!0;break}Y=this.stack.pop();const le=this.stack.pop();if(Y===0&&le===3){const fe=this.stack.splice(this.stack.length-17,17);this.stack.push(fe[2]+fe[0],fe[3]+fe[1],fe[4],fe[5],fe[6],fe[7],fe[8],fe[9],fe[10],fe[11],fe[12],fe[13],fe[14]),q=this.executeCommand(13,A,!0),this.flexing=!1,this.stack.push(fe[15],fe[16])}else Y===1&&le===0&&(this.flexing=!0);break;case 3089:break;default:(0,x.warn)('Unknown type 1 charstring command of "'+N+'"')}if(q)break}else N<=246?N-=139:N=N<=250?256*(N-247)+$[++Q]+108:N<=254?-256*(N-251)-$[++Q]-108:(255&$[++Q])<<24|(255&$[++Q])<<16|(255&$[++Q])<<8|(255&$[++Q])<<0,this.stack.push(N)}return q}executeCommand($,D,ne){const F=this.stack.length;if($>F)return!0;const j=F-$;for(let se=j;se<F;se++){let Y=this.stack[se];Number.isInteger(Y)?this.output.push(28,Y>>8&255,255&Y):(Y=65536*Y|0,this.output.push(255,Y>>24&255,Y>>16&255,Y>>8&255,255&Y))}return this.output.push(...D),ne?this.stack.splice(j,$):this.stack.length=0,!1}}function J(K){return K>=48&&K<=57||K>=65&&K<=70||K>=97&&K<=102}function _(K,$,D){if(D>=K.length)return new Uint8Array(0);let ne,F,j=0|$;for(ne=0;ne<D;ne++)j=52845*(K[ne]+j)+22719&65535;const se=K.length-D,Y=new Uint8Array(se);for(ne=D,F=0;F<se;ne++,F++){const q=K[ne];Y[F]=q^j>>8,j=52845*(q+j)+22719&65535}return Y}function L(K){return K===47||K===91||K===93||K===123||K===125||K===40||K===41}h.Type1Parser=class{constructor($,D,ne){if(D){const F=$.getBytes(),j=!((J(F[0])||(0,m.isWhiteSpace)(F[0]))&&J(F[1])&&J(F[2])&&J(F[3])&&J(F[4])&&J(F[5])&&J(F[6])&&J(F[7]));$=new y.Stream(j?_(F,55665,4):function(Y,q,Q){let N=0|q;const O=Y.length,H=new Uint8Array(O>>>1);let G,le;for(G=0,le=0;G<O;G++){const fe=Y[G];if(!J(fe))continue;G++;let ae;for(;G<O&&!J(ae=Y[G]);)G++;if(G<O){const re=parseInt(String.fromCharCode(fe,ae),16);H[le++]=re^N>>8,N=52845*(re+N)+22719&65535}}return H.slice(Q,le)}(F,55665,4))}this.seacAnalysisEnabled=!!ne,this.stream=$,this.nextChar()}readNumberArray(){this.getToken();const $=[];for(;;){const D=this.getToken();if(D===null||D==="]"||D==="}")break;$.push(parseFloat(D||0))}return $}readNumber(){const $=this.getToken();return parseFloat($||0)}readInt(){const $=this.getToken();return 0|parseInt($||0,10)}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let $=!1,D=this.currentChar;for(;;){if(D===-1)return null;if($)D!==10&&D!==13||($=!1);else if(D===37)$=!0;else if(!(0,m.isWhiteSpace)(D))break;D=this.nextChar()}if(L(D))return this.nextChar(),String.fromCharCode(D);let ne="";do ne+=String.fromCharCode(D),D=this.nextChar();while(D>=0&&!(0,m.isWhiteSpace)(D)&&!L(D));return ne}readCharStrings($,D){return D===-1?$:_($,4330,D)}extractFontProgram($){const D=this.stream,ne=[],F=[],j=Object.create(null);j.lenIV=4;const se={subrs:[],charstrings:[],properties:{privateData:j}};let Y,q,Q,N;for(;(Y=this.getToken())!==null;)if(Y==="/")switch(Y=this.getToken(),Y){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();Y=this.getToken(),!(Y===null||Y==="end");){if(Y!=="/")continue;const H=this.getToken();q=this.readInt(),this.getToken(),Q=q>0?D.getBytes(q):new Uint8Array(0),N=se.properties.privateData.lenIV;const G=this.readCharStrings(Q,N);this.nextChar(),Y=this.getToken(),Y==="noaccess"?this.getToken():Y==="/"&&this.prevChar(),F.push({glyph:H,encoded:G})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const H=this.readInt();q=this.readInt(),this.getToken(),Q=q>0?D.getBytes(q):new Uint8Array(0),N=se.properties.privateData.lenIV;const G=this.readCharStrings(Q,N);this.nextChar(),Y=this.getToken(),Y==="noaccess"&&this.getToken(),ne[H]=G}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const O=this.readNumberArray();O.length>0&&O.length;break;case"StemSnapH":case"StemSnapV":se.properties.privateData[Y]=this.readNumberArray();break;case"StdHW":case"StdVW":se.properties.privateData[Y]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":se.properties.privateData[Y]=this.readNumber();break;case"ExpansionFactor":se.properties.privateData[Y]=this.readNumber()||.06;break;case"ForceBold":se.properties.privateData[Y]=this.readBoolean()}for(const{encoded:O,glyph:H}of F){const G=new I,le=G.convert(O,ne,this.seacAnalysisEnabled);let fe=G.output;le&&(fe=[14]);const ae={glyphName:H,charstring:fe,width:G.width,lsb:G.lsb,seac:G.seac};if(H===".notdef"?se.charstrings.unshift(ae):se.charstrings.push(ae),$.builtInEncoding){const re=$.builtInEncoding.indexOf(H);re>-1&&$.widths[re]===void 0&&re>=$.firstChar&&re<=$.lastChar&&($.widths[re]=G.width)}}return se}extractFontHeader($){let D;for(;(D=this.getToken())!==null;)if(D==="/")switch(D=this.getToken(),D){case"FontMatrix":const ne=this.readNumberArray();$.fontMatrix=ne;break;case"Encoding":const F=this.getToken();let j;if(/^\d+$/.test(F)){j=[];const Y=0|parseInt(F,10);this.getToken();for(let q=0;q<Y;q++){for(D=this.getToken();D!=="dup"&&D!=="def";)if(D=this.getToken(),D===null)return;if(D==="def")break;const Q=this.readInt();this.getToken();const N=this.getToken();j[Q]=N,this.getToken()}}else j=(0,d.getEncoding)(F);$.builtInEncoding=j;break;case"FontBBox":const se=this.readNumberArray();$.ascent=Math.max(se[3],se[1]),$.descent=Math.min(se[1],se[3]),$.ascentScaled=!0}}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Pattern=void 0,h.getTilingPatternIR=function(_,L,K){const $=L.getArray("Matrix"),D=d.Util.normalizeRect(L.getArray("BBox")),ne=L.get("XStep"),F=L.get("YStep"),j=L.get("PaintType"),se=L.get("TilingType");if(D[2]-D[0]==0||D[3]-D[1]==0)throw new d.FormatError(`Invalid getTilingPatternIR /BBox array: [${D}].`);return["TilingPattern",K,_,$,D,ne,F,j,se]};var d=p(2),m=p(5),y=p(12),x=p(3);const u=2,w=3,T=4,C=5,k=6,A=7;h.Pattern=class{constructor(){(0,d.unreachable)("Cannot initialize Pattern.")}static parseShading(_,L,K,$,D,ne){const F=_ instanceof m.BaseStream?_.dict:_,j=F.get("ShadingType");try{switch(j){case u:case w:return new E(F,L,K,D,ne);case T:case C:case k:case A:return new R(_,L,K,D,ne);default:throw new d.FormatError("Unsupported ShadingType: "+j)}}catch(se){if(se instanceof x.MissingDataException)throw se;return $.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.shadingPattern}),(0,d.warn)(se),new I}}};class g{static get SMALL_NUMBER(){return(0,d.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===g&&(0,d.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,d.unreachable)("Abstract method `getIR` called.")}}class E extends g{constructor(_,L,K,$,D){super(),this.coordsArr=_.getArray("Coords"),this.shadingType=_.get("ShadingType");const ne=y.ColorSpace.parse({cs:_.getRaw("CS")||_.getRaw("ColorSpace"),xref:L,resources:K,pdfFunctionFactory:$,localColorSpaceCache:D}),F=_.getArray("BBox");Array.isArray(F)&&F.length===4?this.bbox=d.Util.normalizeRect(F):this.bbox=null;let j=0,se=1;if(_.has("Domain")){const re=_.getArray("Domain");j=re[0],se=re[1]}let Y=!1,q=!1;if(_.has("Extend")){const re=_.getArray("Extend");Y=re[0],q=re[1]}if(!(this.shadingType!==w||Y&&q)){const[re,be,ye,Ce,me,ee]=this.coordsArr,te=Math.hypot(re-Ce,be-me);ye<=ee+te&&ee<=ye+te&&(0,d.warn)("Unsupported radial gradient.")}this.extendStart=Y,this.extendEnd=q;const Q=_.getRaw("Function"),N=$.createFromArray(Q),O=(se-j)/10,H=this.colorStops=[];if(j>=se||O<=0){(0,d.info)("Bad shading domain.");return}const G=new Float32Array(ne.numComps),le=new Float32Array(1);let fe;for(let re=0;re<=10;re++){le[0]=j+re*O,N(le,0,G,0),fe=ne.getRgb(G,0);const be=d.Util.makeHexColor(fe[0],fe[1],fe[2]);H.push([re/10,be])}let ae="transparent";_.has("Background")&&(fe=ne.getRgb(_.get("Background"),0),ae=d.Util.makeHexColor(fe[0],fe[1],fe[2])),Y||(H.unshift([0,ae]),H[1][0]+=g.SMALL_NUMBER),q||(H.at(-1)[0]-=g.SMALL_NUMBER,H.push([1,ae])),this.colorStops=H}getIR(){const _=this.coordsArr,L=this.shadingType;let K,$,D,ne,F;return L===u?($=[_[0],_[1]],D=[_[2],_[3]],ne=null,F=null,K="axial"):L===w?($=[_[0],_[1]],D=[_[3],_[4]],ne=_[2],F=_[5],K="radial"):(0,d.unreachable)(`getPattern type unknown: ${L}`),["RadialAxial",K,this.bbox,this.colorStops,$,D,ne,F]}}class v{constructor(_,L){this.stream=_,this.context=L,this.buffer=0,this.bufferLength=0;const K=L.numComps;this.tmpCompsBuf=new Float32Array(K);const $=L.colorSpace.numComps;this.tmpCsCompsBuf=L.colorFn?new Float32Array($):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const _=this.stream.getByte();return _<0?!1:(this.buffer=_,this.bufferLength=8,!0)}readBits(_){let L=this.buffer,K=this.bufferLength;if(_===32){if(K===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;L=L<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const $=this.stream.getByte();return this.buffer=$&(1<<K)-1,(L<<8-K|(255&$)>>K)>>>0}if(_===8&&K===0)return this.stream.getByte();for(;K<_;)L=L<<8|this.stream.getByte(),K+=8;return K-=_,this.bufferLength=K,this.buffer=L&(1<<K)-1,L>>K}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const _=this.context.bitsPerCoordinate,L=this.readBits(_),K=this.readBits(_),$=this.context.decode,D=_<32?1/((1<<_)-1):23283064365386963e-26;return[L*D*($[1]-$[0])+$[0],K*D*($[3]-$[2])+$[2]]}readComponents(){const _=this.context.numComps,L=this.context.bitsPerComponent,K=L<32?1/((1<<L)-1):23283064365386963e-26,$=this.context.decode,D=this.tmpCompsBuf;for(let F=0,j=4;F<_;F++,j+=2){const se=this.readBits(L);D[F]=se*K*($[j+1]-$[j])+$[j]}const ne=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(D,0,ne,0),this.context.colorSpace.getRgb(ne,0)}}const M=function(){const _=[];return function(L){return _[L]||(_[L]=function($){const D=[];for(let ne=0;ne<=$;ne++){const F=ne/$,j=1-F;D.push(new Float32Array([j*j*j,3*F*j*j,3*F*F*j,F*F*F]))}return D}(L)),_[L]}}();class R extends g{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,d.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,d.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,d.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(_,L,K,$,D){if(super(),!(_ instanceof m.BaseStream))throw new d.FormatError("Mesh data is not a stream");const ne=_.dict;this.shadingType=ne.get("ShadingType");const F=ne.getArray("BBox");Array.isArray(F)&&F.length===4?this.bbox=d.Util.normalizeRect(F):this.bbox=null;const j=y.ColorSpace.parse({cs:ne.getRaw("CS")||ne.getRaw("ColorSpace"),xref:L,resources:K,pdfFunctionFactory:$,localColorSpaceCache:D});this.background=ne.has("Background")?j.getRgb(ne.get("Background"),0):null;const se=ne.getRaw("Function"),Y=se?$.createFromArray(se):null;this.coords=[],this.colors=[],this.figures=[];const q={bitsPerCoordinate:ne.get("BitsPerCoordinate"),bitsPerComponent:ne.get("BitsPerComponent"),bitsPerFlag:ne.get("BitsPerFlag"),decode:ne.getArray("Decode"),colorFn:Y,colorSpace:j,numComps:Y?1:j.numComps},Q=new v(_,q);let N=!1;switch(this.shadingType){case T:this._decodeType4Shading(Q);break;case C:const O=0|ne.get("VerticesPerRow");if(O<2)throw new d.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(Q,O);break;case k:this._decodeType6Shading(Q),N=!0;break;case A:this._decodeType7Shading(Q),N=!0;break;default:(0,d.unreachable)("Unsupported mesh type.")}if(N){this._updateBounds();for(let O=0,H=this.figures.length;O<H;O++)this._buildFigureFromPatch(O)}this._updateBounds(),this._packData()}_decodeType4Shading(_){const L=this.coords,K=this.colors,$=[];let D=0;for(;_.hasData;){const ne=_.readFlag(),F=_.readCoordinate(),j=_.readComponents();if(D===0){if(!(0<=ne&&ne<=2))throw new d.FormatError("Unknown type4 flag");switch(ne){case 0:D=3;break;case 1:$.push($.at(-2),$.at(-1)),D=1;break;case 2:$.push($.at(-3),$.at(-1)),D=1}}$.push(L.length),L.push(F),K.push(j),D--,_.align()}this.figures.push({type:"triangles",coords:new Int32Array($),colors:new Int32Array($)})}_decodeType5Shading(_,L){const K=this.coords,$=this.colors,D=[];for(;_.hasData;){const ne=_.readCoordinate(),F=_.readComponents();D.push(K.length),K.push(ne),$.push(F)}this.figures.push({type:"lattice",coords:new Int32Array(D),colors:new Int32Array(D),verticesPerRow:L})}_decodeType6Shading(_){const L=this.coords,K=this.colors,$=new Int32Array(16),D=new Int32Array(4);for(;_.hasData;){const ne=_.readFlag();if(!(0<=ne&&ne<=3))throw new d.FormatError("Unknown type6 flag");const F=L.length;for(let N=0,O=ne!==0?8:12;N<O;N++)L.push(_.readCoordinate());const j=K.length;for(let N=0,O=ne!==0?2:4;N<O;N++)K.push(_.readComponents());let se,Y,q,Q;switch(ne){case 0:$[12]=F+3,$[13]=F+4,$[14]=F+5,$[15]=F+6,$[8]=F+2,$[11]=F+7,$[4]=F+1,$[7]=F+8,$[0]=F,$[1]=F+11,$[2]=F+10,$[3]=F+9,D[2]=j+1,D[3]=j+2,D[0]=j,D[1]=j+3;break;case 1:se=$[12],Y=$[13],q=$[14],Q=$[15],$[12]=Q,$[13]=F+0,$[14]=F+1,$[15]=F+2,$[8]=q,$[11]=F+3,$[4]=Y,$[7]=F+4,$[0]=se,$[1]=F+7,$[2]=F+6,$[3]=F+5,se=D[2],Y=D[3],D[2]=Y,D[3]=j,D[0]=se,D[1]=j+1;break;case 2:se=$[15],Y=$[11],$[12]=$[3],$[13]=F+0,$[14]=F+1,$[15]=F+2,$[8]=$[7],$[11]=F+3,$[4]=Y,$[7]=F+4,$[0]=se,$[1]=F+7,$[2]=F+6,$[3]=F+5,se=D[3],D[2]=D[1],D[3]=j,D[0]=se,D[1]=j+1;break;case 3:$[12]=$[0],$[13]=F+0,$[14]=F+1,$[15]=F+2,$[8]=$[1],$[11]=F+3,$[4]=$[2],$[7]=F+4,$[0]=$[3],$[1]=F+7,$[2]=F+6,$[3]=F+5,D[2]=D[0],D[3]=j,D[0]=D[1],D[1]=j+1}$[5]=L.length,L.push([(-4*L[$[0]][0]-L[$[15]][0]+6*(L[$[4]][0]+L[$[1]][0])-2*(L[$[12]][0]+L[$[3]][0])+3*(L[$[13]][0]+L[$[7]][0]))/9,(-4*L[$[0]][1]-L[$[15]][1]+6*(L[$[4]][1]+L[$[1]][1])-2*(L[$[12]][1]+L[$[3]][1])+3*(L[$[13]][1]+L[$[7]][1]))/9]),$[6]=L.length,L.push([(-4*L[$[3]][0]-L[$[12]][0]+6*(L[$[2]][0]+L[$[7]][0])-2*(L[$[0]][0]+L[$[15]][0])+3*(L[$[4]][0]+L[$[14]][0]))/9,(-4*L[$[3]][1]-L[$[12]][1]+6*(L[$[2]][1]+L[$[7]][1])-2*(L[$[0]][1]+L[$[15]][1])+3*(L[$[4]][1]+L[$[14]][1]))/9]),$[9]=L.length,L.push([(-4*L[$[12]][0]-L[$[3]][0]+6*(L[$[8]][0]+L[$[13]][0])-2*(L[$[0]][0]+L[$[15]][0])+3*(L[$[11]][0]+L[$[1]][0]))/9,(-4*L[$[12]][1]-L[$[3]][1]+6*(L[$[8]][1]+L[$[13]][1])-2*(L[$[0]][1]+L[$[15]][1])+3*(L[$[11]][1]+L[$[1]][1]))/9]),$[10]=L.length,L.push([(-4*L[$[15]][0]-L[$[0]][0]+6*(L[$[11]][0]+L[$[14]][0])-2*(L[$[12]][0]+L[$[3]][0])+3*(L[$[2]][0]+L[$[8]][0]))/9,(-4*L[$[15]][1]-L[$[0]][1]+6*(L[$[11]][1]+L[$[14]][1])-2*(L[$[12]][1]+L[$[3]][1])+3*(L[$[2]][1]+L[$[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array($),colors:new Int32Array(D)})}}_decodeType7Shading(_){const L=this.coords,K=this.colors,$=new Int32Array(16),D=new Int32Array(4);for(;_.hasData;){const ne=_.readFlag();if(!(0<=ne&&ne<=3))throw new d.FormatError("Unknown type7 flag");const F=L.length;for(let N=0,O=ne!==0?12:16;N<O;N++)L.push(_.readCoordinate());const j=K.length;for(let N=0,O=ne!==0?2:4;N<O;N++)K.push(_.readComponents());let se,Y,q,Q;switch(ne){case 0:$[12]=F+3,$[13]=F+4,$[14]=F+5,$[15]=F+6,$[8]=F+2,$[9]=F+13,$[10]=F+14,$[11]=F+7,$[4]=F+1,$[5]=F+12,$[6]=F+15,$[7]=F+8,$[0]=F,$[1]=F+11,$[2]=F+10,$[3]=F+9,D[2]=j+1,D[3]=j+2,D[0]=j,D[1]=j+3;break;case 1:se=$[12],Y=$[13],q=$[14],Q=$[15],$[12]=Q,$[13]=F+0,$[14]=F+1,$[15]=F+2,$[8]=q,$[9]=F+9,$[10]=F+10,$[11]=F+3,$[4]=Y,$[5]=F+8,$[6]=F+11,$[7]=F+4,$[0]=se,$[1]=F+7,$[2]=F+6,$[3]=F+5,se=D[2],Y=D[3],D[2]=Y,D[3]=j,D[0]=se,D[1]=j+1;break;case 2:se=$[15],Y=$[11],$[12]=$[3],$[13]=F+0,$[14]=F+1,$[15]=F+2,$[8]=$[7],$[9]=F+9,$[10]=F+10,$[11]=F+3,$[4]=Y,$[5]=F+8,$[6]=F+11,$[7]=F+4,$[0]=se,$[1]=F+7,$[2]=F+6,$[3]=F+5,se=D[3],D[2]=D[1],D[3]=j,D[0]=se,D[1]=j+1;break;case 3:$[12]=$[0],$[13]=F+0,$[14]=F+1,$[15]=F+2,$[8]=$[1],$[9]=F+9,$[10]=F+10,$[11]=F+3,$[4]=$[2],$[5]=F+8,$[6]=F+11,$[7]=F+4,$[0]=$[3],$[1]=F+7,$[2]=F+6,$[3]=F+5,D[2]=D[0],D[3]=j,D[0]=D[1],D[1]=j+1}this.figures.push({type:"patch",coords:new Int32Array($),colors:new Int32Array(D)})}}_buildFigureFromPatch(_){const L=this.figures[_];(0,d.assert)(L.type==="patch","Unexpected patch mesh figure");const K=this.coords,$=this.colors,D=L.coords,ne=L.colors,F=Math.min(K[D[0]][0],K[D[3]][0],K[D[12]][0],K[D[15]][0]),j=Math.min(K[D[0]][1],K[D[3]][1],K[D[12]][1],K[D[15]][1]),se=Math.max(K[D[0]][0],K[D[3]][0],K[D[12]][0],K[D[15]][0]),Y=Math.max(K[D[0]][1],K[D[3]][1],K[D[12]][1],K[D[15]][1]);let q=Math.ceil((se-F)*R.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));q=Math.max(R.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(R.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,q));let Q=Math.ceil((Y-j)*R.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));Q=Math.max(R.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(R.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Q));const N=q+1,O=new Int32Array((Q+1)*N),H=new Int32Array((Q+1)*N);let G=0;const le=new Uint8Array(3),fe=new Uint8Array(3),ae=$[ne[0]],re=$[ne[1]],be=$[ne[2]],ye=$[ne[3]],Ce=M(Q),me=M(q);for(let ee=0;ee<=Q;ee++){le[0]=(ae[0]*(Q-ee)+be[0]*ee)/Q|0,le[1]=(ae[1]*(Q-ee)+be[1]*ee)/Q|0,le[2]=(ae[2]*(Q-ee)+be[2]*ee)/Q|0,fe[0]=(re[0]*(Q-ee)+ye[0]*ee)/Q|0,fe[1]=(re[1]*(Q-ee)+ye[1]*ee)/Q|0,fe[2]=(re[2]*(Q-ee)+ye[2]*ee)/Q|0;for(let te=0;te<=q;te++,G++){if(!(ee!==0&&ee!==Q||te!==0&&te!==q))continue;let oe=0,V=0,W=0;for(let he=0;he<=3;he++)for(let pe=0;pe<=3;pe++,W++){const Se=Ce[ee][he]*me[te][pe];oe+=K[D[W]][0]*Se,V+=K[D[W]][1]*Se}O[G]=K.length,K.push([oe,V]),H[G]=$.length;const ue=new Uint8Array(3);ue[0]=(le[0]*(q-te)+fe[0]*te)/q|0,ue[1]=(le[1]*(q-te)+fe[1]*te)/q|0,ue[2]=(le[2]*(q-te)+fe[2]*te)/q|0,$.push(ue)}}O[0]=D[0],H[0]=ne[0],O[q]=D[3],H[q]=ne[1],O[N*Q]=D[12],H[N*Q]=ne[2],O[N*Q+q]=D[15],H[N*Q+q]=ne[3],this.figures[_]={type:"lattice",coords:O,colors:H,verticesPerRow:N}}_updateBounds(){let _=this.coords[0][0],L=this.coords[0][1],K=_,$=L;for(let D=1,ne=this.coords.length;D<ne;D++){const F=this.coords[D][0],j=this.coords[D][1];_=_>F?F:_,L=L>j?j:L,K=K<F?F:K,$=$<j?j:$}this.bounds=[_,L,K,$]}_packData(){let _,L,K,$;const D=this.coords,ne=new Float32Array(2*D.length);for(_=0,K=0,L=D.length;_<L;_++){const Y=D[_];ne[K++]=Y[0],ne[K++]=Y[1]}this.coords=ne;const F=this.colors,j=new Uint8Array(3*F.length);for(_=0,K=0,L=F.length;_<L;_++){const Y=F[_];j[K++]=Y[0],j[K++]=Y[1],j[K++]=Y[2]}this.colors=j;const se=this.figures;for(_=0,L=se.length;_<L;_++){const Y=se[_],q=Y.coords,Q=Y.colors;for(K=0,$=q.length;K<$;K++)q[K]*=2,Q[K]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class I extends g{getIR(){return["Dummy"]}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getXfaFontDict=function(E){const v=function(_){const L=A(_);if(!L)return null;const{baseWidths:K,baseMapping:$,factors:D}=L;let ne;ne=D?K.map((Y,q)=>Y*D[q]):K;let F,j=-2;const se=[];for(const[Y,q]of $.map((Q,N)=>[Q,N]).sort(([Q],[N])=>Q-N))Y!==-1&&(Y===j+1?(F.push(ne[q]),j+=1):(j=Y,F=[ne[q]],se.push(Y,F)));return se}(E),M=new m.Dict(null);M.set("BaseFont",m.Name.get(E)),M.set("Type",m.Name.get("Font")),M.set("Subtype",m.Name.get("CIDFontType2")),M.set("Encoding",m.Name.get("Identity-H")),M.set("CIDToGIDMap",m.Name.get("Identity")),M.set("W",v),M.set("FirstChar",v[0]),M.set("LastChar",v.at(-2)+v.at(-1).length-1);const R=new m.Dict(null);M.set("FontDescriptor",R);const I=new m.Dict(null);return I.set("Ordering","Identity"),I.set("Registry","Adobe"),I.set("Supplement",0),M.set("CIDSystemInfo",I),M},h.getXfaFontName=A;var d=p(50),m=p(4),y=p(51),x=p(52),u=p(53),w=p(54),T=p(3),C=p(36);const k=(0,T.getLookupTableFactory)(function(g){g["MyriadPro-Regular"]=g["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:u.MyriadProRegularFactors,baseWidths:x.LiberationSansRegularWidths,baseMapping:x.LiberationSansRegularMapping,metrics:u.MyriadProRegularMetrics},g["MyriadPro-Bold"]=g["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:u.MyriadProBoldFactors,baseWidths:x.LiberationSansBoldWidths,baseMapping:x.LiberationSansBoldMapping,metrics:u.MyriadProBoldMetrics},g["MyriadPro-It"]=g["MyriadPro-Italic"]=g["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:u.MyriadProItalicFactors,baseWidths:x.LiberationSansItalicWidths,baseMapping:x.LiberationSansItalicMapping,metrics:u.MyriadProItalicMetrics},g["MyriadPro-BoldIt"]=g["MyriadPro-BoldItalic"]=g["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:u.MyriadProBoldItalicFactors,baseWidths:x.LiberationSansBoldItalicWidths,baseMapping:x.LiberationSansBoldItalicMapping,metrics:u.MyriadProBoldItalicMetrics},g.ArialMT=g.Arial=g["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:x.LiberationSansRegularWidths,baseMapping:x.LiberationSansRegularMapping},g["Arial-BoldMT"]=g["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:x.LiberationSansBoldWidths,baseMapping:x.LiberationSansBoldMapping},g["Arial-ItalicMT"]=g["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:x.LiberationSansItalicWidths,baseMapping:x.LiberationSansItalicMapping},g["Arial-BoldItalicMT"]=g["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:x.LiberationSansBoldItalicWidths,baseMapping:x.LiberationSansBoldItalicMapping},g["Calibri-Regular"]={name:"LiberationSans-Regular",factors:d.CalibriRegularFactors,baseWidths:x.LiberationSansRegularWidths,baseMapping:x.LiberationSansRegularMapping,metrics:d.CalibriRegularMetrics},g["Calibri-Bold"]={name:"LiberationSans-Bold",factors:d.CalibriBoldFactors,baseWidths:x.LiberationSansBoldWidths,baseMapping:x.LiberationSansBoldMapping,metrics:d.CalibriBoldMetrics},g["Calibri-Italic"]={name:"LiberationSans-Italic",factors:d.CalibriItalicFactors,baseWidths:x.LiberationSansItalicWidths,baseMapping:x.LiberationSansItalicMapping,metrics:d.CalibriItalicMetrics},g["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:d.CalibriBoldItalicFactors,baseWidths:x.LiberationSansBoldItalicWidths,baseMapping:x.LiberationSansBoldItalicMapping,metrics:d.CalibriBoldItalicMetrics},g["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:w.SegoeuiRegularFactors,baseWidths:x.LiberationSansRegularWidths,baseMapping:x.LiberationSansRegularMapping,metrics:w.SegoeuiRegularMetrics},g["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:w.SegoeuiBoldFactors,baseWidths:x.LiberationSansBoldWidths,baseMapping:x.LiberationSansBoldMapping,metrics:w.SegoeuiBoldMetrics},g["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:w.SegoeuiItalicFactors,baseWidths:x.LiberationSansItalicWidths,baseMapping:x.LiberationSansItalicMapping,metrics:w.SegoeuiItalicMetrics},g["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:w.SegoeuiBoldItalicFactors,baseWidths:x.LiberationSansBoldItalicWidths,baseMapping:x.LiberationSansBoldItalicMapping,metrics:w.SegoeuiBoldItalicMetrics},g["Helvetica-Regular"]=g.Helvetica={name:"LiberationSans-Regular",factors:y.HelveticaRegularFactors,baseWidths:x.LiberationSansRegularWidths,baseMapping:x.LiberationSansRegularMapping,metrics:y.HelveticaRegularMetrics},g["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:y.HelveticaBoldFactors,baseWidths:x.LiberationSansBoldWidths,baseMapping:x.LiberationSansBoldMapping,metrics:y.HelveticaBoldMetrics},g["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:y.HelveticaItalicFactors,baseWidths:x.LiberationSansItalicWidths,baseMapping:x.LiberationSansItalicMapping,metrics:y.HelveticaItalicMetrics},g["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:y.HelveticaBoldItalicFactors,baseWidths:x.LiberationSansBoldItalicWidths,baseMapping:x.LiberationSansBoldItalicMapping,metrics:y.HelveticaBoldItalicMetrics}});function A(g){const E=(0,C.normalizeFontName)(g);return k()[E]}},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CalibriRegularMetrics=h.CalibriRegularFactors=h.CalibriItalicMetrics=h.CalibriItalicFactors=h.CalibriBoldMetrics=h.CalibriBoldItalicMetrics=h.CalibriBoldItalicFactors=h.CalibriBoldFactors=void 0,h.CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},h.CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},h.CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},h.CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],h.CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207}},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.HelveticaRegularMetrics=h.HelveticaRegularFactors=h.HelveticaItalicMetrics=h.HelveticaItalicFactors=h.HelveticaBoldMetrics=h.HelveticaBoldItalicMetrics=h.HelveticaBoldItalicFactors=h.HelveticaBoldFactors=void 0,h.HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],h.HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},h.HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],h.HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},h.HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],h.HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},h.HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2}},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.LiberationSansRegularWidths=h.LiberationSansRegularMapping=h.LiberationSansItalicWidths=h.LiberationSansItalicMapping=h.LiberationSansBoldWidths=h.LiberationSansBoldMapping=h.LiberationSansBoldItalicWidths=h.LiberationSansBoldItalicMapping=void 0,h.LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],h.LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],h.LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],h.LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],h.LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],h.LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],h.LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],h.LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MyriadProRegularMetrics=h.MyriadProRegularFactors=h.MyriadProItalicMetrics=h.MyriadProItalicFactors=h.MyriadProBoldMetrics=h.MyriadProBoldItalicMetrics=h.MyriadProBoldItalicFactors=h.MyriadProBoldFactors=void 0,h.MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},h.MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},h.MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},h.MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2}},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SegoeuiRegularMetrics=h.SegoeuiRegularFactors=h.SegoeuiItalicMetrics=h.SegoeuiItalicFactors=h.SegoeuiBoldMetrics=h.SegoeuiBoldItalicMetrics=h.SegoeuiBoldItalicFactors=h.SegoeuiBoldFactors=void 0,h.SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},h.SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},h.SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h.SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},h.SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],h.SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PostScriptEvaluator=h.PostScriptCompiler=h.PDFFunctionFactory=void 0,h.isPDFFunction=function(F){let j;if(typeof F!="object")return!1;if(F instanceof d.Dict)j=F;else{if(!(F instanceof x.BaseStream))return!1;j=F.dict}return j.has("FunctionType")};var d=p(4),m=p(2),y=p(56),x=p(5),u=p(57);h.PDFFunctionFactory=class{constructor({xref:F,isEvalSupported:j=!0}){this.xref=F,this.isEvalSupported=j!==!1}create(F){const j=this.getCached(F);if(j)return j;const se=T.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:F instanceof d.Ref?this.xref.fetch(F):F});return this._cache(F,se),se}createFromArray(F){const j=this.getCached(F);if(j)return j;const se=T.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:F instanceof d.Ref?this.xref.fetch(F):F});return this._cache(F,se),se}getCached(F){let j;if(F instanceof d.Ref?j=F:F instanceof d.Dict?j=F.objId:F instanceof x.BaseStream&&(j=F.dict&&F.dict.objId),j){const se=this._localFunctionCache.getByRef(j);if(se)return se}return null}_cache(F,j){if(!j)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let se;F instanceof d.Ref?se=F:F instanceof d.Dict?se=F.objId:F instanceof x.BaseStream&&(se=F.dict&&F.dict.objId),se&&this._localFunctionCache.set(null,se,j)}get _localFunctionCache(){return(0,m.shadow)(this,"_localFunctionCache",new u.LocalFunctionCache)}};function w(ne){if(!Array.isArray(ne))return null;const F=ne.length;for(let j=0;j<F;j++)if(typeof ne[j]!="number"){const se=new Array(F);for(let Y=0;Y<F;Y++)se[Y]=+ne[Y];return se}return ne}class T{static getSampleArray(F,j,se,Y){let q,Q,N=1;for(q=0,Q=F.length;q<Q;q++)N*=F[q];N*=j;const O=new Array(N);let H=0,G=0;const le=1/(2**se-1),fe=Y.getBytes((N*se+7)/8);let ae=0;for(q=0;q<N;q++){for(;H<se;)G<<=8,G|=fe[ae++],H+=8;H-=se,O[q]=(G>>H)*le,G&=(1<<H)-1}return O}static parse({xref:F,isEvalSupported:j,fn:se}){const Y=se.dict||se;switch(Y.get("FunctionType")){case 0:return this.constructSampled({xref:F,isEvalSupported:j,fn:se,dict:Y});case 1:break;case 2:return this.constructInterpolated({xref:F,isEvalSupported:j,dict:Y});case 3:return this.constructStiched({xref:F,isEvalSupported:j,dict:Y});case 4:return this.constructPostScript({xref:F,isEvalSupported:j,fn:se,dict:Y})}throw new m.FormatError("Unknown type of function")}static parseArray({xref:F,isEvalSupported:j,fnObj:se}){if(!Array.isArray(se))return this.parse({xref:F,isEvalSupported:j,fn:se});const Y=[];for(const q of se)Y.push(this.parse({xref:F,isEvalSupported:j,fn:F.fetchIfRef(q)}));return function(q,Q,N,O){for(let H=0,G=Y.length;H<G;H++)Y[H](q,Q,N,O+H)}}static constructSampled({xref:F,isEvalSupported:j,fn:se,dict:Y}){function q(Ce){const me=Ce.length,ee=[];let te=0;for(let oe=0;oe<me;oe+=2)ee[te++]=[Ce[oe],Ce[oe+1]];return ee}function Q(Ce,me,ee,te,oe){return te+(oe-te)/(ee-me)*(Ce-me)}let N=w(Y.getArray("Domain")),O=w(Y.getArray("Range"));if(!N||!O)throw new m.FormatError("No domain or range");const H=N.length/2,G=O.length/2;N=q(N),O=q(O);const le=w(Y.getArray("Size")),fe=Y.get("BitsPerSample"),ae=Y.get("Order")||1;ae!==1&&(0,m.info)("No support for cubic spline interpolation: "+ae);let re=w(Y.getArray("Encode"));if(re)re=q(re);else{re=[];for(let Ce=0;Ce<H;++Ce)re.push([0,le[Ce]-1])}let be=w(Y.getArray("Decode"));be=be?q(be):O;const ye=this.getSampleArray(le,G,fe,se);return function(me,ee,te,oe){const V=1<<H,W=new Float64Array(V),ue=new Uint32Array(V);let he,pe;for(pe=0;pe<V;pe++)W[pe]=1;let Se=G,ge=1;for(he=0;he<H;++he){const de=N[he][0],xe=N[he][1];let ve=Q(Math.min(Math.max(me[ee+he],de),xe),de,xe,re[he][0],re[he][1]);const Ee=le[he];ve=Math.min(Math.max(ve,0),Ee-1);const Te=ve<Ee-1?Math.floor(ve):ve-1,_e=Te+1-ve,Oe=ve-Te,Pe=Te*Se,je=Pe+Se;for(pe=0;pe<V;pe++)pe&ge?(W[pe]*=Oe,ue[pe]+=je):(W[pe]*=_e,ue[pe]+=Pe);Se*=Ee,ge<<=1}for(pe=0;pe<G;++pe){let de=0;for(he=0;he<V;he++)de+=ye[ue[he]+pe]*W[he];de=Q(de,0,1,be[pe][0],be[pe][1]),te[oe+pe]=Math.min(Math.max(de,O[pe][0]),O[pe][1])}}}static constructInterpolated({xref:F,isEvalSupported:j,dict:se}){const Y=w(se.getArray("C0"))||[0],q=w(se.getArray("C1"))||[1],Q=se.get("N"),N=[];for(let H=0,G=Y.length;H<G;++H)N.push(q[H]-Y[H]);const O=N.length;return function(G,le,fe,ae){const re=Q===1?G[le]:G[le]**Q;for(let be=0;be<O;++be)fe[ae+be]=Y[be]+re*N[be]}}static constructStiched({xref:F,isEvalSupported:j,dict:se}){const Y=w(se.getArray("Domain"));if(!Y)throw new m.FormatError("No domain");if(Y.length/2!==1)throw new m.FormatError("Bad domain for stiched function");const q=[];for(const H of se.get("Functions"))q.push(this.parse({xref:F,isEvalSupported:j,fn:F.fetchIfRef(H)}));const Q=w(se.getArray("Bounds")),N=w(se.getArray("Encode")),O=new Float32Array(1);return function(G,le,fe,ae){const re=function(V,W,ue){return V>ue?V=ue:V<W&&(V=W),V}(G[le],Y[0],Y[1]),be=Q.length;let ye;for(ye=0;ye<be&&!(re<Q[ye]);++ye);let Ce=Y[0];ye>0&&(Ce=Q[ye-1]);let me=Y[1];ye<Q.length&&(me=Q[ye]);const ee=N[2*ye],te=N[2*ye+1];O[0]=Ce===me?ee:ee+(re-Ce)*(te-ee)/(me-Ce),q[ye](O,0,fe,ae)}}static constructPostScript({xref:F,isEvalSupported:j,fn:se,dict:Y}){const q=w(Y.getArray("Domain")),Q=w(Y.getArray("Range"));if(!q)throw new m.FormatError("No domain.");if(!Q)throw new m.FormatError("No range.");const N=new y.PostScriptLexer(se),O=new y.PostScriptParser(N).parse();if(j&&m.FeatureTest.isEvalSupported){const be=new D().compile(O,q,Q);if(be)return new Function("src","srcOffset","dest","destOffset",be)}(0,m.info)("Unable to compile PS function");const H=Q.length>>1,G=q.length>>1,le=new k(O),fe=Object.create(null);let ae=8192;const re=new Float32Array(G);return function(ye,Ce,me,ee){let te,oe,V="";const W=re;for(te=0;te<G;te++)oe=ye[Ce+te],W[te]=oe,V+=oe+"_";const ue=fe[V];if(ue!==void 0){me.set(ue,ee);return}const he=new Float32Array(H),pe=le.execute(W),Se=pe.length-H;for(te=0;te<H;te++){oe=pe[Se+te];let ge=Q[2*te];oe<ge?oe=ge:(ge=Q[2*te+1],oe>ge&&(oe=ge)),he[te]=oe}ae>0&&(ae--,fe[V]=he),me.set(he,ee)}}}class C{static get MAX_STACK_SIZE(){return(0,m.shadow)(this,"MAX_STACK_SIZE",100)}constructor(F){this.stack=F?Array.from(F):[]}push(F){if(this.stack.length>=C.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(F)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(F){if(this.stack.length+F>=C.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const j=this.stack;for(let se=j.length-F,Y=F-1;Y>=0;Y--,se++)j.push(j[se])}index(F){this.push(this.stack[this.stack.length-F-1])}roll(F,j){const se=this.stack,Y=se.length-F,q=se.length-1,Q=Y+(j-Math.floor(j/F)*F);for(let N=Y,O=q;N<O;N++,O--){const H=se[N];se[N]=se[O],se[O]=H}for(let N=Y,O=Q-1;N<O;N++,O--){const H=se[N];se[N]=se[O],se[O]=H}for(let N=Q,O=q;N<O;N++,O--){const H=se[N];se[N]=se[O],se[O]=H}}}class k{constructor(F){this.operators=F}execute(F){const j=new C(F);let se=0;const Y=this.operators,q=Y.length;let Q,N,O;for(;se<q;)if(Q=Y[se++],typeof Q!="number")switch(Q){case"jz":O=j.pop(),N=j.pop(),N||(se=O);break;case"j":N=j.pop(),se=N;break;case"abs":N=j.pop(),j.push(Math.abs(N));break;case"add":O=j.pop(),N=j.pop(),j.push(N+O);break;case"and":O=j.pop(),N=j.pop(),typeof N=="boolean"&&typeof O=="boolean"?j.push(N&&O):j.push(N&O);break;case"atan":N=j.pop(),j.push(Math.atan(N));break;case"bitshift":O=j.pop(),N=j.pop(),N>0?j.push(N<<O):j.push(N>>O);break;case"ceiling":N=j.pop(),j.push(Math.ceil(N));break;case"copy":N=j.pop(),j.copy(N);break;case"cos":N=j.pop(),j.push(Math.cos(N));break;case"cvi":N=0|j.pop(),j.push(N);break;case"cvr":break;case"div":O=j.pop(),N=j.pop(),j.push(N/O);break;case"dup":j.copy(1);break;case"eq":O=j.pop(),N=j.pop(),j.push(N===O);break;case"exch":j.roll(2,1);break;case"exp":O=j.pop(),N=j.pop(),j.push(N**O);break;case"false":j.push(!1);break;case"floor":N=j.pop(),j.push(Math.floor(N));break;case"ge":O=j.pop(),N=j.pop(),j.push(N>=O);break;case"gt":O=j.pop(),N=j.pop(),j.push(N>O);break;case"idiv":O=j.pop(),N=j.pop(),j.push(N/O|0);break;case"index":N=j.pop(),j.index(N);break;case"le":O=j.pop(),N=j.pop(),j.push(N<=O);break;case"ln":N=j.pop(),j.push(Math.log(N));break;case"log":N=j.pop(),j.push(Math.log(N)/Math.LN10);break;case"lt":O=j.pop(),N=j.pop(),j.push(N<O);break;case"mod":O=j.pop(),N=j.pop(),j.push(N%O);break;case"mul":O=j.pop(),N=j.pop(),j.push(N*O);break;case"ne":O=j.pop(),N=j.pop(),j.push(N!==O);break;case"neg":N=j.pop(),j.push(-N);break;case"not":N=j.pop(),typeof N=="boolean"?j.push(!N):j.push(~N);break;case"or":O=j.pop(),N=j.pop(),typeof N=="boolean"&&typeof O=="boolean"?j.push(N||O):j.push(N|O);break;case"pop":j.pop();break;case"roll":O=j.pop(),N=j.pop(),j.roll(N,O);break;case"round":N=j.pop(),j.push(Math.round(N));break;case"sin":N=j.pop(),j.push(Math.sin(N));break;case"sqrt":N=j.pop(),j.push(Math.sqrt(N));break;case"sub":O=j.pop(),N=j.pop(),j.push(N-O);break;case"true":j.push(!0);break;case"truncate":N=j.pop(),N=N<0?Math.ceil(N):Math.floor(N),j.push(N);break;case"xor":O=j.pop(),N=j.pop(),typeof N=="boolean"&&typeof O=="boolean"?j.push(N!==O):j.push(N^O);break;default:throw new m.FormatError(`Unknown operator ${Q}`)}else j.push(Q);return j.stack}}h.PostScriptEvaluator=k;class A{constructor(F){this.type=F}visit(F){(0,m.unreachable)("abstract method")}}class g extends A{constructor(F,j,se){super("args"),this.index=F,this.min=j,this.max=se}visit(F){F.visitArgument(this)}}class E extends A{constructor(F){super("literal"),this.number=F,this.min=F,this.max=F}visit(F){F.visitLiteral(this)}}class v extends A{constructor(F,j,se,Y,q){super("binary"),this.op=F,this.arg1=j,this.arg2=se,this.min=Y,this.max=q}visit(F){F.visitBinaryOperation(this)}}class M extends A{constructor(F,j){super("max"),this.arg=F,this.min=F.min,this.max=j}visit(F){F.visitMin(this)}}class R extends A{constructor(F,j,se){super("var"),this.index=F,this.min=j,this.max=se}visit(F){F.visitVariable(this)}}class I extends A{constructor(F,j){super("definition"),this.variable=F,this.arg=j}visit(F){F.visitVariableDefinition(this)}}class J{constructor(){this.parts=[]}visitArgument(F){this.parts.push("Math.max(",F.min,", Math.min(",F.max,", src[srcOffset + ",F.index,"]))")}visitVariable(F){this.parts.push("v",F.index)}visitLiteral(F){this.parts.push(F.number)}visitBinaryOperation(F){this.parts.push("("),F.arg1.visit(this),this.parts.push(" ",F.op," "),F.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(F){this.parts.push("var "),F.variable.visit(this),this.parts.push(" = "),F.arg.visit(this),this.parts.push(";")}visitMin(F){this.parts.push("Math.min("),F.arg.visit(this),this.parts.push(", ",F.max,")")}toString(){return this.parts.join("")}}function _(ne,F){return F.type==="literal"&&F.number===0?ne:ne.type==="literal"&&ne.number===0?F:F.type==="literal"&&ne.type==="literal"?new E(ne.number+F.number):new v("+",ne,F,ne.min+F.min,ne.max+F.max)}function L(ne,F){if(F.type==="literal"){if(F.number===0)return new E(0);if(F.number===1)return ne;if(ne.type==="literal")return new E(ne.number*F.number)}if(ne.type==="literal"){if(ne.number===0)return new E(0);if(ne.number===1)return F}const j=Math.min(ne.min*F.min,ne.min*F.max,ne.max*F.min,ne.max*F.max),se=Math.max(ne.min*F.min,ne.min*F.max,ne.max*F.min,ne.max*F.max);return new v("*",ne,F,j,se)}function K(ne,F){if(F.type==="literal"){if(F.number===0)return ne;if(ne.type==="literal")return new E(ne.number-F.number)}return F.type==="binary"&&F.op==="-"&&ne.type==="literal"&&ne.number===1&&F.arg1.type==="literal"&&F.arg1.number===1?F.arg2:new v("-",ne,F,ne.min-F.max,ne.max-F.min)}function $(ne,F){return ne.min>=F?new E(F):ne.max<=F?ne:new M(ne,F)}class D{compile(F,j,se){const Y=[],q=[],Q=j.length>>1,N=se.length>>1;let O,H,G,le,fe,ae,re,be,ye=0;for(let me=0;me<Q;me++)Y.push(new g(me,j[2*me],j[2*me+1]));for(let me=0,ee=F.length;me<ee;me++)if(be=F[me],typeof be!="number")switch(be){case"add":if(Y.length<2)return null;le=Y.pop(),G=Y.pop(),Y.push(_(G,le));break;case"cvr":if(Y.length<1)return null;break;case"mul":if(Y.length<2)return null;le=Y.pop(),G=Y.pop(),Y.push(L(G,le));break;case"sub":if(Y.length<2)return null;le=Y.pop(),G=Y.pop(),Y.push(K(G,le));break;case"exch":if(Y.length<2)return null;fe=Y.pop(),ae=Y.pop(),Y.push(fe,ae);break;case"pop":if(Y.length<1)return null;Y.pop();break;case"index":if(Y.length<1||(G=Y.pop(),G.type!=="literal")||(O=G.number,O<0||!Number.isInteger(O)||Y.length<O))return null;if(fe=Y[Y.length-O-1],fe.type==="literal"||fe.type==="var"){Y.push(fe);break}re=new R(ye++,fe.min,fe.max),Y[Y.length-O-1]=re,Y.push(re),q.push(new I(re,fe));break;case"dup":if(Y.length<1)return null;if(typeof F[me+1]=="number"&&F[me+2]==="gt"&&F[me+3]===me+7&&F[me+4]==="jz"&&F[me+5]==="pop"&&F[me+6]===F[me+1]){G=Y.pop(),Y.push($(G,F[me+1])),me+=6;break}if(fe=Y.at(-1),fe.type==="literal"||fe.type==="var"){Y.push(fe);break}re=new R(ye++,fe.min,fe.max),Y[Y.length-1]=re,Y.push(re),q.push(new I(re,fe));break;case"roll":if(Y.length<2||(le=Y.pop(),G=Y.pop(),le.type!=="literal"||G.type!=="literal")||(H=le.number,O=G.number,O<=0||!Number.isInteger(O)||!Number.isInteger(H)||Y.length<O))return null;if(H=(H%O+O)%O,H===0)break;Y.push(...Y.splice(Y.length-O,O-H));break;default:return null}else Y.push(new E(be));if(Y.length!==N)return null;const Ce=[];for(const me of q){const ee=new J;me.visit(ee),Ce.push(ee.toString())}for(let me=0,ee=Y.length;me<ee;me++){const te=Y[me],oe=new J;te.visit(oe);const V=se[2*me],W=se[2*me+1],ue=[oe.toString()];V>te.min&&(ue.unshift("Math.max(",V,", "),ue.push(")")),W<te.max&&(ue.unshift("Math.min(",W,", "),ue.push(")")),ue.unshift("dest[destOffset + ",me,"] = "),ue.push(";"),Ce.push(ue.join(""))}return Ce.join(`
`)}}h.PostScriptCompiler=D},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PostScriptParser=h.PostScriptLexer=void 0;var d=p(2),m=p(4),y=p(3);h.PostScriptParser=class{constructor(T){this.lexer=T,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(T){return this.token.type===T?(this.nextToken(),!0):!1}expect(T){if(this.accept(T))return!0;throw new d.FormatError(`Unexpected symbol: found ${this.token.type} expected ${T}.`)}parse(){return this.nextToken(),this.expect(x.LBRACE),this.parseBlock(),this.expect(x.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(x.NUMBER))this.operators.push(this.prev.value);else if(this.accept(x.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(x.LBRACE))return;this.parseCondition()}}parseCondition(){const T=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(x.RBRACE),this.accept(x.IF))this.operators[T]=this.operators.length,this.operators[T+1]="jz";else{if(!this.accept(x.LBRACE))throw new d.FormatError("PS Function: error parsing conditional.");{const C=this.operators.length;this.operators.push(null,null);const k=this.operators.length;this.parseBlock(),this.expect(x.RBRACE),this.expect(x.IFELSE),this.operators[C]=this.operators.length,this.operators[C+1]="j",this.operators[T]=k,this.operators[T+1]="jz"}}}};const x={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class u{static get opCache(){return(0,d.shadow)(this,"opCache",Object.create(null))}constructor(T,C){this.type=T,this.value=C}static getOperator(T){return u.opCache[T]||(u.opCache[T]=new u(x.OPERATOR,T))}static get LBRACE(){return(0,d.shadow)(this,"LBRACE",new u(x.LBRACE,"{"))}static get RBRACE(){return(0,d.shadow)(this,"RBRACE",new u(x.RBRACE,"}"))}static get IF(){return(0,d.shadow)(this,"IF",new u(x.IF,"IF"))}static get IFELSE(){return(0,d.shadow)(this,"IFELSE",new u(x.IFELSE,"IFELSE"))}}h.PostScriptLexer=class{constructor(T){this.stream=T,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let T=!1,C=this.currentChar;for(;;){if(C<0)return m.EOF;if(T)C!==10&&C!==13||(T=!1);else if(C===37)T=!0;else if(!(0,y.isWhiteSpace)(C))break;C=this.nextChar()}switch(0|C){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new u(x.NUMBER,this.getNumber());case 123:return this.nextChar(),u.LBRACE;case 125:return this.nextChar(),u.RBRACE}const k=this.strBuf;for(k.length=0,k[0]=String.fromCharCode(C);(C=this.nextChar())>=0&&(C>=65&&C<=90||C>=97&&C<=122);)k.push(String.fromCharCode(C));const A=k.join("");switch(A.toLowerCase()){case"if":return u.IF;case"ifelse":return u.IFELSE;default:return u.getOperator(A)}}getNumber(){let T=this.currentChar;const C=this.strBuf;for(C.length=0,C[0]=String.fromCharCode(T);(T=this.nextChar())>=0&&(T>=48&&T<=57||T===45||T===46);)C.push(String.fromCharCode(T));const k=parseFloat(C.join(""));if(isNaN(k))throw new d.FormatError(`Invalid floating point number: ${k}`);return k}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.LocalTilingPatternCache=h.LocalImageCache=h.LocalGStateCache=h.LocalFunctionCache=h.LocalColorSpaceCache=h.GlobalImageCache=void 0;var d=p(2),m=p(4);class y{constructor(w){this.constructor===y&&(0,d.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(w&&w.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new m.RefSetCache}getByName(w){this._onlyRefs&&(0,d.unreachable)("Should not call `getByName` method.");const T=this._nameRefMap.get(w);return T?this.getByRef(T):this._imageMap.get(w)||null}getByRef(w){return this._imageCache.get(w)||null}set(w,T,C){(0,d.unreachable)("Abstract method `set` called.")}}h.LocalImageCache=class extends y{set(w,T=null,C){if(typeof w!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(T){if(this._imageCache.has(T))return;this._nameRefMap.set(w,T),this._imageCache.put(T,C)}else this._imageMap.has(w)||this._imageMap.set(w,C)}},h.LocalColorSpaceCache=class extends y{set(w=null,T=null,C){if(typeof w!="string"&&!T)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(T){if(this._imageCache.has(T))return;w!==null&&this._nameRefMap.set(w,T),this._imageCache.put(T,C)}else this._imageMap.has(w)||this._imageMap.set(w,C)}},h.LocalFunctionCache=class extends y{constructor(w){super({onlyRefs:!0})}set(w=null,T,C){if(!T)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(T)||this._imageCache.put(T,C)}},h.LocalGStateCache=class extends y{set(w,T=null,C){if(typeof w!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(T){if(this._imageCache.has(T))return;this._nameRefMap.set(w,T),this._imageCache.put(T,C)}else this._imageMap.has(w)||this._imageMap.set(w,C)}},h.LocalTilingPatternCache=class extends y{constructor(w){super({onlyRefs:!0})}set(w=null,T,C){if(!T)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(T)||this._imageCache.put(T,C)}};class x{static get NUM_PAGES_THRESHOLD(){return(0,d.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,d.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,d.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new m.RefSetCache,this._imageCache=new m.RefSetCache}get _byteSize(){let w=0;for(const T of this._imageCache)w+=T.byteSize;return w}get _cacheLimitReached(){return!(this._imageCache.size<x.MIN_IMAGES_TO_CACHE)&&!(this._byteSize<x.MAX_BYTE_SIZE)}shouldCache(w,T){const C=this._refCache.get(w);return!((C?C.size+(C.has(T)?0:1):1)<x.NUM_PAGES_THRESHOLD)&&!(!this._imageCache.has(w)&&this._cacheLimitReached)}addPageIndex(w,T){let C=this._refCache.get(w);C||(C=new Set,this._refCache.put(w,C)),C.add(T)}addByteSize(w,T){const C=this._imageCache.get(w);C&&(C.byteSize||(C.byteSize=T))}getData(w,T){const C=this._refCache.get(w);if(!C||C.size<x.NUM_PAGES_THRESHOLD)return null;const k=this._imageCache.get(w);return k?(C.add(T),k):null}setData(w,T){if(!this._refCache.has(w))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(w)||(this._cacheLimitReached?(0,d.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(w,T))}clear(w=!1){w||this._refCache.clear(),this._imageCache.clear()}}h.GlobalImageCache=x},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.bidi=function(v,M=-1,R=!1){let I=!0;const J=v.length;if(J===0||R)return k(v,I,R);A.length=J,g.length=J;let _,L,K=0;for(_=0;_<J;++_){A[_]=v.charAt(_);const N=v.charCodeAt(_);let O="L";N<=255?O=m[N]:1424<=N&&N<=1524?O="R":1536<=N&&N<=1791?(O=y[255&N],O||(0,d.warn)("Bidi: invalid Unicode character "+N.toString(16))):1792<=N&&N<=2220&&(O="AL"),O!=="R"&&O!=="AL"&&O!=="AN"||K++,g[_]=O}if(K===0)return I=!0,k(v,I);M===-1&&(K/J<.3&&J>4?(I=!0,M=0):(I=!1,M=1));const $=[];for(_=0;_<J;++_)$[_]=M;const D=x(M)?"R":"L",ne=D,F=ne;let j,se=ne;for(_=0;_<J;++_)g[_]==="NSM"?g[_]=se:se=g[_];for(se=ne,_=0;_<J;++_)j=g[_],j==="EN"?g[_]=se==="AL"?"AN":"EN":j!=="R"&&j!=="L"&&j!=="AL"||(se=j);for(_=0;_<J;++_)j=g[_],j==="AL"&&(g[_]="R");for(_=1;_<J-1;++_)g[_]==="ES"&&g[_-1]==="EN"&&g[_+1]==="EN"&&(g[_]="EN"),g[_]!=="CS"||g[_-1]!=="EN"&&g[_-1]!=="AN"||g[_+1]!==g[_-1]||(g[_]=g[_-1]);for(_=0;_<J;++_)if(g[_]==="EN"){for(let N=_-1;N>=0&&g[N]==="ET";--N)g[N]="EN";for(let N=_+1;N<J&&g[N]==="ET";++N)g[N]="EN"}for(_=0;_<J;++_)j=g[_],j!=="WS"&&j!=="ES"&&j!=="ET"&&j!=="CS"||(g[_]="ON");for(se=ne,_=0;_<J;++_)j=g[_],j==="EN"?g[_]=se==="L"?"L":"EN":j!=="R"&&j!=="L"||(se=j);for(_=0;_<J;++_)if(g[_]==="ON"){const N=w(g,_+1,"ON");let O=ne;_>0&&(O=g[_-1]);let H=F;N+1<J&&(H=g[N+1]),O!=="L"&&(O="R"),H!=="L"&&(H="R"),O===H&&T(g,_,N,O),_=N-1}for(_=0;_<J;++_)g[_]==="ON"&&(g[_]=D);for(_=0;_<J;++_)j=g[_],u($[_])?j==="R"?$[_]+=1:j!=="AN"&&j!=="EN"||($[_]+=2):j!=="L"&&j!=="AN"&&j!=="EN"||($[_]+=1);let Y,q=-1,Q=99;for(_=0,L=$.length;_<L;++_)Y=$[_],q<Y&&(q=Y),Q>Y&&x(Y)&&(Q=Y);for(Y=q;Y>=Q;--Y){let N=-1;for(_=0,L=$.length;_<L;++_)$[_]<Y?N>=0&&(C(A,N,_),N=-1):N<0&&(N=_);N>=0&&C(A,N,$.length)}for(_=0,L=A.length;_<L;++_){const N=A[_];N!=="<"&&N!==">"||(A[_]="")}return k(A.join(""),I)};var d=p(2);const m=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],y=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function x(E){return(1&E)!=0}function u(E){return(1&E)==0}function w(E,v,M){let R,I;for(R=v,I=E.length;R<I;++R)if(E[R]!==M)return R;return R}function T(E,v,M,R){for(let I=v;I<M;++I)E[I]=R}function C(E,v,M){for(let R=v,I=M-1;R<I;++R,--I){const J=E[R];E[R]=E[I],E[I]=J}}function k(E,v,M=!1){let R="ltr";return M?R="ttb":v||(R="rtl"),{str:E,dir:R}}const A=[],g=[]},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MurmurHash3_64=void 0;var d=p(2);const m=3285377520,y=4294901760,x=65535;h.MurmurHash3_64=class{constructor(w){this.h1=w?4294967295&w:m,this.h2=w?4294967295&w:m}update(w){let T,C;if(typeof w=="string"){T=new Uint8Array(2*w.length),C=0;for(let K=0,$=w.length;K<$;K++){const D=w.charCodeAt(K);D<=255?T[C++]=D:(T[C++]=D>>>8,T[C++]=255&D)}}else{if(!(0,d.isArrayBuffer)(w))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");T=w.slice(),C=T.byteLength}const k=C>>2,A=C-4*k,g=new Uint32Array(T.buffer,0,k);let E=0,v=0,M=this.h1,R=this.h2;const I=3432918353,J=461845907,_=11601,L=13715;for(let K=0;K<k;K++)1&K?(E=g[K],E=E*I&y|E*_&x,E=E<<15|E>>>17,E=E*J&y|E*L&x,M^=E,M=M<<13|M>>>19,M=5*M+3864292196):(v=g[K],v=v*I&y|v*_&x,v=v<<15|v>>>17,v=v*J&y|v*L&x,R^=v,R=R<<13|R>>>19,R=5*R+3864292196);switch(E=0,A){case 3:E^=T[4*k+2]<<16;case 2:E^=T[4*k+1]<<8;case 1:E^=T[4*k],E=E*I&y|E*_&x,E=E<<15|E>>>17,E=E*J&y|E*L&x,1&k?M^=E:R^=E}this.h1=M,this.h2=R}hexdigest(){let w=this.h1,T=this.h2;return w^=T>>>1,w=3981806797*w&y|36045*w&x,T=4283543511*T&y|(2950163797*(T<<16|w>>>16)&y)>>>16,w^=T>>>1,w=444984403*w&y|60499*w&x,T=3301882366*T&y|(3120437893*(T<<16|w>>>16)&y)>>>16,w^=T>>>1,(w>>>0).toString(16).padStart(8,"0")+(T>>>0).toString(16).padStart(8,"0")}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OperatorList=void 0;var d=p(2);function m(T,C,k,A,g){let E=T;for(let v=0,M=C.length-1;v<M;v++){const R=C[v];E=E[R]||(E[R]=[])}E[C.at(-1)]={checkFn:k,iterateFn:A,processFn:g}}const y=[];m(y,[d.OPS.save,d.OPS.transform,d.OPS.paintInlineImageXObject,d.OPS.restore],null,function(C,k){const A=C.fnArray,g=(k-(C.iCurr-3))%4;switch(g){case 0:return A[k]===d.OPS.save;case 1:return A[k]===d.OPS.transform;case 2:return A[k]===d.OPS.paintInlineImageXObject;case 3:return A[k]===d.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${g}`)},function(C,k){const A=C.fnArray,g=C.argsArray,E=C.iCurr,v=E-3,M=E-2,R=E-1,I=Math.min(Math.floor((k-v)/4),200);if(I<10)return k-(k-v)%4;let J=0;const _=[];let L=0,K=1,$=1;for(let se=0;se<I;se++){const Y=g[M+(se<<2)],q=g[R+(se<<2)][0];K+q.width>1e3&&(J=Math.max(J,K),$+=L+2,K=0,L=0),_.push({transform:Y,x:K,y:$,w:q.width,h:q.height}),K+=q.width+2,L=Math.max(L,q.height)}const D=Math.max(J,K)+1,ne=$+L+1,F=new Uint8Array(D*ne*4),j=D<<2;for(let se=0;se<I;se++){const Y=g[R+(se<<2)][0].data,q=_[se].w<<2;let Q=0,N=_[se].x+_[se].y*D<<2;F.set(Y.subarray(0,q),N-j);for(let O=0,H=_[se].h;O<H;O++)F.set(Y.subarray(Q,Q+q),N),Q+=q,N+=j;for(F.set(Y.subarray(Q-q,Q),N);N>=0;)Y[N-4]=Y[N],Y[N-3]=Y[N+1],Y[N-2]=Y[N+2],Y[N-1]=Y[N+3],Y[N+q]=Y[N+q-4],Y[N+q+1]=Y[N+q-3],Y[N+q+2]=Y[N+q-2],Y[N+q+3]=Y[N+q-1],N-=j}return A.splice(v,4*I,d.OPS.paintInlineImageXObjectGroup),g.splice(v,4*I,[{width:D,height:ne,kind:d.ImageKind.RGBA_32BPP,data:F},_]),v+1}),m(y,[d.OPS.save,d.OPS.transform,d.OPS.paintImageMaskXObject,d.OPS.restore],null,function(C,k){const A=C.fnArray,g=(k-(C.iCurr-3))%4;switch(g){case 0:return A[k]===d.OPS.save;case 1:return A[k]===d.OPS.transform;case 2:return A[k]===d.OPS.paintImageMaskXObject;case 3:return A[k]===d.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${g}`)},function(C,k){const A=C.fnArray,g=C.argsArray,E=C.iCurr,v=E-3,M=E-2,R=E-1;let I=Math.floor((k-v)/4);if(I<10)return k-(k-v)%4;let J,_,L=!1;const K=g[R][0],$=g[M][0],D=g[M][1],ne=g[M][2],F=g[M][3];if(D===ne){L=!0,J=M+4;let j=R+4;for(let se=1;se<I;se++,J+=4,j+=4)if(_=g[J],g[j][0]!==K||_[0]!==$||_[1]!==D||_[2]!==ne||_[3]!==F){se<10?L=!1:I=se;break}}if(L){I=Math.min(I,1e3);const j=new Float32Array(2*I);J=M;for(let se=0;se<I;se++,J+=4)_=g[J],j[se<<1]=_[4],j[1+(se<<1)]=_[5];A.splice(v,4*I,d.OPS.paintImageMaskXObjectRepeat),g.splice(v,4*I,[K,$,D,ne,F,j])}else{I=Math.min(I,100);const j=[];for(let se=0;se<I;se++){_=g[M+(se<<2)];const Y=g[R+(se<<2)][0];j.push({data:Y.data,width:Y.width,height:Y.height,interpolate:Y.interpolate,count:Y.count,transform:_})}A.splice(v,4*I,d.OPS.paintImageMaskXObjectGroup),g.splice(v,4*I,[j])}return v+1}),m(y,[d.OPS.save,d.OPS.transform,d.OPS.paintImageXObject,d.OPS.restore],function(T){const C=T.argsArray,k=T.iCurr-2;return C[k][1]===0&&C[k][2]===0},function(C,k){const A=C.fnArray,g=C.argsArray,E=(k-(C.iCurr-3))%4;switch(E){case 0:return A[k]===d.OPS.save;case 1:if(A[k]!==d.OPS.transform)return!1;const v=C.iCurr-2,M=g[v][0],R=g[v][3];return g[k][0]===M&&g[k][1]===0&&g[k][2]===0&&g[k][3]===R;case 2:if(A[k]!==d.OPS.paintImageXObject)return!1;const I=g[C.iCurr-1][0];return g[k][0]===I;case 3:return A[k]===d.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${E}`)},function(T,C){const k=T.fnArray,A=T.argsArray,g=T.iCurr,E=g-3,v=g-2,M=A[g-1][0],R=A[v][0],I=A[v][3],J=Math.min(Math.floor((C-E)/4),1e3);if(J<3)return C-(C-E)%4;const _=new Float32Array(2*J);let L=v;for(let $=0;$<J;$++,L+=4){const D=A[L];_[$<<1]=D[4],_[1+($<<1)]=D[5]}const K=[M,R,I,_];return k.splice(E,4*J,d.OPS.paintImageXObjectRepeat),A.splice(E,4*J,K),E+1}),m(y,[d.OPS.beginText,d.OPS.setFont,d.OPS.setTextMatrix,d.OPS.showText,d.OPS.endText],null,function(C,k){const A=C.fnArray,g=C.argsArray,E=(k-(C.iCurr-4))%5;switch(E){case 0:return A[k]===d.OPS.beginText;case 1:return A[k]===d.OPS.setFont;case 2:return A[k]===d.OPS.setTextMatrix;case 3:if(A[k]!==d.OPS.showText)return!1;const v=C.iCurr-3,M=g[v][0],R=g[v][1];return g[k][0]===M&&g[k][1]===R;case 4:return A[k]===d.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${E}`)},function(T,C){const k=T.fnArray,A=T.argsArray,g=T.iCurr,E=g-4,v=g-3,M=g-2,R=g-1,I=g,J=A[v][0],_=A[v][1];let L=Math.min(Math.floor((C-E)/5),1e3);if(L<3)return C-(C-E)%5;let K=E;E>=4&&k[E-4]===k[v]&&k[E-3]===k[M]&&k[E-2]===k[R]&&k[E-1]===k[I]&&A[E-4][0]===J&&A[E-4][1]===_&&(L++,K-=5);let $=K+4;for(let D=1;D<L;D++)k.splice($,3),A.splice($,3),$+=2;return $+1});class x{constructor(C){this.queue=C}_optimize(){}push(C,k){this.queue.fnArray.push(C),this.queue.argsArray.push(k),this._optimize()}flush(){}reset(){}}class u extends x{constructor(C){super(C),this.state=null,this.context={iCurr:0,fnArray:C.fnArray,argsArray:C.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const C=this.queue.fnArray;let k=this.lastProcessed,A=C.length,g=this.state,E=this.match;if(!g&&!E&&k+1===A&&!y[C[k]]){this.lastProcessed=A;return}const v=this.context;for(;k<A;){if(E){if((0,E.iterateFn)(v,k)){k++;continue}if(k=(0,E.processFn)(v,k+1),A=C.length,E=null,g=null,k>=A)break}g=(g||y)[C[k]],g&&!Array.isArray(g)?(v.iCurr=k,k++,(!g.checkFn||(0,g.checkFn)(v))&&(E=g),g=null):k++}this.state=g,this.match=E,this.lastProcessed=k}flush(){for(;this.match;){const C=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,C),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class w{static get CHUNK_SIZE(){return(0,d.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,d.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(C=0,k){this._streamSink=k,this.fnArray=[],this.argsArray=[],!k||C&d.RenderingIntentFlag.OPLIST?this.optimizer=new x(this):this.optimizer=new u(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=k?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(C,k){this.optimizer.push(C,k),this.weight++,this._streamSink&&(this.weight>=w.CHUNK_SIZE||this.weight>=w.CHUNK_SIZE_ABOUT&&(C===d.OPS.restore||C===d.OPS.endText))&&this.flush()}addImageOps(C,k,A){A!==void 0&&this.addOp(d.OPS.beginMarkedContentProps,["OC",A]),this.addOp(C,k),A!==void 0&&this.addOp(d.OPS.endMarkedContent,[])}addDependency(C){this.dependencies.has(C)||(this.dependencies.add(C),this.addOp(d.OPS.dependency,[C]))}addDependencies(C){for(const k of C)this.addDependency(k)}addOpList(C){if(C instanceof w){for(const k of C.dependencies)this.dependencies.add(k);for(let k=0,A=C.length;k<A;k++)this.addOp(C.fnArray[k],C.argsArray[k])}else(0,d.warn)('addOpList - ignoring invalid "opList" parameter.')}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const C=[],{fnArray:k,argsArray:A,length:g}=this;for(let E=0;E<g;E++)switch(k[E]){case d.OPS.paintInlineImageXObject:case d.OPS.paintInlineImageXObjectGroup:case d.OPS.paintImageMaskXObject:const v=A[E][0];!v.cached&&v.data&&v.data.buffer instanceof ArrayBuffer&&C.push(v.data.buffer)}return C}flush(C=!1,k=null){this.optimizer.flush();const A=this.length;this._totalLength+=A,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:C,separateAnnots:k,length:A},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}h.OperatorList=w},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFImage=void 0;var d=p(2),m=p(62),y=p(5),x=p(12),u=p(17),w=p(25),T=p(28),C=p(4);function k(E,v,M,R){return(E=v+E*M)<0?E=0:E>R&&(E=R),E}function A(E,v,M,R,I,J){const _=I*J;let L;L=v<=8?new Uint8Array(_):v<=16?new Uint16Array(_):new Uint32Array(_);const K=M/I,$=R/J;let D,ne,F,j,se=0;const Y=new Uint16Array(I),q=M;for(D=0;D<I;D++)Y[D]=Math.floor(D*K);for(D=0;D<J;D++)for(F=Math.floor(D*$)*q,ne=0;ne<I;ne++)j=F+Y[ne],L[se++]=E[j];return L}class g{constructor({xref:v,res:M,image:R,isInline:I=!1,smask:J=null,mask:_=null,isMask:L=!1,pdfFunctionFactory:K,localColorSpaceCache:$}){this.image=R;const D=R.dict,ne=D.get("F","Filter");let F;if(ne instanceof C.Name)F=ne.name;else if(Array.isArray(ne)){const q=v.fetchIfRef(ne[0]);q instanceof C.Name&&(F=q.name)}switch(F){case"JPXDecode":const q=new T.JpxImage;q.parseImageProperties(R.stream),R.stream.reset(),R.width=q.width,R.height=q.height,R.bitsPerComponent=q.bitsPerComponent,R.numComps=q.componentsCount;break;case"JBIG2Decode":R.bitsPerComponent=1,R.numComps=1}let j=D.get("W","Width"),se=D.get("H","Height");if(Number.isInteger(R.width)&&R.width>0&&Number.isInteger(R.height)&&R.height>0&&(R.width!==j||R.height!==se)&&((0,d.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),j=R.width,se=R.height),j<1||se<1)throw new d.FormatError(`Invalid image width: ${j} or height: ${se}`);this.width=j,this.height=se,this.interpolate=D.get("I","Interpolate"),this.imageMask=D.get("IM","ImageMask")||!1,this.matte=D.get("Matte")||!1;let Y=R.bitsPerComponent;if(!Y&&(Y=D.get("BPC","BitsPerComponent"),!Y)){if(!this.imageMask)throw new d.FormatError(`Bits per component missing in image: ${this.imageMask}`);Y=1}if(this.bpc=Y,!this.imageMask){let q=D.getRaw("CS")||D.getRaw("ColorSpace");if(!q)switch((0,d.info)("JPX images (which do not require color spaces)"),R.numComps){case 1:q=C.Name.get("DeviceGray");break;case 3:q=C.Name.get("DeviceRGB");break;case 4:q=C.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${R.numComps} color components not supported.`)}this.colorSpace=x.ColorSpace.parse({cs:q,xref:v,resources:I?M:null,pdfFunctionFactory:K,localColorSpaceCache:$}),this.numComps=this.colorSpace.numComps}if(this.decode=D.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,Y)||L&&!x.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const q=(1<<Y)-1;this.decodeCoefficients=[],this.decodeAddends=[];const Q=this.colorSpace&&this.colorSpace.name==="Indexed";for(let N=0,O=0;N<this.decode.length;N+=2,++O){const H=this.decode[N],G=this.decode[N+1];this.decodeCoefficients[O]=Q?(G-H)/q:G-H,this.decodeAddends[O]=Q?H:q*H}}J?this.smask=new g({xref:v,res:M,image:J,isInline:I,pdfFunctionFactory:K,localColorSpaceCache:$}):_&&(_ instanceof y.BaseStream?_.dict.get("IM","ImageMask")?this.mask=new g({xref:v,res:M,image:_,isInline:I,isMask:!0,pdfFunctionFactory:K,localColorSpaceCache:$}):(0,d.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=_)}static async buildImage({xref:v,res:M,image:R,isInline:I=!1,pdfFunctionFactory:J,localColorSpaceCache:_}){const L=R;let K=null,$=null;const D=R.dict.get("SMask"),ne=R.dict.get("Mask");return D?D instanceof y.BaseStream?K=D:(0,d.warn)("Unsupported /SMask format."):ne&&(ne instanceof y.BaseStream||Array.isArray(ne)?$=ne:(0,d.warn)("Unsupported /Mask format.")),new g({xref:v,res:M,image:L,isInline:I,smask:K,mask:$,pdfFunctionFactory:J,localColorSpaceCache:_})}static createRawMask({imgArray:v,width:M,height:R,imageIsFromDecodeStream:I,inverseDecode:J,interpolate:_}){const L=(M+7>>3)*R,K=v.byteLength;let $,D;if(!I||J&&L!==K?J?($=new Uint8Array(L),$.set(v),$.fill(255,K)):$=new Uint8Array(v):$=v,J)for(D=0;D<K;D++)$[D]^=255;return{data:$,width:M,height:R,interpolate:_}}static createMask({imgArray:v,width:M,height:R,imageIsFromDecodeStream:I,inverseDecode:J,interpolate:_,isOffscreenCanvasSupported:L=!0}){const K=M===1&&R===1&&J===(v.length===0||!!(128&v[0]));if(K)return{isSingleOpaquePixel:K};if(L&&d.FeatureTest.isOffscreenCanvasSupported){const $=new OffscreenCanvas(M,R),D=$.getContext("2d"),ne=D.createImageData(M,R);return(0,m.applyMaskImageData)({src:v,dest:ne.data,width:M,height:R,inverseDecode:J}),D.putImageData(ne,0,0),{data:null,width:M,height:R,interpolate:_,bitmap:$.transferToImageBitmap()}}return this.createRawMask({imgArray:v,width:M,height:R,inverseDecode:J,imageIsFromDecodeStream:I,interpolate:_})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(v){const M=this.bpc,R=this.numComps,I=this.decodeAddends,J=this.decodeCoefficients,_=(1<<M)-1;let L,K;if(M===1){for(L=0,K=v.length;L<K;L++)v[L]=+!v[L];return}let $=0;for(L=0,K=this.width*this.height;L<K;L++)for(let D=0;D<R;D++)v[$]=k(v[$],I[D],J[D],_),$++}getComponents(v){const M=this.bpc;if(M===8)return v;const R=this.width,I=this.height,J=this.numComps,_=R*I*J;let L,K=0;L=M<=8?new Uint8Array(_):M<=16?new Uint16Array(_):new Uint32Array(_);const $=R*J,D=(1<<M)-1;let ne,F,j=0;if(M===1){let se,Y,q;for(let Q=0;Q<I;Q++){for(Y=j+(-8&$),q=j+$;j<Y;)F=v[K++],L[j]=F>>7&1,L[j+1]=F>>6&1,L[j+2]=F>>5&1,L[j+3]=F>>4&1,L[j+4]=F>>3&1,L[j+5]=F>>2&1,L[j+6]=F>>1&1,L[j+7]=1&F,j+=8;if(j<q)for(F=v[K++],se=128;j<q;)L[j++]=+!!(F&se),se>>=1}}else{let se=0;for(F=0,j=0,ne=_;j<ne;++j){for(j%$==0&&(F=0,se=0);se<M;)F=F<<8|v[K++],se+=8;const Y=se-M;let q=F>>Y;q<0?q=0:q>D&&(q=D),L[j]=q,F&=(1<<Y)-1,se=Y}}return L}fillOpacity(v,M,R,I,J){const _=this.smask,L=this.mask;let K,$,D,ne,F,j;if(_)$=_.width,D=_.height,K=new Uint8ClampedArray($*D),_.fillGrayBuffer(K),$===M&&D===R||(K=A(K,_.bpc,$,D,M,R));else if(L)if(L instanceof g){for($=L.width,D=L.height,K=new Uint8ClampedArray($*D),L.numComps=1,L.fillGrayBuffer(K),ne=0,F=$*D;ne<F;++ne)K[ne]=255-K[ne];$===M&&D===R||(K=A(K,L.bpc,$,D,M,R))}else{if(!Array.isArray(L))throw new d.FormatError("Unknown mask format.");{K=new Uint8ClampedArray(M*R);const se=this.numComps;for(ne=0,F=M*R;ne<F;++ne){let Y=0;const q=ne*se;for(j=0;j<se;++j){const Q=J[q+j],N=2*j;if(Q<L[N]||Q>L[N+1]){Y=255;break}}K[ne]=Y}}}if(K)for(ne=0,j=3,F=M*I;ne<F;++ne,j+=4)v[j]=K[ne];else for(ne=0,j=3,F=M*I;ne<F;++ne,j+=4)v[j]=255}undoPreblend(v,M,R){const I=this.smask&&this.smask.matte;if(!I)return;const J=this.colorSpace.getRgb(I,0),_=J[0],L=J[1],K=J[2],$=M*R*4;for(let D=0;D<$;D+=4){const ne=v[D+3];if(ne===0){v[D]=255,v[D+1]=255,v[D+2]=255;continue}const F=255/ne;v[D]=(v[D]-_)*F+_,v[D+1]=(v[D+1]-L)*F+L,v[D+2]=(v[D+2]-K)*F+K}}createImageData(v=!1){const M=this.drawWidth,R=this.drawHeight,I={width:M,height:R,interpolate:this.interpolate,kind:0,data:null},J=this.numComps,_=this.width,L=this.height,K=this.bpc,$=_*J*K+7>>3;if(!v){let Y;if(this.colorSpace.name==="DeviceGray"&&K===1?Y=d.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name!=="DeviceRGB"||K!==8||this.needsDecode||(Y=d.ImageKind.RGB_24BPP),Y&&!this.smask&&!this.mask&&M===_&&R===L){if(I.kind=Y,I.data=this.getImageBytes(L*$,{}),this.needsDecode){(0,d.assert)(Y===d.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const q=I.data;for(let Q=0,N=q.length;Q<N;Q++)q[Q]^=255}return I}if(this.image instanceof w.JpegStream&&!this.smask&&!this.mask){let q=L*$;switch(this.colorSpace.name){case"DeviceGray":q*=3;case"DeviceRGB":case"DeviceCMYK":return I.kind=d.ImageKind.RGB_24BPP,I.data=this.getImageBytes(q,{drawWidth:M,drawHeight:R,forceRGB:!0}),I}}}const D=this.getImageBytes(L*$,{internal:!0}),ne=0|D.length/$*R/L,F=this.getComponents(D);let j,se;return v||this.smask||this.mask?(I.kind=d.ImageKind.RGBA_32BPP,I.data=new Uint8ClampedArray(M*R*4),j=1,se=!0,this.fillOpacity(I.data,M,R,ne,F)):(I.kind=d.ImageKind.RGB_24BPP,I.data=new Uint8ClampedArray(M*R*3),j=0,se=!1),this.needsDecode&&this.decodeBuffer(F),this.colorSpace.fillRgb(I.data,_,L,M,R,ne,K,F,j),se&&this.undoPreblend(I.data,M,ne),I}fillGrayBuffer(v){const M=this.numComps;if(M!==1)throw new d.FormatError(`Reading gray scale from a color image: ${M}`);const R=this.width,I=this.height,J=this.bpc,_=R*M*J+7>>3,L=this.getImageBytes(I*_,{internal:!0}),K=this.getComponents(L);let $,D;if(J===1){if(D=R*I,this.needsDecode)for($=0;$<D;++$)v[$]=K[$]-1&255;else for($=0;$<D;++$)v[$]=255&-K[$];return}this.needsDecode&&this.decodeBuffer(K),D=R*I;const ne=255/((1<<J)-1);for($=0;$<D;++$)v[$]=ne*K[$]}getImageBytes(v,{drawWidth:M,drawHeight:R,forceRGB:I=!1,internal:J=!1}){this.image.reset(),this.image.drawWidth=M||this.width,this.image.drawHeight=R||this.height,this.image.forceRGB=!!I;const _=this.image.getBytes(v);return J||this.image instanceof u.DecodeStream?_:((0,d.assert)(_ instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(_))}}h.PDFImage=g},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.applyMaskImageData=function({src:y,srcPos:x=0,dest:u,destPos:w=0,width:T,height:C,inverseDecode:k=!1}){const A=d.FeatureTest.isLittleEndian?4278190080:255,[g,E]=k?[0,A]:[A,0],v=T>>3,M=7&T,R=y.length;u=new Uint32Array(u.buffer);for(let I=0;I<C;I++){for(const _=x+v;x<_;x++){const L=x<R?y[x]:255;u[w++]=128&L?E:g,u[w++]=64&L?E:g,u[w++]=32&L?E:g,u[w++]=16&L?E:g,u[w++]=8&L?E:g,u[w++]=4&L?E:g,u[w++]=2&L?E:g,u[w++]=1&L?E:g}if(M===0)continue;const J=x<R?y[x++]:255;for(let _=0;_<M;_++)u[w++]=J&1<<7-_?E:g}return{srcPos:x,destPos:w}};var d=p(2)},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.incrementalUpdate=function({originalData:M,xrefInfo:R,newRefs:I,xref:J=null,hasXfa:_=!1,xfaDatasetsRef:L=null,hasXfaDatasetsEntry:K=!1,needAppearances:$,acroFormRef:D=null,acroForm:ne=null,xfaData:F=null}){(function({xref:Ce,acroForm:me,acroFormRef:ee,hasXfa:te,hasXfaDatasetsEntry:oe,xfaDatasetsRef:V,needAppearances:W,newRefs:ue}){if(!te||oe||V||(0,d.warn)("XFA - Cannot save it"),!(W||te&&V))return;const he=new m.Dict(Ce);for(const de of me.getKeys())he.set(de,me.getRaw(de));if(te&&!oe){const de=me.get("XFA").slice();de.splice(2,0,"datasets"),de.splice(3,0,V),he.set("XFA",de)}W&&he.set("NeedAppearances",!0);const pe=Ce.encrypt;let Se=null;pe&&(Se=pe.createCipherTransform(ee.num,ee.gen));const ge=[];T(ee,he,ge,Se),ue.push({ref:ee,data:ge.join("")})})({xref:J,acroForm:ne,acroFormRef:D,hasXfa:_,hasXfaDatasetsEntry:K,xfaDatasetsRef:L,needAppearances:$,newRefs:I}),_&&function({xfaData:Ce,xfaDatasetsRef:me,newRefs:ee,xref:te}){Ce===null&&(Ce=function(ue,he){const pe=new x.SimpleXMLParser({hasAttributes:!0}).parseFromString(ue);for(const{xfa:ge}of he){if(!ge)continue;const{path:de,value:xe}=ge;if(!de)continue;const ve=(0,y.parseXFAPath)(de);let Ee=pe.documentElement.searchNode(ve,0);!Ee&&ve.length>1&&(Ee=pe.documentElement.searchNode([ve.at(-1)],0)),Ee?Array.isArray(xe)?Ee.childNodes=xe.map(Te=>new x.SimpleDOMNode("value",Te)):Ee.childNodes=[new x.SimpleDOMNode("#text",xe)]:(0,d.warn)(`Node not found for path: ${de}`)}const Se=[];return pe.documentElement.dump(Se),Se.join("")}(te.fetchIfRef(me).getString(),ee));const oe=te.encrypt;oe&&(Ce=oe.createCipherTransform(me.num,me.gen).encryptString(Ce));const V=`${me.num} ${me.gen} obj
<< /Type /EmbeddedFile /Length ${Ce.length}>>
stream
`+Ce+`
endstream
endobj
`;ee.push({ref:me,data:V})}({xfaData:F,xfaDatasetsRef:L,newRefs:I,xref:J});const j=new m.Dict(null),se=R.newRef;let Y,q;const Q=M.at(-1);Q===10||Q===13?(Y=[],q=M.length):(Y=[`
`],q=M.length+1),j.set("Size",se.num+1),j.set("Prev",R.startXRef),j.set("Type",m.Name.get("XRef")),R.rootRef!==null&&j.set("Root",R.rootRef),R.infoRef!==null&&j.set("Info",R.infoRef),R.encryptRef!==null&&j.set("Encrypt",R.encryptRef),I.push({ref:se,data:""}),I=I.sort((ye,Ce)=>ye.ref.num-Ce.ref.num);const N=[[0,1,65535]],O=[0,1];let H=0;for(const{ref:ye,data:Ce}of I)H=Math.max(H,q),N.push([1,q,Math.min(ye.gen,65535)]),q+=Ce.length,O.push(ye.num,1),Y.push(Ce);if(j.set("Index",O),Array.isArray(R.fileIds)&&R.fileIds.length>0){const ye=function(me,ee){const te=Math.floor(Date.now()/1e3),oe=ee.filename||"",V=[te.toString(),oe,me.toString()];let W=V.reduce((pe,Se)=>pe+Se.length,0);for(const pe of Object.values(ee.info))V.push(pe),W+=pe.length;const ue=new Uint8Array(W);let he=0;for(const pe of V)E(pe,he,ue),he+=pe.length;return(0,d.bytesToString)((0,w.calculateMD5)(ue))}(q,R);j.set("ID",[R.fileIds[0],ye])}const G=[1,Math.ceil(Math.log2(H)/8),2],le=(G[0]+G[1]+G[2])*N.length;j.set("W",G),j.set("Length",le),Y.push(`${se.num} ${se.gen} obj
`),C(j,Y,null),Y.push(` stream
`);const fe=Y.reduce((ye,Ce)=>ye+Ce.length,0),ae=`
endstream
endobj
startxref
${q}
%%EOF
`,re=new Uint8Array(M.length+fe+le+ae.length);re.set(M);let be=M.length;for(const ye of Y)E(ye,be,re),be+=ye.length;for(const[ye,Ce,me]of N)be=g(ye,G[0],be,re),be=g(Ce,G[1],be,re),be=g(me,G[2],be,re);return E(ae,be,re),re},h.writeDict=C,h.writeObject=T;var d=p(2),m=p(4),y=p(3),x=p(64),u=p(5),w=p(65);function T(v,M,R,I){R.push(`${v.num} ${v.gen} obj
`),M instanceof m.Dict?C(M,R,I):M instanceof u.BaseStream&&k(M,R,I),R.push(`
endobj
`)}function C(v,M,R){M.push("<<");for(const I of v.getKeys())M.push(` /${(0,y.escapePDFName)(I)} `),A(v.getRaw(I),M,R);M.push(">>")}function k(v,M,R){let I=v.getString();R!==null&&(I=R.encryptString(I)),v.dict.set("Length",I.length),C(v.dict,M,R),M.push(` stream
`,I,`
endstream`)}function A(v,M,R){v instanceof m.Name?M.push(`/${(0,y.escapePDFName)(v.name)}`):v instanceof m.Ref?M.push(`${v.num} ${v.gen} R`):Array.isArray(v)?function(J,_,L){_.push("[");let K=!0;for(const $ of J)K?K=!1:_.push(" "),A($,_,L);_.push("]")}(v,M,R):typeof v=="string"?(R!==null&&(v=R.encryptString(v)),M.push(`(${(0,y.escapeString)(v)})`)):typeof v=="number"?M.push((0,y.numberToString)(v)):typeof v=="boolean"?M.push(v.toString()):v instanceof m.Dict?C(v,M,R):v instanceof u.BaseStream?k(v,M,R):v===null?M.push("null"):(0,d.warn)(`Unhandled value in writer: ${typeof v}, please file a bug.`)}function g(v,M,R,I){for(let J=M+R-1;J>R-1;J--)I[J]=255&v,v>>=8;return R+M}function E(v,M,R){for(let I=0,J=v.length;I<J;I++)R[M+I]=255&v.charCodeAt(I)}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XMLParserErrorCode=h.XMLParserBase=h.SimpleXMLParser=h.SimpleDOMNode=void 0;var d=p(3);const m={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};h.XMLParserErrorCode=m;function y(w,T){const C=w[T];return C===" "||C===`
`||C==="\r"||C==="	"}class x{_resolveEntities(T){return T.replace(/&([^;]+);/g,(C,k)=>{if(k.substring(0,2)==="#x")return String.fromCodePoint(parseInt(k.substring(2),16));if(k.substring(0,1)==="#")return String.fromCodePoint(parseInt(k.substring(1),10));switch(k){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(k)})}_parseContent(T,C){const k=[];let A=C;function g(){for(;A<T.length&&y(T,A);)++A}for(;A<T.length&&!y(T,A)&&T[A]!==">"&&T[A]!=="/";)++A;const E=T.substring(C,A);for(g();A<T.length&&T[A]!==">"&&T[A]!=="/"&&T[A]!=="?";){g();let v="",M="";for(;A<T.length&&!y(T,A)&&T[A]!=="=";)v+=T[A],++A;if(g(),T[A]!=="=")return null;++A,g();const R=T[A];if(R!=='"'&&R!=="'")return null;const I=T.indexOf(R,++A);if(I<0)return null;M=T.substring(A,I),k.push({name:v,value:this._resolveEntities(M)}),A=I+1,g()}return{name:E,attributes:k,parsed:A-C}}_parseProcessingInstruction(T,C){let k=C;for(;k<T.length&&!y(T,k)&&T[k]!==">"&&T[k]!=="?"&&T[k]!=="/";)++k;const A=T.substring(C,k);(function(){for(;k<T.length&&y(T,k);)++k})();const g=k;for(;k<T.length&&(T[k]!=="?"||T[k+1]!==">");)++k;return{name:A,value:T.substring(g,k),parsed:k-C}}parseXml(T){let C=0;for(;C<T.length;){let k=C;if(T[C]==="<"){++k;let A;switch(T[k]){case"/":if(++k,A=T.indexOf(">",k),A<0){this.onError(m.UnterminatedElement);return}this.onEndElement(T.substring(k,A)),k=A+1;break;case"?":++k;const g=this._parseProcessingInstruction(T,k);if(T.substring(k+g.parsed,k+g.parsed+2)!=="?>"){this.onError(m.UnterminatedXmlDeclaration);return}this.onPi(g.name,g.value),k+=g.parsed+2;break;case"!":if(T.substring(k+1,k+3)==="--"){if(A=T.indexOf("-->",k+3),A<0){this.onError(m.UnterminatedComment);return}this.onComment(T.substring(k+3,A)),k=A+3}else if(T.substring(k+1,k+8)==="[CDATA["){if(A=T.indexOf("]]>",k+8),A<0){this.onError(m.UnterminatedCdat);return}this.onCdata(T.substring(k+8,A)),k=A+3}else{if(T.substring(k+1,k+8)!=="DOCTYPE"){this.onError(m.MalformedElement);return}{const M=T.indexOf("[",k+8);let R=!1;if(A=T.indexOf(">",k+8),A<0){this.onError(m.UnterminatedDoctypeDeclaration);return}if(M>0&&A>M){if(A=T.indexOf("]>",k+8),A<0){this.onError(m.UnterminatedDoctypeDeclaration);return}R=!0}const I=T.substring(k+8,A+(R?1:0));this.onDoctype(I),k=A+(R?2:1)}}break;default:const E=this._parseContent(T,k);if(E===null){this.onError(m.MalformedElement);return}let v=!1;if(T.substring(k+E.parsed,k+E.parsed+2)==="/>")v=!0;else if(T.substring(k+E.parsed,k+E.parsed+1)!==">"){this.onError(m.UnterminatedElement);return}this.onBeginElement(E.name,E.attributes,v),k+=E.parsed+(v?2:1)}}else{for(;k<T.length&&T[k]!=="<";)k++;const A=T.substring(C,k);this.onText(this._resolveEntities(A))}C=k}}onResolveEntity(T){return`&${T};`}onPi(T,C){}onComment(T){}onCdata(T){}onDoctype(T){}onText(T){}onBeginElement(T,C,k){}onEndElement(T){}onError(T){}}h.XMLParserBase=x;class u{constructor(T,C){this.nodeName=T,this.nodeValue=C,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const T=this.parentNode.childNodes;if(!T)return;const C=T.indexOf(this);return C!==-1?T[C+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(T){return T.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(T,C){if(C>=T.length)return this;const k=T[C],A=[];let g=this;for(;;){if(k.name===g.nodeName){if(k.pos!==0){if(A.length===0)return null;{const[E]=A.pop();let v=0;for(const M of E.childNodes)if(k.name===M.nodeName){if(v===k.pos)return M.searchNode(T,C+1);v++}return g.searchNode(T,C+1)}}{const E=g.searchNode(T,C+1);if(E!==null)return E}}if(g.childNodes&&g.childNodes.length!==0)A.push([g,0]),g=g.childNodes[0];else{if(A.length===0)return null;for(;A.length!==0;){const[E,v]=A.pop(),M=v+1;if(M<E.childNodes.length){A.push([E,M]),g=E.childNodes[M];break}}if(A.length===0)return null}}}dump(T){if(this.nodeName!=="#text"){if(T.push(`<${this.nodeName}`),this.attributes)for(const C of this.attributes)T.push(` ${C.name}="${(0,d.encodeToXmlString)(C.value)}"`);if(this.hasChildNodes()){T.push(">");for(const C of this.childNodes)C.dump(T);T.push(`</${this.nodeName}>`)}else this.nodeValue?T.push(`>${(0,d.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):T.push("/>")}else T.push((0,d.encodeToXmlString)(this.nodeValue))}}h.SimpleDOMNode=u,h.SimpleXMLParser=class extends x{constructor({hasAttributes:T=!1,lowerCaseName:C=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=m.NoError,this._hasAttributes=T,this._lowerCaseName=C}parseFromString(T){if(this._currentFragment=[],this._stack=[],this._errorCode=m.NoError,this.parseXml(T),this._errorCode!==m.NoError)return;const[C]=this._currentFragment;return C?{documentElement:C}:void 0}onText(T){if(function(A){for(let g=0,E=A.length;g<E;g++)if(!y(A,g))return!1;return!0}(T))return;const C=new u("#text",T);this._currentFragment.push(C)}onCdata(T){const C=new u("#text",T);this._currentFragment.push(C)}onBeginElement(T,C,k){this._lowerCaseName&&(T=T.toLowerCase());const A=new u(T);A.childNodes=[],this._hasAttributes&&(A.attributes=C),this._currentFragment.push(A),k||(this._stack.push(this._currentFragment),this._currentFragment=A.childNodes)}onEndElement(T){this._currentFragment=this._stack.pop()||[];const C=this._currentFragment.at(-1);if(!C)return null;for(const k of C.childNodes)k.parentNode=C;return C}onError(T){this._errorCode=T}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.calculateSHA256=h.calculateMD5=h.PDF20=h.PDF17=h.CipherTransformFactory=h.ARCFourCipher=h.AES256Cipher=h.AES128Cipher=void 0,h.calculateSHA384=k,h.calculateSHA512=void 0;var d=p(2),m=p(4),y=p(66);class x{constructor(L){this.a=0,this.b=0;const K=new Uint8Array(256),$=L.length;for(let D=0;D<256;++D)K[D]=D;for(let D=0,ne=0;D<256;++D){const F=K[D];ne=ne+F+L[D%$]&255,K[D]=K[ne],K[ne]=F}this.s=K}encryptBlock(L){let K=this.a,$=this.b;const D=this.s,ne=L.length,F=new Uint8Array(ne);for(let j=0;j<ne;++j){K=K+1&255;const se=D[K];$=$+se&255;const Y=D[$];D[K]=Y,D[$]=se,F[j]=L[j]^D[se+Y&255]}return this.a=K,this.b=$,F}decryptBlock(L){return this.encryptBlock(L)}encrypt(L){return this.encryptBlock(L)}}h.ARCFourCipher=x;const u=function(){const L=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),K=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function(D,ne,F){let j=1732584193,se=-271733879,Y=-1732584194,q=271733878;const Q=F+72&-64,N=new Uint8Array(Q);let O,H;for(O=0;O<F;++O)N[O]=D[ne++];N[O++]=128;const G=Q-8;for(;O<G;)N[O++]=0;N[O++]=F<<3&255,N[O++]=F>>5&255,N[O++]=F>>13&255,N[O++]=F>>21&255,N[O++]=F>>>29&255,N[O++]=0,N[O++]=0,N[O++]=0;const le=new Int32Array(16);for(O=0;O<Q;){for(H=0;H<16;++H,O+=4)le[H]=N[O]|N[O+1]<<8|N[O+2]<<16|N[O+3]<<24;let fe,ae,re=j,be=se,ye=Y,Ce=q;for(H=0;H<64;++H){H<16?(fe=be&ye|~be&Ce,ae=H):H<32?(fe=Ce&be|~Ce&ye,ae=5*H+1&15):H<48?(fe=be^ye^Ce,ae=3*H+5&15):(fe=ye^(be|~Ce),ae=7*H&15);const me=Ce,ee=re+fe+K[H]+le[ae]|0,te=L[H];Ce=ye,ye=be,be=be+(ee<<te|ee>>>32-te)|0,re=me}j=j+re|0,se=se+be|0,Y=Y+ye|0,q=q+Ce|0}return new Uint8Array([255&j,j>>8&255,j>>16&255,j>>>24&255,255&se,se>>8&255,se>>16&255,se>>>24&255,255&Y,Y>>8&255,Y>>16&255,Y>>>24&255,255&q,q>>8&255,q>>16&255,q>>>24&255])}}();h.calculateMD5=u;class w{constructor(L,K){this.high=0|L,this.low=0|K}and(L){this.high&=L.high,this.low&=L.low}xor(L){this.high^=L.high,this.low^=L.low}or(L){this.high|=L.high,this.low|=L.low}shiftRight(L){L>=32?(this.low=this.high>>>L-32|0,this.high=0):(this.low=this.low>>>L|this.high<<32-L,this.high=this.high>>>L|0)}shiftLeft(L){L>=32?(this.high=this.low<<L-32,this.low=0):(this.high=this.high<<L|this.low>>>32-L,this.low<<=L)}rotateRight(L){let K,$;32&L?($=this.low,K=this.high):(K=this.low,$=this.high),L&=31,this.low=K>>>L|$<<32-L,this.high=$>>>L|K<<32-L}not(){this.high=~this.high,this.low=~this.low}add(L){const K=(this.low>>>0)+(L.low>>>0);let $=(this.high>>>0)+(L.high>>>0);K>4294967295&&($+=1),this.low=0|K,this.high=0|$}copyTo(L,K){L[K]=this.high>>>24&255,L[K+1]=this.high>>16&255,L[K+2]=this.high>>8&255,L[K+3]=255&this.high,L[K+4]=this.low>>>24&255,L[K+5]=this.low>>16&255,L[K+6]=this.low>>8&255,L[K+7]=255&this.low}assign(L){this.high=L.high,this.low=L.low}}const T=function(){function L(se,Y){return se>>>Y|se<<32-Y}function K(se,Y,q){return se&Y^~se&q}function $(se,Y,q){return se&Y^se&q^Y&q}function D(se){return L(se,2)^L(se,13)^L(se,22)}function ne(se){return L(se,6)^L(se,11)^L(se,25)}function F(se){return L(se,7)^L(se,18)^se>>>3}const j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(Y,q,Q){let N=1779033703,O=3144134277,H=1013904242,G=2773480762,le=1359893119,fe=2600822924,ae=528734635,re=1541459225;const be=64*Math.ceil((Q+9)/64),ye=new Uint8Array(be);let Ce,me;for(Ce=0;Ce<Q;++Ce)ye[Ce]=Y[q++];ye[Ce++]=128;const ee=be-8;for(;Ce<ee;)ye[Ce++]=0;ye[Ce++]=0,ye[Ce++]=0,ye[Ce++]=0,ye[Ce++]=Q>>>29&255,ye[Ce++]=Q>>21&255,ye[Ce++]=Q>>13&255,ye[Ce++]=Q>>5&255,ye[Ce++]=Q<<3&255;const te=new Uint32Array(64);for(Ce=0;Ce<be;){for(me=0;me<16;++me)te[me]=ye[Ce]<<24|ye[Ce+1]<<16|ye[Ce+2]<<8|ye[Ce+3],Ce+=4;for(me=16;me<64;++me)te[me]=(L(oe=te[me-2],17)^L(oe,19)^oe>>>10)+te[me-7]+F(te[me-15])+te[me-16]|0;let V,W,ue=N,he=O,pe=H,Se=G,ge=le,de=fe,xe=ae,ve=re;for(me=0;me<64;++me)V=ve+ne(ge)+K(ge,de,xe)+j[me]+te[me],W=D(ue)+$(ue,he,pe),ve=xe,xe=de,de=ge,ge=Se+V|0,Se=pe,pe=he,he=ue,ue=V+W|0;N=N+ue|0,O=O+he|0,H=H+pe|0,G=G+Se|0,le=le+ge|0,fe=fe+de|0,ae=ae+xe|0,re=re+ve|0}var oe;return new Uint8Array([N>>24&255,N>>16&255,N>>8&255,255&N,O>>24&255,O>>16&255,O>>8&255,255&O,H>>24&255,H>>16&255,H>>8&255,255&H,G>>24&255,G>>16&255,G>>8&255,255&G,le>>24&255,le>>16&255,le>>8&255,255&le,fe>>24&255,fe>>16&255,fe>>8&255,255&fe,ae>>24&255,ae>>16&255,ae>>8&255,255&ae,re>>24&255,re>>16&255,re>>8&255,255&re])}}();h.calculateSHA256=T;const C=function(){function L(se,Y,q,Q,N){se.assign(Y),se.and(q),N.assign(Y),N.not(),N.and(Q),se.xor(N)}function K(se,Y,q,Q,N){se.assign(Y),se.and(q),N.assign(Y),N.and(Q),se.xor(N),N.assign(q),N.and(Q),se.xor(N)}function $(se,Y,q){se.assign(Y),se.rotateRight(28),q.assign(Y),q.rotateRight(34),se.xor(q),q.assign(Y),q.rotateRight(39),se.xor(q)}function D(se,Y,q){se.assign(Y),se.rotateRight(14),q.assign(Y),q.rotateRight(18),se.xor(q),q.assign(Y),q.rotateRight(41),se.xor(q)}function ne(se,Y,q){se.assign(Y),se.rotateRight(1),q.assign(Y),q.rotateRight(8),se.xor(q),q.assign(Y),q.shiftRight(7),se.xor(q)}function F(se,Y,q){se.assign(Y),se.rotateRight(19),q.assign(Y),q.rotateRight(61),se.xor(q),q.assign(Y),q.shiftRight(6),se.xor(q)}const j=[new w(1116352408,3609767458),new w(1899447441,602891725),new w(3049323471,3964484399),new w(3921009573,2173295548),new w(961987163,4081628472),new w(1508970993,3053834265),new w(2453635748,2937671579),new w(2870763221,3664609560),new w(3624381080,2734883394),new w(310598401,1164996542),new w(607225278,1323610764),new w(1426881987,3590304994),new w(1925078388,4068182383),new w(2162078206,991336113),new w(2614888103,633803317),new w(3248222580,3479774868),new w(3835390401,2666613458),new w(4022224774,944711139),new w(264347078,2341262773),new w(604807628,2007800933),new w(770255983,1495990901),new w(1249150122,1856431235),new w(1555081692,3175218132),new w(1996064986,2198950837),new w(2554220882,3999719339),new w(2821834349,766784016),new w(2952996808,2566594879),new w(3210313671,3203337956),new w(3336571891,1034457026),new w(3584528711,2466948901),new w(113926993,3758326383),new w(338241895,168717936),new w(666307205,1188179964),new w(773529912,1546045734),new w(1294757372,1522805485),new w(1396182291,2643833823),new w(1695183700,2343527390),new w(1986661051,1014477480),new w(2177026350,1206759142),new w(2456956037,344077627),new w(2730485921,1290863460),new w(2820302411,3158454273),new w(3259730800,3505952657),new w(3345764771,106217008),new w(3516065817,3606008344),new w(3600352804,1432725776),new w(4094571909,1467031594),new w(275423344,851169720),new w(430227734,3100823752),new w(506948616,1363258195),new w(659060556,3750685593),new w(883997877,3785050280),new w(958139571,3318307427),new w(1322822218,3812723403),new w(1537002063,2003034995),new w(1747873779,3602036899),new w(1955562222,1575990012),new w(2024104815,1125592928),new w(2227730452,2716904306),new w(2361852424,442776044),new w(2428436474,593698344),new w(2756734187,3733110249),new w(3204031479,2999351573),new w(3329325298,3815920427),new w(3391569614,3928383900),new w(3515267271,566280711),new w(3940187606,3454069534),new w(4118630271,4000239992),new w(116418474,1914138554),new w(174292421,2731055270),new w(289380356,3203993006),new w(460393269,320620315),new w(685471733,587496836),new w(852142971,1086792851),new w(1017036298,365543100),new w(1126000580,2618297676),new w(1288033470,3409855158),new w(1501505948,4234509866),new w(1607167915,987167468),new w(1816402316,1246189591)];return function(Y,q,Q,N=!1){let O,H,G,le,fe,ae,re,be;N?(O=new w(3418070365,3238371032),H=new w(1654270250,914150663),G=new w(2438529370,812702999),le=new w(355462360,4144912697),fe=new w(1731405415,4290775857),ae=new w(2394180231,1750603025),re=new w(3675008525,1694076839),be=new w(1203062813,3204075428)):(O=new w(1779033703,4089235720),H=new w(3144134277,2227873595),G=new w(1013904242,4271175723),le=new w(2773480762,1595750129),fe=new w(1359893119,2917565137),ae=new w(2600822924,725511199),re=new w(528734635,4215389547),be=new w(1541459225,327033209));const ye=128*Math.ceil((Q+17)/128),Ce=new Uint8Array(ye);let me,ee;for(me=0;me<Q;++me)Ce[me]=Y[q++];Ce[me++]=128;const te=ye-16;for(;me<te;)Ce[me++]=0;Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=0,Ce[me++]=Q>>>29&255,Ce[me++]=Q>>21&255,Ce[me++]=Q>>13&255,Ce[me++]=Q>>5&255,Ce[me++]=Q<<3&255;const oe=new Array(80);for(me=0;me<80;me++)oe[me]=new w(0,0);let V=new w(0,0),W=new w(0,0),ue=new w(0,0),he=new w(0,0),pe=new w(0,0),Se=new w(0,0),ge=new w(0,0),de=new w(0,0);const xe=new w(0,0),ve=new w(0,0),Ee=new w(0,0),Te=new w(0,0);let _e,Oe;for(me=0;me<ye;){for(ee=0;ee<16;++ee)oe[ee].high=Ce[me]<<24|Ce[me+1]<<16|Ce[me+2]<<8|Ce[me+3],oe[ee].low=Ce[me+4]<<24|Ce[me+5]<<16|Ce[me+6]<<8|Ce[me+7],me+=8;for(ee=16;ee<80;++ee)_e=oe[ee],F(_e,oe[ee-2],Te),_e.add(oe[ee-7]),ne(Ee,oe[ee-15],Te),_e.add(Ee),_e.add(oe[ee-16]);for(V.assign(O),W.assign(H),ue.assign(G),he.assign(le),pe.assign(fe),Se.assign(ae),ge.assign(re),de.assign(be),ee=0;ee<80;++ee)xe.assign(de),D(Ee,pe,Te),xe.add(Ee),L(Ee,pe,Se,ge,Te),xe.add(Ee),xe.add(j[ee]),xe.add(oe[ee]),$(ve,V,Te),K(Ee,V,W,ue,Te),ve.add(Ee),_e=de,de=ge,ge=Se,Se=pe,he.add(xe),pe=he,he=ue,ue=W,W=V,_e.assign(xe),_e.add(ve),V=_e;O.add(V),H.add(W),G.add(ue),le.add(he),fe.add(pe),ae.add(Se),re.add(ge),be.add(de)}return N?(Oe=new Uint8Array(48),O.copyTo(Oe,0),H.copyTo(Oe,8),G.copyTo(Oe,16),le.copyTo(Oe,24),fe.copyTo(Oe,32),ae.copyTo(Oe,40)):(Oe=new Uint8Array(64),O.copyTo(Oe,0),H.copyTo(Oe,8),G.copyTo(Oe,16),le.copyTo(Oe,24),fe.copyTo(Oe,32),ae.copyTo(Oe,40),re.copyTo(Oe,48),be.copyTo(Oe,56)),Oe}}();h.calculateSHA512=C;function k(_,L,K){return C(_,L,K,!0)}class A{decryptBlock(L){return L}encrypt(L){return L}}class g{constructor(){this.constructor===g&&(0,d.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let L=0;L<256;L++)this._mixCol[L]=L<128?L<<1:L<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(L){(0,d.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(L,K){let $,D,ne;const F=new Uint8Array(16);F.set(L);for(let j=0,se=this._keySize;j<16;++j,++se)F[j]^=K[se];for(let j=this._cyclesOfRepetition-1;j>=1;--j){$=F[13],F[13]=F[9],F[9]=F[5],F[5]=F[1],F[1]=$,$=F[14],D=F[10],F[14]=F[6],F[10]=F[2],F[6]=$,F[2]=D,$=F[15],D=F[11],ne=F[7],F[15]=F[3],F[11]=$,F[7]=D,F[3]=ne;for(let se=0;se<16;++se)F[se]=this._inv_s[F[se]];for(let se=0,Y=16*j;se<16;++se,++Y)F[se]^=K[Y];for(let se=0;se<16;se+=4){const Y=this._mix[F[se]],q=this._mix[F[se+1]],Q=this._mix[F[se+2]],N=this._mix[F[se+3]];$=Y^q>>>8^q<<24^Q>>>16^Q<<16^N>>>24^N<<8,F[se]=$>>>24&255,F[se+1]=$>>16&255,F[se+2]=$>>8&255,F[se+3]=255&$}}$=F[13],F[13]=F[9],F[9]=F[5],F[5]=F[1],F[1]=$,$=F[14],D=F[10],F[14]=F[6],F[10]=F[2],F[6]=$,F[2]=D,$=F[15],D=F[11],ne=F[7],F[15]=F[3],F[11]=$,F[7]=D,F[3]=ne;for(let j=0;j<16;++j)F[j]=this._inv_s[F[j]],F[j]^=K[j];return F}_encrypt(L,K){const $=this._s;let D,ne,F;const j=new Uint8Array(16);j.set(L);for(let se=0;se<16;++se)j[se]^=K[se];for(let se=1;se<this._cyclesOfRepetition;se++){for(let Y=0;Y<16;++Y)j[Y]=$[j[Y]];F=j[1],j[1]=j[5],j[5]=j[9],j[9]=j[13],j[13]=F,F=j[2],ne=j[6],j[2]=j[10],j[6]=j[14],j[10]=F,j[14]=ne,F=j[3],ne=j[7],D=j[11],j[3]=j[15],j[7]=F,j[11]=ne,j[15]=D;for(let Y=0;Y<16;Y+=4){const q=j[Y+0],Q=j[Y+1],N=j[Y+2],O=j[Y+3];D=q^Q^N^O,j[Y+0]^=D^this._mixCol[q^Q],j[Y+1]^=D^this._mixCol[Q^N],j[Y+2]^=D^this._mixCol[N^O],j[Y+3]^=D^this._mixCol[O^q]}for(let Y=0,q=16*se;Y<16;++Y,++q)j[Y]^=K[q]}for(let se=0;se<16;++se)j[se]=$[j[se]];F=j[1],j[1]=j[5],j[5]=j[9],j[9]=j[13],j[13]=F,F=j[2],ne=j[6],j[2]=j[10],j[6]=j[14],j[10]=F,j[14]=ne,F=j[3],ne=j[7],D=j[11],j[3]=j[15],j[7]=F,j[11]=ne,j[15]=D;for(let se=0,Y=this._keySize;se<16;++se,++Y)j[se]^=K[Y];return j}_decryptBlock2(L,K){const $=L.length;let D=this.buffer,ne=this.bufferPosition;const F=[];let j=this.iv;for(let q=0;q<$;++q){if(D[ne]=L[q],++ne,ne<16)continue;const Q=this._decrypt(D,this._key);for(let N=0;N<16;++N)Q[N]^=j[N];j=D,F.push(Q),D=new Uint8Array(16),ne=0}if(this.buffer=D,this.bufferLength=ne,this.iv=j,F.length===0)return new Uint8Array(0);let se=16*F.length;if(K){const q=F.at(-1);let Q=q[15];if(Q<=16){for(let N=15,O=16-Q;N>=O;--N)if(q[N]!==Q){Q=0;break}se-=Q,F[F.length-1]=q.subarray(0,16-Q)}}const Y=new Uint8Array(se);for(let q=0,Q=0,N=F.length;q<N;++q,Q+=16)Y.set(F[q],Q);return Y}decryptBlock(L,K,$=null){const D=L.length,ne=this.buffer;let F=this.bufferPosition;if($)this.iv=$;else{for(let j=0;F<16&&j<D;++j,++F)ne[F]=L[j];if(F<16)return this.bufferLength=F,new Uint8Array(0);this.iv=ne,L=L.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(L,K)}encrypt(L,K){const $=L.length;let D=this.buffer,ne=this.bufferPosition;const F=[];K||(K=new Uint8Array(16));for(let Y=0;Y<$;++Y){if(D[ne]=L[Y],++ne,ne<16)continue;for(let Q=0;Q<16;++Q)D[Q]^=K[Q];const q=this._encrypt(D,this._key);K=q,F.push(q),D=new Uint8Array(16),ne=0}if(this.buffer=D,this.bufferLength=ne,this.iv=K,F.length===0)return new Uint8Array(0);const j=16*F.length,se=new Uint8Array(j);for(let Y=0,q=0,Q=F.length;Y<Q;++Y,q+=16)se.set(F[Y],q);return se}}class E extends g{constructor(L){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(L)}_expandKey(L){const K=this._s,$=this._rcon,D=new Uint8Array(176);D.set(L);for(let ne=16,F=1;ne<176;++F){let j=D[ne-3],se=D[ne-2],Y=D[ne-1],q=D[ne-4];j=K[j],se=K[se],Y=K[Y],q=K[q],j^=$[F];for(let Q=0;Q<4;++Q)D[ne]=j^=D[ne-16],ne++,D[ne]=se^=D[ne-16],ne++,D[ne]=Y^=D[ne-16],ne++,D[ne]=q^=D[ne-16],ne++}return D}}h.AES128Cipher=E;class v extends g{constructor(L){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(L)}_expandKey(L){const K=this._s,$=new Uint8Array(240);$.set(L);let D,ne,F,j,se=1;for(let Y=32,q=1;Y<240;++q){Y%32==16?(D=K[D],ne=K[ne],F=K[F],j=K[j]):Y%32==0&&(D=$[Y-3],ne=$[Y-2],F=$[Y-1],j=$[Y-4],D=K[D],ne=K[ne],F=K[F],j=K[j],D^=se,(se<<=1)>=256&&(se=255&(27^se)));for(let Q=0;Q<4;++Q)$[Y]=D^=$[Y-32],Y++,$[Y]=ne^=$[Y-32],Y++,$[Y]=F^=$[Y-32],Y++,$[Y]=j^=$[Y-32],Y++}return $}}h.AES256Cipher=v;class M{checkOwnerPassword(L,K,$,D){const ne=new Uint8Array(L.length+56);ne.set(L,0),ne.set(K,L.length),ne.set($,L.length+K.length);const F=T(ne,0,ne.length);return(0,d.isArrayEqual)(F,D)}checkUserPassword(L,K,$){const D=new Uint8Array(L.length+8);D.set(L,0),D.set(K,L.length);const ne=T(D,0,D.length);return(0,d.isArrayEqual)(ne,$)}getOwnerKey(L,K,$,D){const ne=new Uint8Array(L.length+56);ne.set(L,0),ne.set(K,L.length),ne.set($,L.length+K.length);const F=T(ne,0,ne.length);return new v(F).decryptBlock(D,!1,new Uint8Array(16))}getUserKey(L,K,$){const D=new Uint8Array(L.length+8);D.set(L,0),D.set(K,L.length);const ne=T(D,0,D.length);return new v(ne).decryptBlock($,!1,new Uint8Array(16))}}h.PDF17=M;const R=function(){function L(K,$,D){let ne=T($,0,$.length).subarray(0,32),F=[0],j=0;for(;j<64||F.at(-1)>j-32;){const se=K.length+ne.length+D.length,Y=new Uint8Array(se);let q=0;Y.set(K,q),q+=K.length,Y.set(ne,q),q+=ne.length,Y.set(D,q);const Q=new Uint8Array(64*se);for(let O=0,H=0;O<64;O++,H+=se)Q.set(Y,H);F=new E(ne.subarray(0,16)).encrypt(Q,ne.subarray(16,32));const N=F.slice(0,16).reduce((O,H)=>O+H,0)%3;N===0?ne=T(F,0,F.length):N===1?ne=k(F,0,F.length):N===2&&(ne=C(F,0,F.length)),j++}return ne.subarray(0,32)}return class{hash($,D,ne){return L($,D,ne)}checkOwnerPassword($,D,ne,F){const j=new Uint8Array($.length+56);j.set($,0),j.set(D,$.length),j.set(ne,$.length+D.length);const se=L($,j,ne);return(0,d.isArrayEqual)(se,F)}checkUserPassword($,D,ne){const F=new Uint8Array($.length+8);F.set($,0),F.set(D,$.length);const j=L($,F,[]);return(0,d.isArrayEqual)(j,ne)}getOwnerKey($,D,ne,F){const j=new Uint8Array($.length+56);j.set($,0),j.set(D,$.length),j.set(ne,$.length+D.length);const se=L($,j,ne);return new v(se).decryptBlock(F,!1,new Uint8Array(16))}getUserKey($,D,ne){const F=new Uint8Array($.length+8);F.set($,0),F.set(D,$.length);const j=L($,F,[]);return new v(j).decryptBlock(ne,!1,new Uint8Array(16))}}}();h.PDF20=R;class I{constructor(L,K){this.StringCipherConstructor=L,this.StreamCipherConstructor=K}createStream(L,K){const $=new this.StreamCipherConstructor;return new y.DecryptStream(L,K,function(ne,F){return $.decryptBlock(ne,F)})}decryptString(L){const K=new this.StringCipherConstructor;let $=(0,d.stringToBytes)(L);return $=K.decryptBlock($,!0),(0,d.bytesToString)($)}encryptString(L){const K=new this.StringCipherConstructor;if(K instanceof g){const D=16-L.length%16;L+=String.fromCharCode(D).repeat(D);const ne=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(ne);else for(let se=0;se<16;se++)ne[se]=Math.floor(256*Math.random());let F=(0,d.stringToBytes)(L);F=K.encrypt(F,ne);const j=new Uint8Array(16+F.length);return j.set(ne),j.set(F,16),(0,d.bytesToString)(j)}let $=(0,d.stringToBytes)(L);return $=K.encrypt($),(0,d.bytesToString)($)}}const J=function(){const L=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function K(F,j,se,Y,q,Q,N,O){const H=40+se.length+F.length,G=new Uint8Array(H);let le,fe,ae=0;if(j)for(fe=Math.min(32,j.length);ae<fe;++ae)G[ae]=j[ae];for(le=0;ae<32;)G[ae++]=L[le++];for(le=0,fe=se.length;le<fe;++le)G[ae++]=se[le];for(G[ae++]=255&q,G[ae++]=q>>8&255,G[ae++]=q>>16&255,G[ae++]=q>>>24&255,le=0,fe=F.length;le<fe;++le)G[ae++]=F[le];Q>=4&&!O&&(G[ae++]=255,G[ae++]=255,G[ae++]=255,G[ae++]=255);let re=u(G,0,ae);const be=N>>3;if(Q>=3)for(le=0;le<50;++le)re=u(re,0,be);const ye=re.subarray(0,be);let Ce,me;if(Q>=3){for(ae=0;ae<32;++ae)G[ae]=L[ae];for(le=0,fe=F.length;le<fe;++le)G[ae++]=F[le];Ce=new x(ye),me=Ce.encryptBlock(u(G,0,ae)),fe=ye.length;const ee=new Uint8Array(fe);for(le=1;le<=19;++le){for(let te=0;te<fe;++te)ee[te]=ye[te]^le;Ce=new x(ee),me=Ce.encryptBlock(me)}for(le=0,fe=me.length;le<fe;++le)if(Y[le]!==me[le])return null}else for(Ce=new x(ye),me=Ce.encryptBlock(L),le=0,fe=me.length;le<fe;++le)if(Y[le]!==me[le])return null;return ye}const $=m.Name.get("Identity");function D(F,j,se,Y=!1){const q=new Uint8Array(se.length+9),Q=se.length;let N;for(N=0;N<Q;++N)q[N]=se[N];return q[N++]=255&F,q[N++]=F>>8&255,q[N++]=F>>16&255,q[N++]=255&j,q[N++]=j>>8&255,Y&&(q[N++]=115,q[N++]=65,q[N++]=108,q[N++]=84),u(q,0,N).subarray(0,Math.min(se.length+5,16))}function ne(F,j,se,Y,q){if(!(j instanceof m.Name))throw new d.FormatError("Invalid crypt filter name.");const Q=F.get(j.name);let N;if(Q!=null&&(N=Q.get("CFM")),!N||N.name==="None")return function(){return new A};if(N.name==="V2")return function(){return new x(D(se,Y,q,!1))};if(N.name==="AESV2")return function(){return new E(D(se,Y,q,!0))};if(N.name==="AESV3")return function(){return new v(q)};throw new d.FormatError("Unknown crypto method")}return class{constructor(j,se,Y){const q=j.get("Filter");if(!(0,m.isName)(q,"Standard"))throw new d.FormatError("unknown encryption method");this.filterName=q.name,this.dict=j;const Q=j.get("V");if(!Number.isInteger(Q)||Q!==1&&Q!==2&&Q!==4&&Q!==5)throw new d.FormatError("unsupported encryption algorithm");this.algorithm=Q;let N=j.get("Length");if(!N)if(Q<=3)N=40;else{const ye=j.get("CF"),Ce=j.get("StmF");if(ye instanceof m.Dict&&Ce instanceof m.Name){ye.suppressEncryption=!0;const me=ye.get(Ce.name);N=me&&me.get("Length")||128,N<40&&(N<<=3)}}if(!Number.isInteger(N)||N<40||N%8!=0)throw new d.FormatError("invalid key length");const O=(0,d.stringToBytes)(j.get("O")).subarray(0,32),H=(0,d.stringToBytes)(j.get("U")).subarray(0,32),G=j.get("P"),le=j.get("R"),fe=(Q===4||Q===5)&&j.get("EncryptMetadata")!==!1;this.encryptMetadata=fe;const ae=(0,d.stringToBytes)(se);let re,be;if(Y){if(le===6)try{Y=(0,d.utf8StringToString)(Y)}catch{(0,d.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}re=(0,d.stringToBytes)(Y)}if(Q!==5)be=K(ae,re,O,H,G,le,N,fe);else{const ye=(0,d.stringToBytes)(j.get("O")).subarray(32,40),Ce=(0,d.stringToBytes)(j.get("O")).subarray(40,48),me=(0,d.stringToBytes)(j.get("U")).subarray(0,48),ee=(0,d.stringToBytes)(j.get("U")).subarray(32,40),te=(0,d.stringToBytes)(j.get("U")).subarray(40,48),oe=(0,d.stringToBytes)(j.get("OE")),V=(0,d.stringToBytes)(j.get("UE"));(0,d.stringToBytes)(j.get("Perms")),be=function(ue,he,pe,Se,ge,de,xe,ve,Ee,Te,_e,Oe){if(he){const je=Math.min(127,he.length);he=he.subarray(0,je)}else he=[];let Pe;return Pe=ue===6?new R:new M,Pe.checkUserPassword(he,ve,xe)?Pe.getUserKey(he,Ee,_e):he.length&&Pe.checkOwnerPassword(he,Se,de,pe)?Pe.getOwnerKey(he,ge,de,Te):null}(le,re,O,ye,Ce,me,H,ee,te,oe,V)}if(!be&&!Y)throw new d.PasswordException("No password given",d.PasswordResponses.NEED_PASSWORD);if(!be&&Y){const ye=function(me,ee,te,oe){const V=new Uint8Array(32);let W=0;const ue=Math.min(32,me.length);for(;W<ue;++W)V[W]=me[W];let he=0;for(;W<32;)V[W++]=L[he++];let pe=u(V,0,W);const Se=oe>>3;if(te>=3)for(he=0;he<50;++he)pe=u(pe,0,pe.length);let ge,de;if(te>=3){de=ee;const xe=new Uint8Array(Se);for(he=19;he>=0;he--){for(let ve=0;ve<Se;++ve)xe[ve]=pe[ve]^he;ge=new x(xe),de=ge.encryptBlock(de)}}else ge=new x(pe.subarray(0,Se)),de=ge.encryptBlock(ee);return de}(re,O,le,N);be=K(ae,ye,O,H,G,le,N,fe)}if(!be)throw new d.PasswordException("Incorrect Password",d.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=be,Q>=4){const ye=j.get("CF");ye instanceof m.Dict&&(ye.suppressEncryption=!0),this.cf=ye,this.stmf=j.get("StmF")||$,this.strf=j.get("StrF")||$,this.eff=j.get("EFF")||this.stmf}}createCipherTransform(j,se){if(this.algorithm===4||this.algorithm===5)return new I(ne(this.cf,this.strf,j,se,this.encryptionKey),ne(this.cf,this.stmf,j,se,this.encryptionKey));const Y=D(j,se,this.encryptionKey,!1),q=function(){return new x(Y)};return new I(q,q)}}}();h.CipherTransformFactory=J},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DecryptStream=void 0;var d=p(17);class m extends d.DecodeStream{constructor(x,u,w){super(u),this.str=x,this.dict=x.dict,this.decrypt=w,this.nextChunk=null,this.initialized=!1}readBlock(){let x;if(this.initialized?x=this.nextChunk:(x=this.str.getBytes(512),this.initialized=!0),!x||x.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(512);const u=this.nextChunk&&this.nextChunk.length>0;x=(0,this.decrypt)(x,!u);const w=this.bufferLength,T=w+x.length;this.ensureBuffer(T).set(x,w),this.bufferLength=T}}h.DecryptStream=m},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Catalog=void 0;var d=p(3),m=p(2),y=p(4),x=p(68),u=p(5),w=p(69),T=p(12),C=p(70),k=p(57),A=p(71),g=p(72);function E(M){return M instanceof y.Dict&&(M=M.get("D")),Array.isArray(M)?M:null}class v{constructor(R,I){if(this.pdfManager=R,this.xref=I,this._catDict=I.getCatalogObj(),!(this._catDict instanceof y.Dict))throw new m.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new y.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new k.GlobalImageCache,this.pageKidsCountCache=new y.RefSetCache,this.pageIndexCache=new y.RefSetCache,this.nonBlendModesSet=new y.RefSet}get version(){const R=this._catDict.get("Version");if(R instanceof y.Name){if(d.PDF_VERSION_REGEXP.test(R.name))return(0,m.shadow)(this,"version",R.name);(0,m.warn)(`Invalid PDF catalog version: ${R.name}`)}return(0,m.shadow)(this,"version",null)}get lang(){const R=this._catDict.get("Lang");return(0,m.shadow)(this,"lang",typeof R=="string"?(0,m.stringToPDFString)(R):null)}get needsRendering(){const R=this._catDict.get("NeedsRendering");return(0,m.shadow)(this,"needsRendering",typeof R=="boolean"&&R)}get collection(){let R=null;try{const I=this._catDict.get("Collection");I instanceof y.Dict&&I.size>0&&(R=I)}catch(I){if(I instanceof d.MissingDataException)throw I;(0,m.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,m.shadow)(this,"collection",R)}get acroForm(){let R=null;try{const I=this._catDict.get("AcroForm");I instanceof y.Dict&&I.size>0&&(R=I)}catch(I){if(I instanceof d.MissingDataException)throw I;(0,m.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,m.shadow)(this,"acroForm",R)}get acroFormRef(){const R=this._catDict.getRaw("AcroForm");return(0,m.shadow)(this,"acroFormRef",R instanceof y.Ref?R:null)}get metadata(){const R=this._catDict.getRaw("Metadata");if(!(R instanceof y.Ref))return(0,m.shadow)(this,"metadata",null);let I=null;try{const J=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),_=this.xref.fetch(R,J);if(_ instanceof u.BaseStream&&_.dict instanceof y.Dict){const L=_.dict.get("Type"),K=_.dict.get("Subtype");if((0,y.isName)(L,"Metadata")&&(0,y.isName)(K,"XML")){const $=(0,m.stringToUTF8String)(_.getString());$&&(I=new A.MetadataParser($).serializable)}}}catch(J){if(J instanceof d.MissingDataException)throw J;(0,m.info)(`Skipping invalid Metadata: "${J}".`)}return(0,m.shadow)(this,"metadata",I)}get markInfo(){let R=null;try{R=this._readMarkInfo()}catch(I){if(I instanceof d.MissingDataException)throw I;(0,m.warn)("Unable to read mark info.")}return(0,m.shadow)(this,"markInfo",R)}_readMarkInfo(){const R=this._catDict.get("MarkInfo");if(!(R instanceof y.Dict))return null;const I={Marked:!1,UserProperties:!1,Suspects:!1};for(const J in I){const _=R.get(J);typeof _=="boolean"&&(I[J]=_)}return I}get structTreeRoot(){let R=null;try{R=this._readStructTreeRoot()}catch(I){if(I instanceof d.MissingDataException)throw I;(0,m.warn)("Unable read to structTreeRoot info.")}return(0,m.shadow)(this,"structTreeRoot",R)}_readStructTreeRoot(){const R=this._catDict.get("StructTreeRoot");if(!(R instanceof y.Dict))return null;const I=new g.StructTreeRoot(R);return I.init(),I}get toplevelPagesDict(){const R=this._catDict.get("Pages");if(!(R instanceof y.Dict))throw new m.FormatError("Invalid top-level pages dictionary.");return(0,m.shadow)(this,"toplevelPagesDict",R)}get documentOutline(){let R=null;try{R=this._readDocumentOutline()}catch(I){if(I instanceof d.MissingDataException)throw I;(0,m.warn)("Unable to read document outline.")}return(0,m.shadow)(this,"documentOutline",R)}_readDocumentOutline(){let R=this._catDict.get("Outlines");if(!(R instanceof y.Dict)||(R=R.getRaw("First"),!(R instanceof y.Ref)))return null;const I={items:[]},J=[{obj:R,parent:I}],_=new y.RefSet;_.put(R);const L=this.xref,K=new Uint8ClampedArray(3);for(;J.length>0;){const $=J.shift(),D=L.fetchIfRef($.obj);if(D===null)continue;if(!D.has("Title"))throw new m.FormatError("Invalid outline item encountered.");const ne={url:null,dest:null,action:null};v.parseDestDictionary({destDict:D,resultObj:ne,docBaseUrl:this.pdfManager.docBaseUrl,docAttachments:this.attachments});const F=D.get("Title"),j=D.get("F")||0,se=D.getArray("C"),Y=D.get("Count");let q=K;!Array.isArray(se)||se.length!==3||se[0]===0&&se[1]===0&&se[2]===0||(q=T.ColorSpace.singletons.rgb.getRgb(se,0));const Q={action:ne.action,attachment:ne.attachment,dest:ne.dest,url:ne.url,unsafeUrl:ne.unsafeUrl,newWindow:ne.newWindow,setOCGState:ne.setOCGState,title:(0,m.stringToPDFString)(F),color:q,count:Number.isInteger(Y)?Y:void 0,bold:!!(2&j),italic:!!(1&j),items:[]};$.parent.items.push(Q),R=D.getRaw("First"),R instanceof y.Ref&&!_.has(R)&&(J.push({obj:R,parent:Q}),_.put(R)),R=D.getRaw("Next"),R instanceof y.Ref&&!_.has(R)&&(J.push({obj:R,parent:$.parent}),_.put(R))}return I.items.length>0?I.items:null}get permissions(){let R=null;try{R=this._readPermissions()}catch(I){if(I instanceof d.MissingDataException)throw I;(0,m.warn)("Unable to read permissions.")}return(0,m.shadow)(this,"permissions",R)}_readPermissions(){const R=this.xref.trailer.get("Encrypt");if(!(R instanceof y.Dict))return null;let I=R.get("P");if(typeof I!="number")return null;I+=4294967296;const J=[];for(const _ in m.PermissionFlag){const L=m.PermissionFlag[_];I&L&&J.push(L)}return J}get optionalContentConfig(){let R=null;try{const I=this._catDict.get("OCProperties");if(!I)return(0,m.shadow)(this,"optionalContentConfig",null);const J=I.get("D");if(!J)return(0,m.shadow)(this,"optionalContentConfig",null);const _=I.get("OCGs");if(!Array.isArray(_))return(0,m.shadow)(this,"optionalContentConfig",null);const L=[],K=[];for(const $ of _){if(!($ instanceof y.Ref))continue;K.push($);const D=this.xref.fetchIfRef($);L.push({id:$.toString(),name:typeof D.get("Name")=="string"?(0,m.stringToPDFString)(D.get("Name")):null,intent:typeof D.get("Intent")=="string"?(0,m.stringToPDFString)(D.get("Intent")):null})}R=this._readOptionalContentConfig(J,K),R.groups=L}catch(I){if(I instanceof d.MissingDataException)throw I;(0,m.warn)(`Unable to read optional content config: ${I}`)}return(0,m.shadow)(this,"optionalContentConfig",R)}_readOptionalContentConfig(R,I){function J(ne){const F=[];if(Array.isArray(ne))for(const j of ne)j instanceof y.Ref&&I.includes(j)&&F.push(j.toString());return F}function _(ne,F=0){if(!Array.isArray(ne))return null;const j=[];for(const Y of ne){if(Y instanceof y.Ref&&I.includes(Y)){$.put(Y),j.push(Y.toString());continue}const q=L(Y,F);q&&j.push(q)}if(F>0)return j;const se=[];for(const Y of I)$.has(Y)||se.push(Y.toString());return se.length&&j.push({name:null,order:se}),j}function L(ne,F){if(++F>D)return(0,m.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const j=K.fetchIfRef(ne);if(!Array.isArray(j))return null;const se=K.fetchIfRef(j[0]);if(typeof se!="string")return null;const Y=_(j.slice(1),F);return Y&&Y.length?{name:(0,m.stringToPDFString)(se),order:Y}:null}const K=this.xref,$=new y.RefSet,D=10;return{name:typeof R.get("Name")=="string"?(0,m.stringToPDFString)(R.get("Name")):null,creator:typeof R.get("Creator")=="string"?(0,m.stringToPDFString)(R.get("Creator")):null,baseState:R.get("BaseState")instanceof y.Name?R.get("BaseState").name:null,on:J(R.get("ON")),off:J(R.get("OFF")),order:_(R.get("Order")),groups:null}}setActualNumPages(R=null){this._actualNumPages=R}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const R=this.toplevelPagesDict.get("Count");if(!Number.isInteger(R))throw new m.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,m.shadow)(this,"_pagesCount",R)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const R=this._readDests(),I=Object.create(null);if(R instanceof x.NameTree)for(const[J,_]of R.getAll()){const L=E(_);L&&(I[(0,m.stringToPDFString)(J)]=L)}else R instanceof y.Dict&&R.forEach(function(J,_){const L=E(_);L&&(I[J]=L)});return(0,m.shadow)(this,"destinations",I)}getDestination(R){const I=this._readDests();if(I instanceof x.NameTree){const J=E(I.get(R));if(J)return J;const _=this.destinations[R];if(_)return(0,m.warn)(`Found "${R}" at an incorrect position in the NameTree.`),_}else if(I instanceof y.Dict){const J=E(I.get(R));if(J)return J}return null}_readDests(){const R=this._catDict.get("Names");return R&&R.has("Dests")?new x.NameTree(R.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}get pageLabels(){let R=null;try{R=this._readPageLabels()}catch(I){if(I instanceof d.MissingDataException)throw I;(0,m.warn)("Unable to read page labels.")}return(0,m.shadow)(this,"pageLabels",R)}_readPageLabels(){const R=this._catDict.getRaw("PageLabels");if(!R)return null;const I=new Array(this.numPages);let J=null,_="";const L=new x.NumberTree(R,this.xref).getAll();let K="",$=1;for(let D=0,ne=this.numPages;D<ne;D++){const F=L.get(D);if(F!==void 0){if(!(F instanceof y.Dict))throw new m.FormatError("PageLabel is not a dictionary.");if(F.has("Type")&&!(0,y.isName)(F.get("Type"),"PageLabel"))throw new m.FormatError("Invalid type in PageLabel dictionary.");if(F.has("S")){const j=F.get("S");if(!(j instanceof y.Name))throw new m.FormatError("Invalid style in PageLabel dictionary.");J=j.name}else J=null;if(F.has("P")){const j=F.get("P");if(typeof j!="string")throw new m.FormatError("Invalid prefix in PageLabel dictionary.");_=(0,m.stringToPDFString)(j)}else _="";if(F.has("St")){const j=F.get("St");if(!(Number.isInteger(j)&&j>=1))throw new m.FormatError("Invalid start in PageLabel dictionary.");$=j}else $=1}switch(J){case"D":K=$;break;case"R":case"r":K=(0,d.toRomanNumerals)($,J==="r");break;case"A":case"a":const j=26,se=J==="a"?97:65,Y=$-1;K=String.fromCharCode(se+Y%j).repeat(Math.floor(Y/j)+1);break;default:if(J)throw new m.FormatError(`Invalid style "${J}" in PageLabel dictionary.`);K=""}I[D]=_+K,$++}return I}get pageLayout(){const R=this._catDict.get("PageLayout");let I="";if(R instanceof y.Name)switch(R.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":I=R.name}return(0,m.shadow)(this,"pageLayout",I)}get pageMode(){const R=this._catDict.get("PageMode");let I="UseNone";if(R instanceof y.Name)switch(R.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":I=R.name}return(0,m.shadow)(this,"pageMode",I)}get viewerPreferences(){const R=this._catDict.get("ViewerPreferences");if(!(R instanceof y.Dict))return(0,m.shadow)(this,"viewerPreferences",null);let I=null;for(const J of R.getKeys()){const _=R.get(J);let L;switch(J){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof _=="boolean"&&(L=_);break;case"NonFullScreenPageMode":if(_ instanceof y.Name)switch(_.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":L=_.name;break;default:L="UseNone"}break;case"Direction":if(_ instanceof y.Name)switch(_.name){case"L2R":case"R2L":L=_.name;break;default:L="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(_ instanceof y.Name)switch(_.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":L=_.name;break;default:L="CropBox"}break;case"PrintScaling":if(_ instanceof y.Name)switch(_.name){case"None":case"AppDefault":L=_.name;break;default:L="AppDefault"}break;case"Duplex":if(_ instanceof y.Name)switch(_.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":L=_.name;break;default:L="None"}break;case"PrintPageRange":Array.isArray(_)&&_.length%2==0&&_.every((K,$,D)=>Number.isInteger(K)&&K>0&&($===0||K>=D[$-1])&&K<=this.numPages)&&(L=_);break;case"NumCopies":Number.isInteger(_)&&_>0&&(L=_);break;default:(0,m.warn)(`Ignoring non-standard key in ViewerPreferences: ${J}.`);continue}L!==void 0?(I||(I=Object.create(null)),I[J]=L):(0,m.warn)(`Bad value, for key "${J}", in ViewerPreferences: ${_}.`)}return(0,m.shadow)(this,"viewerPreferences",I)}get openAction(){const R=this._catDict.get("OpenAction"),I=Object.create(null);if(R instanceof y.Dict){const J=new y.Dict(this.xref);J.set("A",R);const _={url:null,dest:null,action:null};v.parseDestDictionary({destDict:J,resultObj:_}),Array.isArray(_.dest)?I.dest=_.dest:_.action&&(I.action=_.action)}else Array.isArray(R)&&(I.dest=R);return(0,m.shadow)(this,"openAction",(0,m.objectSize)(I)>0?I:null)}get attachments(){const R=this._catDict.get("Names");let I=null;if(R instanceof y.Dict&&R.has("EmbeddedFiles")){const J=new x.NameTree(R.getRaw("EmbeddedFiles"),this.xref);for(const[_,L]of J.getAll()){const K=new C.FileSpec(L,this.xref);I||(I=Object.create(null)),I[(0,m.stringToPDFString)(_)]=K.serializable}}return(0,m.shadow)(this,"attachments",I)}get xfaImages(){const R=this._catDict.get("Names");let I=null;if(R instanceof y.Dict&&R.has("XFAImages")){const J=new x.NameTree(R.getRaw("XFAImages"),this.xref);for(const[_,L]of J.getAll())I||(I=new y.Dict(this.xref)),I.set((0,m.stringToPDFString)(_),L)}return(0,m.shadow)(this,"xfaImages",I)}_collectJavaScript(){const R=this._catDict.get("Names");let I=null;function J(L,K){if(!(K instanceof y.Dict)||!(0,y.isName)(K.get("S"),"JavaScript"))return;let $=K.get("JS");if($ instanceof u.BaseStream)$=$.getString();else if(typeof $!="string")return;I===null&&(I=new Map),$=(0,m.stringToPDFString)($).replace(/\u0000/g,""),I.set(L,$)}if(R instanceof y.Dict&&R.has("JavaScript")){const L=new x.NameTree(R.getRaw("JavaScript"),this.xref);for(const[K,$]of L.getAll())J((0,m.stringToPDFString)(K),$)}const _=this._catDict.get("OpenAction");return _&&J("OpenAction",_),I}get javaScript(){const R=this._collectJavaScript();return(0,m.shadow)(this,"javaScript",R?[...R.values()]:null)}get jsActions(){const R=this._collectJavaScript();let I=(0,d.collectActions)(this.xref,this._catDict,m.DocumentActionEventType);if(R){I||(I=Object.create(null));for(const[J,_]of R)J in I?I[J].push(_):I[J]=[_]}return(0,m.shadow)(this,"jsActions",I)}async fontFallback(R,I){const J=await Promise.all(this.fontCache);for(const _ of J)if(_.loadedName===R){_.fallback(I);return}}async cleanup(R=!1){(0,w.clearGlobalCaches)(),this.globalImageCache.clear(R),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const I=await Promise.all(this.fontCache);for(const{dict:J}of I)delete J.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(R){const I=[this.toplevelPagesDict],J=new y.RefSet,_=this._catDict.getRaw("Pages");_ instanceof y.Ref&&J.put(_);const L=this.xref,K=this.pageKidsCountCache,$=this.pageIndexCache;let D=0;for(;I.length;){const ne=I.pop();if(ne instanceof y.Ref){const Y=K.get(ne);if(Y>=0&&D+Y<=R){D+=Y;continue}if(J.has(ne))throw new m.FormatError("Pages tree contains circular reference.");J.put(ne);const q=await L.fetchAsync(ne);if(q instanceof y.Dict){let Q=q.getRaw("Type");if(Q instanceof y.Ref&&(Q=await L.fetchAsync(Q)),(0,y.isName)(Q,"Page")||!q.has("Kids")){if(K.has(ne)||K.put(ne,1),$.has(ne)||$.put(ne,D),D===R)return[q,ne];D++;continue}}I.push(q);continue}if(!(ne instanceof y.Dict))throw new m.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:F}=ne;let j=ne.getRaw("Count");if(j instanceof y.Ref&&(j=await L.fetchAsync(j)),Number.isInteger(j)&&j>=0&&(F&&!K.has(F)&&K.put(F,j),D+j<=R)){D+=j;continue}let se=ne.getRaw("Kids");if(se instanceof y.Ref&&(se=await L.fetchAsync(se)),!Array.isArray(se)){let Y=ne.getRaw("Type");if(Y instanceof y.Ref&&(Y=await L.fetchAsync(Y)),(0,y.isName)(Y,"Page")||!ne.has("Kids")){if(D===R)return[ne,null];D++;continue}throw new m.FormatError("Page dictionary kids object is not an array.")}for(let Y=se.length-1;Y>=0;Y--)I.push(se[Y])}throw new Error(`Page index ${R} not found.`)}async getAllPageDicts(R=!1){const{ignoreErrors:I}=this.pdfManager.evaluatorOptions,J=[{currentNode:this.toplevelPagesDict,posInKids:0}],_=new y.RefSet,L=this._catDict.getRaw("Pages");L instanceof y.Ref&&_.put(L);const K=new Map,$=this.xref,D=this.pageIndexCache;let ne=0;function F(se,Y){Y&&!D.has(Y)&&D.put(Y,ne),K.set(ne++,[se,Y])}function j(se){if(se instanceof d.XRefEntryException&&!R)throw se;R&&I&&ne===0&&((0,m.warn)(`getAllPageDicts - Skipping invalid first page: "${se}".`),se=y.Dict.empty),K.set(ne++,[se,null])}for(;J.length>0;){const se=J.at(-1),{currentNode:Y,posInKids:q}=se;let Q=Y.getRaw("Kids");if(Q instanceof y.Ref)try{Q=await $.fetchAsync(Q)}catch(G){j(G);break}if(!Array.isArray(Q)){j(new m.FormatError("Page dictionary kids object is not an array."));break}if(q>=Q.length){J.pop();continue}const N=Q[q];let O;if(N instanceof y.Ref){if(_.has(N)){j(new m.FormatError("Pages tree contains circular reference."));break}_.put(N);try{O=await $.fetchAsync(N)}catch(G){j(G);break}}else O=N;if(!(O instanceof y.Dict)){j(new m.FormatError("Page dictionary kid reference points to wrong type of object."));break}let H=O.getRaw("Type");if(H instanceof y.Ref)try{H=await $.fetchAsync(H)}catch(G){j(G);break}(0,y.isName)(H,"Page")||!O.has("Kids")?F(O,N instanceof y.Ref?N:null):J.push({currentNode:O,posInKids:0}),se.posInKids++}return K}getPageIndex(R){const I=this.pageIndexCache.get(R);if(I!==void 0)return Promise.resolve(I);const J=this.xref;let _=0;const L=K=>function(D){let ne,F=0;return J.fetchAsync(D).then(function(j){if((0,y.isRefsEqual)(D,R)&&!(0,y.isDict)(j,"Page")&&!(j instanceof y.Dict&&!j.has("Type")&&j.has("Contents")))throw new m.FormatError("The reference does not point to a /Page dictionary.");if(!j)return null;if(!(j instanceof y.Dict))throw new m.FormatError("Node must be a dictionary.");return ne=j.getRaw("Parent"),j.getAsync("Parent")}).then(function(j){if(!j)return null;if(!(j instanceof y.Dict))throw new m.FormatError("Parent must be a dictionary.");return j.getAsync("Kids")}).then(function(j){if(!j)return null;const se=[];let Y=!1;for(const q of j){if(!(q instanceof y.Ref))throw new m.FormatError("Kid must be a reference.");if((0,y.isRefsEqual)(q,D)){Y=!0;break}se.push(J.fetchAsync(q).then(function(Q){if(!(Q instanceof y.Dict))throw new m.FormatError("Kid node must be a dictionary.");Q.has("Count")?F+=Q.get("Count"):F++}))}if(!Y)throw new m.FormatError("Kid reference not found in parent's kids.");return Promise.all(se).then(function(){return[F,ne]})})}(K).then($=>{if(!$)return this.pageIndexCache.put(R,_),_;const[D,ne]=$;return _+=D,L(ne)});return L(R)}get baseUrl(){const R=this._catDict.get("URI");if(R instanceof y.Dict){const I=R.get("Base");if(typeof I=="string"){const J=(0,m.createValidAbsoluteUrl)(I,null,{tryConvertEncoding:!0});if(J)return(0,m.shadow)(this,"baseUrl",J.href)}}return(0,m.shadow)(this,"baseUrl",null)}static parseDestDictionary(R){const I=R.destDict;if(!(I instanceof y.Dict)){(0,m.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const J=R.resultObj;if(typeof J!="object"){(0,m.warn)("parseDestDictionary: `resultObj` must be an object.");return}const _=R.docBaseUrl||null,L=R.docAttachments||null;let K,$,D=I.get("A");if(D instanceof y.Dict||(I.has("Dest")?D=I.get("Dest"):(D=I.get("AA"),D instanceof y.Dict&&(D.has("D")?D=D.get("D"):D.has("U")&&(D=D.get("U"))))),D instanceof y.Dict){const ne=D.get("S");if(!(ne instanceof y.Name)){(0,m.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const F=ne.name;switch(F){case"ResetForm":const j=D.get("Flags"),se=(1&(typeof j=="number"?j:0))==0,Y=[],q=[];for(const me of D.get("Fields")||[])me instanceof y.Ref?q.push(me.toString()):typeof me=="string"&&Y.push((0,m.stringToPDFString)(me));J.resetForm={fields:Y,refs:q,include:se};break;case"URI":K=D.get("URI"),K instanceof y.Name&&(K="/"+K.name);break;case"GoTo":$=D.get("D");break;case"Launch":case"GoToR":const Q=D.get("F");Q instanceof y.Dict?K=Q.get("F")||null:typeof Q=="string"&&(K=Q);let N=D.get("D");if(N&&(N instanceof y.Name&&(N=N.name),typeof K=="string")){const me=K.split("#")[0];typeof N=="string"?K=me+"#"+N:Array.isArray(N)&&(K=me+"#"+JSON.stringify(N))}const O=D.get("NewWindow");typeof O=="boolean"&&(J.newWindow=O);break;case"GoToE":const H=D.get("T");let G;if(L&&H instanceof y.Dict){const me=H.get("R"),ee=H.get("N");(0,y.isName)(me,"C")&&typeof ee=="string"&&(G=L[(0,m.stringToPDFString)(ee)])}G?J.attachment=G:(0,m.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const le=D.get("N");le instanceof y.Name&&(J.action=le.name);break;case"SetOCGState":const fe=D.get("State"),ae=D.get("PreserveRB");if(!Array.isArray(fe)||fe.length===0)break;const re=[];for(const me of fe)if(me instanceof y.Name)switch(me.name){case"ON":case"OFF":case"Toggle":re.push(me.name)}else me instanceof y.Ref&&re.push(me.toString());if(re.length!==fe.length)break;J.setOCGState={state:re,preserveRB:typeof ae!="boolean"||ae};break;case"JavaScript":const be=D.get("JS");let ye;be instanceof u.BaseStream?ye=be.getString():typeof be=="string"&&(ye=be);const Ce=ye&&(0,d.recoverJsURL)((0,m.stringToPDFString)(ye));if(Ce){K=Ce.url,J.newWindow=Ce.newWindow;break}default:if(F==="JavaScript"||F==="SubmitForm")break;(0,m.warn)(`parseDestDictionary - unsupported action: "${F}".`)}}else I.has("Dest")&&($=I.get("Dest"));if(typeof K=="string"){const ne=(0,m.createValidAbsoluteUrl)(K,_,{addDefaultProtocol:!0,tryConvertEncoding:!0});ne&&(J.url=ne.href),J.unsafeUrl=K}$&&($ instanceof y.Name&&($=$.name),typeof $=="string"?J.dest=(0,m.stringToPDFString)($):Array.isArray($)&&(J.dest=$))}}h.Catalog=v},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NumberTree=h.NameTree=void 0;var d=p(4),m=p(2);class y{constructor(u,w,T){this.constructor===y&&(0,m.unreachable)("Cannot initialize NameOrNumberTree."),this.root=u,this.xref=w,this._type=T}getAll(){const u=new Map;if(!this.root)return u;const w=this.xref,T=new d.RefSet;T.put(this.root);const C=[this.root];for(;C.length>0;){const k=w.fetchIfRef(C.shift());if(!(k instanceof d.Dict))continue;if(k.has("Kids")){const g=k.get("Kids");if(!Array.isArray(g))continue;for(const E of g){if(T.has(E))throw new m.FormatError(`Duplicate entry in "${this._type}" tree.`);C.push(E),T.put(E)}continue}const A=k.get(this._type);if(Array.isArray(A))for(let g=0,E=A.length;g<E;g+=2)u.set(w.fetchIfRef(A[g]),w.fetchIfRef(A[g+1]))}return u}get(u){if(!this.root)return null;const w=this.xref;let T=w.fetchIfRef(this.root),C=0;for(;T.has("Kids");){if(++C>10)return(0,m.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const A=T.get("Kids");if(!Array.isArray(A))return null;let g=0,E=A.length-1;for(;g<=E;){const v=g+E>>1,M=w.fetchIfRef(A[v]),R=M.get("Limits");if(u<w.fetchIfRef(R[0]))E=v-1;else{if(!(u>w.fetchIfRef(R[1]))){T=M;break}g=v+1}}if(g>E)return null}const k=T.get(this._type);if(Array.isArray(k)){let A=0,g=k.length-2;for(;A<=g;){const E=A+g>>1,v=E+(1&E),M=w.fetchIfRef(k[v]);if(u<M)g=v-2;else{if(!(u>M))return w.fetchIfRef(k[v+1]);A=v+2}}}return null}}h.NameTree=class extends y{constructor(u,w){super(u,w,"Names")}},h.NumberTree=class extends y{constructor(u,w){super(u,w,"Nums")}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.clearGlobalCaches=function(){(0,d.clearPrimitiveCaches)(),(0,m.clearUnicodeCaches)()};var d=p(4),m=p(38)},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FileSpec=void 0;var d=p(2),m=p(5),y=p(4);function x(u){return u.has("UF")?u.get("UF"):u.has("F")?u.get("F"):u.has("Unix")?u.get("Unix"):u.has("Mac")?u.get("Mac"):u.has("DOS")?u.get("DOS"):null}h.FileSpec=class{constructor(w,T){w instanceof y.Dict&&(this.xref=T,this.root=w,w.has("FS")&&(this.fs=w.get("FS")),this.description=w.has("Desc")?(0,d.stringToPDFString)(w.get("Desc")):"",w.has("RF")&&(0,d.warn)("Related file specifications are not supported"),this.contentAvailable=!0,w.has("EF")||(this.contentAvailable=!1,(0,d.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const w=x(this.root)||"unnamed";this._filename=(0,d.stringToPDFString)(w).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=x(this.root.get("EF")));let w=null;if(this.contentRef){const T=this.xref.fetchIfRef(this.contentRef);T instanceof m.BaseStream?w=T.getBytes():(0,d.warn)("Embedded file specification points to non-existing/invalid content")}else(0,d.warn)("Embedded file specification does not have a content");return w}get serializable(){return{filename:this.filename,content:this.content}}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MetadataParser=void 0;var d=p(64);h.MetadataParser=class{constructor(y){y=this._repair(y);const x=new d.SimpleXMLParser({lowerCaseName:!0}).parseFromString(y);this._metadataMap=new Map,this._data=y,x&&this._parse(x)}_repair(y){return y.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(x,u){const w=u.replace(/\\([0-3])([0-7])([0-7])/g,function(C,k,A,g){return String.fromCharCode(64*k+8*A+1*g)}).replace(/&(amp|apos|gt|lt|quot);/g,function(C,k){switch(k){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${k} isn't defined.`)}),T=[">"];for(let C=0,k=w.length;C<k;C+=2){const A=256*w.charCodeAt(C)+w.charCodeAt(C+1);A>=32&&A<127&&A!==60&&A!==62&&A!==38?T.push(String.fromCharCode(A)):T.push("&#x"+(65536+A).toString(16).substring(1)+";")}return T.join("")})}_getSequence(y){const x=y.nodeName;return x!=="rdf:bag"&&x!=="rdf:seq"&&x!=="rdf:alt"?null:y.childNodes.filter(u=>u.nodeName==="rdf:li")}_parseArray(y){if(!y.hasChildNodes())return;const[x]=y.childNodes,u=this._getSequence(x)||[];this._metadataMap.set(y.nodeName,u.map(w=>w.textContent.trim()))}_parse(y){let x=y.documentElement;if(x.nodeName!=="rdf:rdf")for(x=x.firstChild;x&&x.nodeName!=="rdf:rdf";)x=x.nextSibling;if(x&&x.nodeName==="rdf:rdf"&&x.hasChildNodes()){for(const u of x.childNodes)if(u.nodeName==="rdf:description")for(const w of u.childNodes){const T=w.nodeName;switch(T){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(w);continue}this._metadataMap.set(T,w.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StructTreeRoot=h.StructTreePage=void 0;var d=p(4),m=p(2),y=p(68);const x=40,u={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};h.StructTreeRoot=class{constructor(k){this.dict=k,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const k=this.dict.get("RoleMap");k instanceof d.Dict&&k.forEach((A,g)=>{g instanceof d.Name&&this.roleMap.set(A,g.name)})}};class w{constructor(k,A){this.tree=k,this.dict=A,this.kids=[],this.parseKids()}get role(){const k=this.dict.get("S"),A=k instanceof d.Name?k.name:"",{root:g}=this.tree;return g.roleMap.has(A)?g.roleMap.get(A):A}parseKids(){let k=null;const A=this.dict.getRaw("Pg");A instanceof d.Ref&&(k=A.toString());const g=this.dict.get("K");if(Array.isArray(g))for(const E of g){const v=this.parseKid(k,E);v&&this.kids.push(v)}else{const E=this.parseKid(k,g);E&&this.kids.push(E)}}parseKid(k,A){if(Number.isInteger(A))return this.tree.pageDict.objId!==k?null:new T({type:u.PAGE_CONTENT,mcid:A,pageObjId:k});let g=null;if(A instanceof d.Ref?g=this.dict.xref.fetch(A):A instanceof d.Dict&&(g=A),!g)return null;const E=g.getRaw("Pg");E instanceof d.Ref&&(k=E.toString());const v=g.get("Type")instanceof d.Name?g.get("Type").name:null;return v==="MCR"?this.tree.pageDict.objId!==k?null:new T({type:u.STREAM_CONTENT,refObjId:g.getRaw("Stm")instanceof d.Ref?g.getRaw("Stm").toString():null,pageObjId:k,mcid:g.get("MCID")}):v==="OBJR"?this.tree.pageDict.objId!==k?null:new T({type:u.OBJECT,refObjId:g.getRaw("Obj")instanceof d.Ref?g.getRaw("Obj").toString():null,pageObjId:k}):new T({type:u.ELEMENT,dict:g})}}class T{constructor({type:k,dict:A=null,mcid:g=null,pageObjId:E=null,refObjId:v=null}){this.type=k,this.dict=A,this.mcid=g,this.pageObjId=E,this.refObjId=v,this.parentNode=null}}h.StructTreePage=class{constructor(k,A){this.root=k,this.rootDict=k?k.dict:null,this.pageDict=A,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const k=this.rootDict.get("ParentTree");if(!k)return;const A=this.pageDict.get("StructParents");if(!Number.isInteger(A))return;const g=new y.NumberTree(k,this.rootDict.xref).get(A);if(!Array.isArray(g))return;const E=new Map;for(const v of g)v instanceof d.Ref&&this.addNode(this.rootDict.xref.fetch(v),E)}addNode(k,A,g=0){if(g>x)return(0,m.warn)("StructTree MAX_DEPTH reached."),null;if(A.has(k))return A.get(k);const E=new w(this,k);A.set(k,E);const v=k.get("P");if(!v||(0,d.isName)(v.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(k,E)||A.delete(k),E;const M=this.addNode(v,A,g+1);if(!M)return E;let R=!1;for(const I of M.kids)I.type===u.ELEMENT&&I.dict===k&&(I.parentNode=E,R=!0);return R||A.delete(k),E}addTopLevelNode(k,A){const g=this.rootDict.get("K");if(!g)return!1;if(g instanceof d.Dict)return g.objId!==k.objId?!1:(this.nodes[0]=A,!0);if(!Array.isArray(g))return!0;let E=!1;for(let v=0;v<g.length;v++){const M=g[v];M&&M.toString()===k.objId&&(this.nodes[v]=A,E=!0)}return E}get serializable(){function k(g,E,v=0){if(v>x){(0,m.warn)("StructTree too deep to be fully serialized.");return}const M=Object.create(null);M.role=g.role,M.children=[],E.children.push(M);const R=g.dict.get("Alt");typeof R=="string"&&(M.alt=(0,m.stringToPDFString)(R));const I=g.dict.get("Lang");typeof I=="string"&&(M.lang=(0,m.stringToPDFString)(I));for(const J of g.kids){const _=J.type===u.ELEMENT?J.parentNode:null;_?k(_,M,v+1):J.type===u.PAGE_CONTENT||J.type===u.STREAM_CONTENT?M.children.push({type:"content",id:`page${J.pageObjId}_mcid${J.mcid}`}):J.type===u.OBJECT&&M.children.push({type:"object",id:J.refObjId})}}const A=Object.create(null);A.children=[],A.role="Root";for(const g of this.nodes)g&&k(g,A);return A}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ObjectLoader=void 0;var d=p(4),m=p(5),y=p(3),x=p(2);function u(w,T){if(w instanceof d.Dict)w=w.getRawValues();else if(w instanceof m.BaseStream)w=w.dict.getRawValues();else if(!Array.isArray(w))return;for(const k of w)((C=k)instanceof d.Ref||C instanceof d.Dict||C instanceof m.BaseStream||Array.isArray(C))&&T.push(k);var C}h.ObjectLoader=class{constructor(T,C,k){this.dict=T,this.keys=C,this.xref=k,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:T,dict:C}=this;this.refSet=new d.RefSet;const k=[];for(const A of T){const g=C.getRaw(A);g!==void 0&&k.push(g)}return this._walk(k)}async _walk(T){const C=[],k=[];for(;T.length;){let A=T.pop();if(A instanceof d.Ref){if(this.refSet.has(A))continue;try{this.refSet.put(A),A=this.xref.fetch(A)}catch(g){if(!(g instanceof y.MissingDataException)){(0,x.warn)(`ObjectLoader._walk - requesting all data: "${g}".`),this.refSet=null;const{manager:E}=this.xref.stream;return E.requestAllChunks()}C.push(A),k.push({begin:g.begin,end:g.end})}}if(A instanceof m.BaseStream){const g=A.getBaseStreams();if(g){let E=!1;for(const v of g)v.isDataLoaded||(E=!0,k.push({begin:v.start,end:v.end}));E&&C.push(A)}}u(A,T)}if(k.length){await this.xref.stream.manager.requestRanges(k);for(const A of C)A instanceof d.Ref&&this.refSet.remove(A);return this._walk(C)}this.refSet=null}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XFAFactory=void 0;var d=p(75),m=p(79),y=p(85),x=p(83),u=p(76),w=p(2),T=p(86),C=p(96);class k{constructor(g){try{this.root=new T.XFAParser().parse(k._createDocument(g));const E=new m.Binder(this.root);this.form=E.bind(),this.dataHandler=new y.DataHandler(this.root,E.getData()),this.form[d.$globalData].template=this.form}catch(E){(0,w.warn)(`XFA - an error occurred during parsing and binding: ${E}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const g=this.form[d.$toPages]();return new Promise((E,v)=>{const M=()=>{try{const R=g.next();R.done?E(R.value):setTimeout(M,0)}catch(R){v(R)}};setTimeout(M,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(g=>{const{width:E,height:v}=g.attributes.style;return[0,0,parseInt(E),parseInt(v)]})}catch(g){(0,w.warn)(`XFA - an error occurred during layout: ${g}`)}}getBoundingBox(g){return this.dims[g]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(g){this.form[d.$globalData].images=g}setFonts(g){this.form[d.$globalData].fontFinder=new x.FontFinder(g);const E=[];for(let v of this.form[d.$globalData].usedTypefaces)v=(0,u.stripQuotes)(v),this.form[d.$globalData].fontFinder.find(v)||E.push(v);return E.length>0?E:null}appendFonts(g,E){this.form[d.$globalData].fontFinder.add(g,E)}async getPages(){this.pages||await this._createPages();const g=this.pages;return this.pages=null,g}serializeData(g){return this.dataHandler.serialize(g)}static _createDocument(g){return g["/xdp:xdp"]?Object.values(g).join(""):g["xdp:xdp"]}static getRichTextAsHtml(g){if(!g||typeof g!="string")return null;try{let E=new T.XFAParser(C.XhtmlNamespace,!0).parse(g);if(!["body","xhtml"].includes(E[d.$nodeName])){const I=C.XhtmlNamespace.body({});I[d.$appendChild](E),E=I}const v=E[d.$toHTML]();if(!v.success)return null;const{html:M}=v,{attributes:R}=M;return R&&(R.class&&(R.class=R.class.filter(I=>!I.startsWith("xfa"))),R.dir="auto"),{html:M,str:E[d.$text]()}}catch(E){(0,w.warn)(`XFA - an error occurred during parsing of rich text: ${E}`)}return null}}h.XFAFactory=k},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XmlObject=h.XFAObjectArray=h.XFAObject=h.XFAAttribute=h.StringObject=h.OptionObject=h.Option10=h.Option01=h.IntegerObject=h.ContentObject=h.$uid=h.$toStyle=h.$toString=h.$toPages=h.$toHTML=h.$text=h.$tabIndex=h.$setValue=h.$setSetAttributes=h.$setId=h.$searchNode=h.$root=h.$resolvePrototypes=h.$removeChild=h.$pushPara=h.$pushGlyphs=h.$popPara=h.$onText=h.$onChildCheck=h.$onChild=h.$nsAttributes=h.$nodeName=h.$namespaceId=h.$isUsable=h.$isTransparent=h.$isThereMoreWidth=h.$isSplittable=h.$isNsAgnostic=h.$isDescendent=h.$isDataValue=h.$isCDATAXml=h.$isBindable=h.$insertAt=h.$indexOf=h.$ids=h.$hasSettableValue=h.$globalData=h.$getTemplateRoot=h.$getSubformParent=h.$getRealChildrenByNameIt=h.$getParent=h.$getNextPage=h.$getExtra=h.$getDataValue=h.$getContainedChildren=h.$getChildrenByNameIt=h.$getChildrenByName=h.$getChildrenByClass=h.$getChildren=h.$getAvailableSpace=h.$getAttributes=h.$getAttributeIt=h.$flushHTML=h.$finalize=h.$extra=h.$dump=h.$data=h.$content=h.$consumed=h.$clone=h.$cleanup=h.$cleanPage=h.$clean=h.$childrenToHTML=h.$appendChild=h.$addHTML=h.$acceptWhitespace=void 0;var d=p(76),m=p(2),y=p(3),x=p(77),u=p(78);const w=Symbol();h.$acceptWhitespace=w;const T=Symbol();h.$addHTML=T;const C=Symbol();h.$appendChild=C;const k=Symbol();h.$childrenToHTML=k;const A=Symbol();h.$clean=A;const g=Symbol();h.$cleanPage=g;const E=Symbol();h.$cleanup=E;const v=Symbol();h.$clone=v;const M=Symbol();h.$consumed=M;const R=Symbol("content");h.$content=R;const I=Symbol("data");h.$data=I;const J=Symbol();h.$dump=J;const _=Symbol("extra");h.$extra=_;const L=Symbol();h.$finalize=L;const K=Symbol();h.$flushHTML=K;const $=Symbol();h.$getAttributeIt=$;const D=Symbol();h.$getAttributes=D;const ne=Symbol();h.$getAvailableSpace=ne;const F=Symbol();h.$getChildrenByClass=F;const j=Symbol();h.$getChildrenByName=j;const se=Symbol();h.$getChildrenByNameIt=se;const Y=Symbol();h.$getDataValue=Y;const q=Symbol();h.$getExtra=q;const Q=Symbol();h.$getRealChildrenByNameIt=Q;const N=Symbol();h.$getChildren=N;const O=Symbol();h.$getContainedChildren=O;const H=Symbol();h.$getNextPage=H;const G=Symbol();h.$getSubformParent=G;const le=Symbol();h.$getParent=le;const fe=Symbol();h.$getTemplateRoot=fe;const ae=Symbol();h.$globalData=ae;const re=Symbol();h.$hasSettableValue=re;const be=Symbol();h.$ids=be;const ye=Symbol();h.$indexOf=ye;const Ce=Symbol();h.$insertAt=Ce;const me=Symbol();h.$isCDATAXml=me;const ee=Symbol();h.$isBindable=ee;const te=Symbol();h.$isDataValue=te;const oe=Symbol();h.$isDescendent=oe;const V=Symbol();h.$isNsAgnostic=V;const W=Symbol();h.$isSplittable=W;const ue=Symbol();h.$isThereMoreWidth=ue;const he=Symbol();h.$isTransparent=he;const pe=Symbol();h.$isUsable=pe;const Se=Symbol(),ge=Symbol("namespaceId");h.$namespaceId=ge;const de=Symbol("nodeName");h.$nodeName=de;const xe=Symbol();h.$nsAttributes=xe;const ve=Symbol();h.$onChild=ve;const Ee=Symbol();h.$onChildCheck=Ee;const Te=Symbol();h.$onText=Te;const _e=Symbol();h.$pushGlyphs=_e;const Oe=Symbol();h.$popPara=Oe;const Pe=Symbol();h.$pushPara=Pe;const je=Symbol();h.$removeChild=je;const De=Symbol("root");h.$root=De;const Me=Symbol();h.$resolvePrototypes=Me;const Fe=Symbol();h.$searchNode=Fe;const $e=Symbol();h.$setId=$e;const tt=Symbol();h.$setSetAttributes=tt;const ut=Symbol();h.$setValue=ut;const ct=Symbol();h.$tabIndex=ct;const mt=Symbol();h.$text=mt;const Ze=Symbol();h.$toPages=Ze;const St=Symbol();h.$toHTML=St;const Rt=Symbol();h.$toString=Rt;const $t=Symbol();h.$toStyle=$t;const dt=Symbol("uid");h.$uid=dt;const ot=Symbol(),lt=Symbol(),st=Symbol(),Ge=Symbol("_children"),Ke=Symbol(),rt=Symbol(),ze=Symbol(),Ve=Symbol(),Ye=Symbol(),Je=Symbol(),it=Symbol(),Tt=Symbol(),Ut=Symbol(),kt=Symbol("parent"),pt=Symbol(),Ht=Symbol(),Xt=Symbol();let Vt=0;const Ot=x.NamespaceIds.datasets.id;class At{constructor(Ue,nt,bt=!1){this[ge]=Ue,this[de]=nt,this[it]=bt,this[kt]=null,this[Ge]=[],this[dt]=`${nt}${Vt++}`,this[ae]=null}[ve](Ue){if(!this[it]||!this[Ee](Ue))return!1;const nt=Ue[de],bt=this[nt];if(!(bt instanceof vt))return bt!==null&&this[je](bt),this[nt]=Ue,this[C](Ue),!0;if(bt.push(Ue))return this[C](Ue),!0;let Et="";return this.id?Et=` (id: ${this.id})`:this.name&&(Et=` (name: ${this.name} ${this.h.value})`),(0,m.warn)(`XFA - node "${this[de]}"${Et} has already enough "${nt}"!`),!1}[Ee](Ue){return this.hasOwnProperty(Ue[de])&&Ue[ge]===this[ge]}[V](){return!1}[w](){return!1}[me](){return!1}[ee](){return!1}[Oe](){this.para&&this[fe]()[_].paraStack.pop()}[Pe](){this[fe]()[_].paraStack.push(this.para)}[$e](Ue){this.id&&this[ge]===x.NamespaceIds.template.id&&Ue.set(this.id,this)}[fe](){return this[ae].template}[W](){return!1}[ue](){return!1}[C](Ue){Ue[kt]=this,this[Ge].push(Ue),!Ue[ae]&&this[ae]&&(Ue[ae]=this[ae])}[je](Ue){const nt=this[Ge].indexOf(Ue);this[Ge].splice(nt,1)}[re](){return this.hasOwnProperty("value")}[ut](Ue){}[Te](Ue){}[L](){}[A](Ue){delete this[it],this[E]&&(Ue.clean(this[E]),delete this[E])}[ye](Ue){return this[Ge].indexOf(Ue)}[Ce](Ue,nt){nt[kt]=this,this[Ge].splice(Ue,0,nt),!nt[ae]&&this[ae]&&(nt[ae]=this[ae])}[he](){return!this.name}[Se](){return""}[mt](){return this[Ge].length===0?this[R]:this[Ge].map(Ue=>Ue[mt]()).join("")}get[st](){const Ue=Object.getPrototypeOf(this);if(!Ue._attributes){const nt=Ue._attributes=new Set;for(const bt of Object.getOwnPropertyNames(this)){if(this[bt]===null||this[bt]instanceof At||this[bt]instanceof vt)break;nt.add(bt)}}return(0,m.shadow)(this,st,Ue._attributes)}[oe](Ue){let nt=this;for(;nt;){if(nt===Ue)return!0;nt=nt[le]()}return!1}[le](){return this[kt]}[G](){return this[le]()}[N](Ue=null){return Ue?this[Ue]:this[Ge]}[J](){const Ue=Object.create(null);this[R]&&(Ue.$content=this[R]);for(const nt of Object.getOwnPropertyNames(this)){const bt=this[nt];bt!==null&&(bt instanceof At?Ue[nt]=bt[J]():bt instanceof vt?bt.isEmpty()||(Ue[nt]=bt.dump()):Ue[nt]=bt)}return Ue}[$t](){return null}[St](){return d.HTMLResult.EMPTY}*[O](){for(const Ue of this[N]())yield Ue}*[Ve](Ue,nt){for(const bt of this[O]())if(!Ue||nt===Ue.has(bt[de])){const Et=this[ne](),Zt=bt[St](Et);Zt.success||(this[_].failingNode=bt),yield Zt}}[K](){return null}[T](Ue,nt){this[_].children.push(Ue)}[ne](){}[k]({filter:Ue=null,include:nt=!0}){if(this[_].generator){const bt=this[ne](),Et=this[_].failingNode[St](bt);if(!Et.success)return Et;Et.html&&this[T](Et.html,Et.bbox),delete this[_].failingNode}else this[_].generator=this[Ve](Ue,nt);for(;;){const bt=this[_].generator.next();if(bt.done)break;const Et=bt.value;if(!Et.success)return Et;Et.html&&this[T](Et.html,Et.bbox)}return this[_].generator=null,d.HTMLResult.EMPTY}[tt](Ue){this[Ht]=new Set(Object.keys(Ue))}[Je](Ue){const nt=this[st],bt=this[Ht];return[...Ue].filter(Et=>nt.has(Et)&&!bt.has(Et))}[Me](Ue,nt=new Set){for(const bt of this[Ge])bt[pt](Ue,nt)}[pt](Ue,nt){const bt=this[Ye](Ue,nt);bt?this[ot](bt,Ue,nt):this[Me](Ue,nt)}[Ye](Ue,nt){const{use:bt,usehref:Et}=this;if(!bt&&!Et)return null;let Zt=null,hn=null,fn=null,fr=bt;if(Et?(fr=Et,Et.startsWith("#som(")&&Et.endsWith(")")?hn=Et.slice(5,Et.length-1):Et.startsWith(".#som(")&&Et.endsWith(")")?hn=Et.slice(6,Et.length-1):Et.startsWith("#")?fn=Et.slice(1):Et.startsWith(".#")&&(fn=Et.slice(2))):bt.startsWith("#")?fn=bt.slice(1):hn=bt,this.use=this.usehref="",fn?Zt=Ue.get(fn):(Zt=(0,u.searchNode)(Ue.get(De),this,hn,!0,!1),Zt&&(Zt=Zt[0])),!Zt)return(0,m.warn)(`XFA - Invalid prototype reference: ${fr}.`),null;if(Zt[de]!==this[de])return(0,m.warn)(`XFA - Incompatible prototype: ${Zt[de]} !== ${this[de]}.`),null;if(nt.has(Zt))return(0,m.warn)("XFA - Cycle detected in prototypes use."),null;nt.add(Zt);const Dn=Zt[Ye](Ue,nt);return Dn&&Zt[ot](Dn,Ue,nt),Zt[Me](Ue,nt),nt.delete(Zt),Zt}[ot](Ue,nt,bt){if(bt.has(Ue)){(0,m.warn)("XFA - Cycle detected in prototypes use.");return}!this[R]&&Ue[R]&&(this[R]=Ue[R]),new Set(bt).add(Ue);for(const Et of this[Je](Ue[Ht]))this[Et]=Ue[Et],this[Ht]&&this[Ht].add(Et);for(const Et of Object.getOwnPropertyNames(this)){if(this[st].has(Et))continue;const Zt=this[Et],hn=Ue[Et];if(Zt instanceof vt){for(const fn of Zt[Ge])fn[pt](nt,bt);for(let fn=Zt[Ge].length,fr=hn[Ge].length;fn<fr;fn++){const Dn=Ue[Ge][fn][v]();if(!Zt.push(Dn))break;Dn[kt]=this,this[Ge].push(Dn),Dn[pt](nt,bt)}}else if(Zt===null){if(hn!==null){const fn=hn[v]();fn[kt]=this,this[Et]=fn,this[Ge].push(fn),fn[pt](nt,bt)}}else Zt[Me](nt,bt),hn&&Zt[ot](hn,nt,bt)}}static[Ke](Ue){return Array.isArray(Ue)?Ue.map(nt=>At[Ke](nt)):typeof Ue=="object"&&Ue!==null?Object.assign({},Ue):Ue}[v](){const Ue=Object.create(Object.getPrototypeOf(this));for(const nt of Object.getOwnPropertySymbols(this))try{Ue[nt]=this[nt]}catch{(0,m.shadow)(Ue,nt,this[nt])}Ue[dt]=`${Ue[de]}${Vt++}`,Ue[Ge]=[];for(const nt of Object.getOwnPropertyNames(this)){if(this[st].has(nt)){Ue[nt]=At[Ke](this[nt]);continue}const bt=this[nt];Ue[nt]=bt instanceof vt?new vt(bt[Tt]):null}for(const nt of this[Ge]){const bt=nt[de],Et=nt[v]();Ue[Ge].push(Et),Et[kt]=Ue,Ue[bt]===null?Ue[bt]=Et:Ue[bt][Ge].push(Et)}return Ue}[N](Ue=null){return Ue?this[Ge].filter(nt=>nt[de]===Ue):this[Ge]}[F](Ue){return this[Ue]}[j](Ue,nt,bt=!0){return Array.from(this[se](Ue,nt,bt))}*[se](Ue,nt,bt=!0){if(Ue!=="parent"){for(const Et of this[Ge])Et[de]===Ue&&(yield Et),Et.name===Ue&&(yield Et),(nt||Et[he]())&&(yield*Et[se](Ue,nt,!1));bt&&this[st].has(Ue)&&(yield new Wt(this,Ue,this[Ue]))}else yield this[kt]}}h.XFAObject=At;class vt{constructor(Ue=1/0){this[Tt]=Ue,this[Ge]=[]}push(Ue){return this[Ge].length<=this[Tt]?(this[Ge].push(Ue),!0):((0,m.warn)(`XFA - node "${Ue[de]}" accepts no more than ${this[Tt]} children`),!1)}isEmpty(){return this[Ge].length===0}dump(){return this[Ge].length===1?this[Ge][0][J]():this[Ge].map(Ue=>Ue[J]())}[v](){const Ue=new vt(this[Tt]);return Ue[Ge]=this[Ge].map(nt=>nt[v]()),Ue}get children(){return this[Ge]}clear(){this[Ge].length=0}}h.XFAObjectArray=vt;class Wt{constructor(Ue,nt,bt){this[kt]=Ue,this[de]=nt,this[R]=bt,this[M]=!1,this[dt]="attribute"+Vt++}[le](){return this[kt]}[te](){return!0}[Y](){return this[R].trim()}[ut](Ue){Ue=Ue.value||"",this[R]=Ue.toString()}[mt](){return this[R]}[oe](Ue){return this[kt]===Ue||this[kt][oe](Ue)}}h.XFAAttribute=Wt;class It extends At{constructor(Ue,nt,bt={}){if(super(Ue,nt),this[R]="",this[rt]=null,nt!=="#text"){const Et=new Map;this[lt]=Et;for(const[Zt,hn]of Object.entries(bt))Et.set(Zt,new Wt(this,Zt,hn));if(bt.hasOwnProperty(xe)){const Zt=bt[xe].xfa.dataNode;Zt!==void 0&&(Zt==="dataGroup"?this[rt]=!1:Zt==="dataValue"&&(this[rt]=!0))}}this[M]=!1}[Rt](Ue){const nt=this[de];if(nt==="#text"){Ue.push((0,y.encodeToXmlString)(this[R]));return}const bt=(0,m.utf8StringToString)(nt),Et=this[ge]===Ot?"xfa:":"";Ue.push(`<${Et}${bt}`);for(const[Zt,hn]of this[lt].entries()){const fn=(0,m.utf8StringToString)(Zt);Ue.push(` ${fn}="${(0,y.encodeToXmlString)(hn[R])}"`)}if(this[rt]!==null&&(this[rt]?Ue.push(' xfa:dataNode="dataValue"'):Ue.push(' xfa:dataNode="dataGroup"')),this[R]||this[Ge].length!==0){if(Ue.push(">"),this[R])typeof this[R]=="string"?Ue.push((0,y.encodeToXmlString)(this[R])):this[R][Rt](Ue);else for(const Zt of this[Ge])Zt[Rt](Ue);Ue.push(`</${Et}${bt}>`)}else Ue.push("/>")}[ve](Ue){if(this[R]){const nt=new It(this[ge],"#text");this[C](nt),nt[R]=this[R],this[R]=""}return this[C](Ue),!0}[Te](Ue){this[R]+=Ue}[L](){if(this[R]&&this[Ge].length>0){const Ue=new It(this[ge],"#text");this[C](Ue),Ue[R]=this[R],delete this[R]}}[St](){return this[de]==="#text"?d.HTMLResult.success({name:"#text",value:this[R]}):d.HTMLResult.EMPTY}[N](Ue=null){return Ue?this[Ge].filter(nt=>nt[de]===Ue):this[Ge]}[D](){return this[lt]}[F](Ue){const nt=this[lt].get(Ue);return nt!==void 0?nt:this[N](Ue)}*[se](Ue,nt){const bt=this[lt].get(Ue);bt&&(yield bt);for(const Et of this[Ge])Et[de]===Ue&&(yield Et),nt&&(yield*Et[se](Ue,nt))}*[$](Ue,nt){const bt=this[lt].get(Ue);!bt||nt&&bt[M]||(yield bt);for(const Et of this[Ge])yield*Et[$](Ue,nt)}*[Q](Ue,nt,bt){for(const Et of this[Ge])Et[de]!==Ue||bt&&Et[M]||(yield Et),nt&&(yield*Et[Q](Ue,nt,bt))}[te](){return this[rt]===null?this[Ge].length===0||this[Ge][0][ge]===x.NamespaceIds.xhtml.id:this[rt]}[Y](){return this[rt]===null?this[Ge].length===0?this[R].trim():this[Ge][0][ge]===x.NamespaceIds.xhtml.id?this[Ge][0][mt]().trim():null:this[R].trim()}[ut](Ue){Ue=Ue.value||"",this[R]=Ue.toString()}[J](Ue=!1){const nt=Object.create(null);Ue&&(nt.$ns=this[ge]),this[R]&&(nt.$content=this[R]),nt.$name=this[de],nt.children=[];for(const bt of this[Ge])nt.children.push(bt[J](Ue));nt.attributes=Object.create(null);for(const[bt,Et]of this[lt])nt.attributes[bt]=Et[R];return nt}}h.XmlObject=It;class Ct extends At{constructor(Ue,nt){super(Ue,nt),this[R]=""}[Te](Ue){this[R]+=Ue}[L](){}}h.ContentObject=Ct,h.OptionObject=class extends Ct{constructor(Ue,nt,bt){super(Ue,nt),this[Ut]=bt}[L](){this[R]=(0,d.getKeyword)({data:this[R],defaultValue:this[Ut][0],validate:Ue=>this[Ut].includes(Ue)})}[A](Ue){super[A](Ue),delete this[Ut]}},h.StringObject=class extends Ct{[L](){this[R]=this[R].trim()}};class Dt extends Ct{constructor(Ue,nt,bt,Et){super(Ue,nt),this[ze]=bt,this[Xt]=Et}[L](){this[R]=(0,d.getInteger)({data:this[R],defaultValue:this[ze],validate:this[Xt]})}[A](Ue){super[A](Ue),delete this[ze],delete this[Xt]}}h.IntegerObject=Dt,h.Option01=class extends Dt{constructor(Ue,nt){super(Ue,nt,0,bt=>bt===1)}},h.Option10=class extends Dt{constructor(Ue,nt){super(Ue,nt,1,bt=>bt===0)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.HTMLResult=void 0,h.getBBox=function(C){if(!C)return{x:-1,y:-1,width:-1,height:-1};const A=C.trim().split(/\s*,\s*/).map(R=>u(R,"-1"));if(A.length<4||A[2]<0||A[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[g,E,v,M]=A;return{x:g,y:E,width:v,height:M}},h.getColor=function(C,k=[0,0,0]){let[A,g,E]=k;if(!C)return{r:A,g,b:E};const v=C.trim().split(/\s*,\s*/).map(M=>Math.min(Math.max(0,parseInt(M.trim(),10)),255)).map(M=>isNaN(M)?0:M);return v.length<3?{r:A,g,b:E}:([A,g,E]=v,{r:A,g,b:E})},h.getFloat=function({data:C,defaultValue:k,validate:A}){if(!C)return k;C=C.trim();const g=parseFloat(C);return!isNaN(g)&&A(g)?g:k},h.getInteger=function({data:C,defaultValue:k,validate:A}){if(!C)return k;C=C.trim();const g=parseInt(C,10);return!isNaN(g)&&A(g)?g:k},h.getKeyword=x,h.getMeasurement=u,h.getRatio=function(C){if(!C)return{num:1,den:1};const k=C.trim().split(/\s*:\s*/).map(E=>parseFloat(E)).filter(E=>!isNaN(E));if(k.length===1&&k.push(1),k.length===0)return{num:1,den:1};const[A,g]=k;return{num:A,den:g}},h.getRelevant=function(C){return C?C.trim().split(/\s+/).map(k=>({excluded:k[0]==="-",viewname:k.substring(1)})):[]},h.getStringOption=function(C,k){return x({data:C,defaultValue:k[0],validate:A=>k.includes(A)})},h.stripQuotes=function(C){return C.startsWith("'")||C.startsWith('"')?C.slice(1,C.length-1):C};var d=p(2);const m={pt:T=>T,cm:T=>T/2.54*72,mm:T=>T/25.4*72,in:T=>72*T,px:T=>T},y=/([+-]?\d+\.?\d*)(.*)/;function x({data:T,defaultValue:C,validate:k}){return T&&k(T=T.trim())?T:C}function u(T,C="0"){if(C=C||"0",!T)return u(C);const k=T.trim().match(y);if(!k)return u(C);const[,A,g]=k,E=parseFloat(A);if(isNaN(E))return u(C);if(E===0)return 0;const v=m[g];return v?v(E):E}class w{static get FAILURE(){return(0,d.shadow)(this,"FAILURE",new w(!1,null,null,null))}static get EMPTY(){return(0,d.shadow)(this,"EMPTY",new w(!0,null,null,null))}constructor(C,k,A,g){this.success=C,this.html=k,this.bbox=A,this.breakNode=g}isBreak(){return!!this.breakNode}static breakNode(C){return new w(!1,null,null,C)}static success(C,k=null){return new w(!0,C,k,null)}}h.HTMLResult=w},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NamespaceIds=h.$buildXFAObject=void 0;const p=Symbol();h.$buildXFAObject=p,h.NamespaceIds={config:{id:0,check:d=>d.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:d=>d==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:d=>d==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:d=>d==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:d=>d.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:d=>d==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:d=>d==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:d=>d==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:d=>d==="http://ns.adobe.com/xmpmeta/"}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.createDataNode=function(v,M,R){const I=A(R);if(!I||I.some(L=>L.operator===w.dotDot))return null;const J=T.get(I[0].name);let _=0;J?(v=J(v,M),_=1):v=M||v;for(let L=I.length;_<L;_++){const{name:K,operator:$,index:D}=I[_];if(!isFinite(D))return I[_].index=0,g(v,I.slice(_));let ne;switch($){case w.dot:ne=v[d.$getChildrenByName](K,!1);break;case w.dotDot:ne=v[d.$getChildrenByName](K,!0);break;case w.dotHash:ne=v[d.$getChildrenByClass](K),ne=ne instanceof d.XFAObjectArray?ne.children:[ne]}if(ne.length===0)return g(v,I.slice(_));if(!(D<ne.length))return I[_].index=D-ne.length,g(v,I.slice(_));{const F=ne[D];if(!(F instanceof d.XFAObject))return(0,y.warn)("XFA - Cannot create a node."),null;v=F}}return null},h.searchNode=function(v,M,R,I=!0,J=!0){const _=A(R,I);if(!_)return null;const L=T.get(_[0].name);let K,$=0;L?(K=!0,v=[L(v,M)],$=1):(K=M===null,v=[M||v]);for(let D=_.length;$<D;$++){const{name:ne,cacheName:F,operator:j,index:se}=_[$],Y=[];for(const q of v){if(!(q instanceof d.XFAObject))continue;let Q,N;if(J&&(N=C.get(q),N||(N=new Map,C.set(q,N)),Q=N.get(F)),!Q){switch(j){case w.dot:Q=q[d.$getChildrenByName](ne,!1);break;case w.dotDot:Q=q[d.$getChildrenByName](ne,!0);break;case w.dotHash:Q=q[d.$getChildrenByClass](ne),Q=Q instanceof d.XFAObjectArray?Q.children:[Q]}J&&N.set(F,Q)}Q.length>0&&Y.push(Q)}if(Y.length!==0||K||$!==0)v=isFinite(se)?Y.filter(q=>se<q.length).map(q=>q[se]):Y.flat();else{if(!(M=M[d.$getParent]()))return null;$=-1,v=[M]}}return v.length===0?null:v};var d=p(75),m=p(77),y=p(2);const x=/^[^.[]+/,u=/^[^\]]+/,w={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},T=new Map([["$data",(E,v)=>E.datasets?E.datasets.data:E],["$record",(E,v)=>(E.datasets?E.datasets.data:E)[d.$getChildren]()[0]],["$template",(E,v)=>E.template],["$connectionSet",(E,v)=>E.connectionSet],["$form",(E,v)=>E.form],["$layout",(E,v)=>E.layout],["$host",(E,v)=>E.host],["$dataWindow",(E,v)=>E.dataWindow],["$event",(E,v)=>E.event],["!",(E,v)=>E.datasets],["$xfa",(E,v)=>E],["xfa",(E,v)=>E],["$",(E,v)=>v]]),C=new WeakMap,k=m.NamespaceIds.datasets.id;function A(E,v,M=!0){let R=E.match(x);if(!R)return null;let[I]=R;const J=[{name:I,cacheName:"."+I,index:0,js:null,formCalc:null,operator:w.dot}];let _=I.length;for(;_<E.length;){const K=_;if(E.charAt(_++)==="["){if(R=E.slice(_).match(u),!R)return(0,y.warn)("XFA - Invalid index in SOM expression"),null;J.at(-1).index=(L=(L=R[0]).trim())==="*"?1/0:parseInt(L,10)||0,_+=R[0].length+1;continue}let $;switch(E.charAt(_)){case".":if(!v)return null;_++,$=w.dotDot;break;case"#":_++,$=w.dotHash;break;case"[":if(M)return(0,y.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;$=w.dotBracket;break;case"(":if(M)return(0,y.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;$=w.dotParen;break;default:$=w.dot}if(R=E.slice(_).match(x),!R)break;[I]=R,_+=I.length,J.push({name:I,cacheName:E.slice(K,_),operator:$,index:0,js:null,formCalc:null})}var L;return J}function g(E,v){let M=null;for(const{name:R,index:I}of v){for(let J=0,_=isFinite(I)?I:0;J<=_;J++){const L=E[d.$namespaceId]===k?-1:E[d.$namespaceId];M=new d.XmlObject(L,R),E[d.$appendChild](M)}E=M}return M}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Binder=void 0;var d=p(75),m=p(80),y=p(78),x=p(77),u=p(2);const w=x.NamespaceIds.datasets.id;function T(C){const k=new m.Text({});return k[d.$content]=C,k}h.Binder=class{constructor(k){this.root=k,this.datasets=k.datasets,k.datasets&&k.datasets.data?this.data=k.datasets.data:this.data=new d.XmlObject(x.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[d.$getChildren]().length===0,this.root.form=this.form=k.template[d.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(k,A,g){if(k[d.$data]=A,k[d.$hasSettableValue]())if(A[d.$isDataValue]()){const E=A[d.$getDataValue]();k[d.$setValue](T(E))}else if(k instanceof m.Field&&k.ui&&k.ui.choiceList&&k.ui.choiceList.open==="multiSelect"){const E=A[d.$getChildren]().map(v=>v[d.$content].trim()).join(`
`);k[d.$setValue](T(E))}else this._isConsumeData()&&(0,u.warn)("XFA - Nodes haven't the same type.");else!A[d.$isDataValue]()||this._isMatchTemplate()?this._bindElement(k,A):(0,u.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(k,A,g,E){if(!k)return null;let v,M;for(let R=0;R<3;R++){for(v=g[d.$getRealChildrenByNameIt](k,!1,!0);M=v.next().value,!!M;)if(A===M[d.$isDataValue]())return M;if(g[d.$namespaceId]===x.NamespaceIds.datasets.id&&g[d.$nodeName]==="data")break;g=g[d.$getParent]()}return E?(v=this.data[d.$getRealChildrenByNameIt](k,!0,!1),M=v.next().value,M||(v=this.data[d.$getAttributeIt](k,!0),M=v.next().value,M&&M[d.$isDataValue]()?M:null)):null}_setProperties(k,A){if(k.hasOwnProperty("setProperty"))for(const{ref:g,target:E,connection:v}of k.setProperty.children){if(v||!g)continue;const M=(0,y.searchNode)(this.root,A,g,!1,!1);if(!M){(0,u.warn)(`XFA - Invalid reference: ${g}.`);continue}const[R]=M;if(!R[d.$isDescendent](this.data)){(0,u.warn)("XFA - Invalid node: must be a data node.");continue}const I=(0,y.searchNode)(this.root,k,E,!1,!1);if(!I){(0,u.warn)(`XFA - Invalid target: ${E}.`);continue}const[J]=I;if(!J[d.$isDescendent](k)){(0,u.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const _=J[d.$getParent]();if(J instanceof m.SetProperty||_ instanceof m.SetProperty){(0,u.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(J instanceof m.BindItems||_ instanceof m.BindItems){(0,u.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const L=R[d.$text](),K=J[d.$nodeName];if(J instanceof d.XFAAttribute){const $=Object.create(null);$[K]=L;const D=Reflect.construct(Object.getPrototypeOf(_).constructor,[$]);_[K]=D[K]}else J.hasOwnProperty(d.$content)?(J[d.$data]=R,J[d.$content]=L,J[d.$finalize]()):(0,u.warn)("XFA - Invalid node to use in setProperty")}}_bindItems(k,A){if(!k.hasOwnProperty("items")||!k.hasOwnProperty("bindItems")||k.bindItems.isEmpty())return;for(const v of k.items.children)k[d.$removeChild](v);k.items.clear();const g=new m.Items({}),E=new m.Items({});k[d.$appendChild](g),k.items.push(g),k[d.$appendChild](E),k.items.push(E);for(const{ref:v,labelRef:M,valueRef:R,connection:I}of k.bindItems.children){if(I||!v)continue;const J=(0,y.searchNode)(this.root,A,v,!1,!1);if(J)for(const _ of J){if(!_[d.$isDescendent](this.datasets)){(0,u.warn)(`XFA - Invalid ref (${v}): must be a datasets child.`);continue}const L=(0,y.searchNode)(this.root,_,M,!0,!1);if(!L){(0,u.warn)(`XFA - Invalid label: ${M}.`);continue}const[K]=L;if(!K[d.$isDescendent](this.datasets)){(0,u.warn)("XFA - Invalid label: must be a datasets child.");continue}const $=(0,y.searchNode)(this.root,_,R,!0,!1);if(!$){(0,u.warn)(`XFA - Invalid value: ${R}.`);continue}const[D]=$;if(!D[d.$isDescendent](this.datasets)){(0,u.warn)("XFA - Invalid value: must be a datasets child.");continue}const ne=T(K[d.$text]()),F=T(D[d.$text]());g[d.$appendChild](ne),g.text.push(ne),E[d.$appendChild](F),E.text.push(F)}else(0,u.warn)(`XFA - Invalid reference: ${v}.`)}}_bindOccurrences(k,A,g){let E;if(A.length>1&&(E=k[d.$clone](),E[d.$removeChild](E.occur),E.occur=null),this._bindValue(k,A[0],g),this._setProperties(k,A[0]),this._bindItems(k,A[0]),A.length===1)return;const v=k[d.$getParent](),M=k[d.$nodeName],R=v[d.$indexOf](k);for(let I=1,J=A.length;I<J;I++){const _=A[I],L=E[d.$clone]();v[M].push(L),v[d.$insertAt](R+I,L),this._bindValue(L,_,g),this._setProperties(L,_),this._bindItems(L,_)}}_createOccurrences(k){if(!this.emptyMerge)return;const{occur:A}=k;if(!A||A.initial<=1)return;const g=k[d.$getParent](),E=k[d.$nodeName];if(!(g[E]instanceof d.XFAObjectArray))return;let v;v=k.name?g[E].children.filter(I=>I.name===k.name).length:g[E].children.length;const M=g[d.$indexOf](k)+1,R=A.initial-v;if(R){const I=k[d.$clone]();I[d.$removeChild](I.occur),I.occur=null,g[E].push(I),g[d.$insertAt](M,I);for(let J=1;J<R;J++){const _=I[d.$clone]();g[E].push(_),g[d.$insertAt](M+J,_)}}}_getOccurInfo(k){const{name:A,occur:g}=k;if(!g||!A)return[1,1];const E=g.max===-1?1/0:g.max;return[g.min,E]}_setAndBind(k,A){this._setProperties(k,A),this._bindItems(k,A),this._bindElement(k,A)}_bindElement(k,A){const g=[];this._createOccurrences(k);for(const E of k[d.$getChildren]()){if(E[d.$data])continue;if(this._mergeMode===void 0&&E[d.$nodeName]==="subform"){this._mergeMode=E.mergeMode==="consumeData";const L=A[d.$getChildren]();if(L.length>0)this._bindOccurrences(E,[L[0]],null);else if(this.emptyMerge){const K=A[d.$namespaceId]===w?-1:A[d.$namespaceId],$=E[d.$data]=new d.XmlObject(K,E.name||"root");A[d.$appendChild]($),this._bindElement(E,$)}continue}if(!E[d.$isBindable]())continue;let v=!1,M=null,R=null,I=null;if(E.bind){switch(E.bind.match){case"none":this._setAndBind(E,A);continue;case"global":v=!0;break;case"dataRef":if(!E.bind.ref){(0,u.warn)(`XFA - ref is empty in node ${E[d.$nodeName]}.`),this._setAndBind(E,A);continue}R=E.bind.ref}E.bind.picture&&(M=E.bind.picture[d.$content])}const[J,_]=this._getOccurInfo(E);if(R){if(I=(0,y.searchNode)(this.root,A,R,!0,!1),I===null){if(I=(0,y.createDataNode)(this.data,A,R),!I)continue;this._isConsumeData()&&(I[d.$consumed]=!0),this._setAndBind(E,I);continue}this._isConsumeData()&&(I=I.filter(L=>!L[d.$consumed])),I.length>_?I=I.slice(0,_):I.length===0&&(I=null),I&&this._isConsumeData()&&I.forEach(L=>{L[d.$consumed]=!0})}else{if(!E.name){this._setAndBind(E,A);continue}if(this._isConsumeData()){const L=[];for(;L.length<_;){const K=this._findDataByNameToConsume(E.name,E[d.$hasSettableValue](),A,v);if(!K)break;K[d.$consumed]=!0,L.push(K)}I=L.length>0?L:null}else{if(I=A[d.$getRealChildrenByNameIt](E.name,!1,this.emptyMerge).next().value,!I){if(J===0){g.push(E);continue}const L=A[d.$namespaceId]===w?-1:A[d.$namespaceId];I=E[d.$data]=new d.XmlObject(L,E.name),this.emptyMerge&&(I[d.$consumed]=!0),A[d.$appendChild](I),this._setAndBind(E,I);continue}this.emptyMerge&&(I[d.$consumed]=!0),I=[I]}}I?this._bindOccurrences(E,I,M):J>0?this._setAndBind(E,A):g.push(E)}g.forEach(E=>E[d.$getParent]()[d.$removeChild](E))}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Value=h.Text=h.TemplateNamespace=h.Template=h.SetProperty=h.Items=h.Field=h.BindItems=void 0;var d=p(75),m=p(77),y=p(81),x=p(82),u=p(76),w=p(2),T=p(83),C=p(3),k=p(78);const A=m.NamespaceIds.template.id,g="http://www.w3.org/2000/svg",E=/^H(\d+)$/,v=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),M=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function R(Xe){if(!Xe||!Xe.border)return{w:0,h:0};const U=Xe.border[d.$getExtra]();return U?{w:U.widths[0]+U.widths[2]+U.insets[0]+U.insets[2],h:U.widths[1]+U.widths[3]+U.insets[1]+U.insets[3]}:{w:0,h:0}}function I(Xe){return Xe.margin&&(Xe.margin.topInset||Xe.margin.rightInset||Xe.margin.bottomInset||Xe.margin.leftInset)}function J(Xe,U){if(!Xe.value){const Ne=new ir({});Xe[d.$appendChild](Ne),Xe.value=Ne}Xe.value[d.$setValue](U)}function*_(Xe){for(const U of Xe[d.$getChildren]())U instanceof li?yield*U[d.$getContainedChildren]():yield U}function L(Xe){return Xe.validate&&Xe.validate.nullTest==="error"}function K(Xe){for(;Xe;){if(!Xe.traversal){Xe[d.$tabIndex]=Xe[d.$getParent]()[d.$tabIndex];return}if(Xe[d.$tabIndex])return;let U=null;for(const Le of Xe.traversal[d.$getChildren]())if(Le.operation==="next"){U=Le;break}if(!U||!U.ref){Xe[d.$tabIndex]=Xe[d.$getParent]()[d.$tabIndex];return}const Ne=Xe[d.$getTemplateRoot]();Xe[d.$tabIndex]=++Ne[d.$tabIndex];const We=Ne[d.$searchNode](U.ref,Xe);if(!We)return;Xe=We[0]}}function $(Xe,U){const Ne=Xe.assist;if(Ne){const We=Ne[d.$toHTML]();We&&(U.title=We);const Le=Ne.role.match(E);if(Le){const ke="heading",ft=Le[1];U.role=ke,U["aria-level"]=ft}}if(Xe.layout==="table")U.role="table";else if(Xe.layout==="row")U.role="row";else{const We=Xe[d.$getParent]();We.layout==="row"&&(We.assist&&We.assist.role==="TH"?U.role="columnheader":U.role="cell")}}function D(Xe){if(!Xe.assist)return null;const U=Xe.assist;return U.speak&&U.speak[d.$content]!==""?U.speak[d.$content]:U.toolTip?U.toolTip[d.$content]:null}function ne(Xe){return u.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Xe}]})}function F(Xe){const U=Xe[d.$getTemplateRoot]();U[d.$extra].firstUnsplittable===null&&(U[d.$extra].firstUnsplittable=Xe,U[d.$extra].noLayoutFailure=!0)}function j(Xe){const U=Xe[d.$getTemplateRoot]();U[d.$extra].firstUnsplittable===Xe&&(U[d.$extra].noLayoutFailure=!1)}function se(Xe){if(Xe[d.$extra]||(Xe[d.$extra]=Object.create(null),Xe.targetType==="auto"))return!1;const U=Xe[d.$getTemplateRoot]();let Ne=null;if(Xe.target){if(Ne=U[d.$searchNode](Xe.target,Xe[d.$getParent]()),!Ne)return!1;Ne=Ne[0]}const{currentPageArea:We,currentContentArea:Le}=U[d.$extra];if(Xe.targetType==="pageArea")return Ne instanceof Zt||(Ne=null),Xe.startNew?(Xe[d.$extra].target=Ne||We,!0):Ne&&Ne!==We?(Xe[d.$extra].target=Ne,!0):!1;Ne instanceof ge||(Ne=null);const ke=Ne&&Ne[d.$getParent]();let ft,Pt=ke;if(Xe.startNew)if(Ne){const Ft=ke.contentArea.children,Gt=Ft.indexOf(Le),Jt=Ft.indexOf(Ne);Gt!==-1&&Gt<Jt&&(Pt=null),ft=Jt-1}else ft=We.contentArea.children.indexOf(Le);else{if(!Ne||Ne===Le)return!1;ft=ke.contentArea.children.indexOf(Ne)-1,Pt=ke===We?null:ke}return Xe[d.$extra].target=Pt,Xe[d.$extra].index=ft,!0}function Y(Xe,U,Ne){const We=Xe[d.$getTemplateRoot](),Le=We[d.$extra].noLayoutFailure,ke=U[d.$getSubformParent];U[d.$getSubformParent]=()=>Xe,We[d.$extra].noLayoutFailure=!0;const ft=U[d.$toHTML](Ne);Xe[d.$addHTML](ft.html,ft.bbox),We[d.$extra].noLayoutFailure=Le,U[d.$getSubformParent]=ke}class q extends d.StringObject{constructor(U){super(A,"appearanceFilter"),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||""}}class Q extends d.XFAObject{constructor(U){super(A,"arc",!0),this.circular=(0,u.getInteger)({data:U.circular,defaultValue:0,validate:Ne=>Ne===1}),this.hand=(0,u.getStringOption)(U.hand,["even","left","right"]),this.id=U.id||"",this.startAngle=(0,u.getFloat)({data:U.startAngle,defaultValue:0,validate:Ne=>!0}),this.sweepAngle=(0,u.getFloat)({data:U.sweepAngle,defaultValue:360,validate:Ne=>!0}),this.use=U.use||"",this.usehref=U.usehref||"",this.edge=null,this.fill=null}[d.$toHTML](){const U=this.edge||new Me({}),Ne=U[d.$toStyle](),We=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(We,this.fill[d.$toStyle]()):We.fill="transparent",We.strokeWidth=(0,x.measureToString)(U.presence==="visible"?U.thickness:0),We.stroke=Ne.color;let Le;const ke={xmlns:g,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Le={name:"ellipse",attributes:{xmlns:g,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:We}};else{const Pt=this.startAngle*Math.PI/180,Ft=this.sweepAngle*Math.PI/180,Gt=this.sweepAngle>180?1:0,[Jt,sn,un,mn]=[50*(1+Math.cos(Pt)),50*(1-Math.sin(Pt)),50*(1+Math.cos(Pt+Ft)),50*(1-Math.sin(Pt+Ft))];Le={name:"path",attributes:{xmlns:g,d:`M ${Jt} ${sn} A 50 50 0 ${Gt} 0 ${un} ${mn}`,vectorEffect:"non-scaling-stroke",style:We}},Object.assign(ke,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const ft={name:"svg",children:[Le],attributes:ke};return I(this[d.$getParent]()[d.$getParent]())?u.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ft]}):(ft.attributes.style.position="absolute",u.HTMLResult.success(ft))}}class N extends d.XFAObject{constructor(U){super(A,"area",!0),this.colSpan=(0,u.getInteger)({data:U.colSpan,defaultValue:1,validate:Ne=>Ne>=1||Ne===-1}),this.id=U.id||"",this.name=U.name||"",this.relevant=(0,u.getRelevant)(U.relevant),this.use=U.use||"",this.usehref=U.usehref||"",this.x=(0,u.getMeasurement)(U.x,"0pt"),this.y=(0,u.getMeasurement)(U.y,"0pt"),this.desc=null,this.extras=null,this.area=new d.XFAObjectArray,this.draw=new d.XFAObjectArray,this.exObject=new d.XFAObjectArray,this.exclGroup=new d.XFAObjectArray,this.field=new d.XFAObjectArray,this.subform=new d.XFAObjectArray,this.subformSet=new d.XFAObjectArray}*[d.$getContainedChildren](){yield*_(this)}[d.$isTransparent](){return!0}[d.$isBindable](){return!0}[d.$addHTML](U,Ne){const[We,Le,ke,ft]=Ne;this[d.$extra].width=Math.max(this[d.$extra].width,We+ke),this[d.$extra].height=Math.max(this[d.$extra].height,Le+ft),this[d.$extra].children.push(U)}[d.$getAvailableSpace](){return this[d.$extra].availableSpace}[d.$toHTML](U){const Ne=(0,x.toStyle)(this,"position"),We={style:Ne,id:this[d.$uid],class:["xfaArea"]};(0,x.isPrintOnly)(this)&&We.class.push("xfaPrintOnly"),this.name&&(We.xfaName=this.name);const Le=[];this[d.$extra]={children:Le,width:0,height:0,availableSpace:U};const ke=this[d.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!ke.success)return ke.isBreak()?ke:(delete this[d.$extra],u.HTMLResult.FAILURE);Ne.width=(0,x.measureToString)(this[d.$extra].width),Ne.height=(0,x.measureToString)(this[d.$extra].height);const ft={name:"div",attributes:We,children:Le},Pt=[this.x,this.y,this[d.$extra].width,this[d.$extra].height];return delete this[d.$extra],u.HTMLResult.success(ft,Pt)}}class O extends d.XFAObject{constructor(U){super(A,"assist",!0),this.id=U.id||"",this.role=U.role||"",this.use=U.use||"",this.usehref=U.usehref||"",this.speak=null,this.toolTip=null}[d.$toHTML](){return this.toolTip&&this.toolTip[d.$content]?this.toolTip[d.$content]:null}}class H extends d.XFAObject{constructor(U){super(A,"barcode",!0),this.charEncoding=(0,u.getKeyword)({data:U.charEncoding?U.charEncoding.toLowerCase():"",defaultValue:"",validate:Ne=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Ne)||Ne.match(/iso-8859-\d{2}/)}),this.checksum=(0,u.getStringOption)(U.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,u.getInteger)({data:U.dataColumnCount,defaultValue:-1,validate:Ne=>Ne>=0}),this.dataLength=(0,u.getInteger)({data:U.dataLength,defaultValue:-1,validate:Ne=>Ne>=0}),this.dataPrep=(0,u.getStringOption)(U.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,u.getInteger)({data:U.dataRowCount,defaultValue:-1,validate:Ne=>Ne>=0}),this.endChar=U.endChar||"",this.errorCorrectionLevel=(0,u.getInteger)({data:U.errorCorrectionLevel,defaultValue:-1,validate:Ne=>Ne>=0&&Ne<=8}),this.id=U.id||"",this.moduleHeight=(0,u.getMeasurement)(U.moduleHeight,"5mm"),this.moduleWidth=(0,u.getMeasurement)(U.moduleWidth,"0.25mm"),this.printCheckDigit=(0,u.getInteger)({data:U.printCheckDigit,defaultValue:0,validate:Ne=>Ne===1}),this.rowColumnRatio=(0,u.getRatio)(U.rowColumnRatio),this.startChar=U.startChar||"",this.textLocation=(0,u.getStringOption)(U.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,u.getInteger)({data:U.truncate,defaultValue:0,validate:Ne=>Ne===1}),this.type=(0,u.getStringOption)(U.type?U.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,u.getStringOption)(U.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=U.use||"",this.usehref=U.usehref||"",this.wideNarrowRatio=(0,u.getRatio)(U.wideNarrowRatio),this.encrypt=null,this.extras=null}}class G extends d.XFAObject{constructor(U){super(A,"bind",!0),this.match=(0,u.getStringOption)(U.match,["once","dataRef","global","none"]),this.ref=U.ref||"",this.picture=null}}class le extends d.XFAObject{constructor(U){super(A,"bindItems"),this.connection=U.connection||"",this.labelRef=U.labelRef||"",this.ref=U.ref||"",this.valueRef=U.valueRef||""}}h.BindItems=le;class fe extends d.XFAObject{constructor(U){super(A,"bookend"),this.id=U.id||"",this.leader=U.leader||"",this.trailer=U.trailer||"",this.use=U.use||"",this.usehref=U.usehref||""}}class ae extends d.Option01{constructor(U){super(A,"boolean"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$toHTML](U){return ne(this[d.$content]===1?"1":"0")}}class re extends d.XFAObject{constructor(U){super(A,"border",!0),this.break=(0,u.getStringOption)(U.break,["close","open"]),this.hand=(0,u.getStringOption)(U.hand,["even","left","right"]),this.id=U.id||"",this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,u.getRelevant)(U.relevant),this.use=U.use||"",this.usehref=U.usehref||"",this.corner=new d.XFAObjectArray(4),this.edge=new d.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[d.$getExtra](){if(!this[d.$extra]){const U=this.edge.children.slice();if(U.length<4){const Le=U.at(-1)||new Me({});for(let ke=U.length;ke<4;ke++)U.push(Le)}const Ne=U.map(Le=>Le.thickness),We=[0,0,0,0];this.margin&&(We[0]=this.margin.topInset,We[1]=this.margin.rightInset,We[2]=this.margin.bottomInset,We[3]=this.margin.leftInset),this[d.$extra]={widths:Ne,insets:We,edges:U}}return this[d.$extra]}[d.$toStyle](){const{edges:U}=this[d.$getExtra](),Ne=U.map(Le=>{const ke=Le[d.$toStyle]();return ke.color=ke.color||"#000000",ke}),We=Object.create(null);if(this.margin&&Object.assign(We,this.margin[d.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign(We,this.fill[d.$toStyle]()),this.corner.children.some(Le=>Le.radius!==0)){const Le=this.corner.children.map(ke=>ke[d.$toStyle]());if(Le.length===2||Le.length===3){const ke=Le.at(-1);for(let ft=Le.length;ft<4;ft++)Le.push(ke)}We.borderRadius=Le.map(ke=>ke.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":We.borderStyle="";break;case"inactive":We.borderStyle="none";break;default:We.borderStyle=Ne.map(Le=>Le.style).join(" ")}return We.borderWidth=Ne.map(Le=>Le.width).join(" "),We.borderColor=Ne.map(Le=>Le.color).join(" "),We}}class be extends d.XFAObject{constructor(U){super(A,"break",!0),this.after=(0,u.getStringOption)(U.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=U.afterTarget||"",this.before=(0,u.getStringOption)(U.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=U.beforeTarget||"",this.bookendLeader=U.bookendLeader||"",this.bookendTrailer=U.bookendTrailer||"",this.id=U.id||"",this.overflowLeader=U.overflowLeader||"",this.overflowTarget=U.overflowTarget||"",this.overflowTrailer=U.overflowTrailer||"",this.startNew=(0,u.getInteger)({data:U.startNew,defaultValue:0,validate:Ne=>Ne===1}),this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null}}class ye extends d.XFAObject{constructor(U){super(A,"breakAfter",!0),this.id=U.id||"",this.leader=U.leader||"",this.startNew=(0,u.getInteger)({data:U.startNew,defaultValue:0,validate:Ne=>Ne===1}),this.target=U.target||"",this.targetType=(0,u.getStringOption)(U.targetType,["auto","contentArea","pageArea"]),this.trailer=U.trailer||"",this.use=U.use||"",this.usehref=U.usehref||"",this.script=null}}class Ce extends d.XFAObject{constructor(U){super(A,"breakBefore",!0),this.id=U.id||"",this.leader=U.leader||"",this.startNew=(0,u.getInteger)({data:U.startNew,defaultValue:0,validate:Ne=>Ne===1}),this.target=U.target||"",this.targetType=(0,u.getStringOption)(U.targetType,["auto","contentArea","pageArea"]),this.trailer=U.trailer||"",this.use=U.use||"",this.usehref=U.usehref||"",this.script=null}[d.$toHTML](U){return this[d.$extra]={},u.HTMLResult.FAILURE}}class me extends d.XFAObject{constructor(U){super(A,"button",!0),this.highlight=(0,u.getStringOption)(U.highlight,["inverted","none","outline","push"]),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null}[d.$toHTML](U){const Ne=this[d.$getParent]()[d.$getParent](),We={name:"button",attributes:{id:this[d.$uid],class:["xfaButton"],style:{}},children:[]};for(const Le of Ne.event.children){if(Le.activity!=="click"||!Le.script)continue;const ke=(0,C.recoverJsURL)(Le.script[d.$content]);if(!ke)continue;const ft=(0,x.fixURL)(ke.url);ft&&We.children.push({name:"a",attributes:{id:"link"+this[d.$uid],href:ft,newWindow:ke.newWindow,class:["xfaLink"],style:{}},children:[]})}return u.HTMLResult.success(We)}}class ee extends d.XFAObject{constructor(U){super(A,"calculate",!0),this.id=U.id||"",this.override=(0,u.getStringOption)(U.override,["disabled","error","ignore","warning"]),this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.message=null,this.script=null}}class te extends d.XFAObject{constructor(U){super(A,"caption",!0),this.id=U.id||"",this.placement=(0,u.getStringOption)(U.placement,["left","bottom","inline","right","top"]),this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,u.getMeasurement)(U.reserve)),this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[d.$setValue](U){J(this,U)}[d.$getExtra](U){if(!this[d.$extra]){let{width:Ne,height:We}=U;switch(this.placement){case"left":case"right":case"inline":Ne=this.reserve<=0?Ne:this.reserve;break;case"top":case"bottom":We=this.reserve<=0?We:this.reserve}this[d.$extra]=(0,x.layoutNode)(this,{width:Ne,height:We})}return this[d.$extra]}[d.$toHTML](U){if(!this.value)return u.HTMLResult.EMPTY;this[d.$pushPara]();const Ne=this.value[d.$toHTML](U).html;if(!Ne)return this[d.$popPara](),u.HTMLResult.EMPTY;const We=this.reserve;if(this.reserve<=0){const{w:ft,h:Pt}=this[d.$getExtra](U);switch(this.placement){case"left":case"right":case"inline":this.reserve=ft;break;case"top":case"bottom":this.reserve=Pt}}const Le=[];typeof Ne=="string"?Le.push({name:"#text",value:Ne}):Le.push(Ne);const ke=(0,x.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(ke.width=(0,x.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(ke.height=(0,x.measureToString)(this.reserve))}return(0,x.setPara)(this,null,Ne),this[d.$popPara](),this.reserve=We,u.HTMLResult.success({name:"div",attributes:{style:ke,class:["xfaCaption"]},children:Le})}}class oe extends d.StringObject{constructor(U){super(A,"certificate"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}}class V extends d.XFAObject{constructor(U){super(A,"certificates",!0),this.credentialServerPolicy=(0,u.getStringOption)(U.credentialServerPolicy,["optional","required"]),this.id=U.id||"",this.url=U.url||"",this.urlPolicy=U.urlPolicy||"",this.use=U.use||"",this.usehref=U.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class W extends d.XFAObject{constructor(U){super(A,"checkButton",!0),this.id=U.id||"",this.mark=(0,u.getStringOption)(U.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,u.getStringOption)(U.shape,["square","round"]),this.size=(0,u.getMeasurement)(U.size,"10pt"),this.use=U.use||"",this.usehref=U.usehref||"",this.border=null,this.extras=null,this.margin=null}[d.$toHTML](U){const Ne=(0,x.toStyle)("margin"),We=(0,x.measureToString)(this.size);Ne.width=Ne.height=We;let Le,ke,ft;const Pt=this[d.$getParent]()[d.$getParent](),Ft=Pt.items.children.length&&Pt.items.children[0][d.$toHTML]().html||[],Gt={on:(Ft[0]!==void 0?Ft[0]:"on").toString(),off:(Ft[1]!==void 0?Ft[1]:"off").toString()},Jt=(Pt.value&&Pt.value[d.$text]()||"off")===Gt.on||void 0,sn=Pt[d.$getSubformParent](),un=Pt[d.$uid];let mn;sn instanceof dt?(ft=sn[d.$uid],Le="radio",ke="xfaRadio",mn=sn[d.$data]&&sn[d.$data][d.$uid]||sn[d.$uid]):(Le="checkbox",ke="xfaCheckbox",mn=Pt[d.$data]&&Pt[d.$data][d.$uid]||Pt[d.$uid]);const an={name:"input",attributes:{class:[ke],style:Ne,fieldId:un,dataId:mn,type:Le,checked:Jt,xfaOn:Gt.on,xfaOff:Gt.off,"aria-label":D(Pt),"aria-required":!1}};return ft&&(an.attributes.name=ft),L(Pt)&&(an.attributes["aria-required"]=!0,an.attributes.required=!0),u.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[an]})}}class ue extends d.XFAObject{constructor(U){super(A,"choiceList",!0),this.commitOn=(0,u.getStringOption)(U.commitOn,["select","exit"]),this.id=U.id||"",this.open=(0,u.getStringOption)(U.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,u.getInteger)({data:U.textEntry,defaultValue:0,validate:Ne=>Ne===1}),this.use=U.use||"",this.usehref=U.usehref||"",this.border=null,this.extras=null,this.margin=null}[d.$toHTML](U){const Ne=(0,x.toStyle)(this,"border","margin"),We=this[d.$getParent]()[d.$getParent](),Le={fontSize:`calc(${We.font&&We.font.size||10}px * var(--scale-factor))`},ke=[];if(We.items.children.length>0){const Pt=We.items;let Ft=0,Gt=0;Pt.children.length===2&&(Ft=Pt.children[0].save,Gt=1-Ft);const Jt=Pt.children[Ft][d.$toHTML]().html,sn=Pt.children[Gt][d.$toHTML]().html;let un=!1;const mn=We.value&&We.value[d.$text]()||"";for(let an=0,tn=Jt.length;an<tn;an++){const An={name:"option",attributes:{value:sn[an]||Jt[an],style:Le},value:Jt[an]};sn[an]===mn&&(An.attributes.selected=un=!0),ke.push(An)}un||ke.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const ft={class:["xfaSelect"],fieldId:We[d.$uid],dataId:We[d.$data]&&We[d.$data][d.$uid]||We[d.$uid],style:Ne,"aria-label":D(We),"aria-required":!1};return L(We)&&(ft["aria-required"]=!0,ft.required=!0),this.open==="multiSelect"&&(ft.multiple=!0),u.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:ke,attributes:ft}]})}}class he extends d.XFAObject{constructor(U){super(A,"color",!0),this.cSpace=(0,u.getStringOption)(U.cSpace,["SRGB"]),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.value=U.value?(0,u.getColor)(U.value):"",this.extras=null}[d.$hasSettableValue](){return!1}[d.$toStyle](){return this.value?w.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class pe extends d.XFAObject{constructor(U){super(A,"comb"),this.id=U.id||"",this.numberOfCells=(0,u.getInteger)({data:U.numberOfCells,defaultValue:0,validate:Ne=>Ne>=0}),this.use=U.use||"",this.usehref=U.usehref||""}}class Se extends d.XFAObject{constructor(U){super(A,"connect",!0),this.connection=U.connection||"",this.id=U.id||"",this.ref=U.ref||"",this.usage=(0,u.getStringOption)(U.usage,["exportAndImport","exportOnly","importOnly"]),this.use=U.use||"",this.usehref=U.usehref||"",this.picture=null}}class ge extends d.XFAObject{constructor(U){super(A,"contentArea",!0),this.h=(0,u.getMeasurement)(U.h),this.id=U.id||"",this.name=U.name||"",this.relevant=(0,u.getRelevant)(U.relevant),this.use=U.use||"",this.usehref=U.usehref||"",this.w=(0,u.getMeasurement)(U.w),this.x=(0,u.getMeasurement)(U.x,"0pt"),this.y=(0,u.getMeasurement)(U.y,"0pt"),this.desc=null,this.extras=null}[d.$toHTML](U){const Ne={left:(0,x.measureToString)(this.x),top:(0,x.measureToString)(this.y),width:(0,x.measureToString)(this.w),height:(0,x.measureToString)(this.h)},We=["xfaContentarea"];return(0,x.isPrintOnly)(this)&&We.push("xfaPrintOnly"),u.HTMLResult.success({name:"div",children:[],attributes:{style:Ne,class:We,id:this[d.$uid]}})}}class de extends d.XFAObject{constructor(U){super(A,"corner",!0),this.id=U.id||"",this.inverted=(0,u.getInteger)({data:U.inverted,defaultValue:0,validate:Ne=>Ne===1}),this.join=(0,u.getStringOption)(U.join,["square","round"]),this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,u.getMeasurement)(U.radius),this.stroke=(0,u.getStringOption)(U.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,u.getMeasurement)(U.thickness,"0.5pt"),this.use=U.use||"",this.usehref=U.usehref||"",this.color=null,this.extras=null}[d.$toStyle](){const U=(0,x.toStyle)(this,"visibility");return U.radius=(0,x.measureToString)(this.join==="square"?0:this.radius),U}}class xe extends d.ContentObject{constructor(U){super(A,"date"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$finalize](){const U=this[d.$content].trim();this[d.$content]=U?new Date(U):null}[d.$toHTML](U){return ne(this[d.$content]?this[d.$content].toString():"")}}class ve extends d.ContentObject{constructor(U){super(A,"dateTime"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$finalize](){const U=this[d.$content].trim();this[d.$content]=U?new Date(U):null}[d.$toHTML](U){return ne(this[d.$content]?this[d.$content].toString():"")}}class Ee extends d.XFAObject{constructor(U){super(A,"dateTimeEdit",!0),this.hScrollPolicy=(0,u.getStringOption)(U.hScrollPolicy,["auto","off","on"]),this.id=U.id||"",this.picker=(0,u.getStringOption)(U.picker,["host","none"]),this.use=U.use||"",this.usehref=U.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[d.$toHTML](U){const Ne=(0,x.toStyle)(this,"border","font","margin"),We=this[d.$getParent]()[d.$getParent](),Le={name:"input",attributes:{type:"text",fieldId:We[d.$uid],dataId:We[d.$data]&&We[d.$data][d.$uid]||We[d.$uid],class:["xfaTextfield"],style:Ne,"aria-label":D(We),"aria-required":!1}};return L(We)&&(Le.attributes["aria-required"]=!0,Le.attributes.required=!0),u.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Le]})}}class Te extends d.ContentObject{constructor(U){super(A,"decimal"),this.fracDigits=(0,u.getInteger)({data:U.fracDigits,defaultValue:2,validate:Ne=>!0}),this.id=U.id||"",this.leadDigits=(0,u.getInteger)({data:U.leadDigits,defaultValue:-1,validate:Ne=>!0}),this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$finalize](){const U=parseFloat(this[d.$content].trim());this[d.$content]=isNaN(U)?null:U}[d.$toHTML](U){return ne(this[d.$content]!==null?this[d.$content].toString():"")}}class _e extends d.XFAObject{constructor(U){super(A,"defaultUi",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null}}class Oe extends d.XFAObject{constructor(U){super(A,"desc",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.boolean=new d.XFAObjectArray,this.date=new d.XFAObjectArray,this.dateTime=new d.XFAObjectArray,this.decimal=new d.XFAObjectArray,this.exData=new d.XFAObjectArray,this.float=new d.XFAObjectArray,this.image=new d.XFAObjectArray,this.integer=new d.XFAObjectArray,this.text=new d.XFAObjectArray,this.time=new d.XFAObjectArray}}class Pe extends d.OptionObject{constructor(U){super(A,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||""}}class je extends d.XFAObject{constructor(U){super(A,"digestMethods",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.digestMethod=new d.XFAObjectArray}}class De extends d.XFAObject{constructor(U){super(A,"draw",!0),this.anchorType=(0,u.getStringOption)(U.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,u.getInteger)({data:U.colSpan,defaultValue:1,validate:Ne=>Ne>=1||Ne===-1}),this.h=U.h?(0,u.getMeasurement)(U.h):"",this.hAlign=(0,u.getStringOption)(U.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=U.id||"",this.locale=U.locale||"",this.maxH=(0,u.getMeasurement)(U.maxH,"0pt"),this.maxW=(0,u.getMeasurement)(U.maxW,"0pt"),this.minH=(0,u.getMeasurement)(U.minH,"0pt"),this.minW=(0,u.getMeasurement)(U.minW,"0pt"),this.name=U.name||"",this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,u.getRelevant)(U.relevant),this.rotate=(0,u.getInteger)({data:U.rotate,defaultValue:0,validate:Ne=>Ne%90==0}),this.use=U.use||"",this.usehref=U.usehref||"",this.w=U.w?(0,u.getMeasurement)(U.w):"",this.x=(0,u.getMeasurement)(U.x,"0pt"),this.y=(0,u.getMeasurement)(U.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new d.XFAObjectArray}[d.$setValue](U){J(this,U)}[d.$toHTML](U){if(K(this),this.presence==="hidden"||this.presence==="inactive")return u.HTMLResult.EMPTY;(0,x.fixDimensions)(this),this[d.$pushPara]();const Ne=this.w,We=this.h,{w:Le,h:ke,isBroken:ft}=(0,x.layoutNode)(this,U);if(Le&&this.w===""){if(ft&&this[d.$getSubformParent]()[d.$isThereMoreWidth]())return this[d.$popPara](),u.HTMLResult.FAILURE;this.w=Le}if(ke&&this.h===""&&(this.h=ke),F(this),!(0,y.checkDimensions)(this,U))return this.w=Ne,this.h=We,this[d.$popPara](),u.HTMLResult.FAILURE;j(this);const Pt=(0,x.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,x.setMinMaxDimensions)(this,Pt),Pt.margin&&(Pt.padding=Pt.margin,delete Pt.margin);const Ft=["xfaDraw"];this.font&&Ft.push("xfaFont"),(0,x.isPrintOnly)(this)&&Ft.push("xfaPrintOnly");const Gt={style:Pt,id:this[d.$uid],class:Ft};this.name&&(Gt.xfaName=this.name);const Jt={name:"div",attributes:Gt,children:[]};$(this,Gt);const sn=(0,x.computeBbox)(this,Jt,U),un=this.value?this.value[d.$toHTML](U).html:null;return un===null?(this.w=Ne,this.h=We,this[d.$popPara](),u.HTMLResult.success((0,x.createWrapper)(this,Jt),sn)):(Jt.children.push(un),(0,x.setPara)(this,Pt,un),this.w=Ne,this.h=We,this[d.$popPara](),u.HTMLResult.success((0,x.createWrapper)(this,Jt),sn))}}class Me extends d.XFAObject{constructor(U){super(A,"edge",!0),this.cap=(0,u.getStringOption)(U.cap,["square","butt","round"]),this.id=U.id||"",this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,u.getStringOption)(U.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,u.getMeasurement)(U.thickness,"0.5pt"),this.use=U.use||"",this.usehref=U.usehref||"",this.color=null,this.extras=null}[d.$toStyle](){const U=(0,x.toStyle)(this,"visibility");if(Object.assign(U,{linecap:this.cap,width:(0,x.measureToString)(this.thickness),color:this.color?this.color[d.$toStyle]():"#000000",style:""}),this.presence!=="visible")U.style="none";else switch(this.stroke){case"solid":U.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":U.style="dashed";break;case"dotted":U.style="dotted";break;case"embossed":U.style="ridge";break;case"etched":U.style="groove";break;case"lowered":U.style="inset";break;case"raised":U.style="outset"}return U}}class Fe extends d.OptionObject{constructor(U){super(A,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||""}}class $e extends d.XFAObject{constructor(U){super(A,"encodings",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.encoding=new d.XFAObjectArray}}class tt extends d.XFAObject{constructor(U){super(A,"encrypt",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.certificate=null}}class ut extends d.XFAObject{constructor(U){super(A,"encryptData",!0),this.id=U.id||"",this.operation=(0,u.getStringOption)(U.operation,["encrypt","decrypt"]),this.target=U.target||"",this.use=U.use||"",this.usehref=U.usehref||"",this.filter=null,this.manifest=null}}class ct extends d.XFAObject{constructor(U){super(A,"encryption",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.certificate=new d.XFAObjectArray}}class mt extends d.OptionObject{constructor(U){super(A,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||""}}class Ze extends d.XFAObject{constructor(U){super(A,"encryptionMethods",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.encryptionMethod=new d.XFAObjectArray}}class St extends d.XFAObject{constructor(U){super(A,"event",!0),this.activity=(0,u.getStringOption)(U.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=U.id||"",this.listen=(0,u.getStringOption)(U.listen,["refOnly","refAndDescendents"]),this.name=U.name||"",this.ref=U.ref||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Rt extends d.ContentObject{constructor(U){super(A,"exData"),this.contentType=U.contentType||"",this.href=U.href||"",this.id=U.id||"",this.maxLength=(0,u.getInteger)({data:U.maxLength,defaultValue:-1,validate:Ne=>Ne>=-1}),this.name=U.name||"",this.rid=U.rid||"",this.transferEncoding=(0,u.getStringOption)(U.transferEncoding,["none","base64","package"]),this.use=U.use||"",this.usehref=U.usehref||""}[d.$isCDATAXml](){return this.contentType==="text/html"}[d.$onChild](U){return this.contentType==="text/html"&&U[d.$namespaceId]===m.NamespaceIds.xhtml.id?(this[d.$content]=U,!0):this.contentType==="text/xml"?(this[d.$content]=U,!0):!1}[d.$toHTML](U){return this.contentType==="text/html"&&this[d.$content]?this[d.$content][d.$toHTML](U):u.HTMLResult.EMPTY}}class $t extends d.XFAObject{constructor(U){super(A,"exObject",!0),this.archive=U.archive||"",this.classId=U.classId||"",this.codeBase=U.codeBase||"",this.codeType=U.codeType||"",this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.boolean=new d.XFAObjectArray,this.date=new d.XFAObjectArray,this.dateTime=new d.XFAObjectArray,this.decimal=new d.XFAObjectArray,this.exData=new d.XFAObjectArray,this.exObject=new d.XFAObjectArray,this.float=new d.XFAObjectArray,this.image=new d.XFAObjectArray,this.integer=new d.XFAObjectArray,this.text=new d.XFAObjectArray,this.time=new d.XFAObjectArray}}class dt extends d.XFAObject{constructor(U){super(A,"exclGroup",!0),this.access=(0,u.getStringOption)(U.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=U.accessKey||"",this.anchorType=(0,u.getStringOption)(U.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,u.getInteger)({data:U.colSpan,defaultValue:1,validate:Ne=>Ne>=1||Ne===-1}),this.h=U.h?(0,u.getMeasurement)(U.h):"",this.hAlign=(0,u.getStringOption)(U.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=U.id||"",this.layout=(0,u.getStringOption)(U.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,u.getMeasurement)(U.maxH,"0pt"),this.maxW=(0,u.getMeasurement)(U.maxW,"0pt"),this.minH=(0,u.getMeasurement)(U.minH,"0pt"),this.minW=(0,u.getMeasurement)(U.minW,"0pt"),this.name=U.name||"",this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,u.getRelevant)(U.relevant),this.use=U.use||"",this.usehref=U.usehref||"",this.w=U.w?(0,u.getMeasurement)(U.w):"",this.x=(0,u.getMeasurement)(U.x,"0pt"),this.y=(0,u.getMeasurement)(U.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new d.XFAObjectArray,this.event=new d.XFAObjectArray,this.field=new d.XFAObjectArray,this.setProperty=new d.XFAObjectArray}[d.$isBindable](){return!0}[d.$hasSettableValue](){return!0}[d.$setValue](U){for(const Ne of this.field.children){if(!Ne.value){const We=new ir({});Ne[d.$appendChild](We),Ne.value=We}Ne.value[d.$setValue](U)}}[d.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[d.$extra].attempt===0&&this[d.$extra].numberInLine>0||this[d.$getParent]()[d.$isThereMoreWidth]()}[d.$isSplittable](){const U=this[d.$getSubformParent]();return U[d.$isSplittable]()?this[d.$extra]._isSplittable!==void 0?this[d.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[d.$extra]._isSplittable=!1,!1):U.layout&&U.layout.endsWith("-tb")&&U[d.$extra].numberInLine!==0?!1:(this[d.$extra]._isSplittable=!0,!0):!1}[d.$flushHTML](){return(0,y.flushHTML)(this)}[d.$addHTML](U,Ne){(0,y.addHTML)(this,U,Ne)}[d.$getAvailableSpace](){return(0,y.getAvailableSpace)(this)}[d.$toHTML](U){if(K(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return u.HTMLResult.EMPTY;(0,x.fixDimensions)(this);const Ne=[],We={id:this[d.$uid],class:[]};(0,x.setAccess)(this,We.class),this[d.$extra]||(this[d.$extra]=Object.create(null)),Object.assign(this[d.$extra],{children:Ne,attributes:We,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,U.width),height:Math.min(this.h||1/0,U.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Le=this[d.$isSplittable]();if(Le||F(this),!(0,y.checkDimensions)(this,U))return u.HTMLResult.FAILURE;const ke=new Set(["field"]);if(this.layout.includes("row")){const Qt=this[d.$getSubformParent]().columnWidths;Array.isArray(Qt)&&Qt.length>0&&(this[d.$extra].columnWidths=Qt,this[d.$extra].currentColumn=0)}const ft=(0,x.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Pt=["xfaExclgroup"],Ft=(0,x.layoutClass)(this);Ft&&Pt.push(Ft),(0,x.isPrintOnly)(this)&&Pt.push("xfaPrintOnly"),We.style=ft,We.class=Pt,this.name&&(We.xfaName=this.name),this[d.$pushPara]();const Gt=this.layout==="lr-tb"||this.layout==="rl-tb",Jt=Gt?2:1;for(;this[d.$extra].attempt<Jt;this[d.$extra].attempt++){Gt&&this[d.$extra].attempt===1&&(this[d.$extra].numberInLine=0);const Qt=this[d.$childrenToHTML]({filter:ke,include:!0});if(Qt.success)break;if(Qt.isBreak())return this[d.$popPara](),Qt;if(Gt&&this[d.$extra].attempt===0&&this[d.$extra].numberInLine===0&&!this[d.$getTemplateRoot]()[d.$extra].noLayoutFailure){this[d.$extra].attempt=Jt;break}}if(this[d.$popPara](),Le||j(this),this[d.$extra].attempt===Jt)return Le||delete this[d.$extra],u.HTMLResult.FAILURE;let sn=0,un=0;this.margin&&(sn=this.margin.leftInset+this.margin.rightInset,un=this.margin.topInset+this.margin.bottomInset);const mn=Math.max(this[d.$extra].width+sn,this.w||0),an=Math.max(this[d.$extra].height+un,this.h||0),tn=[this.x,this.y,mn,an];this.w===""&&(ft.width=(0,x.measureToString)(mn)),this.h===""&&(ft.height=(0,x.measureToString)(an));const An={name:"div",attributes:We,children:Ne};return $(this,We),delete this[d.$extra],u.HTMLResult.success((0,x.createWrapper)(this,An),tn)}}class ot extends d.XFAObject{constructor(U){super(A,"execute"),this.connection=U.connection||"",this.executeType=(0,u.getStringOption)(U.executeType,["import","remerge"]),this.id=U.id||"",this.runAt=(0,u.getStringOption)(U.runAt,["client","both","server"]),this.use=U.use||"",this.usehref=U.usehref||""}}class lt extends d.XFAObject{constructor(U){super(A,"extras",!0),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||"",this.boolean=new d.XFAObjectArray,this.date=new d.XFAObjectArray,this.dateTime=new d.XFAObjectArray,this.decimal=new d.XFAObjectArray,this.exData=new d.XFAObjectArray,this.extras=new d.XFAObjectArray,this.float=new d.XFAObjectArray,this.image=new d.XFAObjectArray,this.integer=new d.XFAObjectArray,this.text=new d.XFAObjectArray,this.time=new d.XFAObjectArray}}class st extends d.XFAObject{constructor(U){super(A,"field",!0),this.access=(0,u.getStringOption)(U.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=U.accessKey||"",this.anchorType=(0,u.getStringOption)(U.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,u.getInteger)({data:U.colSpan,defaultValue:1,validate:Ne=>Ne>=1||Ne===-1}),this.h=U.h?(0,u.getMeasurement)(U.h):"",this.hAlign=(0,u.getStringOption)(U.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=U.id||"",this.locale=U.locale||"",this.maxH=(0,u.getMeasurement)(U.maxH,"0pt"),this.maxW=(0,u.getMeasurement)(U.maxW,"0pt"),this.minH=(0,u.getMeasurement)(U.minH,"0pt"),this.minW=(0,u.getMeasurement)(U.minW,"0pt"),this.name=U.name||"",this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,u.getRelevant)(U.relevant),this.rotate=(0,u.getInteger)({data:U.rotate,defaultValue:0,validate:Ne=>Ne%90==0}),this.use=U.use||"",this.usehref=U.usehref||"",this.w=U.w?(0,u.getMeasurement)(U.w):"",this.x=(0,u.getMeasurement)(U.x,"0pt"),this.y=(0,u.getMeasurement)(U.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new d.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new d.XFAObjectArray,this.connect=new d.XFAObjectArray,this.event=new d.XFAObjectArray,this.setProperty=new d.XFAObjectArray}[d.$isBindable](){return!0}[d.$setValue](U){J(this,U)}[d.$toHTML](U){if(K(this),!this.ui){this.ui=new Xn({}),this.ui[d.$globalData]=this[d.$globalData],this[d.$appendChild](this.ui);let Qt;switch(this.items.children.length){case 0:Qt=new ui({}),this.ui.textEdit=Qt;break;case 1:Qt=new W({}),this.ui.checkButton=Qt;break;case 2:Qt=new ue({}),this.ui.choiceList=Qt}this.ui[d.$appendChild](Qt)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return u.HTMLResult.EMPTY;this.caption&&delete this.caption[d.$extra],this[d.$pushPara]();const Ne=this.caption?this.caption[d.$toHTML](U).html:null,We=this.w,Le=this.h;let ke=0,ft=0;this.margin&&(ke=this.margin.leftInset+this.margin.rightInset,ft=this.margin.topInset+this.margin.bottomInset);let Pt=null;if(this.w===""||this.h===""){let Qt=null,rn=null,_n=0,en=0;if(this.ui.checkButton)_n=en=this.ui.checkButton.size;else{const{w:pr,h:Ln}=(0,x.layoutNode)(this,U);pr!==null?(_n=pr,en=Ln):en=(0,T.getMetrics)(this.font,!0).lineNoGap}if(Pt=R(this.ui[d.$getExtra]()),_n+=Pt.w,en+=Pt.h,this.caption){const{w:pr,h:Ln,isBroken:vn}=this.caption[d.$getExtra](U);if(vn&&this[d.$getSubformParent]()[d.$isThereMoreWidth]())return this[d.$popPara](),u.HTMLResult.FAILURE;switch(Qt=pr,rn=Ln,this.caption.placement){case"left":case"right":case"inline":Qt+=_n;break;case"top":case"bottom":rn+=en}}else Qt=_n,rn=en;Qt&&this.w===""&&(Qt+=ke,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Qt?Qt:this.minW)),rn&&this.h===""&&(rn+=ft,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<rn?rn:this.minH))}if(this[d.$popPara](),(0,x.fixDimensions)(this),F(this),!(0,y.checkDimensions)(this,U))return this.w=We,this.h=Le,this[d.$popPara](),u.HTMLResult.FAILURE;j(this);const Ft=(0,x.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,x.setMinMaxDimensions)(this,Ft);const Gt=["xfaField"];this.font&&Gt.push("xfaFont"),(0,x.isPrintOnly)(this)&&Gt.push("xfaPrintOnly");const Jt={style:Ft,id:this[d.$uid],class:Gt};Ft.margin&&(Ft.padding=Ft.margin,delete Ft.margin),(0,x.setAccess)(this,Gt),this.name&&(Jt.xfaName=this.name);const sn=[],un={name:"div",attributes:Jt,children:sn};$(this,Jt);const mn=this.border?this.border[d.$toStyle]():null,an=(0,x.computeBbox)(this,un,U),tn=this.ui[d.$toHTML]().html;if(!tn)return Object.assign(Ft,mn),u.HTMLResult.success((0,x.createWrapper)(this,un),an);this[d.$tabIndex]&&(tn.children&&tn.children[0]?tn.children[0].attributes.tabindex=this[d.$tabIndex]:tn.attributes.tabindex=this[d.$tabIndex]),tn.attributes.style||(tn.attributes.style=Object.create(null));let An=null;if(this.ui.button?(tn.children.length===1&&([An]=tn.children.splice(0,1)),Object.assign(tn.attributes.style,mn)):Object.assign(Ft,mn),sn.push(tn),this.value){if(this.ui.imageEdit)tn.children.push(this.value[d.$toHTML]().html);else if(!this.ui.button){let Qt="";if(this.value.exData)Qt=this.value.exData[d.$text]();else if(this.value.text)Qt=this.value.text[d.$getExtra]();else{const rn=this.value[d.$toHTML]().html;rn!==null&&(Qt=rn.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(tn.children[0].attributes.maxLength=this.value.text.maxChars),Qt&&(this.ui.numericEdit&&(Qt=parseFloat(Qt),Qt=isNaN(Qt)?"":Qt.toString()),tn.children[0].name==="textarea"?tn.children[0].attributes.textContent=Qt:tn.children[0].attributes.value=Qt)}}if(!this.ui.imageEdit&&tn.children&&tn.children[0]&&this.h){Pt=Pt||R(this.ui[d.$getExtra]());let Qt=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Qt=this.caption.reserve,Qt<=0&&(Qt=this.caption[d.$getExtra](U).h);const rn=this.h-Qt-ft-Pt.h;tn.children[0].attributes.style.height=(0,x.measureToString)(rn)}else tn.children[0].attributes.style.height="100%"}if(An&&tn.children.push(An),!Ne)return tn.attributes.class&&tn.attributes.class.push("xfaLeft"),this.w=We,this.h=Le,u.HTMLResult.success((0,x.createWrapper)(this,un),an);if(this.ui.button)return Ft.padding&&delete Ft.padding,Ne.name==="div"&&(Ne.name="span"),tn.children.push(Ne),u.HTMLResult.success(un,an);switch(this.ui.checkButton&&(Ne.attributes.class[0]="xfaCaptionForCheckButton"),tn.attributes.class||(tn.attributes.class=[]),tn.children.splice(0,0,Ne),this.caption.placement){case"left":case"inline":tn.attributes.class.push("xfaLeft");break;case"right":tn.attributes.class.push("xfaRight");break;case"top":tn.attributes.class.push("xfaTop");break;case"bottom":tn.attributes.class.push("xfaBottom")}return this.w=We,this.h=Le,u.HTMLResult.success((0,x.createWrapper)(this,un),an)}}h.Field=st;class Ge extends d.XFAObject{constructor(U){super(A,"fill",!0),this.id=U.id||"",this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.use=U.use||"",this.usehref=U.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[d.$toStyle](){const U=this[d.$getParent](),Ne=U[d.$getParent]()[d.$getParent](),We=Object.create(null);let Le="color",ke=Le;U instanceof re&&(Le="background-color",ke="background",Ne instanceof Xn&&(We.backgroundColor="white")),(U instanceof Ai||U instanceof Q)&&(Le=ke="fill",We.fill="white");for(const ft of Object.getOwnPropertyNames(this)){if(ft==="extras"||ft==="color")continue;const Pt=this[ft];if(!(Pt instanceof d.XFAObject))continue;const Ft=Pt[d.$toStyle](this.color);return Ft&&(We[Ft.startsWith("#")?Le:ke]=Ft),We}if(this.color&&this.color.value){const ft=this.color[d.$toStyle]();We[ft.startsWith("#")?Le:ke]=ft}return We}}class Ke extends d.XFAObject{constructor(U){super(A,"filter",!0),this.addRevocationInfo=(0,u.getStringOption)(U.addRevocationInfo,["","required","optional","none"]),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||"",this.version=(0,u.getInteger)({data:this.version,defaultValue:5,validate:Ne=>Ne>=1&&Ne<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class rt extends d.ContentObject{constructor(U){super(A,"float"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$finalize](){const U=parseFloat(this[d.$content].trim());this[d.$content]=isNaN(U)?null:U}[d.$toHTML](U){return ne(this[d.$content]!==null?this[d.$content].toString():"")}}class ze extends d.XFAObject{constructor(U){super(A,"font",!0),this.baselineShift=(0,u.getMeasurement)(U.baselineShift),this.fontHorizontalScale=(0,u.getFloat)({data:U.fontHorizontalScale,defaultValue:100,validate:Ne=>Ne>=0}),this.fontVerticalScale=(0,u.getFloat)({data:U.fontVerticalScale,defaultValue:100,validate:Ne=>Ne>=0}),this.id=U.id||"",this.kerningMode=(0,u.getStringOption)(U.kerningMode,["none","pair"]),this.letterSpacing=(0,u.getMeasurement)(U.letterSpacing,"0"),this.lineThrough=(0,u.getInteger)({data:U.lineThrough,defaultValue:0,validate:Ne=>Ne===1||Ne===2}),this.lineThroughPeriod=(0,u.getStringOption)(U.lineThroughPeriod,["all","word"]),this.overline=(0,u.getInteger)({data:U.overline,defaultValue:0,validate:Ne=>Ne===1||Ne===2}),this.overlinePeriod=(0,u.getStringOption)(U.overlinePeriod,["all","word"]),this.posture=(0,u.getStringOption)(U.posture,["normal","italic"]),this.size=(0,u.getMeasurement)(U.size,"10pt"),this.typeface=U.typeface||"Courier",this.underline=(0,u.getInteger)({data:U.underline,defaultValue:0,validate:Ne=>Ne===1||Ne===2}),this.underlinePeriod=(0,u.getStringOption)(U.underlinePeriod,["all","word"]),this.use=U.use||"",this.usehref=U.usehref||"",this.weight=(0,u.getStringOption)(U.weight,["normal","bold"]),this.extras=null,this.fill=null}[d.$clean](U){super[d.$clean](U),this[d.$globalData].usedTypefaces.add(this.typeface)}[d.$toStyle](){const U=(0,x.toStyle)(this,"fill"),Ne=U.color;return Ne&&(Ne==="#000000"?delete U.color:Ne.startsWith("#")||(U.background=Ne,U.backgroundClip="text",U.color="transparent")),this.baselineShift&&(U.verticalAlign=(0,x.measureToString)(this.baselineShift)),U.fontKerning=this.kerningMode==="none"?"none":"normal",U.letterSpacing=(0,x.measureToString)(this.letterSpacing),this.lineThrough!==0&&(U.textDecoration="line-through",this.lineThrough===2&&(U.textDecorationStyle="double")),this.overline!==0&&(U.textDecoration="overline",this.overline===2&&(U.textDecorationStyle="double")),U.fontStyle=this.posture,U.fontSize=(0,x.measureToString)(.99*this.size),(0,x.setFontFamily)(this,this,this[d.$globalData].fontFinder,U),this.underline!==0&&(U.textDecoration="underline",this.underline===2&&(U.textDecorationStyle="double")),U.fontWeight=this.weight,U}}class Ve extends d.XFAObject{constructor(U){super(A,"format",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.picture=null}}class Ye extends d.StringObject{constructor(U){super(A,"handler"),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||""}}class Je extends d.XFAObject{constructor(U){super(A,"hyphenation"),this.excludeAllCaps=(0,u.getInteger)({data:U.excludeAllCaps,defaultValue:0,validate:Ne=>Ne===1}),this.excludeInitialCap=(0,u.getInteger)({data:U.excludeInitialCap,defaultValue:0,validate:Ne=>Ne===1}),this.hyphenate=(0,u.getInteger)({data:U.hyphenate,defaultValue:0,validate:Ne=>Ne===1}),this.id=U.id||"",this.pushCharacterCount=(0,u.getInteger)({data:U.pushCharacterCount,defaultValue:3,validate:Ne=>Ne>=0}),this.remainCharacterCount=(0,u.getInteger)({data:U.remainCharacterCount,defaultValue:3,validate:Ne=>Ne>=0}),this.use=U.use||"",this.usehref=U.usehref||"",this.wordCharacterCount=(0,u.getInteger)({data:U.wordCharacterCount,defaultValue:7,validate:Ne=>Ne>=0})}}class it extends d.StringObject{constructor(U){super(A,"image"),this.aspect=(0,u.getStringOption)(U.aspect,["fit","actual","height","none","width"]),this.contentType=U.contentType||"",this.href=U.href||"",this.id=U.id||"",this.name=U.name||"",this.transferEncoding=(0,u.getStringOption)(U.transferEncoding,["base64","none","package"]),this.use=U.use||"",this.usehref=U.usehref||""}[d.$toHTML](){if(this.contentType&&!v.has(this.contentType.toLowerCase()))return u.HTMLResult.EMPTY;let U=this[d.$globalData].images&&this[d.$globalData].images.get(this.href);if(!U&&(this.href||!this[d.$content])||(U||this.transferEncoding!=="base64"||(U=(0,w.stringToBytes)(atob(this[d.$content]))),!U))return u.HTMLResult.EMPTY;if(!this.contentType){for(const[ke,ft]of M)if(U.length>ke.length&&ke.every((Pt,Ft)=>Pt===U[Ft])){this.contentType=ft;break}if(!this.contentType)return u.HTMLResult.EMPTY}const Ne=new Blob([U],{type:this.contentType});let We;switch(this.aspect){case"fit":case"actual":break;case"height":We={height:"100%",objectFit:"fill"};break;case"none":We={width:"100%",height:"100%",objectFit:"fill"};break;case"width":We={width:"100%",objectFit:"fill"}}const Le=this[d.$getParent]();return u.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:We,src:URL.createObjectURL(Ne),alt:Le?D(Le[d.$getParent]()):null}})}}class Tt extends d.XFAObject{constructor(U){super(A,"imageEdit",!0),this.data=(0,u.getStringOption)(U.data,["link","embed"]),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.border=null,this.extras=null,this.margin=null}[d.$toHTML](U){return this.data==="embed"?u.HTMLResult.success({name:"div",children:[],attributes:{}}):u.HTMLResult.EMPTY}}class Ut extends d.ContentObject{constructor(U){super(A,"integer"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$finalize](){const U=parseInt(this[d.$content].trim(),10);this[d.$content]=isNaN(U)?null:U}[d.$toHTML](U){return ne(this[d.$content]!==null?this[d.$content].toString():"")}}class kt extends d.XFAObject{constructor(U){super(A,"issuers",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.certificate=new d.XFAObjectArray}}class pt extends d.XFAObject{constructor(U){super(A,"items",!0),this.id=U.id||"",this.name=U.name||"",this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.ref=U.ref||"",this.save=(0,u.getInteger)({data:U.save,defaultValue:0,validate:Ne=>Ne===1}),this.use=U.use||"",this.usehref=U.usehref||"",this.boolean=new d.XFAObjectArray,this.date=new d.XFAObjectArray,this.dateTime=new d.XFAObjectArray,this.decimal=new d.XFAObjectArray,this.exData=new d.XFAObjectArray,this.float=new d.XFAObjectArray,this.image=new d.XFAObjectArray,this.integer=new d.XFAObjectArray,this.text=new d.XFAObjectArray,this.time=new d.XFAObjectArray}[d.$toHTML](){const U=[];for(const Ne of this[d.$getChildren]())U.push(Ne[d.$text]());return u.HTMLResult.success(U)}}h.Items=pt;class Ht extends d.XFAObject{constructor(U){super(A,"keep",!0),this.id=U.id||"";const Ne=["none","contentArea","pageArea"];this.intact=(0,u.getStringOption)(U.intact,Ne),this.next=(0,u.getStringOption)(U.next,Ne),this.previous=(0,u.getStringOption)(U.previous,Ne),this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null}}class Xt extends d.XFAObject{constructor(U){super(A,"keyUsage");const Ne=["","yes","no"];this.crlSign=(0,u.getStringOption)(U.crlSign,Ne),this.dataEncipherment=(0,u.getStringOption)(U.dataEncipherment,Ne),this.decipherOnly=(0,u.getStringOption)(U.decipherOnly,Ne),this.digitalSignature=(0,u.getStringOption)(U.digitalSignature,Ne),this.encipherOnly=(0,u.getStringOption)(U.encipherOnly,Ne),this.id=U.id||"",this.keyAgreement=(0,u.getStringOption)(U.keyAgreement,Ne),this.keyCertSign=(0,u.getStringOption)(U.keyCertSign,Ne),this.keyEncipherment=(0,u.getStringOption)(U.keyEncipherment,Ne),this.nonRepudiation=(0,u.getStringOption)(U.nonRepudiation,Ne),this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||""}}class Vt extends d.XFAObject{constructor(U){super(A,"line",!0),this.hand=(0,u.getStringOption)(U.hand,["even","left","right"]),this.id=U.id||"",this.slope=(0,u.getStringOption)(U.slope,["\\","/"]),this.use=U.use||"",this.usehref=U.usehref||"",this.edge=null}[d.$toHTML](){const U=this[d.$getParent]()[d.$getParent](),Ne=this.edge||new Me({}),We=Ne[d.$toStyle](),Le=Object.create(null),ke=Ne.presence==="visible"?Ne.thickness:0;Le.strokeWidth=(0,x.measureToString)(ke),Le.stroke=We.color;let ft,Pt,Ft,Gt,Jt="100%",sn="100%";U.w<=ke?([ft,Pt,Ft,Gt]=["50%",0,"50%","100%"],Jt=Le.strokeWidth):U.h<=ke?([ft,Pt,Ft,Gt]=[0,"50%","100%","50%"],sn=Le.strokeWidth):this.slope==="\\"?[ft,Pt,Ft,Gt]=[0,0,"100%","100%"]:[ft,Pt,Ft,Gt]=[0,"100%","100%",0];const un={name:"svg",children:[{name:"line",attributes:{xmlns:g,x1:ft,y1:Pt,x2:Ft,y2:Gt,style:Le}}],attributes:{xmlns:g,width:Jt,height:sn,style:{overflow:"visible"}}};return I(U)?u.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[un]}):(un.attributes.style.position="absolute",u.HTMLResult.success(un))}}class Ot extends d.XFAObject{constructor(U){super(A,"linear",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["toRight","toBottom","toLeft","toTop"]),this.use=U.use||"",this.usehref=U.usehref||"",this.color=null,this.extras=null}[d.$toStyle](U){return U=U?U[d.$toStyle]():"#FFFFFF",`linear-gradient(${this.type.replace(/([RBLT])/," $1").toLowerCase()}, ${U}, ${this.color?this.color[d.$toStyle]():"#000000"})`}}class At extends d.ContentObject{constructor(U){super(A,"lockDocument"),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||""}[d.$finalize](){this[d.$content]=(0,u.getStringOption)(this[d.$content],["auto","0","1"])}}class vt extends d.XFAObject{constructor(U){super(A,"manifest",!0),this.action=(0,u.getStringOption)(U.action,["include","all","exclude"]),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.ref=new d.XFAObjectArray}}class Wt extends d.XFAObject{constructor(U){super(A,"margin",!0),this.bottomInset=(0,u.getMeasurement)(U.bottomInset,"0"),this.id=U.id||"",this.leftInset=(0,u.getMeasurement)(U.leftInset,"0"),this.rightInset=(0,u.getMeasurement)(U.rightInset,"0"),this.topInset=(0,u.getMeasurement)(U.topInset,"0"),this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null}[d.$toStyle](){return{margin:(0,x.measureToString)(this.topInset)+" "+(0,x.measureToString)(this.rightInset)+" "+(0,x.measureToString)(this.bottomInset)+" "+(0,x.measureToString)(this.leftInset)}}}class It extends d.XFAObject{constructor(U){super(A,"mdp"),this.id=U.id||"",this.permissions=(0,u.getInteger)({data:U.permissions,defaultValue:2,validate:Ne=>Ne===1||Ne===3}),this.signatureType=(0,u.getStringOption)(U.signatureType,["filler","author"]),this.use=U.use||"",this.usehref=U.usehref||""}}class Ct extends d.XFAObject{constructor(U){super(A,"medium"),this.id=U.id||"",this.imagingBBox=(0,u.getBBox)(U.imagingBBox),this.long=(0,u.getMeasurement)(U.long),this.orientation=(0,u.getStringOption)(U.orientation,["portrait","landscape"]),this.short=(0,u.getMeasurement)(U.short),this.stock=U.stock||"",this.trayIn=(0,u.getStringOption)(U.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,u.getStringOption)(U.trayOut,["auto","delegate"]),this.use=U.use||"",this.usehref=U.usehref||""}}class Dt extends d.XFAObject{constructor(U){super(A,"message",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.text=new d.XFAObjectArray}}class Bt extends d.XFAObject{constructor(U){super(A,"numericEdit",!0),this.hScrollPolicy=(0,u.getStringOption)(U.hScrollPolicy,["auto","off","on"]),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[d.$toHTML](U){const Ne=(0,x.toStyle)(this,"border","font","margin"),We=this[d.$getParent]()[d.$getParent](),Le={name:"input",attributes:{type:"text",fieldId:We[d.$uid],dataId:We[d.$data]&&We[d.$data][d.$uid]||We[d.$uid],class:["xfaTextfield"],style:Ne,"aria-label":D(We),"aria-required":!1}};return L(We)&&(Le.attributes["aria-required"]=!0,Le.attributes.required=!0),u.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Le]})}}class Ue extends d.XFAObject{constructor(U){super(A,"occur",!0),this.id=U.id||"",this.initial=U.initial!==""?(0,u.getInteger)({data:U.initial,defaultValue:"",validate:Ne=>!0}):"",this.max=U.max!==""?(0,u.getInteger)({data:U.max,defaultValue:1,validate:Ne=>!0}):"",this.min=U.min!==""?(0,u.getInteger)({data:U.min,defaultValue:1,validate:Ne=>!0}):"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null}[d.$clean](){const U=this[d.$getParent](),Ne=this.min;this.min===""&&(this.min=U instanceof Zt||U instanceof hn?0:1),this.max===""&&(this.max=Ne===""?U instanceof Zt||U instanceof hn?-1:1:this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=U instanceof jr?1:this.min)}}class nt extends d.StringObject{constructor(U){super(A,"oid"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}}class bt extends d.XFAObject{constructor(U){super(A,"oids",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.oid=new d.XFAObjectArray}}class Et extends d.XFAObject{constructor(U){super(A,"overflow"),this.id=U.id||"",this.leader=U.leader||"",this.target=U.target||"",this.trailer=U.trailer||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$getExtra](){if(!this[d.$extra]){const U=this[d.$getParent](),Ne=this[d.$getTemplateRoot](),We=Ne[d.$searchNode](this.target,U),Le=Ne[d.$searchNode](this.leader,U),ke=Ne[d.$searchNode](this.trailer,U);this[d.$extra]={target:We&&We[0]||null,leader:Le&&Le[0]||null,trailer:ke&&ke[0]||null,addLeader:!1,addTrailer:!1}}return this[d.$extra]}}class Zt extends d.XFAObject{constructor(U){super(A,"pageArea",!0),this.blankOrNotBlank=(0,u.getStringOption)(U.blankOrNotBlank,["any","blank","notBlank"]),this.id=U.id||"",this.initialNumber=(0,u.getInteger)({data:U.initialNumber,defaultValue:1,validate:Ne=>!0}),this.name=U.name||"",this.numbered=(0,u.getInteger)({data:U.numbered,defaultValue:1,validate:Ne=>!0}),this.oddOrEven=(0,u.getStringOption)(U.oddOrEven,["any","even","odd"]),this.pagePosition=(0,u.getStringOption)(U.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,u.getRelevant)(U.relevant),this.use=U.use||"",this.usehref=U.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new d.XFAObjectArray,this.contentArea=new d.XFAObjectArray,this.draw=new d.XFAObjectArray,this.exclGroup=new d.XFAObjectArray,this.field=new d.XFAObjectArray,this.subform=new d.XFAObjectArray}[d.$isUsable](){return this[d.$extra]?!this.occur||this.occur.max===-1||this[d.$extra].numberOfUse<this.occur.max:(this[d.$extra]={numberOfUse:0},!0)}[d.$cleanPage](){delete this[d.$extra]}[d.$getNextPage](){this[d.$extra]||(this[d.$extra]={numberOfUse:0});const U=this[d.$getParent]();return U.relation==="orderedOccurrence"&&this[d.$isUsable]()?(this[d.$extra].numberOfUse+=1,this):U[d.$getNextPage]()}[d.$getAvailableSpace](){return this[d.$extra].space||{width:0,height:0}}[d.$toHTML](){this[d.$extra]||(this[d.$extra]={numberOfUse:1});const U=[];this[d.$extra].children=U;const Ne=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(Ne.width=(0,x.measureToString)(this.medium.short),Ne.height=(0,x.measureToString)(this.medium.long),this[d.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const We=Ne.width;Ne.width=Ne.height,Ne.height=We,this[d.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,w.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[d.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[d.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),u.HTMLResult.success({name:"div",children:U,attributes:{class:["xfaPage"],id:this[d.$uid],style:Ne,xfaName:this.name}})}}class hn extends d.XFAObject{constructor(U){super(A,"pageSet",!0),this.duplexImposition=(0,u.getStringOption)(U.duplexImposition,["longEdge","shortEdge"]),this.id=U.id||"",this.name=U.name||"",this.relation=(0,u.getStringOption)(U.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,u.getRelevant)(U.relevant),this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.occur=null,this.pageArea=new d.XFAObjectArray,this.pageSet=new d.XFAObjectArray}[d.$cleanPage](){for(const U of this.pageArea.children)U[d.$cleanPage]();for(const U of this.pageSet.children)U[d.$cleanPage]()}[d.$isUsable](){return!this.occur||this.occur.max===-1||this[d.$extra].numberOfUse<this.occur.max}[d.$getNextPage](){if(this[d.$extra]||(this[d.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[d.$extra].pageIndex+1<this.pageArea.children.length)return this[d.$extra].pageIndex+=1,this.pageArea.children[this[d.$extra].pageIndex][d.$getNextPage]();if(this[d.$extra].pageSetIndex+1<this.pageSet.children.length)return this[d.$extra].pageSetIndex+=1,this.pageSet.children[this[d.$extra].pageSetIndex][d.$getNextPage]();if(this[d.$isUsable]())return this[d.$extra].numberOfUse+=1,this[d.$extra].pageIndex=-1,this[d.$extra].pageSetIndex=-1,this[d.$getNextPage]();const ke=this[d.$getParent]();return ke instanceof hn?ke[d.$getNextPage]():(this[d.$cleanPage](),this[d.$getNextPage]())}const U=this[d.$getTemplateRoot]()[d.$extra].pageNumber,Ne=U%2==0?"even":"odd",We=U===0?"first":"rest";let Le=this.pageArea.children.find(ke=>ke.oddOrEven===Ne&&ke.pagePosition===We);return Le||(Le=this.pageArea.children.find(ke=>ke.oddOrEven==="any"&&ke.pagePosition===We),Le)?Le:(Le=this.pageArea.children.find(ke=>ke.oddOrEven==="any"&&ke.pagePosition==="any"),Le||this.pageArea.children[0])}}class fn extends d.XFAObject{constructor(U){super(A,"para",!0),this.hAlign=(0,u.getStringOption)(U.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=U.id||"",this.lineHeight=U.lineHeight?(0,u.getMeasurement)(U.lineHeight,"0pt"):"",this.marginLeft=U.marginLeft?(0,u.getMeasurement)(U.marginLeft,"0pt"):"",this.marginRight=U.marginRight?(0,u.getMeasurement)(U.marginRight,"0pt"):"",this.orphans=(0,u.getInteger)({data:U.orphans,defaultValue:0,validate:Ne=>Ne>=0}),this.preserve=U.preserve||"",this.radixOffset=U.radixOffset?(0,u.getMeasurement)(U.radixOffset,"0pt"):"",this.spaceAbove=U.spaceAbove?(0,u.getMeasurement)(U.spaceAbove,"0pt"):"",this.spaceBelow=U.spaceBelow?(0,u.getMeasurement)(U.spaceBelow,"0pt"):"",this.tabDefault=U.tabDefault?(0,u.getMeasurement)(this.tabDefault):"",this.tabStops=(U.tabStops||"").trim().split(/\s+/).map((Ne,We)=>We%2==1?(0,u.getMeasurement)(Ne):Ne),this.textIndent=U.textIndent?(0,u.getMeasurement)(U.textIndent,"0pt"):"",this.use=U.use||"",this.usehref=U.usehref||"",this.vAlign=(0,u.getStringOption)(U.vAlign,["top","bottom","middle"]),this.widows=(0,u.getInteger)({data:U.widows,defaultValue:0,validate:Ne=>Ne>=0}),this.hyphenation=null}[d.$toStyle](){const U=(0,x.toStyle)(this,"hAlign");return this.marginLeft!==""&&(U.paddingLeft=(0,x.measureToString)(this.marginLeft)),this.marginRight!==""&&(U.paddingight=(0,x.measureToString)(this.marginRight)),this.spaceAbove!==""&&(U.paddingTop=(0,x.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(U.paddingBottom=(0,x.measureToString)(this.spaceBelow)),this.textIndent!==""&&(U.textIndent=(0,x.measureToString)(this.textIndent),(0,x.fixTextIndent)(U)),this.lineHeight>0&&(U.lineHeight=(0,x.measureToString)(this.lineHeight)),this.tabDefault!==""&&(U.tabSize=(0,x.measureToString)(this.tabDefault)),this.tabStops.length,this.hyphenatation&&Object.assign(U,this.hyphenatation[d.$toStyle]()),U}}class fr extends d.XFAObject{constructor(U){super(A,"passwordEdit",!0),this.hScrollPolicy=(0,u.getStringOption)(U.hScrollPolicy,["auto","off","on"]),this.id=U.id||"",this.passwordChar=U.passwordChar||"*",this.use=U.use||"",this.usehref=U.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Dn extends d.XFAObject{constructor(U){super(A,"pattern",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=U.use||"",this.usehref=U.usehref||"",this.color=null,this.extras=null}[d.$toStyle](U){U=U?U[d.$toStyle]():"#FFFFFF";const Ne=this.color?this.color[d.$toStyle]():"#000000",We="repeating-linear-gradient",Le=`${U},${U} 5px,${Ne} 5px,${Ne} 10px`;switch(this.type){case"crossHatch":return`${We}(to top,${Le}) ${We}(to right,${Le})`;case"crossDiagonal":return`${We}(45deg,${Le}) ${We}(-45deg,${Le})`;case"diagonalLeft":return`${We}(45deg,${Le})`;case"diagonalRight":return`${We}(-45deg,${Le})`;case"horizontal":return`${We}(to top,${Le})`;case"vertical":return`${We}(to right,${Le})`}return""}}class Wn extends d.StringObject{constructor(U){super(A,"picture"),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||""}}class Ji extends d.XFAObject{constructor(U){super(A,"proto",!0),this.appearanceFilter=new d.XFAObjectArray,this.arc=new d.XFAObjectArray,this.area=new d.XFAObjectArray,this.assist=new d.XFAObjectArray,this.barcode=new d.XFAObjectArray,this.bindItems=new d.XFAObjectArray,this.bookend=new d.XFAObjectArray,this.boolean=new d.XFAObjectArray,this.border=new d.XFAObjectArray,this.break=new d.XFAObjectArray,this.breakAfter=new d.XFAObjectArray,this.breakBefore=new d.XFAObjectArray,this.button=new d.XFAObjectArray,this.calculate=new d.XFAObjectArray,this.caption=new d.XFAObjectArray,this.certificate=new d.XFAObjectArray,this.certificates=new d.XFAObjectArray,this.checkButton=new d.XFAObjectArray,this.choiceList=new d.XFAObjectArray,this.color=new d.XFAObjectArray,this.comb=new d.XFAObjectArray,this.connect=new d.XFAObjectArray,this.contentArea=new d.XFAObjectArray,this.corner=new d.XFAObjectArray,this.date=new d.XFAObjectArray,this.dateTime=new d.XFAObjectArray,this.dateTimeEdit=new d.XFAObjectArray,this.decimal=new d.XFAObjectArray,this.defaultUi=new d.XFAObjectArray,this.desc=new d.XFAObjectArray,this.digestMethod=new d.XFAObjectArray,this.digestMethods=new d.XFAObjectArray,this.draw=new d.XFAObjectArray,this.edge=new d.XFAObjectArray,this.encoding=new d.XFAObjectArray,this.encodings=new d.XFAObjectArray,this.encrypt=new d.XFAObjectArray,this.encryptData=new d.XFAObjectArray,this.encryption=new d.XFAObjectArray,this.encryptionMethod=new d.XFAObjectArray,this.encryptionMethods=new d.XFAObjectArray,this.event=new d.XFAObjectArray,this.exData=new d.XFAObjectArray,this.exObject=new d.XFAObjectArray,this.exclGroup=new d.XFAObjectArray,this.execute=new d.XFAObjectArray,this.extras=new d.XFAObjectArray,this.field=new d.XFAObjectArray,this.fill=new d.XFAObjectArray,this.filter=new d.XFAObjectArray,this.float=new d.XFAObjectArray,this.font=new d.XFAObjectArray,this.format=new d.XFAObjectArray,this.handler=new d.XFAObjectArray,this.hyphenation=new d.XFAObjectArray,this.image=new d.XFAObjectArray,this.imageEdit=new d.XFAObjectArray,this.integer=new d.XFAObjectArray,this.issuers=new d.XFAObjectArray,this.items=new d.XFAObjectArray,this.keep=new d.XFAObjectArray,this.keyUsage=new d.XFAObjectArray,this.line=new d.XFAObjectArray,this.linear=new d.XFAObjectArray,this.lockDocument=new d.XFAObjectArray,this.manifest=new d.XFAObjectArray,this.margin=new d.XFAObjectArray,this.mdp=new d.XFAObjectArray,this.medium=new d.XFAObjectArray,this.message=new d.XFAObjectArray,this.numericEdit=new d.XFAObjectArray,this.occur=new d.XFAObjectArray,this.oid=new d.XFAObjectArray,this.oids=new d.XFAObjectArray,this.overflow=new d.XFAObjectArray,this.pageArea=new d.XFAObjectArray,this.pageSet=new d.XFAObjectArray,this.para=new d.XFAObjectArray,this.passwordEdit=new d.XFAObjectArray,this.pattern=new d.XFAObjectArray,this.picture=new d.XFAObjectArray,this.radial=new d.XFAObjectArray,this.reason=new d.XFAObjectArray,this.reasons=new d.XFAObjectArray,this.rectangle=new d.XFAObjectArray,this.ref=new d.XFAObjectArray,this.script=new d.XFAObjectArray,this.setProperty=new d.XFAObjectArray,this.signData=new d.XFAObjectArray,this.signature=new d.XFAObjectArray,this.signing=new d.XFAObjectArray,this.solid=new d.XFAObjectArray,this.speak=new d.XFAObjectArray,this.stipple=new d.XFAObjectArray,this.subform=new d.XFAObjectArray,this.subformSet=new d.XFAObjectArray,this.subjectDN=new d.XFAObjectArray,this.subjectDNs=new d.XFAObjectArray,this.submit=new d.XFAObjectArray,this.text=new d.XFAObjectArray,this.textEdit=new d.XFAObjectArray,this.time=new d.XFAObjectArray,this.timeStamp=new d.XFAObjectArray,this.toolTip=new d.XFAObjectArray,this.traversal=new d.XFAObjectArray,this.traverse=new d.XFAObjectArray,this.ui=new d.XFAObjectArray,this.validate=new d.XFAObjectArray,this.value=new d.XFAObjectArray,this.variables=new d.XFAObjectArray}}class zn extends d.XFAObject{constructor(U){super(A,"radial",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["toEdge","toCenter"]),this.use=U.use||"",this.usehref=U.usehref||"",this.color=null,this.extras=null}[d.$toStyle](U){U=U?U[d.$toStyle]():"#FFFFFF";const Ne=this.color?this.color[d.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${U},${Ne}`:`${Ne},${U}`})`}}class Qi extends d.StringObject{constructor(U){super(A,"reason"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}}class es extends d.XFAObject{constructor(U){super(A,"reasons",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.reason=new d.XFAObjectArray}}class Ai extends d.XFAObject{constructor(U){super(A,"rectangle",!0),this.hand=(0,u.getStringOption)(U.hand,["even","left","right"]),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.corner=new d.XFAObjectArray(4),this.edge=new d.XFAObjectArray(4),this.fill=null}[d.$toHTML](){const U=this.edge.children.length?this.edge.children[0]:new Me({}),Ne=U[d.$toStyle](),We=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(We,this.fill[d.$toStyle]()):We.fill="transparent",We.strokeWidth=(0,x.measureToString)(U.presence==="visible"?U.thickness:0),We.stroke=Ne.color;const Le=(this.corner.children.length?this.corner.children[0]:new de({}))[d.$toStyle](),ke={name:"svg",children:[{name:"rect",attributes:{xmlns:g,width:"100%",height:"100%",x:0,y:0,rx:Le.radius,ry:Le.radius,style:We}}],attributes:{xmlns:g,style:{overflow:"visible"},width:"100%",height:"100%"}};return I(this[d.$getParent]()[d.$getParent]())?u.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ke]}):(ke.attributes.style.position="absolute",u.HTMLResult.success(ke))}}class Lr extends d.StringObject{constructor(U){super(A,"ref"),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||""}}class $r extends d.StringObject{constructor(U){super(A,"script"),this.binding=U.binding||"",this.contentType=U.contentType||"",this.id=U.id||"",this.name=U.name||"",this.runAt=(0,u.getStringOption)(U.runAt,["client","both","server"]),this.use=U.use||"",this.usehref=U.usehref||""}}class wr extends d.XFAObject{constructor(U){super(A,"setProperty"),this.connection=U.connection||"",this.ref=U.ref||"",this.target=U.target||""}}h.SetProperty=wr;class Br extends d.XFAObject{constructor(U){super(A,"signData",!0),this.id=U.id||"",this.operation=(0,u.getStringOption)(U.operation,["sign","clear","verify"]),this.ref=U.ref||"",this.target=U.target||"",this.use=U.use||"",this.usehref=U.usehref||"",this.filter=null,this.manifest=null}}class ts extends d.XFAObject{constructor(U){super(A,"signature",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["PDF1.3","PDF1.6"]),this.use=U.use||"",this.usehref=U.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class ns extends d.XFAObject{constructor(U){super(A,"signing",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.certificate=new d.XFAObjectArray}}class ai extends d.XFAObject{constructor(U){super(A,"solid",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null}[d.$toStyle](U){return U?U[d.$toStyle]():"#FFFFFF"}}class Ei extends d.StringObject{constructor(U){super(A,"speak"),this.disable=(0,u.getInteger)({data:U.disable,defaultValue:0,validate:Ne=>Ne===1}),this.id=U.id||"",this.priority=(0,u.getStringOption)(U.priority,["custom","caption","name","toolTip"]),this.rid=U.rid||"",this.use=U.use||"",this.usehref=U.usehref||""}}class oi extends d.XFAObject{constructor(U){super(A,"stipple",!0),this.id=U.id||"",this.rate=(0,u.getInteger)({data:U.rate,defaultValue:50,validate:Ne=>Ne>=0&&Ne<=100}),this.use=U.use||"",this.usehref=U.usehref||"",this.color=null,this.extras=null}[d.$toStyle](U){const Ne=this.rate/100;return w.Util.makeHexColor(Math.round(U.value.r*(1-Ne)+this.value.r*Ne),Math.round(U.value.g*(1-Ne)+this.value.g*Ne),Math.round(U.value.b*(1-Ne)+this.value.b*Ne))}}class vr extends d.XFAObject{constructor(U){super(A,"subform",!0),this.access=(0,u.getStringOption)(U.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,u.getInteger)({data:U.allowMacro,defaultValue:0,validate:Ne=>Ne===1}),this.anchorType=(0,u.getStringOption)(U.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,u.getInteger)({data:U.colSpan,defaultValue:1,validate:Ne=>Ne>=1||Ne===-1}),this.columnWidths=(U.columnWidths||"").trim().split(/\s+/).map(Ne=>Ne==="-1"?-1:(0,u.getMeasurement)(Ne)),this.h=U.h?(0,u.getMeasurement)(U.h):"",this.hAlign=(0,u.getStringOption)(U.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=U.id||"",this.layout=(0,u.getStringOption)(U.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=U.locale||"",this.maxH=(0,u.getMeasurement)(U.maxH,"0pt"),this.maxW=(0,u.getMeasurement)(U.maxW,"0pt"),this.mergeMode=(0,u.getStringOption)(U.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,u.getMeasurement)(U.minH,"0pt"),this.minW=(0,u.getMeasurement)(U.minW,"0pt"),this.name=U.name||"",this.presence=(0,u.getStringOption)(U.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,u.getRelevant)(U.relevant),this.restoreState=(0,u.getStringOption)(U.restoreState,["manual","auto"]),this.scope=(0,u.getStringOption)(U.scope,["name","none"]),this.use=U.use||"",this.usehref=U.usehref||"",this.w=U.w?(0,u.getMeasurement)(U.w):"",this.x=(0,u.getMeasurement)(U.x,"0pt"),this.y=(0,u.getMeasurement)(U.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new d.XFAObjectArray,this.breakAfter=new d.XFAObjectArray,this.breakBefore=new d.XFAObjectArray,this.connect=new d.XFAObjectArray,this.draw=new d.XFAObjectArray,this.event=new d.XFAObjectArray,this.exObject=new d.XFAObjectArray,this.exclGroup=new d.XFAObjectArray,this.field=new d.XFAObjectArray,this.proto=new d.XFAObjectArray,this.setProperty=new d.XFAObjectArray,this.subform=new d.XFAObjectArray,this.subformSet=new d.XFAObjectArray}[d.$getSubformParent](){const U=this[d.$getParent]();return U instanceof li?U[d.$getSubformParent]():U}[d.$isBindable](){return!0}[d.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[d.$extra].attempt===0&&this[d.$extra].numberInLine>0||this[d.$getParent]()[d.$isThereMoreWidth]()}*[d.$getContainedChildren](){yield*_(this)}[d.$flushHTML](){return(0,y.flushHTML)(this)}[d.$addHTML](U,Ne){(0,y.addHTML)(this,U,Ne)}[d.$getAvailableSpace](){return(0,y.getAvailableSpace)(this)}[d.$isSplittable](){const U=this[d.$getSubformParent]();return U[d.$isSplittable]()?this[d.$extra]._isSplittable!==void 0?this[d.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[d.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[d.$extra]._isSplittable=!1,!1):U.layout&&U.layout.endsWith("-tb")&&U[d.$extra].numberInLine!==0?!1:(this[d.$extra]._isSplittable=!0,!0):!1}[d.$toHTML](U){if(K(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const en=new ye({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});en[d.$globalData]=this[d.$globalData],this[d.$appendChild](en),this.breakAfter.push(en)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const en=new Ce({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});en[d.$globalData]=this[d.$globalData],this[d.$appendChild](en),this.breakBefore.push(en)}if(this.break.overflowTarget!==""){const en=new Et({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});en[d.$globalData]=this[d.$globalData],this[d.$appendChild](en),this.overflow.push(en)}this[d.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return u.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,w.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const en=this.breakBefore.children[0];if(se(en))return u.HTMLResult.breakNode(en)}if(this[d.$extra]&&this[d.$extra].afterBreakAfter)return u.HTMLResult.EMPTY;(0,x.fixDimensions)(this);const Ne=[],We={id:this[d.$uid],class:[]};(0,x.setAccess)(this,We.class),this[d.$extra]||(this[d.$extra]=Object.create(null)),Object.assign(this[d.$extra],{children:Ne,line:null,attributes:We,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,U.width),height:Math.min(this.h||1/0,U.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Le=this[d.$getTemplateRoot](),ke=Le[d.$extra].noLayoutFailure,ft=this[d.$isSplittable]();if(ft||F(this),!(0,y.checkDimensions)(this,U))return u.HTMLResult.FAILURE;const Pt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const en=this[d.$getSubformParent]().columnWidths;Array.isArray(en)&&en.length>0&&(this[d.$extra].columnWidths=en,this[d.$extra].currentColumn=0)}const Ft=(0,x.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Gt=["xfaSubform"],Jt=(0,x.layoutClass)(this);if(Jt&&Gt.push(Jt),We.style=Ft,We.class=Gt,this.name&&(We.xfaName=this.name),this.overflow){const en=this.overflow[d.$getExtra]();en.addLeader&&(en.addLeader=!1,Y(this,en.leader,U))}this[d.$pushPara]();const sn=this.layout==="lr-tb"||this.layout==="rl-tb",un=sn?2:1;for(;this[d.$extra].attempt<un;this[d.$extra].attempt++){sn&&this[d.$extra].attempt===1&&(this[d.$extra].numberInLine=0);const en=this[d.$childrenToHTML]({filter:Pt,include:!0});if(en.success)break;if(en.isBreak())return this[d.$popPara](),en;if(sn&&this[d.$extra].attempt===0&&this[d.$extra].numberInLine===0&&!Le[d.$extra].noLayoutFailure){this[d.$extra].attempt=un;break}}if(this[d.$popPara](),ft||j(this),Le[d.$extra].noLayoutFailure=ke,this[d.$extra].attempt===un)return this.overflow&&(this[d.$getTemplateRoot]()[d.$extra].overflowNode=this.overflow),ft||delete this[d.$extra],u.HTMLResult.FAILURE;if(this.overflow){const en=this.overflow[d.$getExtra]();en.addTrailer&&(en.addTrailer=!1,Y(this,en.trailer,U))}let mn=0,an=0;this.margin&&(mn=this.margin.leftInset+this.margin.rightInset,an=this.margin.topInset+this.margin.bottomInset);const tn=Math.max(this[d.$extra].width+mn,this.w||0),An=Math.max(this[d.$extra].height+an,this.h||0),Qt=[this.x,this.y,tn,An];if(this.w===""&&(Ft.width=(0,x.measureToString)(tn)),this.h===""&&(Ft.height=(0,x.measureToString)(An)),(Ft.width==="0px"||Ft.height==="0px")&&Ne.length===0)return u.HTMLResult.EMPTY;const rn={name:"div",attributes:We,children:Ne};$(this,We);const _n=u.HTMLResult.success((0,x.createWrapper)(this,rn),Qt);if(this.breakAfter.children.length>=1){const en=this.breakAfter.children[0];if(se(en))return this[d.$extra].afterBreakAfter=_n,u.HTMLResult.breakNode(en)}return delete this[d.$extra],_n}}class li extends d.XFAObject{constructor(U){super(A,"subformSet",!0),this.id=U.id||"",this.name=U.name||"",this.relation=(0,u.getStringOption)(U.relation,["ordered","choice","unordered"]),this.relevant=(0,u.getRelevant)(U.relevant),this.use=U.use||"",this.usehref=U.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new d.XFAObjectArray,this.breakBefore=new d.XFAObjectArray,this.subform=new d.XFAObjectArray,this.subformSet=new d.XFAObjectArray}*[d.$getContainedChildren](){yield*_(this)}[d.$getSubformParent](){let U=this[d.$getParent]();for(;!(U instanceof vr);)U=U[d.$getParent]();return U}[d.$isBindable](){return!0}}class ci extends d.ContentObject{constructor(U){super(A,"subjectDN"),this.delimiter=U.delimiter||",",this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$finalize](){this[d.$content]=new Map(this[d.$content].split(this.delimiter).map(U=>((U=U.split("=",2))[0]=U[0].trim(),U)))}}class on extends d.XFAObject{constructor(U){super(A,"subjectDNs",!0),this.id=U.id||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||"",this.subjectDN=new d.XFAObjectArray}}class Ti extends d.XFAObject{constructor(U){super(A,"submit",!0),this.embedPDF=(0,u.getInteger)({data:U.embedPDF,defaultValue:0,validate:Ne=>Ne===1}),this.format=(0,u.getStringOption)(U.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=U.id||"",this.target=U.target||"",this.textEncoding=(0,u.getKeyword)({data:U.textEncoding?U.textEncoding.toLowerCase():"",defaultValue:"",validate:Ne=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Ne)||Ne.match(/iso-8859-\d{2}/)}),this.use=U.use||"",this.usehref=U.usehref||"",this.xdpContent=U.xdpContent||"",this.encrypt=null,this.encryptData=new d.XFAObjectArray,this.signData=new d.XFAObjectArray}}class jr extends d.XFAObject{constructor(U){super(A,"template",!0),this.baseProfile=(0,u.getStringOption)(U.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new d.XFAObjectArray}[d.$finalize](){this.subform.children.length===0&&(0,w.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,w.warn)("XFA - Several subforms in template node: please file a bug."),this[d.$tabIndex]=5e3}[d.$isSplittable](){return!0}[d.$searchNode](U,Ne){return U.startsWith("#")?[this[d.$ids].get(U.slice(1))]:(0,k.searchNode)(this,Ne,U,!0,!0)}*[d.$toPages](){if(!this.subform.children.length)return u.HTMLResult.success({name:"div",children:[]});this[d.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const U=this.subform.children[0];U.pageSet[d.$cleanPage]();const Ne=U.pageSet.pageArea.children,We={name:"div",children:[]};let Le=null,ke=null,ft=null;if(U.breakBefore.children.length>=1?(ke=U.breakBefore.children[0],ft=ke.target):U.subform.children.length>=1&&U.subform.children[0].breakBefore.children.length>=1?(ke=U.subform.children[0].breakBefore.children[0],ft=ke.target):U.break&&U.break.beforeTarget?(ke=U.break,ft=ke.beforeTarget):U.subform.children.length>=1&&U.subform.children[0].break&&U.subform.children[0].break.beforeTarget&&(ke=U.subform.children[0].break,ft=ke.beforeTarget),ke){const an=this[d.$searchNode](ft,ke[d.$getParent]());an instanceof Zt&&(Le=an,ke[d.$extra]={})}Le||(Le=Ne[0]),Le[d.$extra]={numberOfUse:1};const Pt=Le[d.$getParent]();Pt[d.$extra]={numberOfUse:1,pageIndex:Pt.pageArea.children.indexOf(Le),pageSetIndex:0};let Ft,Gt=null,Jt=null,sn=!0,un=0,mn=0;for(;;){if(sn)un=0;else if(We.children.pop(),++un==3)return(0,w.warn)("XFA - Something goes wrong: please file a bug."),We;Ft=null,this[d.$extra].currentPageArea=Le;const an=Le[d.$toHTML]().html;We.children.push(an),Gt&&(this[d.$extra].noLayoutFailure=!0,an.children.push(Gt[d.$toHTML](Le[d.$extra].space).html),Gt=null),Jt&&(this[d.$extra].noLayoutFailure=!0,an.children.push(Jt[d.$toHTML](Le[d.$extra].space).html),Jt=null);const tn=Le.contentArea.children,An=an.children.filter(rn=>rn.attributes.class.includes("xfaContentarea"));sn=!1,this[d.$extra].firstUnsplittable=null,this[d.$extra].noLayoutFailure=!1;const Qt=rn=>{const _n=U[d.$flushHTML]();_n&&(sn=sn||_n.children&&_n.children.length!==0,An[rn].children.push(_n))};for(let rn=mn,_n=tn.length;rn<_n;rn++){const en=this[d.$extra].currentContentArea=tn[rn],pr={width:en.w,height:en.h};mn=0,Gt&&(An[rn].children.push(Gt[d.$toHTML](pr).html),Gt=null),Jt&&(An[rn].children.push(Jt[d.$toHTML](pr).html),Jt=null);const Ln=U[d.$toHTML](pr);if(Ln.success)return Ln.html?(sn=sn||Ln.html.children&&Ln.html.children.length!==0,An[rn].children.push(Ln.html)):!sn&&We.children.length>1&&We.children.pop(),We;if(Ln.isBreak()){const vn=Ln.breakNode;if(Qt(rn),vn.targetType==="auto")continue;vn.leader&&(Gt=this[d.$searchNode](vn.leader,vn[d.$getParent]()),Gt=Gt?Gt[0]:null),vn.trailer&&(Jt=this[d.$searchNode](vn.trailer,vn[d.$getParent]()),Jt=Jt?Jt[0]:null),vn.targetType==="pageArea"?(Ft=vn[d.$extra].target,rn=1/0):vn[d.$extra].target?(Ft=vn[d.$extra].target,mn=vn[d.$extra].index+1,rn=1/0):rn=vn[d.$extra].index}else if(this[d.$extra].overflowNode){const vn=this[d.$extra].overflowNode;this[d.$extra].overflowNode=null;const Hr=vn[d.$getExtra](),En=Hr.target;Hr.addLeader=Hr.leader!==null,Hr.addTrailer=Hr.trailer!==null,Qt(rn);const Vr=rn;if(rn=1/0,En instanceof Zt)Ft=En;else if(En instanceof ge){const qr=tn.indexOf(En);qr!==-1?qr>Vr?rn=qr-1:mn=qr:(Ft=En[d.$getParent](),mn=Ft.contentArea.children.indexOf(En))}}else Qt(rn)}this[d.$extra].pageNumber+=1,Ft&&(Ft[d.$isUsable]()?Ft[d.$extra].numberOfUse+=1:Ft=null),Le=Ft||Le[d.$getNextPage](),yield null}}}h.Template=jr;class Ur extends d.ContentObject{constructor(U){super(A,"text"),this.id=U.id||"",this.maxChars=(0,u.getInteger)({data:U.maxChars,defaultValue:0,validate:Ne=>Ne>=0}),this.name=U.name||"",this.rid=U.rid||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$acceptWhitespace](){return!0}[d.$onChild](U){return U[d.$namespaceId]===m.NamespaceIds.xhtml.id?(this[d.$content]=U,!0):((0,w.warn)(`XFA - Invalid content in Text: ${U[d.$nodeName]}.`),!1)}[d.$onText](U){this[d.$content]instanceof d.XFAObject||super[d.$onText](U)}[d.$finalize](){typeof this[d.$content]=="string"&&(this[d.$content]=this[d.$content].replace(/\r\n/g,`
`))}[d.$getExtra](){return typeof this[d.$content]=="string"?this[d.$content].split(/[\u2029\u2028\n]/).reduce((U,Ne)=>(Ne&&U.push(Ne),U),[]).join(`
`):this[d.$content][d.$text]()}[d.$toHTML](U){if(typeof this[d.$content]=="string"){const Ne=ne(this[d.$content]).html;return this[d.$content].includes("\u2029")?(Ne.name="div",Ne.children=[],this[d.$content].split("\u2029").map(We=>We.split(/[\u2028\n]/).reduce((Le,ke)=>(Le.push({name:"span",value:ke},{name:"br"}),Le),[])).forEach(We=>{Ne.children.push({name:"p",children:We})})):/[\u2028\n]/.test(this[d.$content])&&(Ne.name="div",Ne.children=[],this[d.$content].split(/[\u2028\n]/).forEach(We=>{Ne.children.push({name:"span",value:We},{name:"br"})})),u.HTMLResult.success(Ne)}return this[d.$content][d.$toHTML](U)}}h.Text=Ur;class ui extends d.XFAObject{constructor(U){super(A,"textEdit",!0),this.allowRichText=(0,u.getInteger)({data:U.allowRichText,defaultValue:0,validate:Ne=>Ne===1}),this.hScrollPolicy=(0,u.getStringOption)(U.hScrollPolicy,["auto","off","on"]),this.id=U.id||"",this.multiLine=(0,u.getInteger)({data:U.multiLine,defaultValue:"",validate:Ne=>Ne===0||Ne===1}),this.use=U.use||"",this.usehref=U.usehref||"",this.vScrollPolicy=(0,u.getStringOption)(U.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[d.$toHTML](U){const Ne=(0,x.toStyle)(this,"border","font","margin");let We;const Le=this[d.$getParent]()[d.$getParent]();return this.multiLine===""&&(this.multiLine=Le instanceof De?1:0),We=this.multiLine===1?{name:"textarea",attributes:{dataId:Le[d.$data]&&Le[d.$data][d.$uid]||Le[d.$uid],fieldId:Le[d.$uid],class:["xfaTextfield"],style:Ne,"aria-label":D(Le),"aria-required":!1}}:{name:"input",attributes:{type:"text",dataId:Le[d.$data]&&Le[d.$data][d.$uid]||Le[d.$uid],fieldId:Le[d.$uid],class:["xfaTextfield"],style:Ne,"aria-label":D(Le),"aria-required":!1}},L(Le)&&(We.attributes["aria-required"]=!0,We.attributes.required=!0),u.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[We]})}}class _i extends d.StringObject{constructor(U){super(A,"time"),this.id=U.id||"",this.name=U.name||"",this.use=U.use||"",this.usehref=U.usehref||""}[d.$finalize](){const U=this[d.$content].trim();this[d.$content]=U?new Date(U):null}[d.$toHTML](U){return ne(this[d.$content]?this[d.$content].toString():"")}}class Oi extends d.XFAObject{constructor(U){super(A,"timeStamp"),this.id=U.id||"",this.server=U.server||"",this.type=(0,u.getStringOption)(U.type,["optional","required"]),this.use=U.use||"",this.usehref=U.usehref||""}}class di extends d.StringObject{constructor(U){super(A,"toolTip"),this.id=U.id||"",this.rid=U.rid||"",this.use=U.use||"",this.usehref=U.usehref||""}}class zr extends d.XFAObject{constructor(U){super(A,"traversal",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.traverse=new d.XFAObjectArray}}class nr extends d.XFAObject{constructor(U){super(A,"traverse",!0),this.id=U.id||"",this.operation=(0,u.getStringOption)(U.operation,["next","back","down","first","left","right","up"]),this.ref=U.ref||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[d.$isTransparent](){return!1}}class Xn extends d.XFAObject{constructor(U){super(A,"ui",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[d.$getExtra](){if(this[d.$extra]===void 0){for(const U of Object.getOwnPropertyNames(this)){if(U==="extras"||U==="picture")continue;const Ne=this[U];if(Ne instanceof d.XFAObject)return this[d.$extra]=Ne,Ne}this[d.$extra]=null}return this[d.$extra]}[d.$toHTML](U){const Ne=this[d.$getExtra]();return Ne?Ne[d.$toHTML](U):u.HTMLResult.EMPTY}}class rr extends d.XFAObject{constructor(U){super(A,"validate",!0),this.formatTest=(0,u.getStringOption)(U.formatTest,["warning","disabled","error"]),this.id=U.id||"",this.nullTest=(0,u.getStringOption)(U.nullTest,["disabled","error","warning"]),this.scriptTest=(0,u.getStringOption)(U.scriptTest,["error","disabled","warning"]),this.use=U.use||"",this.usehref=U.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class ir extends d.XFAObject{constructor(U){super(A,"value",!0),this.id=U.id||"",this.override=(0,u.getInteger)({data:U.override,defaultValue:0,validate:Ne=>Ne===1}),this.relevant=(0,u.getRelevant)(U.relevant),this.use=U.use||"",this.usehref=U.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[d.$setValue](U){const Ne=this[d.$getParent]();if(Ne instanceof st&&Ne.ui&&Ne.ui.imageEdit){this.image||(this.image=new it({}),this[d.$appendChild](this.image)),this.image[d.$content]=U[d.$content];return}const We=U[d.$nodeName];if(this[We]===null){for(const Le of Object.getOwnPropertyNames(this)){const ke=this[Le];ke instanceof d.XFAObject&&(this[Le]=null,this[d.$removeChild](ke))}this[U[d.$nodeName]]=U,this[d.$appendChild](U)}else this[We][d.$content]=U[d.$content]}[d.$text](){if(this.exData)return typeof this.exData[d.$content]=="string"?this.exData[d.$content].trim():this.exData[d.$content][d.$text]().trim();for(const U of Object.getOwnPropertyNames(this)){if(U==="image")continue;const Ne=this[U];if(Ne instanceof d.XFAObject)return(Ne[d.$content]||"").toString().trim()}return null}[d.$toHTML](U){for(const Ne of Object.getOwnPropertyNames(this)){const We=this[Ne];if(We instanceof d.XFAObject)return We[d.$toHTML](U)}return u.HTMLResult.EMPTY}}h.Value=ir;class _r extends d.XFAObject{constructor(U){super(A,"variables",!0),this.id=U.id||"",this.use=U.use||"",this.usehref=U.usehref||"",this.boolean=new d.XFAObjectArray,this.date=new d.XFAObjectArray,this.dateTime=new d.XFAObjectArray,this.decimal=new d.XFAObjectArray,this.exData=new d.XFAObjectArray,this.float=new d.XFAObjectArray,this.image=new d.XFAObjectArray,this.integer=new d.XFAObjectArray,this.manifest=new d.XFAObjectArray,this.script=new d.XFAObjectArray,this.text=new d.XFAObjectArray,this.time=new d.XFAObjectArray}[d.$isTransparent](){return!0}}class Hn{static[m.$buildXFAObject](U,Ne){if(Hn.hasOwnProperty(U)){const We=Hn[U](Ne);return We[d.$setSetAttributes](Ne),We}}static appearanceFilter(U){return new q(U)}static arc(U){return new Q(U)}static area(U){return new N(U)}static assist(U){return new O(U)}static barcode(U){return new H(U)}static bind(U){return new G(U)}static bindItems(U){return new le(U)}static bookend(U){return new fe(U)}static boolean(U){return new ae(U)}static border(U){return new re(U)}static break(U){return new be(U)}static breakAfter(U){return new ye(U)}static breakBefore(U){return new Ce(U)}static button(U){return new me(U)}static calculate(U){return new ee(U)}static caption(U){return new te(U)}static certificate(U){return new oe(U)}static certificates(U){return new V(U)}static checkButton(U){return new W(U)}static choiceList(U){return new ue(U)}static color(U){return new he(U)}static comb(U){return new pe(U)}static connect(U){return new Se(U)}static contentArea(U){return new ge(U)}static corner(U){return new de(U)}static date(U){return new xe(U)}static dateTime(U){return new ve(U)}static dateTimeEdit(U){return new Ee(U)}static decimal(U){return new Te(U)}static defaultUi(U){return new _e(U)}static desc(U){return new Oe(U)}static digestMethod(U){return new Pe(U)}static digestMethods(U){return new je(U)}static draw(U){return new De(U)}static edge(U){return new Me(U)}static encoding(U){return new Fe(U)}static encodings(U){return new $e(U)}static encrypt(U){return new tt(U)}static encryptData(U){return new ut(U)}static encryption(U){return new ct(U)}static encryptionMethod(U){return new mt(U)}static encryptionMethods(U){return new Ze(U)}static event(U){return new St(U)}static exData(U){return new Rt(U)}static exObject(U){return new $t(U)}static exclGroup(U){return new dt(U)}static execute(U){return new ot(U)}static extras(U){return new lt(U)}static field(U){return new st(U)}static fill(U){return new Ge(U)}static filter(U){return new Ke(U)}static float(U){return new rt(U)}static font(U){return new ze(U)}static format(U){return new Ve(U)}static handler(U){return new Ye(U)}static hyphenation(U){return new Je(U)}static image(U){return new it(U)}static imageEdit(U){return new Tt(U)}static integer(U){return new Ut(U)}static issuers(U){return new kt(U)}static items(U){return new pt(U)}static keep(U){return new Ht(U)}static keyUsage(U){return new Xt(U)}static line(U){return new Vt(U)}static linear(U){return new Ot(U)}static lockDocument(U){return new At(U)}static manifest(U){return new vt(U)}static margin(U){return new Wt(U)}static mdp(U){return new It(U)}static medium(U){return new Ct(U)}static message(U){return new Dt(U)}static numericEdit(U){return new Bt(U)}static occur(U){return new Ue(U)}static oid(U){return new nt(U)}static oids(U){return new bt(U)}static overflow(U){return new Et(U)}static pageArea(U){return new Zt(U)}static pageSet(U){return new hn(U)}static para(U){return new fn(U)}static passwordEdit(U){return new fr(U)}static pattern(U){return new Dn(U)}static picture(U){return new Wn(U)}static proto(U){return new Ji(U)}static radial(U){return new zn(U)}static reason(U){return new Qi(U)}static reasons(U){return new es(U)}static rectangle(U){return new Ai(U)}static ref(U){return new Lr(U)}static script(U){return new $r(U)}static setProperty(U){return new wr(U)}static signData(U){return new Br(U)}static signature(U){return new ts(U)}static signing(U){return new ns(U)}static solid(U){return new ai(U)}static speak(U){return new Ei(U)}static stipple(U){return new oi(U)}static subform(U){return new vr(U)}static subformSet(U){return new li(U)}static subjectDN(U){return new ci(U)}static subjectDNs(U){return new on(U)}static submit(U){return new Ti(U)}static template(U){return new jr(U)}static text(U){return new Ur(U)}static textEdit(U){return new ui(U)}static time(U){return new _i(U)}static timeStamp(U){return new Oi(U)}static toolTip(U){return new di(U)}static traversal(U){return new zr(U)}static traverse(U){return new nr(U)}static ui(U){return new Xn(U)}static validate(U){return new rr(U)}static value(U){return new ir(U)}static variables(U){return new _r(U)}}h.TemplateNamespace=Hn},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.addHTML=function(u,w,T){const C=u[d.$extra],k=C.availableSpace,[A,g,E,v]=T;switch(u.layout){case"position":C.width=Math.max(C.width,A+E),C.height=Math.max(C.height,g+v),C.children.push(w);break;case"lr-tb":case"rl-tb":(!C.line||C.attempt===1)&&(C.line=y(u,[]),C.children.push(C.line),C.numberInLine=0),C.numberInLine+=1,C.line.children.push(w),C.attempt===0?(C.currentWidth+=E,C.height=Math.max(C.height,C.prevHeight+v)):(C.currentWidth=E,C.prevHeight=C.height,C.height+=v,C.attempt=0),C.width=Math.max(C.width,C.currentWidth);break;case"rl-row":case"row":{C.children.push(w),C.width+=E,C.height=Math.max(C.height,v);const M=(0,m.measureToString)(C.height);for(const R of C.children)R.attributes.style.height=M;break}case"table":case"tb":C.width=Math.min(k.width,Math.max(C.width,E)),C.height+=v,C.children.push(w)}},h.checkDimensions=function(u,w){if(u[d.$getTemplateRoot]()[d.$extra].firstUnsplittable===null||u.w===0||u.h===0)return!0;const T=u[d.$getSubformParent](),C=T[d.$extra]&&T[d.$extra].attempt||0,[,k,A,g]=function(v){let M,R,I=v.w===""?NaN:v.w,J=v.h===""?NaN:v.h,[_,L]=[0,0];switch(v.anchorType||""){case"bottomCenter":[_,L]=[I/2,J];break;case"bottomLeft":[_,L]=[0,J];break;case"bottomRight":[_,L]=[I,J];break;case"middleCenter":[_,L]=[I/2,J/2];break;case"middleLeft":[_,L]=[0,J/2];break;case"middleRight":[_,L]=[I,J/2];break;case"topCenter":[_,L]=[I/2,0];break;case"topRight":[_,L]=[I,0]}switch(v.rotate||0){case 0:[M,R]=[-_,-L];break;case 90:[M,R]=[-L,_],[I,J]=[J,-I];break;case 180:[M,R]=[_,L],[I,J]=[-I,-J];break;case 270:[M,R]=[L,-_],[I,J]=[-J,I]}return[v.x+M+Math.min(0,I),v.y+R+Math.min(0,J),Math.abs(I),Math.abs(J)]}(u);switch(T.layout){case"lr-tb":case"rl-tb":return C===0?u[d.$getTemplateRoot]()[d.$extra].noLayoutFailure?u.w!==""?Math.round(A-w.width)<=2:w.width>2:!(u.h!==""&&Math.round(g-w.height)>2)&&(u.w!==""?Math.round(A-w.width)<=2||T[d.$extra].numberInLine===0&&w.height>2:w.width>2):!!u[d.$getTemplateRoot]()[d.$extra].noLayoutFailure||!(u.h!==""&&Math.round(g-w.height)>2)&&(u.w===""||Math.round(A-w.width)<=2||!T[d.$isThereMoreWidth]())&&w.height>2;case"table":case"tb":return!!u[d.$getTemplateRoot]()[d.$extra].noLayoutFailure||(u.h===""||u[d.$isSplittable]()?(u.w===""||Math.round(A-w.width)<=2||!T[d.$isThereMoreWidth]())&&w.height>2:Math.round(g-w.height)<=2);case"position":return u[d.$getTemplateRoot]()[d.$extra].noLayoutFailure||u.h===""||Math.round(g+k-w.height)<=2?!0:g+k>u[d.$getTemplateRoot]()[d.$extra].currentContentArea.h;case"rl-row":case"row":return!!u[d.$getTemplateRoot]()[d.$extra].noLayoutFailure||u.h===""||Math.round(g-w.height)<=2;default:return!0}},h.flushHTML=function(u){if(!u[d.$extra])return null;const w={name:"div",attributes:u[d.$extra].attributes,children:u[d.$extra].children};if(u[d.$extra].failingNode){const T=u[d.$extra].failingNode[d.$flushHTML]();T&&(u.layout.endsWith("-tb")?w.children.push(y(u,[T])):w.children.push(T))}return w.children.length===0?null:w},h.getAvailableSpace=function(u){const w=u[d.$extra].availableSpace,T=u.margin?u.margin.topInset+u.margin.bottomInset:0,C=u.margin?u.margin.leftInset+u.margin.rightInset:0;switch(u.layout){case"lr-tb":case"rl-tb":return u[d.$extra].attempt===0?{width:w.width-C-u[d.$extra].currentWidth,height:w.height-T-u[d.$extra].prevHeight}:{width:w.width-C,height:w.height-T-u[d.$extra].height};case"rl-row":case"row":return{width:u[d.$extra].columnWidths.slice(u[d.$extra].currentColumn).reduce((k,A)=>k+A),height:w.height-C};case"table":case"tb":return{width:w.width-C,height:w.height-T-u[d.$extra].height};default:return w}};var d=p(75),m=p(82);function y(x,u){return{name:"div",attributes:{class:[x.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:u}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.computeBbox=function(E,v,M){let R;if(E.w!==""&&E.h!=="")R=[E.x,E.y,E.w,E.h];else{if(!M)return null;let I=E.w;if(I===""){if(E.maxW===0){const _=E[d.$getSubformParent]();I=_.layout==="position"&&_.w!==""?0:E.minW}else I=Math.min(E.maxW,M.width);v.attributes.style.width=w(I)}let J=E.h;if(J===""){if(E.maxH===0){const _=E[d.$getSubformParent]();J=_.layout==="position"&&_.h!==""?0:E.minH}else J=Math.min(E.maxH,M.height);v.attributes.style.height=w(J)}R=[E.x,E.y,I,J]}return R},h.createWrapper=function(E,v){const{attributes:M}=v,{style:R}=M,I={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(M.class.push("xfaWrapped"),E.border){const{widths:J,insets:_}=E.border[d.$extra];let L,K,$=_[0],D=_[3];const ne=_[0]+_[2],F=_[1]+_[3];switch(E.border.hand){case"even":$-=J[0]/2,D-=J[3]/2,L=`calc(100% + ${(J[1]+J[3])/2-F}px)`,K=`calc(100% + ${(J[0]+J[2])/2-ne}px)`;break;case"left":$-=J[0],D-=J[3],L=`calc(100% + ${J[1]+J[3]-F}px)`,K=`calc(100% + ${J[0]+J[2]-ne}px)`;break;case"right":L=F?`calc(100% - ${F}px)`:"100%",K=ne?`calc(100% - ${ne}px)`:"100%"}const j=["xfaBorder"];k(E.border)&&j.push("xfaPrintOnly");const se={name:"div",attributes:{class:j,style:{top:`${$}px`,left:`${D}px`,width:L,height:K}},children:[]};for(const Y of["border","borderWidth","borderColor","borderRadius","borderStyle"])R[Y]!==void 0&&(se.attributes.style[Y]=R[Y],delete R[Y]);I.children.push(se,v)}else I.children.push(v);for(const J of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])R[J]!==void 0&&(I.attributes.style[J]=R[J],delete R[J]);return R.position==="absolute"?I.attributes.style.position="absolute":I.attributes.style.position="relative",delete R.position,R.alignSelf&&(I.attributes.style.alignSelf=R.alignSelf,delete R.alignSelf),I},h.fixDimensions=function(E){const v=E[d.$getSubformParent]();if(v.layout&&v.layout.includes("row")){const M=v[d.$extra],R=E.colSpan;let I;I=R===-1?M.columnWidths.slice(M.currentColumn).reduce((J,_)=>J+_,0):M.columnWidths.slice(M.currentColumn,M.currentColumn+R).reduce((J,_)=>J+_,0),isNaN(I)||(E.w=I)}v.layout&&v.layout!=="position"&&(E.x=E.y=0),E.layout==="table"&&E.w===""&&Array.isArray(E.columnWidths)&&(E.w=E.columnWidths.reduce((M,R)=>M+R,0))},h.fixTextIndent=function(E){const v=(0,y.getMeasurement)(E.textIndent,"0px");if(v>=0)return;const M="padding"+((E.textAlign==="right"?"right":"left")=="left"?"Left":"Right"),R=(0,y.getMeasurement)(E[M],"0px");E[M]=R-v+"px"},h.fixURL=function(E){const v=(0,m.createValidAbsoluteUrl)(E,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return v?v.href:null},h.isPrintOnly=k,h.layoutClass=function(E){switch(E.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},h.layoutNode=function(E,v){let M=null,R=null,I=!1;if((!E.w||!E.h)&&E.value){let J=0,_=0;E.margin&&(J=E.margin.leftInset+E.margin.rightInset,_=E.margin.topInset+E.margin.bottomInset);let L=null,K=null;E.para&&(K=Object.create(null),L=E.para.lineHeight===""?null:E.para.lineHeight,K.top=E.para.spaceAbove===""?0:E.para.spaceAbove,K.bottom=E.para.spaceBelow===""?0:E.para.spaceBelow,K.left=E.para.marginLeft===""?0:E.para.marginLeft,K.right=E.para.marginRight===""?0:E.para.marginRight);let $=E.font;if(!$){const F=E[d.$getTemplateRoot]();let j=E[d.$getParent]();for(;j&&j!==F;){if(j.font){$=j.font;break}j=j[d.$getParent]()}}const D=(E.w||v.width)-J,ne=E[d.$globalData].fontFinder;if(E.value.exData&&E.value.exData[d.$content]&&E.value.exData.contentType==="text/html"){const F=C(E.value.exData[d.$content],$,K,L,ne,D);R=F.width,M=F.height,I=F.isBroken}else{const F=E.value[d.$text]();if(F){const j=C(F,$,K,L,ne,D);R=j.width,M=j.height,I=j.isBroken}}R===null||E.w||(R+=J),M===null||E.h||(M+=_)}return{w:R,h:M,isBroken:I}},h.measureToString=w,h.setAccess=function(E,v){switch(E.access){case"nonInteractive":v.push("xfaNonInteractive");break;case"readOnly":v.push("xfaReadOnly");break;case"protected":v.push("xfaDisabled")}},h.setFontFamily=function(E,v,M,R){if(!M){delete R.fontFamily;return}const I=(0,y.stripQuotes)(E.typeface);R.fontFamily=`"${I}"`;const J=M.find(I);if(J){const{fontFamily:_}=J.regular.cssFontInfo;_!==I&&(R.fontFamily=`"${_}"`);const L=A(v);if(L&&L.lineHeight!==""||R.lineHeight)return;const K=(0,x.selectFont)(E,J);K&&(R.lineHeight=Math.max(1.2,K.lineHeight))}},h.setMinMaxDimensions=function(E,v){E[d.$getSubformParent]().layout==="position"&&(E.minW>0&&(v.minWidth=w(E.minW)),E.maxW>0&&(v.maxWidth=w(E.maxW)),E.minH>0&&(v.minHeight=w(E.minH)),E.maxH>0&&(v.maxHeight=w(E.maxH)))},h.setPara=function(E,v,M){if(M.attributes.class&&M.attributes.class.includes("xfaRich")){v&&(E.h===""&&(v.height="auto"),E.w===""&&(v.width="auto"));const R=A(E);if(R){const I=M.attributes.style;switch(I.display="flex",I.flexDirection="column",R.vAlign){case"top":I.justifyContent="start";break;case"bottom":I.justifyContent="end";break;case"middle":I.justifyContent="center"}const J=R[d.$toStyle]();for(const[_,L]of Object.entries(J))_ in I||(I[_]=L)}}},h.toStyle=function(E,...v){const M=Object.create(null);for(const R of v){const I=E[R];if(I!==null){if(T.hasOwnProperty(R))T[R](E,M);else if(I instanceof d.XFAObject){const J=I[d.$toStyle]();J?Object.assign(M,J):(0,m.warn)(`(DEBUG) - XFA - style for ${R} not implemented yet`)}}}return M};var d=p(75),m=p(2),y=p(76),x=p(83),u=p(84);function w(g){return typeof g=="string"?"0px":Number.isInteger(g)?`${g}px`:`${g.toFixed(2)}px`}const T={anchorType(g,E){const v=g[d.$getSubformParent]();if(v&&(!v.layout||v.layout==="position"))switch("transform"in E||(E.transform=""),g.anchorType){case"bottomCenter":E.transform+="translate(-50%, -100%)";break;case"bottomLeft":E.transform+="translate(0,-100%)";break;case"bottomRight":E.transform+="translate(-100%,-100%)";break;case"middleCenter":E.transform+="translate(-50%,-50%)";break;case"middleLeft":E.transform+="translate(0,-50%)";break;case"middleRight":E.transform+="translate(-100%,-50%)";break;case"topCenter":E.transform+="translate(-50%,0)";break;case"topRight":E.transform+="translate(-100%,0)"}},dimensions(g,E){const v=g[d.$getSubformParent]();let M=g.w;const R=g.h;if(v.layout&&v.layout.includes("row")){const I=v[d.$extra],J=g.colSpan;let _;J===-1?(_=I.columnWidths.slice(I.currentColumn).reduce((L,K)=>L+K,0),I.currentColumn=0):(_=I.columnWidths.slice(I.currentColumn,I.currentColumn+J).reduce((L,K)=>L+K,0),I.currentColumn=(I.currentColumn+g.colSpan)%I.columnWidths.length),isNaN(_)||(M=g.w=_)}E.width=M!==""?w(M):"auto",E.height=R!==""?w(R):"auto"},position(g,E){const v=g[d.$getSubformParent]();(!v||!v.layout||v.layout==="position")&&(E.position="absolute",E.left=w(g.x),E.top=w(g.y))},rotate(g,E){g.rotate&&("transform"in E||(E.transform=""),E.transform+=`rotate(-${g.rotate}deg)`,E.transformOrigin="top left")},presence(g,E){switch(g.presence){case"invisible":E.visibility="hidden";break;case"hidden":case"inactive":E.display="none"}},hAlign(g,E){if(g[d.$nodeName]==="para")switch(g.hAlign){case"justifyAll":E.textAlign="justify-all";break;case"radix":E.textAlign="left";break;default:E.textAlign=g.hAlign}else switch(g.hAlign){case"left":E.alignSelf="start";break;case"center":E.alignSelf="center";break;case"right":E.alignSelf="end"}},margin(g,E){g.margin&&(E.margin=g.margin[d.$toStyle]().margin)}};function C(g,E,v,M,R,I){const J=new u.TextMeasure(E,v,M,R);return typeof g=="string"?J.addString(g):g[d.$pushGlyphs](J),J.compute(I)}function k(g){return g.relevant.length>0&&!g.relevant[0].excluded&&g.relevant[0].viewname==="print"}function A(g){const E=g[d.$getTemplateRoot]()[d.$extra].paraStack;return E.length?E.at(-1):null}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FontFinder=void 0,h.getMetrics=function(w,T=!1){let C=null;if(w){const E=(0,m.stripQuotes)(w.typeface),v=w[d.$globalData].fontFinder.find(E);C=x(w,v)}if(!C)return{lineHeight:12,lineGap:2,lineNoGap:10};const k=w.size||10,A=C.lineHeight?Math.max(T?0:1.2,C.lineHeight):1.2,g=C.lineGap===void 0?.2:C.lineGap;return{lineHeight:A*k,lineGap:g*k,lineNoGap:Math.max(1,A-g)*k}},h.selectFont=x;var d=p(75),m=p(76),y=p(2);h.FontFinder=class{constructor(w){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(w)}add(w,T=null){for(const k of w)this.addPdfFont(k);for(const k of this.fonts.values())k.regular||(k.regular=k.italic||k.bold||k.bolditalic);if(!T||T.size===0)return;const C=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const k of T)this.fonts.set(k,C)}addPdfFont(w){const T=w.cssFontInfo,C=T.fontFamily;let k=this.fonts.get(C);k||(k=Object.create(null),this.fonts.set(C,k),this.defaultFont||(this.defaultFont=k));let A="";const g=parseFloat(T.fontWeight);parseFloat(T.italicAngle)!==0?A=g>=700?"bolditalic":"italic":g>=700&&(A="bold"),A||((w.name.includes("Bold")||w.psName&&w.psName.includes("Bold"))&&(A="bold"),(w.name.includes("Italic")||w.name.endsWith("It")||w.psName&&(w.psName.includes("Italic")||w.psName.endsWith("It")))&&(A+="italic")),A||(A="regular"),k[A]=w}getDefault(){return this.defaultFont}find(w,T=!0){let C=this.fonts.get(w)||this.cache.get(w);if(C)return C;const k=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let A=w.replace(k,"");if(C=this.fonts.get(A),C)return this.cache.set(w,C),C;A=A.toLowerCase();const g=[];for(const[E,v]of this.fonts.entries())E.replace(k,"").toLowerCase().startsWith(A)&&g.push(v);if(g.length===0)for(const[,E]of this.fonts.entries())E.regular.name&&E.regular.name.replace(k,"").toLowerCase().startsWith(A)&&g.push(E);if(g.length===0){A=A.replace(/psmt|mt/gi,"");for(const[E,v]of this.fonts.entries())E.replace(k,"").toLowerCase().startsWith(A)&&g.push(v)}if(g.length===0)for(const E of this.fonts.values())E.regular.name&&E.regular.name.replace(k,"").toLowerCase().startsWith(A)&&g.push(E);return g.length>=1?(g.length!==1&&T&&(0,y.warn)(`XFA - Too many choices to guess the correct font: ${w}`),this.cache.set(w,g[0]),g[0]):(T&&!this.warned.has(w)&&(this.warned.add(w),(0,y.warn)(`XFA - Cannot find the font: ${w}`)),null)}};function x(u,w){return u.posture==="italic"?u.weight==="bold"?w.bolditalic:w.italic:u.weight==="bold"?w.bold:w.regular}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TextMeasure=void 0;var d=p(83);class m{constructor(u,w,T,C){if(this.lineHeight=T,this.paraMargin=w||{top:0,bottom:0,left:0,right:0},!u){[this.pdfFont,this.xfaFont]=this.defaultFont(C);return}this.xfaFont={typeface:u.typeface,posture:u.posture,weight:u.weight,size:u.size,letterSpacing:u.letterSpacing};const k=C.find(u.typeface);k?(this.pdfFont=(0,d.selectFont)(u,k),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(C))):[this.pdfFont,this.xfaFont]=this.defaultFont(C)}defaultFont(u){const w=u.find("Helvetica",!1)||u.find("Myriad Pro",!1)||u.find("Arial",!1)||u.getDefault();if(w&&w.regular){const T=w.regular;return[T,{typeface:T.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0}]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class y{constructor(u,w,T,C){this.fontFinder=C,this.stack=[new m(u,w,T,C)]}pushData(u,w,T){const C=this.stack.at(-1);for(const A of["typeface","posture","weight","size","letterSpacing"])u[A]||(u[A]=C.xfaFont[A]);for(const A of["top","bottom","left","right"])isNaN(w[A])&&(w[A]=C.paraMargin[A]);const k=new m(u,w,T||C.lineHeight,this.fontFinder);k.pdfFont||(k.pdfFont=C.pdfFont),this.stack.push(k)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}h.TextMeasure=class{constructor(u,w,T,C){this.glyphs=[],this.fontSelector=new y(u,w,T,C),this.extraHeight=0}pushData(u,w,T){this.fontSelector.pushData(u,w,T)}popFont(u){return this.fontSelector.popFont()}addPara(){const u=this.fontSelector.topFont();this.extraHeight+=u.paraMargin.top+u.paraMargin.bottom}addString(u){if(!u)return;const w=this.fontSelector.topFont(),T=w.xfaFont.size;if(w.pdfFont){const C=w.xfaFont.letterSpacing,k=w.pdfFont,A=k.lineHeight||1.2,g=w.lineHeight||Math.max(1.2,A)*T,E=A-(k.lineGap===void 0?.2:k.lineGap),v=Math.max(1,E)*T,M=T/1e3,R=k.defaultWidth||k.charsToGlyphs(" ")[0].width;for(const I of u.split(/[\u2029\n]/)){const J=k.encodeString(I).join(""),_=k.charsToGlyphs(J);for(const L of _){const K=L.width||R;this.glyphs.push([K*M+C,g,v,L.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}else{for(const C of u.split(/[\u2029\n]/)){for(const k of C.split(""))this.glyphs.push([T,1.2*T,T,k,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}}compute(u){let w=-1,T=0,C=0,k=0,A=0,g=0,E=!1,v=!0;for(let M=0,R=this.glyphs.length;M<R;M++){const[I,J,_,L,K]=this.glyphs[M],$=L===" ",D=v?_:J;K?(C=Math.max(C,A),A=0,k+=g,g=D,w=-1,T=0,v=!1):$?A+I>u?(C=Math.max(C,A),A=0,k+=g,g=D,w=-1,T=0,E=!0,v=!1):(g=Math.max(D,g),T=A,A+=I,w=M):A+I>u?(k+=g,g=D,w!==-1?(M=w,C=Math.max(C,T),A=0,w=-1,T=0):(C=Math.max(C,A),A=I),E=!0,v=!1):(A+=I,g=Math.max(D,g))}return C=Math.max(C,A),k+=g+this.extraHeight,{width:1.02*C,height:k,isBroken:E}}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DataHandler=void 0;var d=p(75);h.DataHandler=class{constructor(y,x){this.data=x,this.dataset=y.datasets||null}serialize(y){const x=[[-1,this.data[d.$getChildren]()]];for(;x.length>0;){const w=x.at(-1),[T,C]=w;if(T+1===C.length){x.pop();continue}const k=C[++w[0]],A=y.get(k[d.$uid]);if(A)k[d.$setValue](A);else{const E=k[d.$getAttributes]();for(const v of E.values()){const M=y.get(v[d.$uid]);if(M){v[d.$setValue](M);break}}}const g=k[d.$getChildren]();g.length>0&&x.push([-1,g])}const u=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const w of this.dataset[d.$getChildren]())w[d.$nodeName]!=="data"&&w[d.$toString](u);return this.data[d.$toString](u),u.push("</xfa:datasets>"),u.join("")}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XFAParser=void 0;var d=p(75),m=p(64),y=p(87),x=p(2);class u extends m.XMLParserBase{constructor(T=null,C=!1){super(),this._builder=new y.Builder(T),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=m.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=C}parse(T){if(this.parseXml(T),this._errorCode===m.XMLParserErrorCode.NoError)return this._current[d.$finalize](),this._current.element}onText(T){T=T.replace(this._nbsps,C=>C.slice(1)+" "),this._richText||this._current[d.$acceptWhitespace]()?this._current[d.$onText](T,this._richText):this._whiteRegex.test(T)||this._current[d.$onText](T.trim())}onCdata(T){this._current[d.$onText](T)}_mkAttributes(T,C){let k=null,A=null;const g=Object.create({});for(const{name:E,value:v}of T)if(E==="xmlns")k?(0,x.warn)(`XFA - multiple namespace definition in <${C}>`):k=v;else if(E.startsWith("xmlns:")){const M=E.substring(6);A||(A=[]),A.push({prefix:M,value:v})}else{const M=E.indexOf(":");if(M===-1)g[E]=v;else{let R=g[d.$nsAttributes];R||(R=g[d.$nsAttributes]=Object.create(null));const[I,J]=[E.slice(0,M),E.slice(M+1)];let _=R[I];_||(_=R[I]=Object.create(null)),_[J]=v}}return[k,A,g]}_getNameAndPrefix(T,C){const k=T.indexOf(":");return k===-1?[T,null]:[T.substring(k+1),C?"":T.substring(0,k)]}onBeginElement(T,C,k){const[A,g,E]=this._mkAttributes(C,T),[v,M]=this._getNameAndPrefix(T,this._builder.isNsAgnostic()),R=this._builder.build({nsPrefix:M,name:v,attributes:E,namespace:A,prefixes:g});R[d.$globalData]=this._globalData,k?(R[d.$finalize](),this._current[d.$onChild](R)&&R[d.$setId](this._ids),R[d.$clean](this._builder)):(this._stack.push(this._current),this._current=R)}onEndElement(T){const C=this._current;if(C[d.$isCDATAXml]()&&typeof C[d.$content]=="string"){const k=new u;k._globalData=this._globalData;const A=k.parse(C[d.$content]);C[d.$content]=null,C[d.$onChild](A)}C[d.$finalize](),this._current=this._stack.pop(),this._current[d.$onChild](C)&&C[d.$setId](this._ids),C[d.$clean](this._builder)}onError(T){this._errorCode=T}}h.XFAParser=u},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Builder=void 0;var d=p(77),m=p(75),y=p(88),x=p(80),u=p(97),w=p(2);class T extends m.XFAObject{constructor(A){super(-1,"root",Object.create(null)),this.element=null,this[m.$ids]=A}[m.$onChild](A){return this.element=A,!0}[m.$finalize](){super[m.$finalize](),this.element.template instanceof x.Template&&(this[m.$ids].set(m.$root,this.element),this.element.template[m.$resolvePrototypes](this[m.$ids]),this.element.template[m.$ids]=this[m.$ids])}}class C extends m.XFAObject{constructor(){super(-1,"",Object.create(null))}[m.$onChild](A){return!1}}h.Builder=class{constructor(A=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(d.NamespaceIds).map(({id:g})=>g)),this._currentNamespace=A||new u.UnknownNamespace(++this._nextNsId)}buildRoot(A){return new T(A)}build({nsPrefix:A,name:g,attributes:E,namespace:v,prefixes:M}){const R=v!==null;if(R&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(v)),M&&this._addNamespacePrefix(M),E.hasOwnProperty(m.$nsAttributes)){const _=y.NamespaceSetUp.datasets,L=E[m.$nsAttributes];let K=null;for(const[$,D]of Object.entries(L))if(this._getNamespaceToUse($)===_){K={xfa:D};break}K?E[m.$nsAttributes]=K:delete E[m.$nsAttributes]}const I=this._getNamespaceToUse(A),J=I&&I[d.$buildXFAObject](g,E)||new C;return J[m.$isNsAgnostic]()&&this._nsAgnosticLevel++,(R||M||J[m.$isNsAgnostic]())&&(J[m.$cleanup]={hasNamespace:R,prefixes:M,nsAgnostic:J[m.$isNsAgnostic]()}),J}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(A){let g=this._namespaces.get(A);if(g)return g;for(const[E,{check:v}]of Object.entries(d.NamespaceIds))if(v(A)){if(g=y.NamespaceSetUp[E],g)return this._namespaces.set(A,g),g;break}return g=new u.UnknownNamespace(++this._nextNsId),this._namespaces.set(A,g),g}_addNamespacePrefix(A){for(const{prefix:g,value:E}of A){const v=this._searchNamespace(E);let M=this._namespacePrefixes.get(g);M||(M=[],this._namespacePrefixes.set(g,M)),M.push(v)}}_getNamespaceToUse(A){if(!A)return this._currentNamespace;const g=this._namespacePrefixes.get(A);return g&&g.length>0?g.at(-1):((0,w.warn)(`Unknown namespace prefix: ${A}.`),null)}clean(A){const{hasNamespace:g,prefixes:E,nsAgnostic:v}=A;g&&(this._currentNamespace=this._namespaceStack.pop()),E&&E.forEach(({prefix:M})=>{this._namespacePrefixes.get(M).pop()}),v&&this._nsAgnosticLevel--}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NamespaceSetUp=void 0;var d=p(89),m=p(90),y=p(91),x=p(92),u=p(93),w=p(94),T=p(80),C=p(95),k=p(96);const A={config:d.ConfigNamespace,connection:m.ConnectionSetNamespace,datasets:y.DatasetsNamespace,localeSet:x.LocaleSetNamespace,signature:u.SignatureNamespace,stylesheet:w.StylesheetNamespace,template:T.TemplateNamespace,xdp:C.XdpNamespace,xhtml:k.XhtmlNamespace};h.NamespaceSetUp=A},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConfigNamespace=void 0;var d=p(77),m=p(75),y=p(76),x=p(2);const u=d.NamespaceIds.config.id;class w extends m.XFAObject{constructor(ke){super(u,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new m.XFAObjectArray}}class T extends m.XFAObject{constructor(ke){super(u,"acrobat7",!0),this.dynamicRender=null}}class C extends m.OptionObject{constructor(ke){super(u,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class k extends m.OptionObject{constructor(ke){super(u,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class A extends m.Option01{constructor(ke){super(u,"addSilentPrint")}}class g extends m.Option01{constructor(ke){super(u,"addViewerPreferences")}}class E extends m.Option10{constructor(ke){super(u,"adjustData")}}class v extends m.IntegerObject{constructor(ke){super(u,"adobeExtensionLevel",0,ft=>ft>=1&&ft<=8)}}class M extends m.XFAObject{constructor(ke){super(u,"agent",!0),this.name=ke.name?ke.name.trim():"",this.common=new m.XFAObjectArray}}class R extends m.ContentObject{constructor(ke){super(u,"alwaysEmbed")}}class I extends m.StringObject{constructor(ke){super(u,"amd")}}class J extends m.XFAObject{constructor(ke){super(u,"area"),this.level=(0,y.getInteger)({data:ke.level,defaultValue:0,validate:ft=>ft>=1&&ft<=3}),this.name=(0,y.getStringOption)(ke.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class _ extends m.OptionObject{constructor(ke){super(u,"attributes",["preserve","delegate","ignore"])}}class L extends m.OptionObject{constructor(ke){super(u,"autoSave",["disabled","enabled"])}}class K extends m.StringObject{constructor(ke){super(u,"base")}}class $ extends m.XFAObject{constructor(ke){super(u,"batchOutput"),this.format=(0,y.getStringOption)(ke.format,["none","concat","zip","zipCompress"])}}class D extends m.ContentObject{constructor(ke){super(u,"behaviorOverride")}[m.$finalize](){this[m.$content]=new Map(this[m.$content].trim().split(/\s+/).filter(ke=>ke.includes(":")).map(ke=>ke.split(":",2)))}}class ne extends m.XFAObject{constructor(ke){super(u,"cache",!0),this.templateCache=null}}class F extends m.Option01{constructor(ke){super(u,"change")}}class j extends m.XFAObject{constructor(ke){super(u,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new m.XFAObjectArray}}class se extends m.XFAObject{constructor(ke){super(u,"compress"),this.scope=(0,y.getStringOption)(ke.scope,["imageOnly","document"])}}class Y extends m.Option01{constructor(ke){super(u,"compressLogicalStructure")}}class q extends m.Option10{constructor(ke){super(u,"compressObjectStream")}}class Q extends m.XFAObject{constructor(ke){super(u,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class N extends m.XFAObject{constructor(ke){super(u,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new m.XFAObjectArray}}class O extends m.OptionObject{constructor(ke){super(u,"conformance",["A","B"])}}class H extends m.Option01{constructor(ke){super(u,"contentCopy")}}class G extends m.IntegerObject{constructor(ke){super(u,"copies",1,ft=>ft>=1)}}class le extends m.StringObject{constructor(ke){super(u,"creator")}}class fe extends m.IntegerObject{constructor(ke){super(u,"currentPage",0,ft=>ft>=0)}}class ae extends m.XFAObject{constructor(ke){super(u,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new m.XFAObjectArray,this.transform=new m.XFAObjectArray}}class re extends m.XFAObject{constructor(ke){super(u,"debug",!0),this.uri=null}}class be extends m.ContentObject{constructor(ke){super(u,"defaultTypeface"),this.writingScript=(0,y.getStringOption)(ke.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class ye extends m.OptionObject{constructor(ke){super(u,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Ce extends m.Option01{constructor(ke){super(u,"documentAssembly")}}class me extends m.XFAObject{constructor(ke){super(u,"driver",!0),this.name=ke.name?ke.name.trim():"",this.fontInfo=null,this.xdc=null}}class ee extends m.OptionObject{constructor(ke){super(u,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class te extends m.OptionObject{constructor(ke){super(u,"dynamicRender",["forbidden","required"])}}class oe extends m.Option01{constructor(ke){super(u,"embed")}}class V extends m.Option01{constructor(ke){super(u,"encrypt")}}class W extends m.XFAObject{constructor(ke){super(u,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class ue extends m.OptionObject{constructor(ke){super(u,"encryptionLevel",["40bit","128bit"])}}class he extends m.StringObject{constructor(ke){super(u,"enforce")}}class pe extends m.XFAObject{constructor(ke){super(u,"equate"),this.force=(0,y.getInteger)({data:ke.force,defaultValue:1,validate:ft=>ft===0}),this.from=ke.from||"",this.to=ke.to||""}}class Se extends m.XFAObject{constructor(ke){super(u,"equateRange"),this.from=ke.from||"",this.to=ke.to||"",this._unicodeRange=ke.unicodeRange||""}get unicodeRange(){const ke=[],ft=/U\+([0-9a-fA-F]+)/,Pt=this._unicodeRange;for(let Ft of Pt.split(",").map(Gt=>Gt.trim()).filter(Gt=>!!Gt))Ft=Ft.split("-",2).map(Gt=>{const Jt=Gt.match(ft);return Jt?parseInt(Jt[1],16):0}),Ft.length===1&&Ft.push(Ft[0]),ke.push(Ft);return(0,x.shadow)(this,"unicodeRange",ke)}}class ge extends m.ContentObject{constructor(ke){super(u,"exclude")}[m.$finalize](){this[m.$content]=this[m.$content].trim().split(/\s+/).filter(ke=>ke&&["calculate","close","enter","exit","initialize","ready","validate"].includes(ke))}}class de extends m.StringObject{constructor(ke){super(u,"excludeNS")}}class xe extends m.OptionObject{constructor(ke){super(u,"flipLabel",["usePrinterSetting","on","off"])}}class ve extends m.XFAObject{constructor(ke){super(u,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new m.XFAObjectArray,this.defaultTypeface=new m.XFAObjectArray,this.neverEmbed=new m.XFAObjectArray}}class Ee extends m.Option01{constructor(ke){super(u,"formFieldFilling")}}class Te extends m.StringObject{constructor(ke){super(u,"groupParent")}}class _e extends m.OptionObject{constructor(ke){super(u,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Oe extends m.StringObject{constructor(ke){super(u,"includeXDPContent")}}class Pe extends m.OptionObject{constructor(ke){super(u,"incrementalLoad",["none","forwardOnly"])}}class je extends m.Option01{constructor(ke){super(u,"incrementalMerge")}}class De extends m.Option01{constructor(ke){super(u,"interactive")}}class Me extends m.OptionObject{constructor(ke){super(u,"jog",["usePrinterSetting","none","pageSet"])}}class Fe extends m.XFAObject{constructor(ke){super(u,"labelPrinter",!0),this.name=(0,y.getStringOption)(ke.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class $e extends m.OptionObject{constructor(ke){super(u,"layout",["paginate","panel"])}}class tt extends m.IntegerObject{constructor(ke){super(u,"level",0,ft=>ft>0)}}class ut extends m.Option01{constructor(ke){super(u,"linearized")}}class ct extends m.StringObject{constructor(ke){super(u,"locale")}}class mt extends m.StringObject{constructor(ke){super(u,"localeSet")}}class Ze extends m.XFAObject{constructor(ke){super(u,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class St extends m.XFAObject{constructor(ke){super(u,"map",!0),this.equate=new m.XFAObjectArray,this.equateRange=new m.XFAObjectArray}}class Rt extends m.XFAObject{constructor(ke){super(u,"mediumInfo",!0),this.map=null}}class $t extends m.XFAObject{constructor(ke){super(u,"message",!0),this.msgId=null,this.severity=null}}class dt extends m.XFAObject{constructor(ke){super(u,"messaging",!0),this.message=new m.XFAObjectArray}}class ot extends m.OptionObject{constructor(ke){super(u,"mode",["append","overwrite"])}}class lt extends m.Option01{constructor(ke){super(u,"modifyAnnots")}}class st extends m.IntegerObject{constructor(ke){super(u,"msgId",1,ft=>ft>=1)}}class Ge extends m.StringObject{constructor(ke){super(u,"nameAttr")}}class Ke extends m.ContentObject{constructor(ke){super(u,"neverEmbed")}}class rt extends m.IntegerObject{constructor(ke){super(u,"numberOfCopies",null,ft=>ft>=2&&ft<=5)}}class ze extends m.XFAObject{constructor(ke){super(u,"openAction",!0),this.destination=null}}class Ve extends m.XFAObject{constructor(ke){super(u,"output",!0),this.to=null,this.type=null,this.uri=null}}class Ye extends m.StringObject{constructor(ke){super(u,"outputBin")}}class Je extends m.XFAObject{constructor(ke){super(u,"outputXSL",!0),this.uri=null}}class it extends m.OptionObject{constructor(ke){super(u,"overprint",["none","both","draw","field"])}}class Tt extends m.StringObject{constructor(ke){super(u,"packets")}[m.$finalize](){this[m.$content]!=="*"&&(this[m.$content]=this[m.$content].trim().split(/\s+/).filter(ke=>["config","datasets","template","xfdf","xslt"].includes(ke)))}}class Ut extends m.XFAObject{constructor(ke){super(u,"pageOffset"),this.x=(0,y.getInteger)({data:ke.x,defaultValue:"useXDCSetting",validate:ft=>!0}),this.y=(0,y.getInteger)({data:ke.y,defaultValue:"useXDCSetting",validate:ft=>!0})}}class kt extends m.StringObject{constructor(ke){super(u,"pageRange")}[m.$finalize](){const ke=this[m.$content].trim().split(/\s+/).map(Pt=>parseInt(Pt,10)),ft=[];for(let Pt=0,Ft=ke.length;Pt<Ft;Pt+=2)ft.push(ke.slice(Pt,Pt+2));this[m.$content]=ft}}class pt extends m.OptionObject{constructor(ke){super(u,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Ht extends m.OptionObject{constructor(ke){super(u,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Xt extends m.IntegerObject{constructor(ke){super(u,"part",1,ft=>!1)}}class Vt extends m.XFAObject{constructor(ke){super(u,"pcl",!0),this.name=ke.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Ot extends m.XFAObject{constructor(ke){super(u,"pdf",!0),this.name=ke.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class At extends m.XFAObject{constructor(ke){super(u,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class vt extends m.XFAObject{constructor(ke){super(u,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Wt extends m.Option01{constructor(ke){super(u,"pickTrayByPDFSize")}}class It extends m.StringObject{constructor(ke){super(u,"picture")}}class Ct extends m.Option01{constructor(ke){super(u,"plaintextMetadata")}}class Dt extends m.OptionObject{constructor(ke){super(u,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Bt extends m.XFAObject{constructor(ke){super(u,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new m.XFAObjectArray,this.labelPrinter=new m.XFAObjectArray,this.pcl=new m.XFAObjectArray,this.pdf=new m.XFAObjectArray,this.ps=new m.XFAObjectArray,this.submitUrl=new m.XFAObjectArray,this.webClient=new m.XFAObjectArray,this.zpl=new m.XFAObjectArray}}class Ue extends m.Option01{constructor(ke){super(u,"print")}}class nt extends m.Option01{constructor(ke){super(u,"printHighQuality")}}class bt extends m.OptionObject{constructor(ke){super(u,"printScaling",["appdefault","noScaling"])}}class Et extends m.StringObject{constructor(ke){super(u,"printerName")}}class Zt extends m.StringObject{constructor(ke){super(u,"producer")}}class hn extends m.XFAObject{constructor(ke){super(u,"ps",!0),this.name=ke.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class fn extends m.ContentObject{constructor(ke){super(u,"range")}[m.$finalize](){this[m.$content]=this[m.$content].trim().split(/\s*,\s*/,2).map(ke=>ke.split("-").map(ft=>parseInt(ft.trim(),10))).filter(ke=>ke.every(ft=>!isNaN(ft))).map(ke=>(ke.length===1&&ke.push(ke[0]),ke))}}class fr extends m.ContentObject{constructor(ke){super(u,"record")}[m.$finalize](){this[m.$content]=this[m.$content].trim();const ke=parseInt(this[m.$content],10);!isNaN(ke)&&ke>=0&&(this[m.$content]=ke)}}class Dn extends m.ContentObject{constructor(ke){super(u,"relevant")}[m.$finalize](){this[m.$content]=this[m.$content].trim().split(/\s+/)}}class Wn extends m.ContentObject{constructor(ke){super(u,"rename")}[m.$finalize](){this[m.$content]=this[m.$content].trim(),(this[m.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[m.$content]))&&(0,x.warn)("XFA - Rename: invalid XFA name")}}class Ji extends m.OptionObject{constructor(ke){super(u,"renderPolicy",["server","client"])}}class zn extends m.OptionObject{constructor(ke){super(u,"runScripts",["both","client","none","server"])}}class Qi extends m.XFAObject{constructor(ke){super(u,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class es extends m.OptionObject{constructor(ke){super(u,"scriptModel",["XFA","none"])}}class Ai extends m.OptionObject{constructor(ke){super(u,"severity",["ignore","error","information","trace","warning"])}}class Lr extends m.XFAObject{constructor(ke){super(u,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class $r extends m.XFAObject{constructor(ke){super(u,"staple"),this.mode=(0,y.getStringOption)(ke.mode,["usePrinterSetting","on","off"])}}class wr extends m.StringObject{constructor(ke){super(u,"startNode")}}class Br extends m.IntegerObject{constructor(ke){super(u,"startPage",0,ft=>!0)}}class ts extends m.OptionObject{constructor(ke){super(u,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class ns extends m.StringObject{constructor(ke){super(u,"submitUrl")}}class ai extends m.IntegerObject{constructor(ke){super(u,"subsetBelow",100,ft=>ft>=0&&ft<=100)}}class Ei extends m.Option01{constructor(ke){super(u,"suppressBanner")}}class oi extends m.Option01{constructor(ke){super(u,"tagged")}}class vr extends m.XFAObject{constructor(ke){super(u,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class li extends m.OptionObject{constructor(ke){super(u,"threshold",["trace","error","information","warning"])}}class ci extends m.OptionObject{constructor(ke){super(u,"to",["null","memory","stderr","stdout","system","uri"])}}class on extends m.XFAObject{constructor(ke){super(u,"templateCache"),this.maxEntries=(0,y.getInteger)({data:ke.maxEntries,defaultValue:5,validate:ft=>ft>=0})}}class Ti extends m.XFAObject{constructor(ke){super(u,"trace",!0),this.area=new m.XFAObjectArray}}class jr extends m.XFAObject{constructor(ke){super(u,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Ur extends m.OptionObject{constructor(ke){super(u,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class ui extends m.StringObject{constructor(ke){super(u,"uri")}}class _i extends m.OptionObject{constructor(ke){super(u,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class Oi extends m.ContentObject{constructor(ke){super(u,"validateApprovalSignatures")}[m.$finalize](){this[m.$content]=this[m.$content].trim().split(/\s+/).filter(ke=>["docReady","postSign"].includes(ke))}}class di extends m.OptionObject{constructor(ke){super(u,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class zr extends m.OptionObject{constructor(ke){super(u,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class nr extends m.XFAObject{constructor(ke){super(u,"VersionControl"),this.outputBelow=(0,y.getStringOption)(ke.outputBelow,["warn","error","update"]),this.sourceAbove=(0,y.getStringOption)(ke.sourceAbove,["warn","error"]),this.sourceBelow=(0,y.getStringOption)(ke.sourceBelow,["update","maintain"])}}class Xn extends m.XFAObject{constructor(ke){super(u,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class rr extends m.XFAObject{constructor(ke){super(u,"webClient",!0),this.name=ke.name?ke.name.trim():"",this.fontInfo=null,this.xdc=null}}class ir extends m.OptionObject{constructor(ke){super(u,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class _r extends m.ContentObject{constructor(ke){super(u,"window")}[m.$finalize](){const ke=this[m.$content].trim().split(/\s*,\s*/,2).map(ft=>parseInt(ft,10));ke.some(ft=>isNaN(ft))?this[m.$content]=[0,0]:(ke.length===1&&ke.push(ke[0]),this[m.$content]=ke)}}class Hn extends m.XFAObject{constructor(ke){super(u,"xdc",!0),this.uri=new m.XFAObjectArray,this.xsl=new m.XFAObjectArray}}class Xe extends m.XFAObject{constructor(ke){super(u,"xdp",!0),this.packets=null}}class U extends m.XFAObject{constructor(ke){super(u,"xsl",!0),this.debug=null,this.uri=null}}class Ne extends m.XFAObject{constructor(ke){super(u,"zpl",!0),this.name=ke.name?ke.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class We{static[d.$buildXFAObject](ke,ft){if(We.hasOwnProperty(ke))return We[ke](ft)}static acrobat(ke){return new w(ke)}static acrobat7(ke){return new T(ke)}static ADBE_JSConsole(ke){return new C(ke)}static ADBE_JSDebugger(ke){return new k(ke)}static addSilentPrint(ke){return new A(ke)}static addViewerPreferences(ke){return new g(ke)}static adjustData(ke){return new E(ke)}static adobeExtensionLevel(ke){return new v(ke)}static agent(ke){return new M(ke)}static alwaysEmbed(ke){return new R(ke)}static amd(ke){return new I(ke)}static area(ke){return new J(ke)}static attributes(ke){return new _(ke)}static autoSave(ke){return new L(ke)}static base(ke){return new K(ke)}static batchOutput(ke){return new $(ke)}static behaviorOverride(ke){return new D(ke)}static cache(ke){return new ne(ke)}static change(ke){return new F(ke)}static common(ke){return new j(ke)}static compress(ke){return new se(ke)}static compressLogicalStructure(ke){return new Y(ke)}static compressObjectStream(ke){return new q(ke)}static compression(ke){return new Q(ke)}static config(ke){return new N(ke)}static conformance(ke){return new O(ke)}static contentCopy(ke){return new H(ke)}static copies(ke){return new G(ke)}static creator(ke){return new le(ke)}static currentPage(ke){return new fe(ke)}static data(ke){return new ae(ke)}static debug(ke){return new re(ke)}static defaultTypeface(ke){return new be(ke)}static destination(ke){return new ye(ke)}static documentAssembly(ke){return new Ce(ke)}static driver(ke){return new me(ke)}static duplexOption(ke){return new ee(ke)}static dynamicRender(ke){return new te(ke)}static embed(ke){return new oe(ke)}static encrypt(ke){return new V(ke)}static encryption(ke){return new W(ke)}static encryptionLevel(ke){return new ue(ke)}static enforce(ke){return new he(ke)}static equate(ke){return new pe(ke)}static equateRange(ke){return new Se(ke)}static exclude(ke){return new ge(ke)}static excludeNS(ke){return new de(ke)}static flipLabel(ke){return new xe(ke)}static fontInfo(ke){return new ve(ke)}static formFieldFilling(ke){return new Ee(ke)}static groupParent(ke){return new Te(ke)}static ifEmpty(ke){return new _e(ke)}static includeXDPContent(ke){return new Oe(ke)}static incrementalLoad(ke){return new Pe(ke)}static incrementalMerge(ke){return new je(ke)}static interactive(ke){return new De(ke)}static jog(ke){return new Me(ke)}static labelPrinter(ke){return new Fe(ke)}static layout(ke){return new $e(ke)}static level(ke){return new tt(ke)}static linearized(ke){return new ut(ke)}static locale(ke){return new ct(ke)}static localeSet(ke){return new mt(ke)}static log(ke){return new Ze(ke)}static map(ke){return new St(ke)}static mediumInfo(ke){return new Rt(ke)}static message(ke){return new $t(ke)}static messaging(ke){return new dt(ke)}static mode(ke){return new ot(ke)}static modifyAnnots(ke){return new lt(ke)}static msgId(ke){return new st(ke)}static nameAttr(ke){return new Ge(ke)}static neverEmbed(ke){return new Ke(ke)}static numberOfCopies(ke){return new rt(ke)}static openAction(ke){return new ze(ke)}static output(ke){return new Ve(ke)}static outputBin(ke){return new Ye(ke)}static outputXSL(ke){return new Je(ke)}static overprint(ke){return new it(ke)}static packets(ke){return new Tt(ke)}static pageOffset(ke){return new Ut(ke)}static pageRange(ke){return new kt(ke)}static pagination(ke){return new pt(ke)}static paginationOverride(ke){return new Ht(ke)}static part(ke){return new Xt(ke)}static pcl(ke){return new Vt(ke)}static pdf(ke){return new Ot(ke)}static pdfa(ke){return new At(ke)}static permissions(ke){return new vt(ke)}static pickTrayByPDFSize(ke){return new Wt(ke)}static picture(ke){return new It(ke)}static plaintextMetadata(ke){return new Ct(ke)}static presence(ke){return new Dt(ke)}static present(ke){return new Bt(ke)}static print(ke){return new Ue(ke)}static printHighQuality(ke){return new nt(ke)}static printScaling(ke){return new bt(ke)}static printerName(ke){return new Et(ke)}static producer(ke){return new Zt(ke)}static ps(ke){return new hn(ke)}static range(ke){return new fn(ke)}static record(ke){return new fr(ke)}static relevant(ke){return new Dn(ke)}static rename(ke){return new Wn(ke)}static renderPolicy(ke){return new Ji(ke)}static runScripts(ke){return new zn(ke)}static script(ke){return new Qi(ke)}static scriptModel(ke){return new es(ke)}static severity(ke){return new Ai(ke)}static silentPrint(ke){return new Lr(ke)}static staple(ke){return new $r(ke)}static startNode(ke){return new wr(ke)}static startPage(ke){return new Br(ke)}static submitFormat(ke){return new ts(ke)}static submitUrl(ke){return new ns(ke)}static subsetBelow(ke){return new ai(ke)}static suppressBanner(ke){return new Ei(ke)}static tagged(ke){return new oi(ke)}static template(ke){return new vr(ke)}static templateCache(ke){return new on(ke)}static threshold(ke){return new li(ke)}static to(ke){return new ci(ke)}static trace(ke){return new Ti(ke)}static transform(ke){return new jr(ke)}static type(ke){return new Ur(ke)}static uri(ke){return new ui(ke)}static validate(ke){return new _i(ke)}static validateApprovalSignatures(ke){return new Oi(ke)}static validationMessaging(ke){return new di(ke)}static version(ke){return new zr(ke)}static versionControl(ke){return new nr(ke)}static viewerPreferences(ke){return new Xn(ke)}static webClient(ke){return new rr(ke)}static whitespace(ke){return new ir(ke)}static window(ke){return new _r(ke)}static xdc(ke){return new Hn(ke)}static xdp(ke){return new Xe(ke)}static xsl(ke){return new U(ke)}static zpl(ke){return new Ne(ke)}}h.ConfigNamespace=We},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConnectionSetNamespace=void 0;var d=p(77),m=p(75);const y=d.NamespaceIds.connectionSet.id;class x extends m.XFAObject{constructor(_){super(y,"connectionSet",!0),this.wsdlConnection=new m.XFAObjectArray,this.xmlConnection=new m.XFAObjectArray,this.xsdConnection=new m.XFAObjectArray}}class u extends m.XFAObject{constructor(_){super(y,"effectiveInputPolicy"),this.id=_.id||"",this.name=_.name||"",this.use=_.use||"",this.usehref=_.usehref||""}}class w extends m.XFAObject{constructor(_){super(y,"effectiveOutputPolicy"),this.id=_.id||"",this.name=_.name||"",this.use=_.use||"",this.usehref=_.usehref||""}}class T extends m.StringObject{constructor(_){super(y,"operation"),this.id=_.id||"",this.input=_.input||"",this.name=_.name||"",this.output=_.output||"",this.use=_.use||"",this.usehref=_.usehref||""}}class C extends m.StringObject{constructor(_){super(y,"rootElement"),this.id=_.id||"",this.name=_.name||"",this.use=_.use||"",this.usehref=_.usehref||""}}class k extends m.StringObject{constructor(_){super(y,"soapAction"),this.id=_.id||"",this.name=_.name||"",this.use=_.use||"",this.usehref=_.usehref||""}}class A extends m.StringObject{constructor(_){super(y,"soapAddress"),this.id=_.id||"",this.name=_.name||"",this.use=_.use||"",this.usehref=_.usehref||""}}class g extends m.StringObject{constructor(_){super(y,"uri"),this.id=_.id||"",this.name=_.name||"",this.use=_.use||"",this.usehref=_.usehref||""}}class E extends m.StringObject{constructor(_){super(y,"wsdlAddress"),this.id=_.id||"",this.name=_.name||"",this.use=_.use||"",this.usehref=_.usehref||""}}class v extends m.XFAObject{constructor(_){super(y,"wsdlConnection",!0),this.dataDescription=_.dataDescription||"",this.name=_.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class M extends m.XFAObject{constructor(_){super(y,"xmlConnection",!0),this.dataDescription=_.dataDescription||"",this.name=_.name||"",this.uri=null}}class R extends m.XFAObject{constructor(_){super(y,"xsdConnection",!0),this.dataDescription=_.dataDescription||"",this.name=_.name||"",this.rootElement=null,this.uri=null}}class I{static[d.$buildXFAObject](_,L){if(I.hasOwnProperty(_))return I[_](L)}static connectionSet(_){return new x(_)}static effectiveInputPolicy(_){return new u(_)}static effectiveOutputPolicy(_){return new w(_)}static operation(_){return new T(_)}static rootElement(_){return new C(_)}static soapAction(_){return new k(_)}static soapAddress(_){return new A(_)}static uri(_){return new g(_)}static wsdlAddress(_){return new E(_)}static wsdlConnection(_){return new v(_)}static xmlConnection(_){return new M(_)}static xsdConnection(_){return new R(_)}}h.ConnectionSetNamespace=I},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DatasetsNamespace=void 0;var d=p(75),m=p(77);const y=m.NamespaceIds.datasets.id;class x extends d.XmlObject{constructor(C){super(y,"data",C)}[d.$isNsAgnostic](){return!0}}class u extends d.XFAObject{constructor(C){super(y,"datasets",!0),this.data=null,this.Signature=null}[d.$onChild](C){const k=C[d.$nodeName];(k==="data"&&C[d.$namespaceId]===y||k==="Signature"&&C[d.$namespaceId]===m.NamespaceIds.signature.id)&&(this[k]=C),this[d.$appendChild](C)}}class w{static[m.$buildXFAObject](C,k){if(w.hasOwnProperty(C))return w[C](k)}static datasets(C){return new u(C)}static data(C){return new x(C)}}h.DatasetsNamespace=w},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.LocaleSetNamespace=void 0;var d=p(77),m=p(75),y=p(76);const x=d.NamespaceIds.localeSet.id;class u extends m.XFAObject{constructor(O){super(x,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new m.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new m.XFAObjectArray(2)}}class w extends m.StringObject{constructor(O){super(x,"currencySymbol"),this.name=(0,y.getStringOption)(O.name,["symbol","isoname","decimal"])}}class T extends m.XFAObject{constructor(O){super(x,"currencySymbols",!0),this.currencySymbol=new m.XFAObjectArray(3)}}class C extends m.StringObject{constructor(O){super(x,"datePattern"),this.name=(0,y.getStringOption)(O.name,["full","long","med","short"])}}class k extends m.XFAObject{constructor(O){super(x,"datePatterns",!0),this.datePattern=new m.XFAObjectArray(4)}}class A extends m.ContentObject{constructor(O){super(x,"dateTimeSymbols")}}class g extends m.StringObject{constructor(O){super(x,"day")}}class E extends m.XFAObject{constructor(O){super(x,"dayNames",!0),this.abbr=(0,y.getInteger)({data:O.abbr,defaultValue:0,validate:H=>H===1}),this.day=new m.XFAObjectArray(7)}}class v extends m.StringObject{constructor(O){super(x,"era")}}class M extends m.XFAObject{constructor(O){super(x,"eraNames",!0),this.era=new m.XFAObjectArray(2)}}class R extends m.XFAObject{constructor(O){super(x,"locale",!0),this.desc=O.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class I extends m.XFAObject{constructor(O){super(x,"localeSet",!0),this.locale=new m.XFAObjectArray}}class J extends m.StringObject{constructor(O){super(x,"meridiem")}}class _ extends m.XFAObject{constructor(O){super(x,"meridiemNames",!0),this.meridiem=new m.XFAObjectArray(2)}}class L extends m.StringObject{constructor(O){super(x,"month")}}class K extends m.XFAObject{constructor(O){super(x,"monthNames",!0),this.abbr=(0,y.getInteger)({data:O.abbr,defaultValue:0,validate:H=>H===1}),this.month=new m.XFAObjectArray(12)}}class $ extends m.StringObject{constructor(O){super(x,"numberPattern"),this.name=(0,y.getStringOption)(O.name,["full","long","med","short"])}}class D extends m.XFAObject{constructor(O){super(x,"numberPatterns",!0),this.numberPattern=new m.XFAObjectArray(4)}}class ne extends m.StringObject{constructor(O){super(x,"numberSymbol"),this.name=(0,y.getStringOption)(O.name,["decimal","grouping","percent","minus","zero"])}}class F extends m.XFAObject{constructor(O){super(x,"numberSymbols",!0),this.numberSymbol=new m.XFAObjectArray(5)}}class j extends m.StringObject{constructor(O){super(x,"timePattern"),this.name=(0,y.getStringOption)(O.name,["full","long","med","short"])}}class se extends m.XFAObject{constructor(O){super(x,"timePatterns",!0),this.timePattern=new m.XFAObjectArray(4)}}class Y extends m.XFAObject{constructor(O){super(x,"typeFace",!0),this.name=""|O.name}}class q extends m.XFAObject{constructor(O){super(x,"typeFaces",!0),this.typeFace=new m.XFAObjectArray}}class Q{static[d.$buildXFAObject](O,H){if(Q.hasOwnProperty(O))return Q[O](H)}static calendarSymbols(O){return new u(O)}static currencySymbol(O){return new w(O)}static currencySymbols(O){return new T(O)}static datePattern(O){return new C(O)}static datePatterns(O){return new k(O)}static dateTimeSymbols(O){return new A(O)}static day(O){return new g(O)}static dayNames(O){return new E(O)}static era(O){return new v(O)}static eraNames(O){return new M(O)}static locale(O){return new R(O)}static localeSet(O){return new I(O)}static meridiem(O){return new J(O)}static meridiemNames(O){return new _(O)}static month(O){return new L(O)}static monthNames(O){return new K(O)}static numberPattern(O){return new $(O)}static numberPatterns(O){return new D(O)}static numberSymbol(O){return new ne(O)}static numberSymbols(O){return new F(O)}static timePattern(O){return new j(O)}static timePatterns(O){return new se(O)}static typeFace(O){return new Y(O)}static typeFaces(O){return new q(O)}}h.LocaleSetNamespace=Q},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SignatureNamespace=void 0;var d=p(77),m=p(75);const y=d.NamespaceIds.signature.id;class x extends m.XFAObject{constructor(T){super(y,"signature",!0)}}class u{static[d.$buildXFAObject](T,C){if(u.hasOwnProperty(T))return u[T](C)}static signature(T){return new x(T)}}h.SignatureNamespace=u},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StylesheetNamespace=void 0;var d=p(77),m=p(75);const y=d.NamespaceIds.stylesheet.id;class x extends m.XFAObject{constructor(T){super(y,"stylesheet",!0)}}class u{static[d.$buildXFAObject](T,C){if(u.hasOwnProperty(T))return u[T](C)}static stylesheet(T){return new x(T)}}h.StylesheetNamespace=u},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XdpNamespace=void 0;var d=p(77),m=p(75);const y=d.NamespaceIds.xdp.id;class x extends m.XFAObject{constructor(T){super(y,"xdp",!0),this.uuid=T.uuid||"",this.timeStamp=T.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new m.XFAObjectArray,this.template=null}[m.$onChildCheck](T){const C=d.NamespaceIds[T[m.$nodeName]];return C&&T[m.$namespaceId]===C.id}}class u{static[d.$buildXFAObject](T,C){if(u.hasOwnProperty(T))return u[T](C)}static xdp(T){return new x(T)}}h.XdpNamespace=u},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XhtmlNamespace=void 0;var d=p(75),m=p(77),y=p(82),x=p(76);const u=m.NamespaceIds.xhtml.id,w=Symbol(),T=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),C=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",Q=>Q==="none"?"none":"normal"],["xfa-font-horizontal-scale",Q=>`scaleX(${Math.max(0,Math.min(parseInt(Q)/100)).toFixed(2)})`],["xfa-font-vertical-scale",Q=>`scaleY(${Math.max(0,Math.min(parseInt(Q)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(Q,N)=>(Q=N.fontSize=(0,x.getMeasurement)(Q),(0,y.measureToString)(.99*Q))],["letter-spacing",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))],["line-height",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))],["margin",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))],["margin-bottom",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))],["margin-left",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))],["margin-right",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))],["margin-top",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))],["text-indent",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))],["font-family",Q=>Q],["vertical-align",Q=>(0,y.measureToString)((0,x.getMeasurement)(Q))]]),k=/\s+/g,A=/[\r\n]+/g,g=/\r\n?/g;function E(Q,N,O){const H=Object.create(null);if(!Q)return H;const G=Object.create(null);for(const[le,fe]of Q.split(";").map(ae=>ae.split(":",2))){const ae=C.get(le);if(ae==="")continue;let re=fe;ae&&(re=typeof ae=="string"?ae:ae(fe,G)),le.endsWith("scale")?H.transform?H.transform=`${H[le]} ${re}`:H.transform=re:H[le.replaceAll(/-([a-zA-Z])/g,(be,ye)=>ye.toUpperCase())]=re}if(H.fontFamily&&(0,y.setFontFamily)({typeface:H.fontFamily,weight:H.fontWeight||"normal",posture:H.fontStyle||"normal",size:G.fontSize||0},N,N[d.$globalData].fontFinder,H),O&&H.verticalAlign&&H.verticalAlign!=="0px"&&H.fontSize){const ae=(0,x.getMeasurement)(H.fontSize);H.fontSize=(0,y.measureToString)(ae*.583),H.verticalAlign=(0,y.measureToString)(Math.sign((0,x.getMeasurement)(H.verticalAlign))*ae*.333)}return O&&H.fontSize&&(H.fontSize=`calc(${H.fontSize} * var(--scale-factor))`),(0,y.fixTextIndent)(H),H}const v=new Set(["body","html"]);class M extends d.XmlObject{constructor(N,O){super(u,O),this[w]=!1,this.style=N.style||""}[d.$clean](N){super[d.$clean](N),this.style=function(H){return H.style?H.style.trim().split(/\s*;\s*/).filter(G=>!!G).map(G=>G.split(/\s*:\s*/,2)).filter(([G,le])=>(G==="font-family"&&H[d.$globalData].usedTypefaces.add(le),T.has(G))).map(G=>G.join(":")).join(";"):""}(this)}[d.$acceptWhitespace](){return!v.has(this[d.$nodeName])}[d.$onText](N,O=!1){O?this[w]=!0:(N=N.replace(A,""),this.style.includes("xfa-spacerun:yes")||(N=N.replace(k," "))),N&&(this[d.$content]+=N)}[d.$pushGlyphs](N,O=!0){const H=Object.create(null),G={top:NaN,bottom:NaN,left:NaN,right:NaN};let le=null;for(const[fe,ae]of this.style.split(";").map(re=>re.split(":",2)))switch(fe){case"font-family":H.typeface=(0,x.stripQuotes)(ae);break;case"font-size":H.size=(0,x.getMeasurement)(ae);break;case"font-weight":H.weight=ae;break;case"font-style":H.posture=ae;break;case"letter-spacing":H.letterSpacing=(0,x.getMeasurement)(ae);break;case"margin":const re=ae.split(/ \t/).map(be=>(0,x.getMeasurement)(be));switch(re.length){case 1:G.top=G.bottom=G.left=G.right=re[0];break;case 2:G.top=G.bottom=re[0],G.left=G.right=re[1];break;case 3:G.top=re[0],G.bottom=re[2],G.left=G.right=re[1];break;case 4:G.top=re[0],G.left=re[1],G.bottom=re[2],G.right=re[3]}break;case"margin-top":G.top=(0,x.getMeasurement)(ae);break;case"margin-bottom":G.bottom=(0,x.getMeasurement)(ae);break;case"margin-left":G.left=(0,x.getMeasurement)(ae);break;case"margin-right":G.right=(0,x.getMeasurement)(ae);break;case"line-height":le=(0,x.getMeasurement)(ae)}if(N.pushData(H,G,le),this[d.$content])N.addString(this[d.$content]);else for(const fe of this[d.$getChildren]())fe[d.$nodeName]!=="#text"?fe[d.$pushGlyphs](N):N.addString(fe[d.$content]);O&&N.popFont()}[d.$toHTML](N){const O=[];if(this[d.$extra]={children:O},this[d.$childrenToHTML]({}),O.length===0&&!this[d.$content])return x.HTMLResult.EMPTY;let H;return H=this[w]?this[d.$content]?this[d.$content].replace(g,`
`):void 0:this[d.$content]||void 0,x.HTMLResult.success({name:this[d.$nodeName],attributes:{href:this.href,style:E(this.style,this,this[w])},children:O,value:H})}}class R extends M{constructor(N){super(N,"a"),this.href=(0,y.fixURL)(N.href)||""}}class I extends M{constructor(N){super(N,"b")}[d.$pushGlyphs](N){N.pushFont({weight:"bold"}),super[d.$pushGlyphs](N),N.popFont()}}class J extends M{constructor(N){super(N,"body")}[d.$toHTML](N){const O=super[d.$toHTML](N),{html:H}=O;return H?(H.name="div",H.attributes.class=["xfaRich"],O):x.HTMLResult.EMPTY}}class _ extends M{constructor(N){super(N,"br")}[d.$text](){return`
`}[d.$pushGlyphs](N){N.addString(`
`)}[d.$toHTML](N){return x.HTMLResult.success({name:"br"})}}class L extends M{constructor(N){super(N,"html")}[d.$toHTML](N){const O=[];if(this[d.$extra]={children:O},this[d.$childrenToHTML]({}),O.length===0)return x.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[d.$content]||""});if(O.length===1){const H=O[0];if(H.attributes&&H.attributes.class.includes("xfaRich"))return x.HTMLResult.success(H)}return x.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:O})}}class K extends M{constructor(N){super(N,"i")}[d.$pushGlyphs](N){N.pushFont({posture:"italic"}),super[d.$pushGlyphs](N),N.popFont()}}class $ extends M{constructor(N){super(N,"li")}}class D extends M{constructor(N){super(N,"ol")}}class ne extends M{constructor(N){super(N,"p")}[d.$pushGlyphs](N){super[d.$pushGlyphs](N,!1),N.addString(`
`),N.addPara(),N.popFont()}[d.$text](){return this[d.$getParent]()[d.$getChildren]().at(-1)===this?super[d.$text]():super[d.$text]()+`
`}}class F extends M{constructor(N){super(N,"span")}}class j extends M{constructor(N){super(N,"sub")}}class se extends M{constructor(N){super(N,"sup")}}class Y extends M{constructor(N){super(N,"ul")}}class q{static[m.$buildXFAObject](N,O){if(q.hasOwnProperty(N))return q[N](O)}static a(N){return new R(N)}static b(N){return new I(N)}static body(N){return new J(N)}static br(N){return new _(N)}static html(N){return new L(N)}static i(N){return new K(N)}static li(N){return new $(N)}static ol(N){return new D(N)}static p(N){return new ne(N)}static span(N){return new F(N)}static sub(N){return new j(N)}static sup(N){return new se(N)}static ul(N){return new Y(N)}}h.XhtmlNamespace=q},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnknownNamespace=void 0;var d=p(77),m=p(75);class y{constructor(u){this.namespaceId=u}[d.$buildXFAObject](u,w){return new m.XmlObject(this.namespaceId,u,w)}}h.UnknownNamespace=y},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DatasetReader=void 0;var d=p(2),m=p(3),y=p(64);function x(w){try{return(0,d.stringToUTF8String)(w)}catch(T){return(0,d.warn)(`UTF-8 decoding failed: "${T}".`),w}}class u extends y.SimpleXMLParser{constructor(T){super(T),this.node=null}onEndElement(T){const C=super.onEndElement(T);if(C&&T==="xfa:datasets")throw this.node=C,new Error("Aborting DatasetXMLParser.")}}h.DatasetReader=class{constructor(T){if(T.datasets)this.node=new y.SimpleXMLParser({hasAttributes:!0}).parseFromString(T.datasets).documentElement;else{const C=new u({hasAttributes:!0});try{C.parseFromString(T["xdp:xdp"])}catch{}this.node=C.node}}getValue(T){if(!this.node||!T)return"";const C=this.node.searchNode((0,m.parseXFAPath)(T),0);if(!C)return"";const k=C.firstChild;return k&&k.nodeName==="value"?C.children.map(A=>x(A.textContent)):x(C.textContent)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XRef=void 0;var d=p(2),m=p(4),y=p(15),x=p(3),u=p(5),w=p(65);h.XRef=class{constructor(C,k){this.stream=C,this.pdfManager=k,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new m.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(C){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const k=this._newPersistentRefNum++;return this._cacheMap.set(k,C),m.Ref.get(k,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),m.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(C){this.startXRefQueue=[C]}parse(C=!1){let k,A,g;C?((0,d.warn)("Indexing all PDF objects"),k=this.indexObjects()):k=this.readXRef(),k.assignXref(this),this.trailer=k;try{A=k.get("Encrypt")}catch(E){if(E instanceof x.MissingDataException)throw E;(0,d.warn)(`XRef.parse - Invalid "Encrypt" reference: "${E}".`)}if(A instanceof m.Dict){const E=k.get("ID"),v=E&&E.length?E[0]:"";A.suppressEncryption=!0,this.encrypt=new w.CipherTransformFactory(A,v,this.pdfManager.password)}try{g=k.get("Root")}catch(E){if(E instanceof x.MissingDataException)throw E;(0,d.warn)(`XRef.parse - Invalid "Root" reference: "${E}".`)}if(g instanceof m.Dict)try{if(g.get("Pages")instanceof m.Dict){this.root=g;return}}catch(E){if(E instanceof x.MissingDataException)throw E;(0,d.warn)(`XRef.parse - Invalid "Pages" reference: "${E}".`)}throw C?new d.InvalidPDFException("Invalid Root reference."):new x.XRefParseException}processXRefTable(C){"tableState"in this||(this.tableState={entryNum:0,streamPos:C.lexer.stream.pos,parserBuf1:C.buf1,parserBuf2:C.buf2});const k=this.readXRefTable(C);if(!(0,m.isCmd)(k,"trailer"))throw new d.FormatError("Invalid XRef table: could not find trailer dictionary");let A=C.getObj();if(A instanceof m.Dict||!A.dict||(A=A.dict),!(A instanceof m.Dict))throw new d.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,A}readXRefTable(C){const k=C.lexer.stream,A=this.tableState;k.pos=A.streamPos,C.buf1=A.parserBuf1,C.buf2=A.parserBuf2;let g;for(;;){if(!("firstEntryNum"in A)||!("entryCount"in A)){if((0,m.isCmd)(g=C.getObj(),"trailer"))break;A.firstEntryNum=g,A.entryCount=C.getObj()}let E=A.firstEntryNum;const v=A.entryCount;if(!Number.isInteger(E)||!Number.isInteger(v))throw new d.FormatError("Invalid XRef table: wrong types in subsection header");for(let M=A.entryNum;M<v;M++){A.streamPos=k.pos,A.entryNum=M,A.parserBuf1=C.buf1,A.parserBuf2=C.buf2;const R={};R.offset=C.getObj(),R.gen=C.getObj();const I=C.getObj();if(I instanceof m.Cmd)switch(I.cmd){case"f":R.free=!0;break;case"n":R.uncompressed=!0}if(!Number.isInteger(R.offset)||!Number.isInteger(R.gen)||!R.free&&!R.uncompressed)throw new d.FormatError(`Invalid entry in XRef subsection: ${E}, ${v}`);M===0&&R.free&&E===1&&(E=0),this.entries[M+E]||(this.entries[M+E]=R)}A.entryNum=0,A.streamPos=k.pos,A.parserBuf1=C.buf1,A.parserBuf2=C.buf2,delete A.firstEntryNum,delete A.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new d.FormatError("Invalid XRef table: unexpected first object");return g}processXRefStream(C){if(!("streamState"in this)){const k=C.dict,A=k.get("W");let g=k.get("Index");g||(g=[0,k.get("Size")]),this.streamState={entryRanges:g,byteWidths:A,entryNum:0,streamPos:C.pos}}return this.readXRefStream(C),delete this.streamState,C.dict}readXRefStream(C){const k=this.streamState;C.pos=k.streamPos;const[A,g,E]=k.byteWidths,v=k.entryRanges;for(;v.length>0;){const[M,R]=v;if(!Number.isInteger(M)||!Number.isInteger(R))throw new d.FormatError(`Invalid XRef range fields: ${M}, ${R}`);if(!Number.isInteger(A)||!Number.isInteger(g)||!Number.isInteger(E))throw new d.FormatError(`Invalid XRef entry fields length: ${M}, ${R}`);for(let I=k.entryNum;I<R;++I){k.entryNum=I,k.streamPos=C.pos;let J=0,_=0,L=0;for(let $=0;$<A;++$){const D=C.getByte();if(D===-1)throw new d.FormatError("Invalid XRef byteWidths 'type'.");J=J<<8|D}A===0&&(J=1);for(let $=0;$<g;++$){const D=C.getByte();if(D===-1)throw new d.FormatError("Invalid XRef byteWidths 'offset'.");_=_<<8|D}for(let $=0;$<E;++$){const D=C.getByte();if(D===-1)throw new d.FormatError("Invalid XRef byteWidths 'generation'.");L=L<<8|D}const K={};switch(K.offset=_,K.gen=L,J){case 0:K.free=!0;break;case 1:K.uncompressed=!0;break;case 2:break;default:throw new d.FormatError(`Invalid XRef entry type: ${J}`)}this.entries[M+I]||(this.entries[M+I]=K)}k.entryNum=0,k.streamPos=C.pos,v.splice(0,2)}}indexObjects(){function g(N,O){let H="",G=N[O];for(;G!==10&&G!==13&&G!==60&&!(++O>=N.length);)H+=String.fromCharCode(G),G=N[O];return H}function E(N,O,H){const G=H.length,le=N.length;let fe=0;for(;O<le;){let ae=0;for(;ae<G&&N[O+ae]===H[ae];)++ae;if(ae>=G)break;O++,fe++}return fe}const v=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer)\b/g,M=/\b(startxref|\d+\s+\d+\s+obj)\b/g,R=/^(\d+)\s+(\d+)\s+obj\b/,I=new Uint8Array([116,114,97,105,108,101,114]),J=new Uint8Array([115,116,97,114,116,120,114,101,102]),_=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const L=this.stream;L.pos=0;const K=L.getBytes(),$=(0,d.bytesToString)(K),D=K.length;let ne=L.start;const F=[],j=[];for(;ne<D;){let N=K[ne];if(N===9||N===10||N===13||N===32){++ne;continue}if(N===37){do{if(++ne,ne>=D)break;N=K[ne]}while(N!==10&&N!==13);continue}const O=g(K,ne);let H;if(O.startsWith("xref")&&(O.length===4||/\s/.test(O[4])))ne+=E(K,ne,I),F.push(ne),ne+=E(K,ne,J);else if(H=R.exec(O)){const G=0|H[1],le=0|H[2],fe=ne+O.length;let ae,re=!1;if(this.entries[G]){if(this.entries[G].gen===le)try{new y.Parser({lexer:new y.Lexer(L.makeSubStream(fe))}).getObj(),re=!0}catch(me){me instanceof x.ParserEOFException?(0,d.warn)(`indexObjects -- checking object (${O}): "${me}".`):re=!0}}else re=!0;re&&(this.entries[G]={offset:ne-L.start,gen:le,uncompressed:!0}),v.lastIndex=fe;const be=v.exec($);be?(ae=v.lastIndex+1-ne,be[1]!=="endobj"&&((0,d.warn)(`indexObjects: Found "${be[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),ae-=be[1].length+1)):ae=D-ne;const ye=K.subarray(ne,ne+ae),Ce=E(ye,0,_);Ce<ae&&ye[Ce+5]<64&&(j.push(ne-L.start),this.xrefstms[ne-L.start]=1),ne+=ae}else if(O.startsWith("trailer")&&(O.length===7||/\s/.test(O[7]))){F.push(ne);const G=ne+O.length;let le;M.lastIndex=G;const fe=M.exec($);fe?(le=M.lastIndex+1-ne,fe[1]!=="startxref"&&((0,d.warn)(`indexObjects: Found "${fe[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),le-=fe[1].length+1)):le=D-ne,ne+=le}else ne+=O.length+1}for(const N of j)this.startXRefQueue.push(N),this.readXRef(!0);const se=[];let Y,q,Q=!1;for(const N of F){L.pos=N;const O=new y.Parser({lexer:new y.Lexer(L),xref:this,allowStreams:!0,recoveryMode:!0}),H=O.getObj();if(!(0,m.isCmd)(H,"trailer"))continue;const G=O.getObj();G instanceof m.Dict&&(se.push(G),G.has("Encrypt")&&(Q=!0))}for(const N of[...se,"genFallback",...se]){if(N==="genFallback"){if(!q)break;this._generationFallback=!0;continue}let O=!1;try{const H=N.get("Root");if(!(H instanceof m.Dict))continue;const G=H.get("Pages");if(!(G instanceof m.Dict))continue;const le=G.get("Count");Number.isInteger(le)&&(O=!0)}catch(H){q=H;continue}if(O&&(!Q||N.has("Encrypt"))&&N.has("ID"))return N;Y=N}if(Y)return Y;if(this.topDict)return this.topDict;throw new d.InvalidPDFException("Invalid PDF structure.")}readXRef(C=!1){const k=this.stream,A=new Set;for(;this.startXRefQueue.length;){try{const g=this.startXRefQueue[0];if(A.has(g)){(0,d.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}A.add(g),k.pos=g+k.start;const E=new y.Parser({lexer:new y.Lexer(k),xref:this,allowStreams:!0});let v,M=E.getObj();if((0,m.isCmd)(M,"xref")){if(v=this.processXRefTable(E),this.topDict||(this.topDict=v),M=v.get("XRefStm"),Number.isInteger(M)){const R=M;R in this.xrefstms||(this.xrefstms[R]=1,this.startXRefQueue.push(R))}}else{if(!Number.isInteger(M))throw new d.FormatError("Invalid XRef stream header");if(!(Number.isInteger(E.getObj())&&(0,m.isCmd)(E.getObj(),"obj")&&(M=E.getObj())instanceof u.BaseStream))throw new d.FormatError("Invalid XRef stream");if(v=this.processXRefStream(M),this.topDict||(this.topDict=v),!v)throw new d.FormatError("Failed to read XRef stream")}M=v.get("Prev"),Number.isInteger(M)?this.startXRefQueue.push(M):M instanceof m.Ref&&this.startXRefQueue.push(M.num)}catch(g){if(g instanceof x.MissingDataException)throw g;(0,d.info)("(while reading XRef): "+g)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!C)throw new x.XRefParseException}getEntry(C){const k=this.entries[C];return k&&!k.free&&k.offset?k:null}fetchIfRef(C,k=!1){return C instanceof m.Ref?this.fetch(C,k):C}fetch(C,k=!1){if(!(C instanceof m.Ref))throw new Error("ref object is not a reference");const A=C.num,g=this._cacheMap.get(A);if(g!==void 0)return g instanceof m.Dict&&!g.objId&&(g.objId=C.toString()),g;let E=this.getEntry(A);if(E===null)return this._cacheMap.set(A,E),E;if(this._pendingRefs.has(C))return this._pendingRefs.remove(C),(0,d.warn)(`Ignoring circular reference: ${C}.`),m.CIRCULAR_REF;this._pendingRefs.put(C);try{E=E.uncompressed?this.fetchUncompressed(C,E,k):this.fetchCompressed(C,E,k),this._pendingRefs.remove(C)}catch(v){throw this._pendingRefs.remove(C),v}return E instanceof m.Dict?E.objId=C.toString():E instanceof u.BaseStream&&(E.dict.objId=C.toString()),E}fetchUncompressed(C,k,A=!1){const g=C.gen;let E=C.num;if(k.gen!==g){const _=`Inconsistent generation in XRef: ${C}`;if(this._generationFallback&&k.gen<g)return(0,d.warn)(_),this.fetchUncompressed(m.Ref.get(E,k.gen),k,A);throw new x.XRefEntryException(_)}const v=this.stream.makeSubStream(k.offset+this.stream.start),M=new y.Parser({lexer:new y.Lexer(v),xref:this,allowStreams:!0}),R=M.getObj(),I=M.getObj(),J=M.getObj();if(R!==E||I!==g||!(J instanceof m.Cmd))throw new x.XRefEntryException(`Bad (uncompressed) XRef entry: ${C}`);if(J.cmd!=="obj"){if(J.cmd.startsWith("obj")&&(E=parseInt(J.cmd.substring(3),10),!Number.isNaN(E)))return E;throw new x.XRefEntryException(`Bad (uncompressed) XRef entry: ${C}`)}return(k=this.encrypt&&!A?M.getObj(this.encrypt.createCipherTransform(E,g)):M.getObj())instanceof u.BaseStream||this._cacheMap.set(E,k),k}fetchCompressed(C,k,A=!1){const g=k.offset,E=this.fetch(m.Ref.get(g,0));if(!(E instanceof u.BaseStream))throw new d.FormatError("bad ObjStm stream");const v=E.dict.get("First"),M=E.dict.get("N");if(!Number.isInteger(v)||!Number.isInteger(M))throw new d.FormatError("invalid first and n parameters for ObjStm stream");let R=new y.Parser({lexer:new y.Lexer(E),xref:this,allowStreams:!0});const I=new Array(M),J=new Array(M);for(let K=0;K<M;++K){const $=R.getObj();if(!Number.isInteger($))throw new d.FormatError(`invalid object number in the ObjStm stream: ${$}`);const D=R.getObj();if(!Number.isInteger(D))throw new d.FormatError(`invalid object offset in the ObjStm stream: ${D}`);I[K]=$,J[K]=D}const _=(E.start||0)+v,L=new Array(M);for(let K=0;K<M;++K){const $=K<M-1?J[K+1]-J[K]:void 0;if($<0)throw new d.FormatError("Invalid offset in the ObjStm stream.");R=new y.Parser({lexer:new y.Lexer(E.makeSubStream(_+J[K],$,E.dict)),xref:this,allowStreams:!0});const D=R.getObj();if(L[K]=D,D instanceof u.BaseStream)continue;const ne=I[K],F=this.entries[ne];F&&F.offset===g&&F.gen===K&&this._cacheMap.set(ne,D)}if((k=L[k.gen])===void 0)throw new x.XRefEntryException(`Bad (compressed) XRef entry: ${C}`);return k}async fetchIfRefAsync(C,k){return C instanceof m.Ref?this.fetchAsync(C,k):C}async fetchAsync(C,k){try{return this.fetch(C,k)}catch(A){if(!(A instanceof x.MissingDataException))throw A;return await this.pdfManager.requestRange(A.begin,A.end),this.fetchAsync(C,k)}}getCatalogObj(){return this.root}}},(f,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.isNodeJS=void 0;const p=!(typeof process!="object"||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&process.type!=="browser");h.isNodeJS=p},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MessageHandler=void 0;var d=p(2);const m=1,y=2,x=1,u=2,w=3,T=4,C=5,k=6,A=7,g=8;function E(v){switch(v instanceof Error||typeof v=="object"&&v!==null||(0,d.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),v.name){case"AbortException":return new d.AbortException(v.message);case"MissingPDFException":return new d.MissingPDFException(v.message);case"PasswordException":return new d.PasswordException(v.message,v.code);case"UnexpectedResponseException":return new d.UnexpectedResponseException(v.message,v.status);case"UnknownErrorException":return new d.UnknownErrorException(v.message,v.details);default:return new d.UnknownErrorException(v.message,v.toString())}}h.MessageHandler=class{constructor(M,R,I){this.sourceName=M,this.targetName=R,this.comObj=I,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=J=>{const _=J.data;if(_.targetName!==this.sourceName)return;if(_.stream){this._processStreamMessage(_);return}if(_.callback){const K=_.callbackId,$=this.callbackCapabilities[K];if(!$)throw new Error(`Cannot resolve callback ${K}`);if(delete this.callbackCapabilities[K],_.callback===m)$.resolve(_.data);else{if(_.callback!==y)throw new Error("Unexpected callback case");$.reject(E(_.reason))}return}const L=this.actionHandler[_.action];if(!L)throw new Error(`Unknown action from worker: ${_.action}`);if(_.callbackId){const K=this.sourceName,$=_.sourceName;new Promise(function(D){D(L(_.data))}).then(function(D){I.postMessage({sourceName:K,targetName:$,callback:m,callbackId:_.callbackId,data:D})},function(D){I.postMessage({sourceName:K,targetName:$,callback:y,callbackId:_.callbackId,reason:E(D)})})}else _.streamId?this._createStreamSink(_):L(_.data)},I.addEventListener("message",this._onComObjOnMessage)}on(M,R){const I=this.actionHandler;if(I[M])throw new Error(`There is already an actionName called "${M}"`);I[M]=R}send(M,R,I){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,data:R},I)}sendWithPromise(M,R,I){const J=this.callbackId++,_=(0,d.createPromiseCapability)();this.callbackCapabilities[J]=_;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,callbackId:J,data:R},I)}catch(L){_.reject(L)}return _.promise}sendWithStream(M,R,I,J){const _=this.streamId++,L=this.sourceName,K=this.targetName,$=this.comObj;return new ReadableStream({start:D=>{const ne=(0,d.createPromiseCapability)();return this.streamControllers[_]={controller:D,startCall:ne,pullCall:null,cancelCall:null,isClosed:!1},$.postMessage({sourceName:L,targetName:K,action:M,streamId:_,data:R,desiredSize:D.desiredSize},J),ne.promise},pull:D=>{const ne=(0,d.createPromiseCapability)();return this.streamControllers[_].pullCall=ne,$.postMessage({sourceName:L,targetName:K,stream:k,streamId:_,desiredSize:D.desiredSize}),ne.promise},cancel:D=>{(0,d.assert)(D instanceof Error,"cancel must have a valid reason");const ne=(0,d.createPromiseCapability)();return this.streamControllers[_].cancelCall=ne,this.streamControllers[_].isClosed=!0,$.postMessage({sourceName:L,targetName:K,stream:x,streamId:_,reason:E(D)}),ne.promise}},I)}_createStreamSink(M){const R=M.streamId,I=this.sourceName,J=M.sourceName,_=this.comObj,L=this,K=this.actionHandler[M.action],$={enqueue(D,ne=1,F){if(this.isCancelled)return;const j=this.desiredSize;this.desiredSize-=ne,j>0&&this.desiredSize<=0&&(this.sinkCapability=(0,d.createPromiseCapability)(),this.ready=this.sinkCapability.promise),_.postMessage({sourceName:I,targetName:J,stream:T,streamId:R,chunk:D},F)},close(){this.isCancelled||(this.isCancelled=!0,_.postMessage({sourceName:I,targetName:J,stream:w,streamId:R}),delete L.streamSinks[R])},error(D){(0,d.assert)(D instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,_.postMessage({sourceName:I,targetName:J,stream:C,streamId:R,reason:E(D)}))},sinkCapability:(0,d.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:M.desiredSize,ready:null};$.sinkCapability.resolve(),$.ready=$.sinkCapability.promise,this.streamSinks[R]=$,new Promise(function(D){D(K(M.data,$))}).then(function(){_.postMessage({sourceName:I,targetName:J,stream:g,streamId:R,success:!0})},function(D){_.postMessage({sourceName:I,targetName:J,stream:g,streamId:R,reason:E(D)})})}_processStreamMessage(M){const R=M.streamId,I=this.sourceName,J=M.sourceName,_=this.comObj,L=this.streamControllers[R],K=this.streamSinks[R];switch(M.stream){case g:M.success?L.startCall.resolve():L.startCall.reject(E(M.reason));break;case A:M.success?L.pullCall.resolve():L.pullCall.reject(E(M.reason));break;case k:if(!K){_.postMessage({sourceName:I,targetName:J,stream:A,streamId:R,success:!0});break}K.desiredSize<=0&&M.desiredSize>0&&K.sinkCapability.resolve(),K.desiredSize=M.desiredSize,new Promise(function($){$(K.onPull&&K.onPull())}).then(function(){_.postMessage({sourceName:I,targetName:J,stream:A,streamId:R,success:!0})},function($){_.postMessage({sourceName:I,targetName:J,stream:A,streamId:R,reason:E($)})});break;case T:if((0,d.assert)(L,"enqueue should have stream controller"),L.isClosed)break;L.controller.enqueue(M.chunk);break;case w:if((0,d.assert)(L,"close should have stream controller"),L.isClosed)break;L.isClosed=!0,L.controller.close(),this._deleteStreamController(L,R);break;case C:(0,d.assert)(L,"error should have stream controller"),L.controller.error(E(M.reason)),this._deleteStreamController(L,R);break;case u:M.success?L.cancelCall.resolve():L.cancelCall.reject(E(M.reason)),this._deleteStreamController(L,R);break;case x:if(!K)break;new Promise(function($){$(K.onCancel&&K.onCancel(E(M.reason)))}).then(function(){_.postMessage({sourceName:I,targetName:J,stream:u,streamId:R,success:!0})},function($){_.postMessage({sourceName:I,targetName:J,stream:u,streamId:R,reason:E($)})}),K.sinkCapability.reject(E(M.reason)),K.isCancelled=!0,delete this.streamSinks[R];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(M,R){await Promise.allSettled([M.startCall&&M.startCall.promise,M.pullCall&&M.pullCall.promise,M.cancelCall&&M.cancelCall.promise]),delete this.streamControllers[R]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(f,h,p)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PDFWorkerStream=void 0;var d=p(2);h.PDFWorkerStream=class{constructor(u){this._msgHandler=u,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new m(this._msgHandler),this._fullRequestReader}getRangeReader(u,w){const T=new y(u,w,this._msgHandler);return this._rangeRequestReaders.push(T),T}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(const w of this._rangeRequestReaders.slice(0))w.cancel(u)}};class m{constructor(u){this._msgHandler=u,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const w=this._msgHandler.sendWithStream("GetReader");this._reader=w.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(T=>{this._isStreamingSupported=T.isStreamingSupported,this._isRangeSupported=T.isRangeSupported,this._contentLength=T.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:u,done:w}=await this._reader.read();return w?{value:void 0,done:!0}:{value:u.buffer,done:!1}}cancel(u){this._reader.cancel(u)}}class y{constructor(u,w,T){this._msgHandler=T,this.onProgress=null;const C=this._msgHandler.sendWithStream("GetRangeReader",{begin:u,end:w});this._reader=C.getReader()}get isStreamingSupported(){return!1}async read(){const{value:u,done:w}=await this._reader.read();return w?{value:void 0,done:!0}:{value:u.buffer,done:!1}}cancel(u){this._reader.cancel(u)}}}],e={};function l(f){var h=e[f];if(h!==void 0)return h.exports;var p=e[f]={exports:{}};return t[f](p,p.exports,l),p.exports}l.d=(f,h)=>{for(var p in h)l.o(h,p)&&!l.o(f,p)&&Object.defineProperty(f,p,{enumerable:!0,get:h[p]})},l.o=(f,h)=>Object.prototype.hasOwnProperty.call(f,h),l.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var c={};return(()=>{var f=c;Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"WorkerMessageHandler",{enumerable:!0,get:function(){return h.WorkerMessageHandler}});var h=l(1)})(),c})());const a=1;pdfExports.GlobalWorkerOptions.workerSrc="src/pdf.js";function PdfDropzone({onTextExtracted:t}){console.log("value of a",a);const[e,l]=reactExports.useState(null),c=async p=>{const d=await p.arrayBuffer(),m=await pdfExports.getDocument({data:d}).promise;let y="";for(let x=1;x<=m.numPages;x++){const w=await(await m.getPage(x)).getTextContent();y+=w.items.map(T=>T.str).join(" ")+`
`}return y},f=reactExports.useCallback(p=>{const d=p.target.files[0];d&&c(d).then(m=>{localStorage.setItem("file-name",d.name),localStorage.setItem("text-from-pdf",m),l({name:d.name,textFromPdf:m}),t&&t(m)}).catch(m=>console.error("Failed to extract text from PDF",m))},[t]);reactExports.useEffect(()=>{const p=localStorage.getItem("file-name"),d=localStorage.getItem("text-from-pdf");p&&d&&(l({name:p,textFromPdf:d}),t&&t(d))},[t]);const h=()=>{localStorage.removeItem("file-name"),localStorage.removeItem("text-from-pdf"),l(null),t&&t("")};return e?jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border rounded-md px-3 py-2 mb-4",children:[jsxRuntimeExports.jsxs("pre",{className:"truncate flex justify-center items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"size-4"}),e.name]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:h,children:jsxRuntimeExports.jsx(Trash2,{className:"text-destructive size-5"})})]}):jsxRuntimeExports.jsx(Input,{type:"file",accept:"application/pdf",onChange:f,required:!0})}function composeEventHandlers$3(t,e,{checkForDefaultPrevented:l=!0}={}){return function(f){if(t==null||t(f),l===!1||!f.defaultPrevented)return e==null?void 0:e(f)}}function setRef$4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$4(...t){return e=>{let l=!1;const c=t.map(f=>{const h=setRef$4(f,e);return!l&&typeof h=="function"&&(l=!0),h});if(l)return()=>{for(let f=0;f<c.length;f++){const h=c[f];typeof h=="function"?h():setRef$4(t[f],null)}}}}function useComposedRefs$3(...t){return reactExports.useCallback(composeRefs$4(...t),t)}function createContextScope$3(t,e=[]){let l=[];function c(h,p){const d=reactExports.createContext(p),m=l.length;l=[...l,p];const y=u=>{var g;const{scope:w,children:T,...C}=u,k=((g=w==null?void 0:w[t])==null?void 0:g[m])||d,A=reactExports.useMemo(()=>C,Object.values(C));return jsxRuntimeExports.jsx(k.Provider,{value:A,children:T})};y.displayName=h+"Provider";function x(u,w){var k;const T=((k=w==null?void 0:w[t])==null?void 0:k[m])||d,C=reactExports.useContext(T);if(C)return C;if(p!==void 0)return p;throw new Error(`\`${u}\` must be used within \`${h}\``)}return[y,x]}const f=()=>{const h=l.map(p=>reactExports.createContext(p));return function(d){const m=(d==null?void 0:d[t])||h;return reactExports.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return f.scopeName=t,[c,composeContextScopes$3(f,...e)]}function composeContextScopes$3(...t){const e=t[0];if(t.length===1)return e;const l=()=>{const c=t.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(h){const p=c.reduce((d,{useScope:m,scopeName:y})=>{const u=m(h)[`__scope${y}`];return{...d,...u}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return l.scopeName=e.scopeName,l}function createCollection$2(t){const e=t+"CollectionProvider",[l,c]=createContextScope$3(e),[f,h]=l(e,{collectionRef:{current:null},itemMap:new Map}),p=k=>{const{scope:A,children:g}=k,E=React2.useRef(null),v=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(f,{scope:A,itemMap:v,collectionRef:E,children:g})};p.displayName=e;const d=t+"CollectionSlot",m=createSlot(d),y=React2.forwardRef((k,A)=>{const{scope:g,children:E}=k,v=h(d,g),M=useComposedRefs$3(A,v.collectionRef);return jsxRuntimeExports.jsx(m,{ref:M,children:E})});y.displayName=d;const x=t+"CollectionItemSlot",u="data-radix-collection-item",w=createSlot(x),T=React2.forwardRef((k,A)=>{const{scope:g,children:E,...v}=k,M=React2.useRef(null),R=useComposedRefs$3(A,M),I=h(x,g);return React2.useEffect(()=>(I.itemMap.set(M,{ref:M,...v}),()=>void I.itemMap.delete(M))),jsxRuntimeExports.jsx(w,{[u]:"",ref:R,children:E})});T.displayName=x;function C(k){const A=h(t+"CollectionConsumer",k);return React2.useCallback(()=>{const E=A.collectionRef.current;if(!E)return[];const v=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(A.itemMap.values()).sort((I,J)=>v.indexOf(I.ref.current)-v.indexOf(J.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:p,Slot:y,ItemSlot:T},C,c]}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((t,e)=>{const l=createSlot(`Primitive.${e}`),c=reactExports.forwardRef((f,h)=>{const{asChild:p,...d}=f,m=p?l:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...d,ref:h})});return c.displayName=`Primitive.${e}`,{...t,[e]:c}},{});function dispatchDiscreteCustomEvent$1(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}function useCallbackRef$2(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...l)=>{var c;return(c=e.current)==null?void 0:c.call(e,...l)},[])}function useEscapeKeydown$1(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$2(t);reactExports.useEffect(()=>{const c=f=>{f.key==="Escape"&&l(f)};return e.addEventListener("keydown",c,{capture:!0}),()=>e.removeEventListener("keydown",c,{capture:!0})},[l,e])}var DISMISSABLE_LAYER_NAME$1="DismissableLayer",CONTEXT_UPDATE$1="dismissableLayer.update",POINTER_DOWN_OUTSIDE$1="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE$1="dismissableLayer.focusOutside",originalBodyPointerEvents$1,DismissableLayerContext$1=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer$1=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:d,...m}=t,y=reactExports.useContext(DismissableLayerContext$1),[x,u]=reactExports.useState(null),w=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=reactExports.useState({}),C=useComposedRefs$3(e,J=>u(J)),k=Array.from(y.layers),[A]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),g=k.indexOf(A),E=x?k.indexOf(x):-1,v=y.layersWithOutsidePointerEventsDisabled.size>0,M=E>=g,R=usePointerDownOutside$1(J=>{const _=J.target,L=[...y.branches].some(K=>K.contains(_));!M||L||(f==null||f(J),p==null||p(J),J.defaultPrevented||d==null||d())},w),I=useFocusOutside$1(J=>{const _=J.target;[...y.branches].some(K=>K.contains(_))||(h==null||h(J),p==null||p(J),J.defaultPrevented||d==null||d())},w);return useEscapeKeydown$1(J=>{E===y.layers.size-1&&(c==null||c(J),!J.defaultPrevented&&d&&(J.preventDefault(),d()))},w),reactExports.useEffect(()=>{if(x)return l&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents$1=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(x)),y.layers.add(x),dispatchUpdate$1(),()=>{l&&y.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=originalBodyPointerEvents$1)}},[x,w,l,y]),reactExports.useEffect(()=>()=>{x&&(y.layers.delete(x),y.layersWithOutsidePointerEventsDisabled.delete(x),dispatchUpdate$1())},[x,y]),reactExports.useEffect(()=>{const J=()=>T({});return document.addEventListener(CONTEXT_UPDATE$1,J),()=>document.removeEventListener(CONTEXT_UPDATE$1,J)},[]),jsxRuntimeExports.jsx(Primitive$3.div,{...m,ref:C,style:{pointerEvents:v?M?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers$3(t.onFocusCapture,I.onFocusCapture),onBlurCapture:composeEventHandlers$3(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:composeEventHandlers$3(t.onPointerDownCapture,R.onPointerDownCapture)})});DismissableLayer$1.displayName=DISMISSABLE_LAYER_NAME$1;var BRANCH_NAME$1="DismissableLayerBranch",DismissableLayerBranch$1=reactExports.forwardRef((t,e)=>{const l=reactExports.useContext(DismissableLayerContext$1),c=reactExports.useRef(null),f=useComposedRefs$3(e,c);return reactExports.useEffect(()=>{const h=c.current;if(h)return l.branches.add(h),()=>{l.branches.delete(h)}},[l.branches]),jsxRuntimeExports.jsx(Primitive$3.div,{...t,ref:f})});DismissableLayerBranch$1.displayName=BRANCH_NAME$1;function usePointerDownOutside$1(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$2(t),c=reactExports.useRef(!1),f=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const h=d=>{if(d.target&&!c.current){let m=function(){handleAndDispatchCustomEvent$2(POINTER_DOWN_OUTSIDE$1,l,y,{discrete:!0})};const y={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",f.current),f.current=m,e.addEventListener("click",f.current,{once:!0})):m()}else e.removeEventListener("click",f.current);c.current=!1},p=window.setTimeout(()=>{e.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(p),e.removeEventListener("pointerdown",h),e.removeEventListener("click",f.current)}},[e,l]),{onPointerDownCapture:()=>c.current=!0}}function useFocusOutside$1(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$2(t),c=reactExports.useRef(!1);return reactExports.useEffect(()=>{const f=h=>{h.target&&!c.current&&handleAndDispatchCustomEvent$2(FOCUS_OUTSIDE$1,l,{originalEvent:h},{discrete:!1})};return e.addEventListener("focusin",f),()=>e.removeEventListener("focusin",f)},[e,l]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function dispatchUpdate$1(){const t=new CustomEvent(CONTEXT_UPDATE$1);document.dispatchEvent(t)}function handleAndDispatchCustomEvent$2(t,e,l,{discrete:c}){const f=l.originalEvent.target,h=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:l});e&&f.addEventListener(t,e,{once:!0}),c?dispatchDiscreteCustomEvent$1(f,h):f.dispatchEvent(h)}var Root$2=DismissableLayer$1,Branch$1=DismissableLayerBranch$1,useLayoutEffect2$4=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$3="Portal",Portal$2=reactExports.forwardRef((t,e)=>{var d;const{container:l,...c}=t,[f,h]=reactExports.useState(!1);useLayoutEffect2$4(()=>h(!0),[]);const p=l||f&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return p?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$3.div,{...c,ref:e}),p):null});Portal$2.displayName=PORTAL_NAME$3;function setRef$3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$3(...t){return e=>{let l=!1;const c=t.map(f=>{const h=setRef$3(f,e);return!l&&typeof h=="function"&&(l=!0),h});if(l)return()=>{for(let f=0;f<c.length;f++){const h=c[f];typeof h=="function"?h():setRef$3(t[f],null)}}}}function useComposedRefs$2(...t){return reactExports.useCallback(composeRefs$3(...t),t)}var useLayoutEffect2$3=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{};function useStateMachine(t,e){return reactExports.useReducer((l,c)=>e[l][c]??l,t)}var Presence=t=>{const{present:e,children:l}=t,c=usePresence(e),f=typeof l=="function"?l({present:c.isPresent}):reactExports.Children.only(l),h=useComposedRefs$2(c.ref,getElementRef(f));return typeof l=="function"||c.isPresent?reactExports.cloneElement(f,{ref:h}):null};Presence.displayName="Presence";function usePresence(t){const[e,l]=reactExports.useState(),c=reactExports.useRef(null),f=reactExports.useRef(t),h=reactExports.useRef("none"),p=t?"mounted":"unmounted",[d,m]=useStateMachine(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const y=getAnimationName(c.current);h.current=d==="mounted"?y:"none"},[d]),useLayoutEffect2$3(()=>{const y=c.current,x=f.current;if(x!==t){const w=h.current,T=getAnimationName(y);t?m("MOUNT"):T==="none"||(y==null?void 0:y.display)==="none"?m("UNMOUNT"):m(x&&w!==T?"ANIMATION_OUT":"UNMOUNT"),f.current=t}},[t,m]),useLayoutEffect2$3(()=>{if(e){let y;const x=e.ownerDocument.defaultView??window,u=T=>{const k=getAnimationName(c.current).includes(T.animationName);if(T.target===e&&k&&(m("ANIMATION_END"),!f.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",y=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},w=T=>{T.target===e&&(h.current=getAnimationName(c.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{x.clearTimeout(y),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:reactExports.useCallback(y=>{c.current=y?getComputedStyle(y):null,l(y)},[])}}function getAnimationName(t){return(t==null?void 0:t.animationName)||"none"}function getElementRef(t){var c,f;let e=(c=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:c.get,l=e&&"isReactWarning"in e&&e.isReactWarning;return l?t.ref:(e=(f=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:f.get,l=e&&"isReactWarning"in e&&e.isReactWarning,l?t.props.ref:t.props.ref||t.ref)}var useInsertionEffect$2=React[" useInsertionEffect ".trim().toString()]||useLayoutEffect2$4;function useControllableState$2({prop:t,defaultProp:e,onChange:l=()=>{},caller:c}){const[f,h,p]=useUncontrolledState$2({defaultProp:e,onChange:l}),d=t!==void 0,m=d?t:f;{const x=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const u=x.current;u!==d&&console.warn(`${c} is changing from ${u?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=d},[d,c])}const y=reactExports.useCallback(x=>{var u;if(d){const w=isFunction$5(x)?x(t):x;w!==t&&((u=p.current)==null||u.call(p,w))}else h(x)},[d,t,h,p]);return[m,y]}function useUncontrolledState$2({defaultProp:t,onChange:e}){const[l,c]=reactExports.useState(t),f=reactExports.useRef(l),h=reactExports.useRef(e);return useInsertionEffect$2(()=>{h.current=e},[e]),reactExports.useEffect(()=>{var p;f.current!==l&&((p=h.current)==null||p.call(h,l),f.current=l)},[l,f]),[l,c,h]}function isFunction$5(t){return typeof t=="function"}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive$3.span,{...t,ref:e,style:{...VISUALLY_HIDDEN_STYLES,...t.style}}));VisuallyHidden.displayName=NAME$1;var PROVIDER_NAME="ToastProvider",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection$2("Toast"),[createToastContext,createToastScope]=createContextScope$3("Toast",[createCollectionScope$2]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:l,hotkey:c=VIEWPORT_DEFAULT_HOTKEY,label:f="Notifications ({hotkey})",...h}=t,p=useToastProviderContext(VIEWPORT_NAME,l),d=useCollection$2(l),m=reactExports.useRef(null),y=reactExports.useRef(null),x=reactExports.useRef(null),u=reactExports.useRef(null),w=useComposedRefs$3(e,u,p.onViewportChange),T=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=p.toastCount>0;reactExports.useEffect(()=>{const A=g=>{var v;c.length!==0&&c.every(M=>g[M]||g.code===M)&&((v=u.current)==null||v.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[c]),reactExports.useEffect(()=>{const A=m.current,g=u.current;if(C&&A&&g){const E=()=>{if(!p.isClosePausedRef.current){const I=new CustomEvent(VIEWPORT_PAUSE);g.dispatchEvent(I),p.isClosePausedRef.current=!0}},v=()=>{if(p.isClosePausedRef.current){const I=new CustomEvent(VIEWPORT_RESUME);g.dispatchEvent(I),p.isClosePausedRef.current=!1}},M=I=>{!A.contains(I.relatedTarget)&&v()},R=()=>{A.contains(document.activeElement)||v()};return A.addEventListener("focusin",E),A.addEventListener("focusout",M),A.addEventListener("pointermove",E),A.addEventListener("pointerleave",R),window.addEventListener("blur",E),window.addEventListener("focus",v),()=>{A.removeEventListener("focusin",E),A.removeEventListener("focusout",M),A.removeEventListener("pointermove",E),A.removeEventListener("pointerleave",R),window.removeEventListener("blur",E),window.removeEventListener("focus",v)}}},[C,p.isClosePausedRef]);const k=reactExports.useCallback(({tabbingDirection:A})=>{const E=d().map(v=>{const M=v.ref.current,R=[M,...getTabbableCandidates$1(M)];return A==="forwards"?R:R.reverse()});return(A==="forwards"?E.reverse():E).flat()},[d]);return reactExports.useEffect(()=>{const A=u.current;if(A){const g=E=>{var R,I,J;const v=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!v){const _=document.activeElement,L=E.shiftKey;if(E.target===A&&L){(R=y.current)==null||R.focus();return}const D=k({tabbingDirection:L?"backwards":"forwards"}),ne=D.findIndex(F=>F===_);focusFirst$3(D.slice(ne+1))?E.preventDefault():L?(I=y.current)==null||I.focus():(J=x.current)==null||J.focus()}};return A.addEventListener("keydown",g),()=>A.removeEventListener("keydown",g)}},[d,k]),jsxRuntimeExports.jsxs(Branch$1,{ref:m,role:"region","aria-label":f.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&jsxRuntimeExports.jsx(FocusProxy,{ref:y,onFocusFromOutsideViewport:()=>{const A=k({tabbingDirection:"forwards"});focusFirst$3(A)}}),jsxRuntimeExports.jsx(Collection$2.Slot,{scope:l,children:jsxRuntimeExports.jsx(Primitive$3.ol,{tabIndex:-1,...h,ref:w})}),C&&jsxRuntimeExports.jsx(FocusProxy,{ref:x,onFocusFromOutsideViewport:()=>{const A=k({tabbingDirection:"backwards"});focusFirst$3(A)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((t,e)=>{const{__scopeToast:l,onFocusFromOutsideViewport:c,...f}=t,h=useToastProviderContext(FOCUS_PROXY_NAME,l);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...f,ref:e,style:{position:"fixed"},onFocus:p=>{var y;const d=p.relatedTarget;!((y=h.viewport)!=null&&y.contains(d))&&c()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((t,e)=>{const{forceMount:l,open:c,defaultOpen:f,onOpenChange:h,...p}=t,[d,m]=useControllableState$2({prop:c,defaultProp:f??!0,onChange:h,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:l||d,children:jsxRuntimeExports.jsx(ToastImpl,{open:d,...p,ref:e,onClose:()=>m(!1),onPause:useCallbackRef$2(t.onPause),onResume:useCallbackRef$2(t.onResume),onSwipeStart:composeEventHandlers$3(t.onSwipeStart,y=>{y.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers$3(t.onSwipeMove,y=>{const{x,y:u}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","move"),y.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:composeEventHandlers$3(t.onSwipeCancel,y=>{y.currentTarget.setAttribute("data-swipe","cancel"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers$3(t.onSwipeEnd,y=>{const{x,y:u}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","end"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),m(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((t,e)=>{const{__scopeToast:l,type:c="foreground",duration:f,open:h,onClose:p,onEscapeKeyDown:d,onPause:m,onResume:y,onSwipeStart:x,onSwipeMove:u,onSwipeCancel:w,onSwipeEnd:T,...C}=t,k=useToastProviderContext(TOAST_NAME,l),[A,g]=reactExports.useState(null),E=useComposedRefs$3(e,F=>g(F)),v=reactExports.useRef(null),M=reactExports.useRef(null),R=f||k.duration,I=reactExports.useRef(0),J=reactExports.useRef(R),_=reactExports.useRef(0),{onToastAdd:L,onToastRemove:K}=k,$=useCallbackRef$2(()=>{var j;(A==null?void 0:A.contains(document.activeElement))&&((j=k.viewport)==null||j.focus()),p()}),D=reactExports.useCallback(F=>{!F||F===1/0||(window.clearTimeout(_.current),I.current=new Date().getTime(),_.current=window.setTimeout($,F))},[$]);reactExports.useEffect(()=>{const F=k.viewport;if(F){const j=()=>{D(J.current),y==null||y()},se=()=>{const Y=new Date().getTime()-I.current;J.current=J.current-Y,window.clearTimeout(_.current),m==null||m()};return F.addEventListener(VIEWPORT_PAUSE,se),F.addEventListener(VIEWPORT_RESUME,j),()=>{F.removeEventListener(VIEWPORT_PAUSE,se),F.removeEventListener(VIEWPORT_RESUME,j)}}},[k.viewport,R,m,y,D]),reactExports.useEffect(()=>{h&&!k.isClosePausedRef.current&&D(R)},[h,R,k.isClosePausedRef,D]),reactExports.useEffect(()=>(L(),()=>K()),[L,K]);const ne=reactExports.useMemo(()=>A?getAnnounceTextContent(A):null,[A]);return k.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ne&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:l,role:"status","aria-live":c==="foreground"?"assertive":"polite","aria-atomic":!0,children:ne}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:l,onClose:$,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:l,children:jsxRuntimeExports.jsx(Root$2,{asChild:!0,onEscapeKeyDown:composeEventHandlers$3(d,()=>{k.isFocusedToastEscapeKeyDownRef.current||$(),k.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive$3.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":h?"open":"closed","data-swipe-direction":k.swipeDirection,...C,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:composeEventHandlers$3(t.onKeyDown,F=>{F.key==="Escape"&&(d==null||d(F.nativeEvent),F.nativeEvent.defaultPrevented||(k.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:composeEventHandlers$3(t.onPointerDown,F=>{F.button===0&&(v.current={x:F.clientX,y:F.clientY})}),onPointerMove:composeEventHandlers$3(t.onPointerMove,F=>{if(!v.current)return;const j=F.clientX-v.current.x,se=F.clientY-v.current.y,Y=!!M.current,q=["left","right"].includes(k.swipeDirection),Q=["left","up"].includes(k.swipeDirection)?Math.min:Math.max,N=q?Q(0,j):0,O=q?0:Q(0,se),H=F.pointerType==="touch"?10:2,G={x:N,y:O},le={originalEvent:F,delta:G};Y?(M.current=G,handleAndDispatchCustomEvent$1(TOAST_SWIPE_MOVE,u,le,{discrete:!1})):isDeltaInDirection(G,k.swipeDirection,H)?(M.current=G,handleAndDispatchCustomEvent$1(TOAST_SWIPE_START,x,le,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(j)>H||Math.abs(se)>H)&&(v.current=null)}),onPointerUp:composeEventHandlers$3(t.onPointerUp,F=>{const j=M.current,se=F.target;if(se.hasPointerCapture(F.pointerId)&&se.releasePointerCapture(F.pointerId),M.current=null,v.current=null,j){const Y=F.currentTarget,q={originalEvent:F,delta:j};isDeltaInDirection(j,k.swipeDirection,k.swipeThreshold)?handleAndDispatchCustomEvent$1(TOAST_SWIPE_END,T,q,{discrete:!0}):handleAndDispatchCustomEvent$1(TOAST_SWIPE_CANCEL,w,q,{discrete:!0}),Y.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),k.viewport)})]}):null}),ToastAnnounce=t=>{const{__scopeToast:e,children:l,...c}=t,f=useToastProviderContext(TOAST_NAME,e),[h,p]=reactExports.useState(!1),[d,m]=reactExports.useState(!1);return useNextFrame(()=>p(!0)),reactExports.useEffect(()=>{const y=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(y)},[]),d?null:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...c,children:h&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[f.label," ",l]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:l,...c}=t;return jsxRuntimeExports.jsx(Primitive$3.div,{...c,ref:e})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:l,...c}=t;return jsxRuntimeExports.jsx(Primitive$3.div,{...c,ref:e})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((t,e)=>{const{altText:l,...c}=t;return l.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:l,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...c,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:l,...c}=t,f=useToastInteractiveContext(CLOSE_NAME,l);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive$3.button,{type:"button",...c,ref:e,onClick:composeEventHandlers$3(t.onClick,f.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((t,e)=>{const{__scopeToast:l,altText:c,...f}=t;return jsxRuntimeExports.jsx(Primitive$3.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":c||void 0,...f,ref:e})});function getAnnounceTextContent(t){const e=[];return Array.from(t.childNodes).forEach(c=>{if(c.nodeType===c.TEXT_NODE&&c.textContent&&e.push(c.textContent),isHTMLElement(c)){const f=c.ariaHidden||c.hidden||c.style.display==="none",h=c.dataset.radixToastAnnounceExclude==="";if(!f)if(h){const p=c.dataset.radixToastAnnounceAlt;p&&e.push(p)}else e.push(...getAnnounceTextContent(c))}}),e}function handleAndDispatchCustomEvent$1(t,e,l,{discrete:c}){const f=l.originalEvent.currentTarget,h=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:l});e&&f.addEventListener(t,e,{once:!0}),c?dispatchDiscreteCustomEvent$1(f,h):f.dispatchEvent(h)}var isDeltaInDirection=(t,e,l=0)=>{const c=Math.abs(t.x),f=Math.abs(t.y),h=c>f;return e==="left"||e==="right"?h&&c>l:!h&&f>l};function useNextFrame(t=()=>{}){const e=useCallbackRef$2(t);useLayoutEffect2$4(()=>{let l=0,c=0;return l=window.requestAnimationFrame(()=>c=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(l),window.cancelAnimationFrame(c)}},[e])}function isHTMLElement(t){return t.nodeType===t.ELEMENT_NODE}function getTabbableCandidates$1(t){const e=[],l=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const f=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||f?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)e.push(l.currentNode);return e}function focusFirst$3(t){const e=document.activeElement;return t.some(l=>l===e?!0:(l.focus(),document.activeElement!==e))}var Viewport=ToastViewport$1,Root2$2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action=ToastAction$1,Close=ToastClose$1;const ToastViewport=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Viewport,{ref:l,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:t,variant:e,...l},c)=>jsxRuntimeExports.jsx(Root2$2,{ref:c,className:cn(toastVariants({variant:e}),t),...l}));Toast.displayName=Root2$2.displayName;const ToastAction=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Action,{ref:l,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Close,{ref:l,className:cn("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Title,{ref:l,className:cn("text-sm font-semibold [&+div]:text-xs",t),...e}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Description,{ref:l,className:cn("text-sm opacity-90",t),...e}));ToastDescription.displayName=Description.displayName;const alertVariants=cva("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:t,variant:e,...l},c)=>jsxRuntimeExports.jsx("div",{ref:c,role:"alert",className:cn(alertVariants({variant:e}),t),...l}));Alert.displayName="Alert";const AlertTitle=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("h5",{ref:l,className:cn("mb-1 font-medium leading-none tracking-tight",t),...e}));AlertTitle.displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx("div",{ref:l,className:cn("text-sm [&_p]:leading-relaxed",t),...e}));AlertDescription.displayName="AlertDescription";function bind$1(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>e=>{const l=toString.call(e);return t[l]||(t[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction$4(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString$2=typeOfTest("string"),isFunction$4=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$1=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in t)&&!(iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$1(t)&&isFunction$4(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$4(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction$4(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(t,e,{allOwnKeys:l=!1}={}){if(t===null||typeof t>"u")return;let c,f;if(typeof t!="object"&&(t=[t]),isArray(t))for(c=0,f=t.length;c<f;c++)e.call(null,t[c],c,t);else{const h=l?Object.getOwnPropertyNames(t):Object.keys(t),p=h.length;let d;for(c=0;c<p;c++)d=h[c],e.call(null,t[d],d,t)}}function findKey(t,e){e=e.toLowerCase();const l=Object.keys(t);let c=l.length,f;for(;c-- >0;)if(f=l[c],e===f.toLowerCase())return f;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},l=(c,f)=>{const h=t&&findKey(e,f)||f;isPlainObject$1(e[h])&&isPlainObject$1(c)?e[h]=merge(e[h],c):isPlainObject$1(c)?e[h]=merge({},c):isArray(c)?e[h]=c.slice():e[h]=c};for(let c=0,f=arguments.length;c<f;c++)arguments[c]&&forEach$1(arguments[c],l);return e}const extend=(t,e,l,{allOwnKeys:c}={})=>(forEach$1(e,(f,h)=>{l&&isFunction$4(f)?t[h]=bind$1(f,l):t[h]=f},{allOwnKeys:c}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,l,c)=>{t.prototype=Object.create(e.prototype,c),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),l&&Object.assign(t.prototype,l)},toFlatObject=(t,e,l,c)=>{let f,h,p;const d={};if(e=e||{},t==null)return e;do{for(f=Object.getOwnPropertyNames(t),h=f.length;h-- >0;)p=f[h],(!c||c(p,t,e))&&!d[p]&&(e[p]=t[p],d[p]=!0);t=l!==!1&&getPrototypeOf(t)}while(t&&(!l||l(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,l)=>{t=String(t),(l===void 0||l>t.length)&&(l=t.length),l-=e.length;const c=t.indexOf(e,l);return c!==-1&&c===l},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber$2(e))return null;const l=new Array(e);for(;e-- >0;)l[e]=t[e];return l},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const c=(t&&t[iterator]).call(t);let f;for(;(f=c.next())&&!f.done;){const h=f.value;e.call(t,h[0],h[1])}},matchAll=(t,e)=>{let l;const c=[];for(;(l=t.exec(e))!==null;)c.push(l);return c},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,c,f){return c.toUpperCase()+f}),hasOwnProperty=(({hasOwnProperty:t})=>(e,l)=>t.call(e,l))(Object.prototype),isRegExp$2=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const l=Object.getOwnPropertyDescriptors(t),c={};forEach$1(l,(f,h)=>{let p;(p=e(f,h,t))!==!1&&(c[h]=p||f)}),Object.defineProperties(t,c)},freezeMethods=t=>{reduceDescriptors(t,(e,l)=>{if(isFunction$4(t)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const c=t[l];if(isFunction$4(c)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},toObjectSet=(t,e)=>{const l={},c=f=>{f.forEach(h=>{l[h]=!0})};return isArray(t)?c(t):c(String(t).split(e)),l},noop=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction$4(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const e=new Array(10),l=(c,f)=>{if(isObject$1(c)){if(e.indexOf(c)>=0)return;if(!("toJSON"in c)){e[f]=c;const h=isArray(c)?[]:{};return forEach$1(c,(p,d)=>{const m=l(p,f+1);!isUndefined(m)&&(h[d]=m)}),e[f]=void 0,h}}return c};return l(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$1(t)||isFunction$4(t))&&isFunction$4(t.then)&&isFunction$4(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((l,c)=>(_global.addEventListener("message",({source:f,data:h})=>{f===_global&&h===l&&c.length&&c.shift()()},!1),f=>{c.push(f),_global.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",isFunction$4(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction$4(t[iterator]),utils$2={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$2,isBoolean,isObject:isObject$1,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp:isRegExp$2,isFunction:isFunction$4,isStream,isURLSearchParams,isTypedArray,isFileList,forEach:forEach$1,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(t,e,l,c,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),l&&(this.config=l),c&&(this.request=c),f&&(this.response=f,this.status=f.status?f.status:null)}utils$2.inherits(AxiosError,Error,{toJSON:function t(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(t,e,l,c,f,h)=>{const p=Object.create(prototype$1);return utils$2.toFlatObject(t,p,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),AxiosError.call(p,t.message,e,l,c,f),p.cause=t,p.name=t.name,h&&Object.assign(p,h),p};const httpAdapter=null;function isVisitable(t){return utils$2.isPlainObject(t)||utils$2.isArray(t)}function removeBrackets(t){return utils$2.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,l){return t?t.concat(e).map(function(f,h){return f=removeBrackets(f),!l&&h?"["+f+"]":f}).join(l?".":""):e}function isFlatArray(t){return utils$2.isArray(t)&&!t.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function t(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,l){if(!utils$2.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,l=utils$2.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,A){return!utils$2.isUndefined(A[k])});const c=l.metaTokens,f=l.visitor||x,h=l.dots,p=l.indexes,m=(l.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(e);if(!utils$2.isFunction(f))throw new TypeError("visitor must be a function");function y(C){if(C===null)return"";if(utils$2.isDate(C))return C.toISOString();if(!m&&utils$2.isBlob(C))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(C)||utils$2.isTypedArray(C)?m&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function x(C,k,A){let g=C;if(C&&!A&&typeof C=="object"){if(utils$2.endsWith(k,"{}"))k=c?k:k.slice(0,-2),C=JSON.stringify(C);else if(utils$2.isArray(C)&&isFlatArray(C)||(utils$2.isFileList(C)||utils$2.endsWith(k,"[]"))&&(g=utils$2.toArray(C)))return k=removeBrackets(k),g.forEach(function(v,M){!(utils$2.isUndefined(v)||v===null)&&e.append(p===!0?renderKey([k],M,h):p===null?k:k+"[]",y(v))}),!1}return isVisitable(C)?!0:(e.append(renderKey(A,k,h),y(C)),!1)}const u=[],w=Object.assign(predicates,{defaultVisitor:x,convertValue:y,isVisitable});function T(C,k){if(!utils$2.isUndefined(C)){if(u.indexOf(C)!==-1)throw Error("Circular reference detected in "+k.join("."));u.push(C),utils$2.forEach(C,function(g,E){(!(utils$2.isUndefined(g)||g===null)&&f.call(e,g,utils$2.isString(E)?E.trim():E,k,w))===!0&&T(g,k?k.concat(E):[E])}),u.pop()}}if(!utils$2.isObject(t))throw new TypeError("data must be an object");return T(t),e}function encode$3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(c){return e[c]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function t(e,l){this._pairs.push([e,l])};prototype.toString=function t(e){const l=e?function(c){return e.call(this,c,encode$3)}:encode$3;return this._pairs.map(function(f){return l(f[0])+"="+l(f[1])},"").join("&")};function encode$2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,l){if(!e)return t;const c=l&&l.encode||encode$2;utils$2.isFunction(l)&&(l={serialize:l});const f=l&&l.serialize;let h;if(f?h=f(e,l):h=utils$2.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,l).toString(c),h){const p=t.indexOf("#");p!==-1&&(t=t.slice(0,p)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,l,c){return this.handlers.push({fulfilled:e,rejected:l,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$2.forEach(this.handlers,function(c){c!==null&&e(c)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$1,...platform$1};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(l,c,f,h){return platform.isNode&&utils$2.isBuffer(l)?(this.append(c,l.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$2.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},l=Object.keys(t);let c;const f=l.length;let h;for(c=0;c<f;c++)h=l[c],e[h]=t[h];return e}function formDataToJSON(t){function e(l,c,f,h){let p=l[h++];if(p==="__proto__")return!0;const d=Number.isFinite(+p),m=h>=l.length;return p=!p&&utils$2.isArray(f)?f.length:p,m?(utils$2.hasOwnProp(f,p)?f[p]=[f[p],c]:f[p]=c,!d):((!f[p]||!utils$2.isObject(f[p]))&&(f[p]=[]),e(l,c,f[p],h)&&utils$2.isArray(f[p])&&(f[p]=arrayToObject(f[p])),!d)}if(utils$2.isFormData(t)&&utils$2.isFunction(t.entries)){const l={};return utils$2.forEachEntry(t,(c,f)=>{e(parsePropPath(c),f,l,0)}),l}return null}function stringifySafely(t,e,l){if(utils$2.isString(t))try{return(e||JSON.parse)(t),utils$2.trim(t)}catch(c){if(c.name!=="SyntaxError")throw c}return(0,JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function t(e,l){const c=l.getContentType()||"",f=c.indexOf("application/json")>-1,h=utils$2.isObject(e);if(h&&utils$2.isHTMLForm(e)&&(e=new FormData(e)),utils$2.isFormData(e))return f?JSON.stringify(formDataToJSON(e)):e;if(utils$2.isArrayBuffer(e)||utils$2.isBuffer(e)||utils$2.isStream(e)||utils$2.isFile(e)||utils$2.isBlob(e)||utils$2.isReadableStream(e))return e;if(utils$2.isArrayBufferView(e))return e.buffer;if(utils$2.isURLSearchParams(e))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(h){if(c.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((d=utils$2.isFileList(e))||c.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return toFormData(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return h||f?(l.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function t(e){const l=this.transitional||defaults.transitional,c=l&&l.forcedJSONParsing,f=this.responseType==="json";if(utils$2.isResponse(e)||utils$2.isReadableStream(e))return e;if(e&&utils$2.isString(e)&&(c&&!this.responseType||f)){const p=!(l&&l.silentJSONParsing)&&f;try{return JSON.parse(e)}catch(d){if(p)throw d.name==="SyntaxError"?AxiosError.from(d,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function t(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let l,c,f;return t&&t.split(`
`).forEach(function(p){f=p.indexOf(":"),l=p.substring(0,f).trim().toLowerCase(),c=p.substring(f+1).trim(),!(!l||e[l]&&ignoreDuplicateOf[l])&&(l==="set-cookie"?e[l]?e[l].push(c):e[l]=[c]:e[l]=e[l]?e[l]+", "+c:c)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$2.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=l.exec(t);)e[c[1]]=c[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,l,c,f){if(utils$2.isFunction(c))return c.call(this,e,l);if(f&&(e=l),!!utils$2.isString(e)){if(utils$2.isString(c))return e.indexOf(c)!==-1;if(utils$2.isRegExp(c))return c.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,l,c)=>l.toUpperCase()+c)}function buildAccessors(t,e){const l=utils$2.toCamelCase(" "+e);["get","set","has"].forEach(c=>{Object.defineProperty(t,c+l,{value:function(f,h,p){return this[c].call(this,e,f,h,p)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,l,c){const f=this;function h(d,m,y){const x=normalizeHeader(m);if(!x)throw new Error("header name must be a non-empty string");const u=utils$2.findKey(f,x);(!u||f[u]===void 0||y===!0||y===void 0&&f[u]!==!1)&&(f[u||m]=normalizeValue(d))}const p=(d,m)=>utils$2.forEach(d,(y,x)=>h(y,x,m));if(utils$2.isPlainObject(e)||e instanceof this.constructor)p(e,l);else if(utils$2.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))p(parseHeaders(e),l);else if(utils$2.isObject(e)&&utils$2.isIterable(e)){let d={},m,y;for(const x of e){if(!utils$2.isArray(x))throw TypeError("Object iterator must return a key-value pair");d[y=x[0]]=(m=d[y])?utils$2.isArray(m)?[...m,x[1]]:[m,x[1]]:x[1]}p(d,l)}else e!=null&&h(l,e,c);return this}get(e,l){if(e=normalizeHeader(e),e){const c=utils$2.findKey(this,e);if(c){const f=this[c];if(!l)return f;if(l===!0)return parseTokens(f);if(utils$2.isFunction(l))return l.call(this,f,c);if(utils$2.isRegExp(l))return l.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,l){if(e=normalizeHeader(e),e){const c=utils$2.findKey(this,e);return!!(c&&this[c]!==void 0&&(!l||matchHeaderValue(this,this[c],c,l)))}return!1}delete(e,l){const c=this;let f=!1;function h(p){if(p=normalizeHeader(p),p){const d=utils$2.findKey(c,p);d&&(!l||matchHeaderValue(c,c[d],d,l))&&(delete c[d],f=!0)}}return utils$2.isArray(e)?e.forEach(h):h(e),f}clear(e){const l=Object.keys(this);let c=l.length,f=!1;for(;c--;){const h=l[c];(!e||matchHeaderValue(this,this[h],h,e,!0))&&(delete this[h],f=!0)}return f}normalize(e){const l=this,c={};return utils$2.forEach(this,(f,h)=>{const p=utils$2.findKey(c,h);if(p){l[p]=normalizeValue(f),delete l[h];return}const d=e?formatHeader(h):String(h).trim();d!==h&&delete l[h],l[d]=normalizeValue(f),c[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const l=Object.create(null);return utils$2.forEach(this,(c,f)=>{c!=null&&c!==!1&&(l[f]=e&&utils$2.isArray(c)?c.join(", "):c)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,l])=>e+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...l){const c=new this(e);return l.forEach(f=>c.set(f)),c}static accessor(e){const c=(this[$internals]=this[$internals]={accessors:{}}).accessors,f=this.prototype;function h(p){const d=normalizeHeader(p);c[d]||(buildAccessors(f,p),c[d]=!0)}return utils$2.isArray(e)?e.forEach(h):h(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders.prototype,({value:t},e)=>{let l=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(c){this[l]=c}}});utils$2.freezeMethods(AxiosHeaders);function transformData(t,e){const l=this||defaults,c=e||l,f=AxiosHeaders.from(c.headers);let h=c.data;return utils$2.forEach(t,function(d){h=d.call(l,h,f.normalize(),e?e.status:void 0)}),f.normalize(),h}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,l){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,l),this.name="CanceledError"}utils$2.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(t,e,l){const c=l.config.validateStatus;!l.status||!c||c(l.status)?t(l):e(new AxiosError("Request failed with status code "+l.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const l=new Array(t),c=new Array(t);let f=0,h=0,p;return e=e!==void 0?e:1e3,function(m){const y=Date.now(),x=c[h];p||(p=y),l[f]=m,c[f]=y;let u=h,w=0;for(;u!==f;)w+=l[u++],u=u%t;if(f=(f+1)%t,f===h&&(h=(h+1)%t),y-p<e)return;const T=x&&y-x;return T?Math.round(w*1e3/T):void 0}}function throttle(t,e){let l=0,c=1e3/e,f,h;const p=(y,x=Date.now())=>{l=x,f=null,h&&(clearTimeout(h),h=null),t.apply(null,y)};return[(...y)=>{const x=Date.now(),u=x-l;u>=c?p(y,x):(f=y,h||(h=setTimeout(()=>{h=null,p(f)},c-u)))},()=>f&&p(f)]}const progressEventReducer=(t,e,l=3)=>{let c=0;const f=speedometer(50,250);return throttle(h=>{const p=h.loaded,d=h.lengthComputable?h.total:void 0,m=p-c,y=f(m),x=p<=d;c=p;const u={loaded:p,total:d,progress:d?p/d:void 0,bytes:m,rate:y||void 0,estimated:y&&d&&x?(d-p)/y:void 0,event:h,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(u)},l)},progressEventDecorator=(t,e)=>{const l=t!=null;return[c=>e[0]({lengthComputable:l,total:t,loaded:c}),e[1]]},asyncDecorator=t=>(...e)=>utils$2.asap(()=>t(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>l=>(l=new URL(l,platform.origin),t.protocol===l.protocol&&t.host===l.host&&(e||t.port===l.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,l,c,f,h){const p=[t+"="+encodeURIComponent(e)];utils$2.isNumber(l)&&p.push("expires="+new Date(l).toGMTString()),utils$2.isString(c)&&p.push("path="+c),utils$2.isString(f)&&p.push("domain="+f),h===!0&&p.push("secure"),document.cookie=p.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,l){let c=!isAbsoluteURL(e);return t&&(c||l==!1)?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders?{...t}:t;function mergeConfig(t,e){e=e||{};const l={};function c(y,x,u,w){return utils$2.isPlainObject(y)&&utils$2.isPlainObject(x)?utils$2.merge.call({caseless:w},y,x):utils$2.isPlainObject(x)?utils$2.merge({},x):utils$2.isArray(x)?x.slice():x}function f(y,x,u,w){if(utils$2.isUndefined(x)){if(!utils$2.isUndefined(y))return c(void 0,y,u,w)}else return c(y,x,u,w)}function h(y,x){if(!utils$2.isUndefined(x))return c(void 0,x)}function p(y,x){if(utils$2.isUndefined(x)){if(!utils$2.isUndefined(y))return c(void 0,y)}else return c(void 0,x)}function d(y,x,u){if(u in e)return c(y,x);if(u in t)return c(void 0,y)}const m={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:d,headers:(y,x,u)=>f(headersToObject(y),headersToObject(x),u,!0)};return utils$2.forEach(Object.keys(Object.assign({},t,e)),function(x){const u=m[x]||f,w=u(t[x],e[x],x);utils$2.isUndefined(w)&&u!==d||(l[x]=w)}),l}const resolveConfig=t=>{const e=mergeConfig({},t);let{data:l,withXSRFToken:c,xsrfHeaderName:f,xsrfCookieName:h,headers:p,auth:d}=e;e.headers=p=AxiosHeaders.from(p),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&p.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(utils$2.isFormData(l)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((m=p.getContentType())!==!1){const[y,...x]=m?m.split(";").map(u=>u.trim()).filter(Boolean):[];p.setContentType([y||"multipart/form-data",...x].join("; "))}}if(platform.hasStandardBrowserEnv&&(c&&utils$2.isFunction(c)&&(c=c(e)),c||c!==!1&&isURLSameOrigin(e.url))){const y=f&&h&&cookies.read(h);y&&p.set(f,y)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(l,c){const f=resolveConfig(t);let h=f.data;const p=AxiosHeaders.from(f.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:y}=f,x,u,w,T,C;function k(){T&&T(),C&&C(),f.cancelToken&&f.cancelToken.unsubscribe(x),f.signal&&f.signal.removeEventListener("abort",x)}let A=new XMLHttpRequest;A.open(f.method.toUpperCase(),f.url,!0),A.timeout=f.timeout;function g(){if(!A)return;const v=AxiosHeaders.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),R={data:!d||d==="text"||d==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:v,config:t,request:A};settle(function(J){l(J),k()},function(J){c(J),k()},R),A=null}"onloadend"in A?A.onloadend=g:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(g)},A.onabort=function(){A&&(c(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,A)),A=null)},A.onerror=function(){c(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let M=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const R=f.transitional||transitionalDefaults;f.timeoutErrorMessage&&(M=f.timeoutErrorMessage),c(new AxiosError(M,R.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,A)),A=null},h===void 0&&p.setContentType(null),"setRequestHeader"in A&&utils$2.forEach(p.toJSON(),function(M,R){A.setRequestHeader(R,M)}),utils$2.isUndefined(f.withCredentials)||(A.withCredentials=!!f.withCredentials),d&&d!=="json"&&(A.responseType=f.responseType),y&&([w,C]=progressEventReducer(y,!0),A.addEventListener("progress",w)),m&&A.upload&&([u,T]=progressEventReducer(m),A.upload.addEventListener("progress",u),A.upload.addEventListener("loadend",T)),(f.cancelToken||f.signal)&&(x=v=>{A&&(c(!v||v.type?new CanceledError(null,t,A):v),A.abort(),A=null)},f.cancelToken&&f.cancelToken.subscribe(x),f.signal&&(f.signal.aborted?x():f.signal.addEventListener("abort",x)));const E=parseProtocol(f.url);if(E&&platform.protocols.indexOf(E)===-1){c(new AxiosError("Unsupported protocol "+E+":",AxiosError.ERR_BAD_REQUEST,t));return}A.send(h||null)})},composeSignals=(t,e)=>{const{length:l}=t=t?t.filter(Boolean):[];if(e||l){let c=new AbortController,f;const h=function(y){if(!f){f=!0,d();const x=y instanceof Error?y:this.reason;c.abort(x instanceof AxiosError?x:new CanceledError(x instanceof Error?x.message:x))}};let p=e&&setTimeout(()=>{p=null,h(new AxiosError(`timeout ${e} of ms exceeded`,AxiosError.ETIMEDOUT))},e);const d=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(y=>{y.unsubscribe?y.unsubscribe(h):y.removeEventListener("abort",h)}),t=null)};t.forEach(y=>y.addEventListener("abort",h));const{signal:m}=c;return m.unsubscribe=()=>utils$2.asap(d),m}},streamChunk=function*(t,e){let l=t.byteLength;if(l<e){yield t;return}let c=0,f;for(;c<l;)f=c+e,yield t.slice(c,f),c=f},readBytes=async function*(t,e){for await(const l of readStream(t))yield*streamChunk(l,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:l,value:c}=await e.read();if(l)break;yield c}}finally{await e.cancel()}},trackStream=(t,e,l,c)=>{const f=readBytes(t,e);let h=0,p,d=m=>{p||(p=!0,c&&c(m))};return new ReadableStream({async pull(m){try{const{done:y,value:x}=await f.next();if(y){d(),m.close();return}let u=x.byteLength;if(l){let w=h+=u;l(w)}m.enqueue(new Uint8Array(x))}catch(y){throw d(y),y}},cancel(m){return d(m),f.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$2.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$2.isFunction(t[e])?l=>l[e]():(l,c)=>{throw new AxiosError(`Response type '${e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,c)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$2.isBlob(t))return t.size;if(utils$2.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(t)||utils$2.isArrayBuffer(t))return t.byteLength;if(utils$2.isURLSearchParams(t)&&(t=t+""),utils$2.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const l=utils$2.toFiniteNumber(t.getContentLength());return l??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:l,data:c,signal:f,cancelToken:h,timeout:p,onDownloadProgress:d,onUploadProgress:m,responseType:y,headers:x,withCredentials:u="same-origin",fetchOptions:w}=resolveConfig(t);y=y?(y+"").toLowerCase():"text";let T=composeSignals([f,h&&h.toAbortSignal()],p),C;const k=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let A;try{if(m&&supportsRequestStream&&l!=="get"&&l!=="head"&&(A=await resolveBodyLength(x,c))!==0){let R=new Request(e,{method:"POST",body:c,duplex:"half"}),I;if(utils$2.isFormData(c)&&(I=R.headers.get("content-type"))&&x.setContentType(I),R.body){const[J,_]=progressEventDecorator(A,progressEventReducer(asyncDecorator(m)));c=trackStream(R.body,DEFAULT_CHUNK_SIZE,J,_)}}utils$2.isString(u)||(u=u?"include":"omit");const g="credentials"in Request.prototype;C=new Request(e,{...w,signal:T,method:l.toUpperCase(),headers:x.normalize().toJSON(),body:c,duplex:"half",credentials:g?u:void 0});let E=await fetch(C);const v=supportsResponseStream&&(y==="stream"||y==="response");if(supportsResponseStream&&(d||v&&k)){const R={};["status","statusText","headers"].forEach(L=>{R[L]=E[L]});const I=utils$2.toFiniteNumber(E.headers.get("content-length")),[J,_]=d&&progressEventDecorator(I,progressEventReducer(asyncDecorator(d),!0))||[];E=new Response(trackStream(E.body,DEFAULT_CHUNK_SIZE,J,()=>{_&&_(),k&&k()}),R)}y=y||"text";let M=await resolvers[utils$2.findKey(resolvers,y)||"text"](E,t);return!v&&k&&k(),await new Promise((R,I)=>{settle(R,I,{data:M,headers:AxiosHeaders.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:C})})}catch(g){throw k&&k(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,C),{cause:g.cause||g}):AxiosError.from(g,g&&g.code,t,C)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$2.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$2.isFunction(t)||t===null||t===!1,adapters={getAdapter:t=>{t=utils$2.isArray(t)?t:[t];const{length:e}=t;let l,c;const f={};for(let h=0;h<e;h++){l=t[h];let p;if(c=l,!isResolvedHandle(l)&&(c=knownAdapters[(p=String(l)).toLowerCase()],c===void 0))throw new AxiosError(`Unknown adapter '${p}'`);if(c)break;f[p||"#"+h]=c}if(!c){const h=Object.entries(f).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let p=e?h.length>1?`since :
`+h.map(renderReason).join(`
`):" "+renderReason(h[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return c},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults.adapter)(t).then(function(c){return throwIfCancellationRequested(t),c.data=transformData.call(t,t.transformResponse,c),c.headers=AxiosHeaders.from(c.headers),c},function(c){return isCancel(c)||(throwIfCancellationRequested(t),c&&c.response&&(c.response.data=transformData.call(t,t.transformResponse,c.response),c.response.headers=AxiosHeaders.from(c.response.headers))),Promise.reject(c)})}const VERSION="1.9.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(c){return typeof c===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function t(e,l,c){function f(h,p){return"[Axios v"+VERSION+"] Transitional option '"+h+"'"+p+(c?". "+c:"")}return(h,p,d)=>{if(e===!1)throw new AxiosError(f(p," has been removed"+(l?" in "+l:"")),AxiosError.ERR_DEPRECATED);return l&&!deprecatedWarnings[p]&&(deprecatedWarnings[p]=!0,console.warn(f(p," has been deprecated since v"+l+" and will be removed in the near future"))),e?e(h,p,d):!0}};validators$1.spelling=function t(e){return(l,c)=>(console.warn(`${c} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,l){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const c=Object.keys(t);let f=c.length;for(;f-- >0;){const h=c[f],p=e[h];if(p){const d=t[h],m=d===void 0||p(d,h,t);if(m!==!0)throw new AxiosError("option "+h+" must be "+m,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new AxiosError("Unknown option "+h,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,l){try{return await this._request(e,l)}catch(c){if(c instanceof Error){let f={};Error.captureStackTrace?Error.captureStackTrace(f):f=new Error;const h=f.stack?f.stack.replace(/^.+\n/,""):"";try{c.stack?h&&!String(c.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+h):c.stack=h}catch{}}throw c}}_request(e,l){typeof e=="string"?(l=l||{},l.url=e):l=e||{},l=mergeConfig(this.defaults,l);const{transitional:c,paramsSerializer:f,headers:h}=l;c!==void 0&&validator.assertOptions(c,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),f!=null&&(utils$2.isFunction(f)?l.paramsSerializer={serialize:f}:validator.assertOptions(f,{encode:validators.function,serialize:validators.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),validator.assertOptions(l,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let p=h&&utils$2.merge(h.common,h[l.method]);h&&utils$2.forEach(["delete","get","head","post","put","patch","common"],C=>{delete h[C]}),l.headers=AxiosHeaders.concat(p,h);const d=[];let m=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(l)===!1||(m=m&&k.synchronous,d.unshift(k.fulfilled,k.rejected))});const y=[];this.interceptors.response.forEach(function(k){y.push(k.fulfilled,k.rejected)});let x,u=0,w;if(!m){const C=[dispatchRequest.bind(this),void 0];for(C.unshift.apply(C,d),C.push.apply(C,y),w=C.length,x=Promise.resolve(l);u<w;)x=x.then(C[u++],C[u++]);return x}w=d.length;let T=l;for(u=0;u<w;){const C=d[u++],k=d[u++];try{T=C(T)}catch(A){k.call(this,A);break}}try{x=dispatchRequest.call(this,T)}catch(C){return Promise.reject(C)}for(u=0,w=y.length;u<w;)x=x.then(y[u++],y[u++]);return x}getUri(e){e=mergeConfig(this.defaults,e);const l=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(l,e.params,e.paramsSerializer)}}utils$2.forEach(["delete","get","head","options"],function t(e){Axios.prototype[e]=function(l,c){return this.request(mergeConfig(c||{},{method:e,url:l,data:(c||{}).data}))}});utils$2.forEach(["post","put","patch"],function t(e){function l(c){return function(h,p,d){return this.request(mergeConfig(d||{},{method:e,headers:c?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}Axios.prototype[e]=l(),Axios.prototype[e+"Form"]=l(!0)});class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(h){l=h});const c=this;this.promise.then(f=>{if(!c._listeners)return;let h=c._listeners.length;for(;h-- >0;)c._listeners[h](f);c._listeners=null}),this.promise.then=f=>{let h;const p=new Promise(d=>{c.subscribe(d),h=d}).then(f);return p.cancel=function(){c.unsubscribe(h)},p},e(function(h,p,d){c.reason||(c.reason=new CanceledError(h,p,d),l(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const l=this._listeners.indexOf(e);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const e=new AbortController,l=c=>{e.abort(c)};return this.subscribe(l),e.signal.unsubscribe=()=>this.unsubscribe(l),e.signal}static source(){let e;return{token:new CancelToken(function(f){e=f}),cancel:e}}}function spread(t){return function(l){return t.apply(null,l)}}function isAxiosError(t){return utils$2.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});function createInstance(t){const e=new Axios(t),l=bind$1(Axios.prototype.request,e);return utils$2.extend(l,Axios.prototype,e,{allOwnKeys:!0}),utils$2.extend(l,e,null,{allOwnKeys:!0}),l.create=function(f){return createInstance(mergeConfig(t,f))},l}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function t(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=t=>formDataToJSON(utils$2.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;const promptContext=React2.createContext({globalPrompt:"",setGlobalPrompt:()=>{}}),PromptProvider=promptContext.Provider;function usePrompt(){return React2.useContext(promptContext)}function OrderedMap(t){this.content=t}OrderedMap.prototype={constructor:OrderedMap,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,l){var c=l&&l!=t?this.remove(l):this,f=c.find(t),h=c.content.slice();return f==-1?h.push(l||t,e):(h[f+1]=e,l&&(h[f]=l)),new OrderedMap(h)},remove:function(t){var e=this.find(t);if(e==-1)return this;var l=this.content.slice();return l.splice(e,2),new OrderedMap(l)},addToStart:function(t,e){return new OrderedMap([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var l=this.remove(t).content.slice();return l.push(t,e),new OrderedMap(l)},addBefore:function(t,e,l){var c=this.remove(e),f=c.content.slice(),h=c.find(t);return f.splice(h==-1?f.length:h,0,e,l),new OrderedMap(f)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=OrderedMap.from(t),t.size?new OrderedMap(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=OrderedMap.from(t);for(var l=0;l<t.content.length;l+=2)e=e.remove(t.content[l]);return e},toObject:function(){var t={};return this.forEach(function(e,l){t[e]=l}),t},get size(){return this.content.length>>1}};OrderedMap.from=function(t){if(t instanceof OrderedMap)return t;var e=[];if(t)for(var l in t)e.push(l,t[l]);return new OrderedMap(e)};function findDiffStart(t,e,l){for(let c=0;;c++){if(c==t.childCount||c==e.childCount)return t.childCount==e.childCount?null:l;let f=t.child(c),h=e.child(c);if(f==h){l+=f.nodeSize;continue}if(!f.sameMarkup(h))return l;if(f.isText&&f.text!=h.text){for(let p=0;f.text[p]==h.text[p];p++)l++;return l}if(f.content.size||h.content.size){let p=findDiffStart(f.content,h.content,l+1);if(p!=null)return p}l+=f.nodeSize}}function findDiffEnd(t,e,l,c){for(let f=t.childCount,h=e.childCount;;){if(f==0||h==0)return f==h?null:{a:l,b:c};let p=t.child(--f),d=e.child(--h),m=p.nodeSize;if(p==d){l-=m,c-=m;continue}if(!p.sameMarkup(d))return{a:l,b:c};if(p.isText&&p.text!=d.text){let y=0,x=Math.min(p.text.length,d.text.length);for(;y<x&&p.text[p.text.length-y-1]==d.text[d.text.length-y-1];)y++,l--,c--;return{a:l,b:c}}if(p.content.size||d.content.size){let y=findDiffEnd(p.content,d.content,l-1,c-1);if(y)return y}l-=m,c-=m}}class Fragment{constructor(e,l){if(this.content=e,this.size=l||0,l==null)for(let c=0;c<e.length;c++)this.size+=e[c].nodeSize}nodesBetween(e,l,c,f=0,h){for(let p=0,d=0;d<l;p++){let m=this.content[p],y=d+m.nodeSize;if(y>e&&c(m,f+d,h||null,p)!==!1&&m.content.size){let x=d+1;m.nodesBetween(Math.max(0,e-x),Math.min(m.content.size,l-x),c,f+x)}d=y}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,l,c,f){let h="",p=!0;return this.nodesBetween(e,l,(d,m)=>{let y=d.isText?d.text.slice(Math.max(e,m)-m,l-m):d.isLeaf?f?typeof f=="function"?f(d):f:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&y||d.isTextblock)&&c&&(p?p=!1:h+=c),h+=y},0),h}append(e){if(!e.size)return this;if(!this.size)return e;let l=this.lastChild,c=e.firstChild,f=this.content.slice(),h=0;for(l.isText&&l.sameMarkup(c)&&(f[f.length-1]=l.withText(l.text+c.text),h=1);h<e.content.length;h++)f.push(e.content[h]);return new Fragment(f,this.size+e.size)}cut(e,l=this.size){if(e==0&&l==this.size)return this;let c=[],f=0;if(l>e)for(let h=0,p=0;p<l;h++){let d=this.content[h],m=p+d.nodeSize;m>e&&((p<e||m>l)&&(d.isText?d=d.cut(Math.max(0,e-p),Math.min(d.text.length,l-p)):d=d.cut(Math.max(0,e-p-1),Math.min(d.content.size,l-p-1))),c.push(d),f+=d.nodeSize),p=m}return new Fragment(c,f)}cutByIndex(e,l){return e==l?Fragment.empty:e==0&&l==this.content.length?this:new Fragment(this.content.slice(e,l))}replaceChild(e,l){let c=this.content[e];if(c==l)return this;let f=this.content.slice(),h=this.size+l.nodeSize-c.nodeSize;return f[e]=l,new Fragment(f,h)}addToStart(e){return new Fragment([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Fragment(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let l=0;l<this.content.length;l++)if(!this.content[l].eq(e.content[l]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let l=this.content[e];if(!l)throw new RangeError("Index "+e+" out of range for "+this);return l}maybeChild(e){return this.content[e]||null}forEach(e){for(let l=0,c=0;l<this.content.length;l++){let f=this.content[l];e(f,c,l),c+=f.nodeSize}}findDiffStart(e,l=0){return findDiffStart(this,e,l)}findDiffEnd(e,l=this.size,c=e.size){return findDiffEnd(this,e,l,c)}findIndex(e,l=-1){if(e==0)return retIndex(0,e);if(e==this.size)return retIndex(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let c=0,f=0;;c++){let h=this.child(c),p=f+h.nodeSize;if(p>=e)return p==e||l>0?retIndex(c+1,p):retIndex(c,f);f=p}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,l){if(!l)return Fragment.empty;if(!Array.isArray(l))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(l.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Fragment.empty;let l,c=0;for(let f=0;f<e.length;f++){let h=e[f];c+=h.nodeSize,f&&h.isText&&e[f-1].sameMarkup(h)?(l||(l=e.slice(0,f)),l[l.length-1]=h.withText(l[l.length-1].text+h.text)):l&&l.push(h)}return new Fragment(l||e,c)}static from(e){if(!e)return Fragment.empty;if(e instanceof Fragment)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Fragment([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(t,e){return found.index=t,found.offset=e,found}function compareDeep(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let l=Array.isArray(t);if(Array.isArray(e)!=l)return!1;if(l){if(t.length!=e.length)return!1;for(let c=0;c<t.length;c++)if(!compareDeep(t[c],e[c]))return!1}else{for(let c in t)if(!(c in e)||!compareDeep(t[c],e[c]))return!1;for(let c in e)if(!(c in t))return!1}return!0}let Mark$1=class vl{constructor(e,l){this.type=e,this.attrs=l}addToSet(e){let l,c=!1;for(let f=0;f<e.length;f++){let h=e[f];if(this.eq(h))return e;if(this.type.excludes(h.type))l||(l=e.slice(0,f));else{if(h.type.excludes(this.type))return e;!c&&h.type.rank>this.type.rank&&(l||(l=e.slice(0,f)),l.push(this),c=!0),l&&l.push(h)}}return l||(l=e.slice()),c||l.push(this),l}removeFromSet(e){for(let l=0;l<e.length;l++)if(this.eq(e[l]))return e.slice(0,l).concat(e.slice(l+1));return e}isInSet(e){for(let l=0;l<e.length;l++)if(this.eq(e[l]))return!0;return!1}eq(e){return this==e||this.type==e.type&&compareDeep(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let l in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,l){if(!l)throw new RangeError("Invalid input for Mark.fromJSON");let c=e.marks[l.type];if(!c)throw new RangeError(`There is no mark type ${l.type} in this schema`);let f=c.create(l.attrs);return c.checkAttrs(f.attrs),f}static sameSet(e,l){if(e==l)return!0;if(e.length!=l.length)return!1;for(let c=0;c<e.length;c++)if(!e[c].eq(l[c]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return vl.none;if(e instanceof vl)return[e];let l=e.slice();return l.sort((c,f)=>c.type.rank-f.type.rank),l}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(e,l,c){this.content=e,this.openStart=l,this.openEnd=c}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,l){let c=insertInto(this.content,e+this.openStart,l);return c&&new Slice(c,this.openStart,this.openEnd)}removeBetween(e,l){return new Slice(removeRange(this.content,e+this.openStart,l+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,l){if(!l)return Slice.empty;let c=l.openStart||0,f=l.openEnd||0;if(typeof c!="number"||typeof f!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(e,l.content),c,f)}static maxOpen(e,l=!0){let c=0,f=0;for(let h=e.firstChild;h&&!h.isLeaf&&(l||!h.type.spec.isolating);h=h.firstChild)c++;for(let h=e.lastChild;h&&!h.isLeaf&&(l||!h.type.spec.isolating);h=h.lastChild)f++;return new Slice(e,c,f)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(t,e,l){let{index:c,offset:f}=t.findIndex(e),h=t.maybeChild(c),{index:p,offset:d}=t.findIndex(l);if(f==e||h.isText){if(d!=l&&!t.child(p).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(l))}if(c!=p)throw new RangeError("Removing non-flat range");return t.replaceChild(c,h.copy(removeRange(h.content,e-f-1,l-f-1)))}function insertInto(t,e,l,c){let{index:f,offset:h}=t.findIndex(e),p=t.maybeChild(f);if(h==e||p.isText)return t.cut(0,e).append(l).append(t.cut(e));let d=insertInto(p.content,e-h-1,l);return d&&t.replaceChild(f,p.copy(d))}function replace$1(t,e,l){if(l.openStart>t.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(t.depth-l.openStart!=e.depth-l.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(t,e,l,0)}function replaceOuter(t,e,l,c){let f=t.index(c),h=t.node(c);if(f==e.index(c)&&c<t.depth-l.openStart){let p=replaceOuter(t,e,l,c+1);return h.copy(h.content.replaceChild(f,p))}else if(l.content.size)if(!l.openStart&&!l.openEnd&&t.depth==c&&e.depth==c){let p=t.parent,d=p.content;return close(p,d.cut(0,t.parentOffset).append(l.content).append(d.cut(e.parentOffset)))}else{let{start:p,end:d}=prepareSliceForReplace(l,t);return close(h,replaceThreeWay(t,p,d,e,c))}else return close(h,replaceTwoWay(t,e,c))}function checkJoin(t,e){if(!e.type.compatibleContent(t.type))throw new ReplaceError("Cannot join "+e.type.name+" onto "+t.type.name)}function joinable$1(t,e,l){let c=t.node(l);return checkJoin(c,e.node(l)),c}function addNode(t,e){let l=e.length-1;l>=0&&t.isText&&t.sameMarkup(e[l])?e[l]=t.withText(e[l].text+t.text):e.push(t)}function addRange(t,e,l,c){let f=(e||t).node(l),h=0,p=e?e.index(l):f.childCount;t&&(h=t.index(l),t.depth>l?h++:t.textOffset&&(addNode(t.nodeAfter,c),h++));for(let d=h;d<p;d++)addNode(f.child(d),c);e&&e.depth==l&&e.textOffset&&addNode(e.nodeBefore,c)}function close(t,e){return t.type.checkContent(e),t.copy(e)}function replaceThreeWay(t,e,l,c,f){let h=t.depth>f&&joinable$1(t,e,f+1),p=c.depth>f&&joinable$1(l,c,f+1),d=[];return addRange(null,t,f,d),h&&p&&e.index(f)==l.index(f)?(checkJoin(h,p),addNode(close(h,replaceThreeWay(t,e,l,c,f+1)),d)):(h&&addNode(close(h,replaceTwoWay(t,e,f+1)),d),addRange(e,l,f,d),p&&addNode(close(p,replaceTwoWay(l,c,f+1)),d)),addRange(c,null,f,d),new Fragment(d)}function replaceTwoWay(t,e,l){let c=[];if(addRange(null,t,l,c),t.depth>l){let f=joinable$1(t,e,l+1);addNode(close(f,replaceTwoWay(t,e,l+1)),c)}return addRange(e,null,l,c),new Fragment(c)}function prepareSliceForReplace(t,e){let l=e.depth-t.openStart,f=e.node(l).copy(t.content);for(let h=l-1;h>=0;h--)f=e.node(h).copy(Fragment.from(f));return{start:f.resolveNoCache(t.openStart+l),end:f.resolveNoCache(f.content.size-t.openEnd-l)}}class ResolvedPos{constructor(e,l,c){this.pos=e,this.path=l,this.parentOffset=c,this.depth=l.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,l=this.index(this.depth);if(l==e.childCount)return null;let c=this.pos-this.path[this.path.length-1],f=e.child(l);return c?e.child(l).cut(c):f}get nodeBefore(){let e=this.index(this.depth),l=this.pos-this.path[this.path.length-1];return l?this.parent.child(e).cut(0,l):e==0?null:this.parent.child(e-1)}posAtIndex(e,l){l=this.resolveDepth(l);let c=this.path[l*3],f=l==0?0:this.path[l*3-1]+1;for(let h=0;h<e;h++)f+=c.child(h).nodeSize;return f}marks(){let e=this.parent,l=this.index();if(e.content.size==0)return Mark$1.none;if(this.textOffset)return e.child(l).marks;let c=e.maybeChild(l-1),f=e.maybeChild(l);if(!c){let d=c;c=f,f=d}let h=c.marks;for(var p=0;p<h.length;p++)h[p].type.spec.inclusive===!1&&(!f||!h[p].isInSet(f.marks))&&(h=h[p--].removeFromSet(h));return h}marksAcross(e){let l=this.parent.maybeChild(this.index());if(!l||!l.isInline)return null;let c=l.marks,f=e.parent.maybeChild(e.index());for(var h=0;h<c.length;h++)c[h].type.spec.inclusive===!1&&(!f||!c[h].isInSet(f.marks))&&(c=c[h--].removeFromSet(c));return c}sharedDepth(e){for(let l=this.depth;l>0;l--)if(this.start(l)<=e&&this.end(l)>=e)return l;return 0}blockRange(e=this,l){if(e.pos<this.pos)return e.blockRange(this);for(let c=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);c>=0;c--)if(e.pos<=this.end(c)&&(!l||l(this.node(c))))return new NodeRange(this,e,c);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let l=1;l<=this.depth;l++)e+=(e?"/":"")+this.node(l).type.name+"_"+this.index(l-1);return e+":"+this.parentOffset}static resolve(e,l){if(!(l>=0&&l<=e.content.size))throw new RangeError("Position "+l+" out of range");let c=[],f=0,h=l;for(let p=e;;){let{index:d,offset:m}=p.content.findIndex(h),y=h-m;if(c.push(p,d,f+m),!y||(p=p.child(d),p.isText))break;h=y-1,f+=m+1}return new ResolvedPos(l,c,h)}static resolveCached(e,l){let c=resolveCache.get(e);if(c)for(let h=0;h<c.elts.length;h++){let p=c.elts[h];if(p.pos==l)return p}else resolveCache.set(e,c=new ResolveCache);let f=c.elts[c.i]=ResolvedPos.resolve(e,l);return c.i=(c.i+1)%resolveCacheSize,f}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(e,l,c){this.$from=e,this.$to=l,this.depth=c}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$2=class Cl{constructor(e,l,c,f=Mark$1.none){this.type=e,this.attrs=l,this.marks=f,this.content=c||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,l,c,f=0){this.content.nodesBetween(e,l,c,f,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,l,c,f){return this.content.textBetween(e,l,c,f)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,l,c){return this.type==e&&compareDeep(this.attrs,l||e.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,c||Mark$1.none)}copy(e=null){return e==this.content?this:new Cl(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Cl(this.type,this.attrs,this.content,e)}cut(e,l=this.content.size){return e==0&&l==this.content.size?this:this.copy(this.content.cut(e,l))}slice(e,l=this.content.size,c=!1){if(e==l)return Slice.empty;let f=this.resolve(e),h=this.resolve(l),p=c?0:f.sharedDepth(l),d=f.start(p),y=f.node(p).content.cut(f.pos-d,h.pos-d);return new Slice(y,f.depth-p,h.depth-p)}replace(e,l,c){return replace$1(this.resolve(e),this.resolve(l),c)}nodeAt(e){for(let l=this;;){let{index:c,offset:f}=l.content.findIndex(e);if(l=l.maybeChild(c),!l)return null;if(f==e||l.isText)return l;e-=f+1}}childAfter(e){let{index:l,offset:c}=this.content.findIndex(e);return{node:this.content.maybeChild(l),index:l,offset:c}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:l,offset:c}=this.content.findIndex(e);if(c<e)return{node:this.content.child(l),index:l,offset:c};let f=this.content.child(l-1);return{node:f,index:l-1,offset:c-f.nodeSize}}resolve(e){return ResolvedPos.resolveCached(this,e)}resolveNoCache(e){return ResolvedPos.resolve(this,e)}rangeHasMark(e,l,c){let f=!1;return l>e&&this.nodesBetween(e,l,h=>(c.isInSet(h.marks)&&(f=!0),!f)),f}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,e)}contentMatchAt(e){let l=this.type.contentMatch.matchFragment(this.content,0,e);if(!l)throw new Error("Called contentMatchAt on a node with invalid content");return l}canReplace(e,l,c=Fragment.empty,f=0,h=c.childCount){let p=this.contentMatchAt(e).matchFragment(c,f,h),d=p&&p.matchFragment(this.content,l);if(!d||!d.validEnd)return!1;for(let m=f;m<h;m++)if(!this.type.allowsMarks(c.child(m).marks))return!1;return!0}canReplaceWith(e,l,c,f){if(f&&!this.type.allowsMarks(f))return!1;let h=this.contentMatchAt(e).matchType(c),p=h&&h.matchFragment(this.content,l);return p?p.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Mark$1.none;for(let l=0;l<this.marks.length;l++){let c=this.marks[l];c.type.checkAttrs(c.attrs),e=c.addToSet(e)}if(!Mark$1.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(l=>l.type.name)}`);this.content.forEach(l=>l.check())}toJSON(){let e={type:this.type.name};for(let l in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(l=>l.toJSON())),e}static fromJSON(e,l){if(!l)throw new RangeError("Invalid input for Node.fromJSON");let c;if(l.marks){if(!Array.isArray(l.marks))throw new RangeError("Invalid mark data for Node.fromJSON");c=l.marks.map(e.markFromJSON)}if(l.type=="text"){if(typeof l.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(l.text,c)}let f=Fragment.fromJSON(e,l.content),h=e.nodeType(l.type).create(l.attrs,f,c);return h.type.checkAttrs(h.attrs),h}};Node$2.prototype.text=void 0;class TextNode extends Node$2{constructor(e,l,c,f){if(super(e,l,null,f),!c)throw new RangeError("Empty text nodes are not allowed");this.text=c}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,l){return this.text.slice(e,l)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new TextNode(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new TextNode(this.type,this.attrs,e,this.marks)}cut(e=0,l=this.text.length){return e==0&&l==this.text.length?this:this.withText(this.text.slice(e,l))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wrapMarks(t,e){for(let l=t.length-1;l>=0;l--)e=t[l].type.name+"("+e+")";return e}class ContentMatch{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,l){let c=new TokenStream(e,l);if(c.next==null)return ContentMatch.empty;let f=parseExpr(c);c.next&&c.err("Unexpected trailing text");let h=dfa(nfa(f));return checkForDeadEnds(h,c),h}matchType(e){for(let l=0;l<this.next.length;l++)if(this.next[l].type==e)return this.next[l].next;return null}matchFragment(e,l=0,c=e.childCount){let f=this;for(let h=l;f&&h<c;h++)f=f.matchType(e.child(h).type);return f}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:l}=this.next[e];if(!(l.isText||l.hasRequiredAttrs()))return l}return null}compatible(e){for(let l=0;l<this.next.length;l++)for(let c=0;c<e.next.length;c++)if(this.next[l].type==e.next[c].type)return!0;return!1}fillBefore(e,l=!1,c=0){let f=[this];function h(p,d){let m=p.matchFragment(e,c);if(m&&(!l||m.validEnd))return Fragment.from(d.map(y=>y.createAndFill()));for(let y=0;y<p.next.length;y++){let{type:x,next:u}=p.next[y];if(!(x.isText||x.hasRequiredAttrs())&&f.indexOf(u)==-1){f.push(u);let w=h(u,d.concat(x));if(w)return w}}return null}return h(this,[])}findWrapping(e){for(let c=0;c<this.wrapCache.length;c+=2)if(this.wrapCache[c]==e)return this.wrapCache[c+1];let l=this.computeWrapping(e);return this.wrapCache.push(e,l),l}computeWrapping(e){let l=Object.create(null),c=[{match:this,type:null,via:null}];for(;c.length;){let f=c.shift(),h=f.match;if(h.matchType(e)){let p=[];for(let d=f;d.type;d=d.via)p.push(d.type);return p.reverse()}for(let p=0;p<h.next.length;p++){let{type:d,next:m}=h.next[p];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in l)&&(!f.type||m.validEnd)&&(c.push({match:d.contentMatch,type:d,via:f}),l[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function l(c){e.push(c);for(let f=0;f<c.next.length;f++)e.indexOf(c.next[f].next)==-1&&l(c.next[f].next)}return l(this),e.map((c,f)=>{let h=f+(c.validEnd?"*":" ")+" ";for(let p=0;p<c.next.length;p++)h+=(p?", ":"")+c.next[p].type.name+"->"+e.indexOf(c.next[p].next);return h}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(e,l){this.string=e,this.nodeTypes=l,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function parseExpr(t){let e=[];do e.push(parseExprSeq(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function parseExprSeq(t){let e=[];do e.push(parseExprSubscript(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function parseExprSubscript(t){let e=parseExprAtom(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=parseExprRange(t,e);else break;return e}function parseNum(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function parseExprRange(t,e){let l=parseNum(t),c=l;return t.eat(",")&&(t.next!="}"?c=parseNum(t):c=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:l,max:c,expr:e}}function resolveName(t,e){let l=t.nodeTypes,c=l[e];if(c)return[c];let f=[];for(let h in l){let p=l[h];p.isInGroup(e)&&f.push(p)}return f.length==0&&t.err("No node type or group '"+e+"' found"),f}function parseExprAtom(t){if(t.eat("(")){let e=parseExpr(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=resolveName(t,t.next).map(l=>(t.inline==null?t.inline=l.isInline:t.inline!=l.isInline&&t.err("Mixing inline and block content"),{type:"name",value:l}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nfa(t){let e=[[]];return f(h(t,0),l()),e;function l(){return e.push([])-1}function c(p,d,m){let y={term:m,to:d};return e[p].push(y),y}function f(p,d){p.forEach(m=>m.to=d)}function h(p,d){if(p.type=="choice")return p.exprs.reduce((m,y)=>m.concat(h(y,d)),[]);if(p.type=="seq")for(let m=0;;m++){let y=h(p.exprs[m],d);if(m==p.exprs.length-1)return y;f(y,d=l())}else if(p.type=="star"){let m=l();return c(d,m),f(h(p.expr,m),m),[c(m)]}else if(p.type=="plus"){let m=l();return f(h(p.expr,d),m),f(h(p.expr,m),m),[c(m)]}else{if(p.type=="opt")return[c(d)].concat(h(p.expr,d));if(p.type=="range"){let m=d;for(let y=0;y<p.min;y++){let x=l();f(h(p.expr,m),x),m=x}if(p.max==-1)f(h(p.expr,m),m);else for(let y=p.min;y<p.max;y++){let x=l();c(m,x),f(h(p.expr,m),x),m=x}return[c(m)]}else{if(p.type=="name")return[c(d,void 0,p.value)];throw new Error("Unknown expr type")}}}}function cmp(t,e){return e-t}function nullFrom(t,e){let l=[];return c(e),l.sort(cmp);function c(f){let h=t[f];if(h.length==1&&!h[0].term)return c(h[0].to);l.push(f);for(let p=0;p<h.length;p++){let{term:d,to:m}=h[p];!d&&l.indexOf(m)==-1&&c(m)}}}function dfa(t){let e=Object.create(null);return l(nullFrom(t,0));function l(c){let f=[];c.forEach(p=>{t[p].forEach(({term:d,to:m})=>{if(!d)return;let y;for(let x=0;x<f.length;x++)f[x][0]==d&&(y=f[x][1]);nullFrom(t,m).forEach(x=>{y||f.push([d,y=[]]),y.indexOf(x)==-1&&y.push(x)})})});let h=e[c.join(",")]=new ContentMatch(c.indexOf(t.length-1)>-1);for(let p=0;p<f.length;p++){let d=f[p][1].sort(cmp);h.next.push({type:f[p][0],next:e[d.join(",")]||l(d)})}return h}}function checkForDeadEnds(t,e){for(let l=0,c=[t];l<c.length;l++){let f=c[l],h=!f.validEnd,p=[];for(let d=0;d<f.next.length;d++){let{type:m,next:y}=f.next[d];p.push(m.name),h&&!(m.isText||m.hasRequiredAttrs())&&(h=!1),c.indexOf(y)==-1&&c.push(y)}h&&e.err("Only non-generatable nodes ("+p.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(t){let e=Object.create(null);for(let l in t){let c=t[l];if(!c.hasDefault)return null;e[l]=c.default}return e}function computeAttrs(t,e){let l=Object.create(null);for(let c in t){let f=e&&e[c];if(f===void 0){let h=t[c];if(h.hasDefault)f=h.default;else throw new RangeError("No value supplied for attribute "+c)}l[c]=f}return l}function checkAttrs(t,e,l,c){for(let f in e)if(!(f in t))throw new RangeError(`Unsupported attribute ${f} for ${l} of type ${f}`);for(let f in t){let h=t[f];h.validate&&h.validate(e[f])}}function initAttrs(t,e){let l=Object.create(null);if(e)for(let c in e)l[c]=new Attribute(t,c,e[c]);return l}let NodeType$1=class ad{constructor(e,l,c){this.name=e,this.schema=l,this.spec=c,this.markSet=null,this.groups=c.group?c.group.split(" "):[],this.attrs=initAttrs(e,c.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(c.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,e)}create(e=null,l,c){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$2(this,this.computeAttrs(e),Fragment.from(l),Mark$1.setFrom(c))}createChecked(e=null,l,c){return l=Fragment.from(l),this.checkContent(l),new Node$2(this,this.computeAttrs(e),l,Mark$1.setFrom(c))}createAndFill(e=null,l,c){if(e=this.computeAttrs(e),l=Fragment.from(l),l.size){let p=this.contentMatch.fillBefore(l);if(!p)return null;l=p.append(l)}let f=this.contentMatch.matchFragment(l),h=f&&f.fillBefore(Fragment.empty,!0);return h?new Node$2(this,e,l.append(h),Mark$1.setFrom(c)):null}validContent(e){let l=this.contentMatch.matchFragment(e);if(!l||!l.validEnd)return!1;for(let c=0;c<e.childCount;c++)if(!this.allowsMarks(e.child(c).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){checkAttrs(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let l=0;l<e.length;l++)if(!this.allowsMarkType(e[l].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let l;for(let c=0;c<e.length;c++)this.allowsMarkType(e[c].type)?l&&l.push(e[c]):l||(l=e.slice(0,c));return l?l.length?l:Mark$1.none:e}static compile(e,l){let c=Object.create(null);e.forEach((h,p)=>c[h]=new ad(h,l,p));let f=l.spec.topNode||"doc";if(!c[f])throw new RangeError("Schema is missing its top node type ('"+f+"')");if(!c.text)throw new RangeError("Every schema needs a 'text' type");for(let h in c.text.attrs)throw new RangeError("The text node type should not have attributes");return c}};function validateType(t,e,l){let c=l.split("|");return f=>{let h=f===null?"null":typeof f;if(c.indexOf(h)<0)throw new RangeError(`Expected value of type ${c} for attribute ${e} on type ${t}, got ${h}`)}}class Attribute{constructor(e,l,c){this.hasDefault=Object.prototype.hasOwnProperty.call(c,"default"),this.default=c.default,this.validate=typeof c.validate=="string"?validateType(e,l,c.validate):c.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(e,l,c,f){this.name=e,this.rank=l,this.schema=c,this.spec=f,this.attrs=initAttrs(e,f.attrs),this.excluded=null;let h=defaultAttrs(this.attrs);this.instance=h?new Mark$1(this,h):null}create(e=null){return!e&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,e))}static compile(e,l){let c=Object.create(null),f=0;return e.forEach((h,p)=>c[h]=new MarkType(h,f++,l,p)),c}removeFromSet(e){for(var l=0;l<e.length;l++)e[l].type==this&&(e=e.slice(0,l).concat(e.slice(l+1)),l--);return e}isInSet(e){for(let l=0;l<e.length;l++)if(e[l].type==this)return e[l]}checkAttrs(e){checkAttrs(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Schema{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let l=this.spec={};for(let f in e)l[f]=e[f];l.nodes=OrderedMap.from(e.nodes),l.marks=OrderedMap.from(e.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let c=Object.create(null);for(let f in this.nodes){if(f in this.marks)throw new RangeError(f+" can not be both a node and a mark");let h=this.nodes[f],p=h.spec.content||"",d=h.spec.marks;if(h.contentMatch=c[p]||(c[p]=ContentMatch.parse(p,this.nodes)),h.inlineContent=h.contentMatch.inlineContent,h.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!h.isInline||!h.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=h}h.markSet=d=="_"?null:d?gatherMarks(this,d.split(" ")):d==""||!h.inlineContent?[]:null}for(let f in this.marks){let h=this.marks[f],p=h.spec.excludes;h.excluded=p==null?[h]:p==""?[]:gatherMarks(this,p.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,l=null,c,f){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof NodeType$1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(l,c,f)}text(e,l){let c=this.nodes.text;return new TextNode(c,c.defaultAttrs,e,Mark$1.setFrom(l))}mark(e,l){return typeof e=="string"&&(e=this.marks[e]),e.create(l)}nodeFromJSON(e){return Node$2.fromJSON(this,e)}markFromJSON(e){return Mark$1.fromJSON(this,e)}nodeType(e){let l=this.nodes[e];if(!l)throw new RangeError("Unknown node type: "+e);return l}}function gatherMarks(t,e){let l=[];for(let c=0;c<e.length;c++){let f=e[c],h=t.marks[f],p=h;if(h)l.push(h);else for(let d in t.marks){let m=t.marks[d];(f=="_"||m.spec.group&&m.spec.group.split(" ").indexOf(f)>-1)&&l.push(p=m)}if(!p)throw new SyntaxError("Unknown mark type: '"+e[c]+"'")}return l}function isTagRule(t){return t.tag!=null}function isStyleRule(t){return t.style!=null}class DOMParser{constructor(e,l){this.schema=e,this.rules=l,this.tags=[],this.styles=[];let c=this.matchedStyles=[];l.forEach(f=>{if(isTagRule(f))this.tags.push(f);else if(isStyleRule(f)){let h=/[^=]*/.exec(f.style)[0];c.indexOf(h)<0&&c.push(h),this.styles.push(f)}}),this.normalizeLists=!this.tags.some(f=>{if(!/^(ul|ol)\b/.test(f.tag)||!f.node)return!1;let h=e.nodes[f.node];return h.contentMatch.matchType(h)})}parse(e,l={}){let c=new ParseContext(this,l,!1);return c.addAll(e,Mark$1.none,l.from,l.to),c.finish()}parseSlice(e,l={}){let c=new ParseContext(this,l,!0);return c.addAll(e,Mark$1.none,l.from,l.to),Slice.maxOpen(c.finish())}matchTag(e,l,c){for(let f=c?this.tags.indexOf(c)+1:0;f<this.tags.length;f++){let h=this.tags[f];if(matches(e,h.tag)&&(h.namespace===void 0||e.namespaceURI==h.namespace)&&(!h.context||l.matchesContext(h.context))){if(h.getAttrs){let p=h.getAttrs(e);if(p===!1)continue;h.attrs=p||void 0}return h}}}matchStyle(e,l,c,f){for(let h=f?this.styles.indexOf(f)+1:0;h<this.styles.length;h++){let p=this.styles[h],d=p.style;if(!(d.indexOf(e)!=0||p.context&&!c.matchesContext(p.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=l))){if(p.getAttrs){let m=p.getAttrs(l);if(m===!1)continue;p.attrs=m||void 0}return p}}}static schemaRules(e){let l=[];function c(f){let h=f.priority==null?50:f.priority,p=0;for(;p<l.length;p++){let d=l[p];if((d.priority==null?50:d.priority)<h)break}l.splice(p,0,f)}for(let f in e.marks){let h=e.marks[f].spec.parseDOM;h&&h.forEach(p=>{c(p=copy(p)),p.mark||p.ignore||p.clearMark||(p.mark=f)})}for(let f in e.nodes){let h=e.nodes[f].spec.parseDOM;h&&h.forEach(p=>{c(p=copy(p)),p.node||p.ignore||p.mark||(p.node=f)})}return l}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new DOMParser(e,DOMParser.schemaRules(e)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(t,e,l){return e!=null?(e?OPT_PRESERVE_WS:0)|(e==="full"?OPT_PRESERVE_WS_FULL:0):t&&t.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:l&-5}class NodeContext{constructor(e,l,c,f,h,p){this.type=e,this.attrs=l,this.marks=c,this.solid=f,this.options=p,this.content=[],this.activeMarks=Mark$1.none,this.match=h||(p&OPT_OPEN_LEFT?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let l=this.type.contentMatch.fillBefore(Fragment.from(e));if(l)this.match=this.type.contentMatch.matchFragment(l);else{let c=this.type.contentMatch,f;return(f=c.findWrapping(e.type))?(this.match=c,f):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&OPT_PRESERVE_WS)){let c=this.content[this.content.length-1],f;if(c&&c.isText&&(f=/[ \t\r\n\u000c]+$/.exec(c.text))){let h=c;c.text.length==f[0].length?this.content.pop():this.content[this.content.length-1]=h.withText(h.text.slice(0,h.text.length-f[0].length))}}let l=Fragment.from(this.content);return!e&&this.match&&(l=l.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,l,this.marks):l}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!blockTags.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(e,l,c){this.parser=e,this.options=l,this.isOpen=c,this.open=0,this.localPreserveWS=!1;let f=l.topNode,h,p=wsOptionsFor(null,l.preserveWhitespace,0)|(c?OPT_OPEN_LEFT:0);f?h=new NodeContext(f.type,f.attrs,Mark$1.none,!0,l.topMatch||f.type.contentMatch,p):c?h=new NodeContext(null,null,Mark$1.none,!0,null,p):h=new NodeContext(e.schema.topNodeType,null,Mark$1.none,!0,null,p),this.nodes=[h],this.find=l.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,l){e.nodeType==3?this.addTextNode(e,l):e.nodeType==1&&this.addElement(e,l)}addTextNode(e,l){let c=e.nodeValue,f=this.top,h=f.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(f.options&OPT_PRESERVE_WS)>0;if(h==="full"||f.inlineContext(e)||/[^ \t\r\n\u000c]/.test(c)){if(h)h!=="full"?c=c.replace(/\r?\n|\r/g," "):c=c.replace(/\r\n?/g,`
`);else if(c=c.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(c)&&this.open==this.nodes.length-1){let p=f.content[f.content.length-1],d=e.previousSibling;(!p||d&&d.nodeName=="BR"||p.isText&&/[ \t\r\n\u000c]$/.test(p.text))&&(c=c.slice(1))}c&&this.insertNode(this.parser.schema.text(c),l,!/\S/.test(c)),this.findInText(e)}else this.findInside(e)}addElement(e,l,c){let f=this.localPreserveWS,h=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let p=e.nodeName.toLowerCase(),d;listTags.hasOwnProperty(p)&&this.parser.normalizeLists&&normalizeList(e);let m=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,c));e:if(m?m.ignore:ignoreTags.hasOwnProperty(p))this.findInside(e),this.ignoreFallback(e,l);else if(!m||m.skip||m.closeParent){m&&m.closeParent?this.open=Math.max(0,this.open-1):m&&m.skip.nodeType&&(e=m.skip);let y,x=this.needsBlock;if(blockTags.hasOwnProperty(p))h.content.length&&h.content[0].isInline&&this.open&&(this.open--,h=this.top),y=!0,h.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,l);break e}let u=m&&m.skip?l:this.readStyles(e,l);u&&this.addAll(e,u),y&&this.sync(h),this.needsBlock=x}else{let y=this.readStyles(e,l);y&&this.addElementByRule(e,m,y,m.consuming===!1?d:void 0)}this.localPreserveWS=f}leafFallback(e,l){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),l)}ignoreFallback(e,l){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),l,!0)}readStyles(e,l){let c=e.style;if(c&&c.length)for(let f=0;f<this.parser.matchedStyles.length;f++){let h=this.parser.matchedStyles[f],p=c.getPropertyValue(h);if(p)for(let d=void 0;;){let m=this.parser.matchStyle(h,p,this,d);if(!m)break;if(m.ignore)return null;if(m.clearMark?l=l.filter(y=>!m.clearMark(y)):l=l.concat(this.parser.schema.marks[m.mark].create(m.attrs)),m.consuming===!1)d=m;else break}}return l}addElementByRule(e,l,c,f){let h,p;if(l.node)if(p=this.parser.schema.nodes[l.node],p.isLeaf)this.insertNode(p.create(l.attrs),c,e.nodeName=="BR")||this.leafFallback(e,c);else{let m=this.enter(p,l.attrs||null,c,l.preserveWhitespace);m&&(h=!0,c=m)}else{let m=this.parser.schema.marks[l.mark];c=c.concat(m.create(l.attrs))}let d=this.top;if(p&&p.isLeaf)this.findInside(e);else if(f)this.addElement(e,c,f);else if(l.getContent)this.findInside(e),l.getContent(e,this.parser.schema).forEach(m=>this.insertNode(m,c,!1));else{let m=e;typeof l.contentElement=="string"?m=e.querySelector(l.contentElement):typeof l.contentElement=="function"?m=l.contentElement(e):l.contentElement&&(m=l.contentElement),this.findAround(e,m,!0),this.addAll(m,c),this.findAround(e,m,!1)}h&&this.sync(d)&&this.open--}addAll(e,l,c,f){let h=c||0;for(let p=c?e.childNodes[c]:e.firstChild,d=f==null?null:e.childNodes[f];p!=d;p=p.nextSibling,++h)this.findAtPoint(e,h),this.addDOM(p,l);this.findAtPoint(e,h)}findPlace(e,l,c){let f,h;for(let p=this.open,d=0;p>=0;p--){let m=this.nodes[p],y=m.findWrapping(e);if(y&&(!f||f.length>y.length+d)&&(f=y,h=m,!y.length))break;if(m.solid){if(c)break;d+=2}}if(!f)return null;this.sync(h);for(let p=0;p<f.length;p++)l=this.enterInner(f[p],null,l,!1);return l}insertNode(e,l,c){if(e.isInline&&this.needsBlock&&!this.top.type){let h=this.textblockFromContext();h&&(l=this.enterInner(h,null,l))}let f=this.findPlace(e,l,c);if(f){this.closeExtra();let h=this.top;h.match&&(h.match=h.match.matchType(e.type));let p=Mark$1.none;for(let d of f.concat(e.marks))(h.type?h.type.allowsMarkType(d.type):markMayApply(d.type,e.type))&&(p=d.addToSet(p));return h.content.push(e.mark(p)),!0}return!1}enter(e,l,c,f){let h=this.findPlace(e.create(l),c,!1);return h&&(h=this.enterInner(e,l,c,!0,f)),h}enterInner(e,l,c,f=!1,h){this.closeExtra();let p=this.top;p.match=p.match&&p.match.matchType(e);let d=wsOptionsFor(e,h,p.options);p.options&OPT_OPEN_LEFT&&p.content.length==0&&(d|=OPT_OPEN_LEFT);let m=Mark$1.none;return c=c.filter(y=>(p.type?p.type.allowsMarkType(y.type):markMayApply(y.type,e))?(m=y.addToSet(m),!1):!0),this.nodes.push(new NodeContext(e,l,m,f,null,d)),this.open++,c}closeExtra(e=!1){let l=this.nodes.length-1;if(l>this.open){for(;l>this.open;l--)this.nodes[l-1].content.push(this.nodes[l].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let l=this.open;l>=0;l--){if(this.nodes[l]==e)return this.open=l,!0;this.localPreserveWS&&(this.nodes[l].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let e=0;for(let l=this.open;l>=0;l--){let c=this.nodes[l].content;for(let f=c.length-1;f>=0;f--)e+=c[f].nodeSize;l&&e++}return e}findAtPoint(e,l){if(this.find)for(let c=0;c<this.find.length;c++)this.find[c].node==e&&this.find[c].offset==l&&(this.find[c].pos=this.currentPos)}findInside(e){if(this.find)for(let l=0;l<this.find.length;l++)this.find[l].pos==null&&e.nodeType==1&&e.contains(this.find[l].node)&&(this.find[l].pos=this.currentPos)}findAround(e,l,c){if(e!=l&&this.find)for(let f=0;f<this.find.length;f++)this.find[f].pos==null&&e.nodeType==1&&e.contains(this.find[f].node)&&l.compareDocumentPosition(this.find[f].node)&(c?2:4)&&(this.find[f].pos=this.currentPos)}findInText(e){if(this.find)for(let l=0;l<this.find.length;l++)this.find[l].node==e&&(this.find[l].pos=this.currentPos-(e.nodeValue.length-this.find[l].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let l=e.split("/"),c=this.options.context,f=!this.isOpen&&(!c||c.parent.type==this.nodes[0].type),h=-(c?c.depth+1:0)+(f?0:1),p=(d,m)=>{for(;d>=0;d--){let y=l[d];if(y==""){if(d==l.length-1||d==0)continue;for(;m>=h;m--)if(p(d-1,m))return!0;return!1}else{let x=m>0||m==0&&f?this.nodes[m].type:c&&m>=h?c.node(m-h).type:null;if(!x||x.name!=y&&!x.isInGroup(y))return!1;m--}}return!0};return p(l.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let l=e.depth;l>=0;l--){let c=e.node(l).contentMatchAt(e.indexAfter(l)).defaultType;if(c&&c.isTextblock&&c.defaultAttrs)return c}for(let l in this.parser.schema.nodes){let c=this.parser.schema.nodes[l];if(c.isTextblock&&c.defaultAttrs)return c}}}function normalizeList(t){for(let e=t.firstChild,l=null;e;e=e.nextSibling){let c=e.nodeType==1?e.nodeName.toLowerCase():null;c&&listTags.hasOwnProperty(c)&&l?(l.appendChild(e),e=l):c=="li"?l=e:c&&(l=null)}}function matches(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function copy(t){let e={};for(let l in t)e[l]=t[l];return e}function markMayApply(t,e){let l=e.schema.nodes;for(let c in l){let f=l[c];if(!f.allowsMarkType(t))continue;let h=[],p=d=>{h.push(d);for(let m=0;m<d.edgeCount;m++){let{type:y,next:x}=d.edge(m);if(y==e||h.indexOf(x)<0&&p(x))return!0}};if(p(f.contentMatch))return!0}}class DOMSerializer{constructor(e,l){this.nodes=e,this.marks=l}serializeFragment(e,l={},c){c||(c=doc$1(l).createDocumentFragment());let f=c,h=[];return e.forEach(p=>{if(h.length||p.marks.length){let d=0,m=0;for(;d<h.length&&m<p.marks.length;){let y=p.marks[m];if(!this.marks[y.type.name]){m++;continue}if(!y.eq(h[d][0])||y.type.spec.spanning===!1)break;d++,m++}for(;d<h.length;)f=h.pop()[1];for(;m<p.marks.length;){let y=p.marks[m++],x=this.serializeMark(y,p.isInline,l);x&&(h.push([y,f]),f.appendChild(x.dom),f=x.contentDOM||x.dom)}}f.appendChild(this.serializeNodeInner(p,l))}),c}serializeNodeInner(e,l){let{dom:c,contentDOM:f}=renderSpec(doc$1(l),this.nodes[e.type.name](e),null,e.attrs);if(f){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,l,f)}return c}serializeNode(e,l={}){let c=this.serializeNodeInner(e,l);for(let f=e.marks.length-1;f>=0;f--){let h=this.serializeMark(e.marks[f],e.isInline,l);h&&((h.contentDOM||h.dom).appendChild(c),c=h.dom)}return c}serializeMark(e,l,c={}){let f=this.marks[e.type.name];return f&&renderSpec(doc$1(c),f(e,l),null,e.attrs)}static renderSpec(e,l,c=null,f){return renderSpec(e,l,c,f)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let l=gatherToDOM(e.nodes);return l.text||(l.text=c=>c.text),l}static marksFromSchema(e){return gatherToDOM(e.marks)}}function gatherToDOM(t){let e={};for(let l in t){let c=t[l].spec.toDOM;c&&(e[l]=c)}return e}function doc$1(t){return t.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(t){let e=suspiciousAttributeCache.get(t);return e===void 0&&suspiciousAttributeCache.set(t,e=suspiciousAttributesInner(t)),e}function suspiciousAttributesInner(t){let e=null;function l(c){if(c&&typeof c=="object")if(Array.isArray(c))if(typeof c[0]=="string")e||(e=[]),e.push(c);else for(let f=0;f<c.length;f++)l(c[f]);else for(let f in c)l(c[f])}return l(t),e}function renderSpec(t,e,l,c){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let f=e[0],h;if(typeof f!="string")throw new RangeError("Invalid array passed to renderSpec");if(c&&(h=suspiciousAttributes(c))&&h.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let p=f.indexOf(" ");p>0&&(l=f.slice(0,p),f=f.slice(p+1));let d,m=l?t.createElementNS(l,f):t.createElement(f),y=e[1],x=1;if(y&&typeof y=="object"&&y.nodeType==null&&!Array.isArray(y)){x=2;for(let u in y)if(y[u]!=null){let w=u.indexOf(" ");w>0?m.setAttributeNS(u.slice(0,w),u.slice(w+1),y[u]):m.setAttribute(u,y[u])}}for(let u=x;u<e.length;u++){let w=e[u];if(w===0){if(u<e.length-1||u>x)throw new RangeError("Content hole must be the only child of its parent node");return{dom:m,contentDOM:m}}else{let{dom:T,contentDOM:C}=renderSpec(t,w,l,c);if(m.appendChild(T),C){if(d)throw new RangeError("Multiple content holes");d=C}}}return{dom:m,contentDOM:d}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(t,e){return t+e*factor16}function recoverIndex(t){return t&lower16}function recoverOffset(t){return(t-(t&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(e,l,c){this.pos=e,this.delInfo=l,this.recover=c}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(e,l=!1){if(this.ranges=e,this.inverted=l,!e.length&&StepMap.empty)return StepMap.empty}recover(e){let l=0,c=recoverIndex(e);if(!this.inverted)for(let f=0;f<c;f++)l+=this.ranges[f*3+2]-this.ranges[f*3+1];return this.ranges[c*3]+l+recoverOffset(e)}mapResult(e,l=1){return this._map(e,l,!1)}map(e,l=1){return this._map(e,l,!0)}_map(e,l,c){let f=0,h=this.inverted?2:1,p=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let m=this.ranges[d]-(this.inverted?f:0);if(m>e)break;let y=this.ranges[d+h],x=this.ranges[d+p],u=m+y;if(e<=u){let w=y?e==m?-1:e==u?1:l:l,T=m+f+(w<0?0:x);if(c)return T;let C=e==(l<0?m:u)?null:makeRecover(d/3,e-m),k=e==m?DEL_AFTER:e==u?DEL_BEFORE:DEL_ACROSS;return(l<0?e!=m:e!=u)&&(k|=DEL_SIDE),new MapResult(T,k,C)}f+=x-y}return c?e+f:new MapResult(e+f,0,null)}touches(e,l){let c=0,f=recoverIndex(l),h=this.inverted?2:1,p=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let m=this.ranges[d]-(this.inverted?c:0);if(m>e)break;let y=this.ranges[d+h],x=m+y;if(e<=x&&d==f*3)return!0;c+=this.ranges[d+p]-y}return!1}forEach(e){let l=this.inverted?2:1,c=this.inverted?1:2;for(let f=0,h=0;f<this.ranges.length;f+=3){let p=this.ranges[f],d=p-(this.inverted?h:0),m=p+(this.inverted?0:h),y=this.ranges[f+l],x=this.ranges[f+c];e(d,d+y,m,m+x),h+=x-y}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?StepMap.empty:new StepMap(e<0?[0,-e,0]:[0,0,e])}}StepMap.empty=new StepMap([]);class Mapping{constructor(e,l,c=0,f=e?e.length:0){this.mirror=l,this.from=c,this.to=f,this._maps=e||[],this.ownData=!(e||l)}get maps(){return this._maps}slice(e=0,l=this.maps.length){return new Mapping(this._maps,this.mirror,e,l)}appendMap(e,l){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),l!=null&&this.setMirror(this._maps.length-1,l)}appendMapping(e){for(let l=0,c=this._maps.length;l<e._maps.length;l++){let f=e.getMirror(l);this.appendMap(e._maps[l],f!=null&&f<l?c+f:void 0)}}getMirror(e){if(this.mirror){for(let l=0;l<this.mirror.length;l++)if(this.mirror[l]==e)return this.mirror[l+(l%2?-1:1)]}}setMirror(e,l){this.mirror||(this.mirror=[]),this.mirror.push(e,l)}appendMappingInverted(e){for(let l=e.maps.length-1,c=this._maps.length+e._maps.length;l>=0;l--){let f=e.getMirror(l);this.appendMap(e._maps[l].invert(),f!=null&&f>l?c-f-1:void 0)}}invert(){let e=new Mapping;return e.appendMappingInverted(this),e}map(e,l=1){if(this.mirror)return this._map(e,l,!0);for(let c=this.from;c<this.to;c++)e=this._maps[c].map(e,l);return e}mapResult(e,l=1){return this._map(e,l,!1)}_map(e,l,c){let f=0;for(let h=this.from;h<this.to;h++){let p=this._maps[h],d=p.mapResult(e,l);if(d.recover!=null){let m=this.getMirror(h);if(m!=null&&m>h&&m<this.to){h=m,e=this._maps[m].recover(d.recover);continue}}f|=d.delInfo,e=d.pos}return c?e:new MapResult(e,f,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(e){return null}static fromJSON(e,l){if(!l||!l.stepType)throw new RangeError("Invalid input for Step.fromJSON");let c=stepsByID[l.stepType];if(!c)throw new RangeError(`No step type ${l.stepType} defined`);return c.fromJSON(e,l)}static jsonID(e,l){if(e in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+e);return stepsByID[e]=l,l.prototype.jsonID=e,l}}class StepResult{constructor(e,l){this.doc=e,this.failed=l}static ok(e){return new StepResult(e,null)}static fail(e){return new StepResult(null,e)}static fromReplace(e,l,c,f){try{return StepResult.ok(e.replace(l,c,f))}catch(h){if(h instanceof ReplaceError)return StepResult.fail(h.message);throw h}}}function mapFragment(t,e,l){let c=[];for(let f=0;f<t.childCount;f++){let h=t.child(f);h.content.size&&(h=h.copy(mapFragment(h.content,e,h))),h.isInline&&(h=e(h,l,f)),c.push(h)}return Fragment.fromArray(c)}class AddMarkStep extends Step{constructor(e,l,c){super(),this.from=e,this.to=l,this.mark=c}apply(e){let l=e.slice(this.from,this.to),c=e.resolve(this.from),f=c.node(c.sharedDepth(this.to)),h=new Slice(mapFragment(l.content,(p,d)=>!p.isAtom||!d.type.allowsMarkType(this.mark.type)?p:p.mark(this.mark.addToSet(p.marks)),f),l.openStart,l.openEnd);return StepResult.fromReplace(e,this.from,this.to,h)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(e){let l=e.mapResult(this.from,1),c=e.mapResult(this.to,-1);return l.deleted&&c.deleted||l.pos>=c.pos?null:new AddMarkStep(l.pos,c.pos,this.mark)}merge(e){return e instanceof AddMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new AddMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,l){if(typeof l.from!="number"||typeof l.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(l.from,l.to,e.markFromJSON(l.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(e,l,c){super(),this.from=e,this.to=l,this.mark=c}apply(e){let l=e.slice(this.from,this.to),c=new Slice(mapFragment(l.content,f=>f.mark(this.mark.removeFromSet(f.marks)),e),l.openStart,l.openEnd);return StepResult.fromReplace(e,this.from,this.to,c)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(e){let l=e.mapResult(this.from,1),c=e.mapResult(this.to,-1);return l.deleted&&c.deleted||l.pos>=c.pos?null:new RemoveMarkStep(l.pos,c.pos,this.mark)}merge(e){return e instanceof RemoveMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new RemoveMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,l){if(typeof l.from!="number"||typeof l.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(l.from,l.to,e.markFromJSON(l.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(e,l){super(),this.pos=e,this.mark=l}apply(e){let l=e.nodeAt(this.pos);if(!l)return StepResult.fail("No node at mark step's position");let c=l.type.create(l.attrs,null,this.mark.addToSet(l.marks));return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(c),0,l.isLeaf?0:1))}invert(e){let l=e.nodeAt(this.pos);if(l){let c=this.mark.addToSet(l.marks);if(c.length==l.marks.length){for(let f=0;f<l.marks.length;f++)if(!l.marks[f].isInSet(c))return new AddNodeMarkStep(this.pos,l.marks[f]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(e){let l=e.mapResult(this.pos,1);return l.deletedAfter?null:new AddNodeMarkStep(l.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,l){if(typeof l.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(l.pos,e.markFromJSON(l.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(e,l){super(),this.pos=e,this.mark=l}apply(e){let l=e.nodeAt(this.pos);if(!l)return StepResult.fail("No node at mark step's position");let c=l.type.create(l.attrs,null,this.mark.removeFromSet(l.marks));return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(c),0,l.isLeaf?0:1))}invert(e){let l=e.nodeAt(this.pos);return!l||!this.mark.isInSet(l.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(e){let l=e.mapResult(this.pos,1);return l.deletedAfter?null:new RemoveNodeMarkStep(l.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,l){if(typeof l.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(l.pos,e.markFromJSON(l.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(e,l,c,f=!1){super(),this.from=e,this.to=l,this.slice=c,this.structure=f}apply(e){return this.structure&&contentBetween(e,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(e){return new ReplaceStep(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let l=e.mapResult(this.from,1),c=e.mapResult(this.to,-1);return l.deletedAcross&&c.deletedAcross?null:new ReplaceStep(l.pos,Math.max(l.pos,c.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ReplaceStep)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let l=this.slice.size+e.slice.size==0?Slice.empty:new Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ReplaceStep(this.from,this.to+(e.to-e.from),l,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let l=this.slice.size+e.slice.size==0?Slice.empty:new Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ReplaceStep(e.from,this.to,l,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,l){if(typeof l.from!="number"||typeof l.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(l.from,l.to,Slice.fromJSON(e,l.slice),!!l.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(e,l,c,f,h,p,d=!1){super(),this.from=e,this.to=l,this.gapFrom=c,this.gapTo=f,this.slice=h,this.insert=p,this.structure=d}apply(e){if(this.structure&&(contentBetween(e,this.from,this.gapFrom)||contentBetween(e,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let l=e.slice(this.gapFrom,this.gapTo);if(l.openStart||l.openEnd)return StepResult.fail("Gap is not a flat range");let c=this.slice.insertAt(this.insert,l.content);return c?StepResult.fromReplace(e,this.from,this.to,c):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let l=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+l,this.from+this.insert,this.from+this.insert+l,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let l=e.mapResult(this.from,1),c=e.mapResult(this.to,-1),f=this.from==this.gapFrom?l.pos:e.map(this.gapFrom,-1),h=this.to==this.gapTo?c.pos:e.map(this.gapTo,1);return l.deletedAcross&&c.deletedAcross||f<l.pos||h>c.pos?null:new ReplaceAroundStep(l.pos,c.pos,f,h,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,l){if(typeof l.from!="number"||typeof l.to!="number"||typeof l.gapFrom!="number"||typeof l.gapTo!="number"||typeof l.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(l.from,l.to,l.gapFrom,l.gapTo,Slice.fromJSON(e,l.slice),l.insert,!!l.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(t,e,l){let c=t.resolve(e),f=l-e,h=c.depth;for(;f>0&&h>0&&c.indexAfter(h)==c.node(h).childCount;)h--,f--;if(f>0){let p=c.node(h).maybeChild(c.indexAfter(h));for(;f>0;){if(!p||p.isLeaf)return!0;p=p.firstChild,f--}}return!1}function addMark(t,e,l,c){let f=[],h=[],p,d;t.doc.nodesBetween(e,l,(m,y,x)=>{if(!m.isInline)return;let u=m.marks;if(!c.isInSet(u)&&x.type.allowsMarkType(c.type)){let w=Math.max(y,e),T=Math.min(y+m.nodeSize,l),C=c.addToSet(u);for(let k=0;k<u.length;k++)u[k].isInSet(C)||(p&&p.to==w&&p.mark.eq(u[k])?p.to=T:f.push(p=new RemoveMarkStep(w,T,u[k])));d&&d.to==w?d.to=T:h.push(d=new AddMarkStep(w,T,c))}}),f.forEach(m=>t.step(m)),h.forEach(m=>t.step(m))}function removeMark(t,e,l,c){let f=[],h=0;t.doc.nodesBetween(e,l,(p,d)=>{if(!p.isInline)return;h++;let m=null;if(c instanceof MarkType){let y=p.marks,x;for(;x=c.isInSet(y);)(m||(m=[])).push(x),y=x.removeFromSet(y)}else c?c.isInSet(p.marks)&&(m=[c]):m=p.marks;if(m&&m.length){let y=Math.min(d+p.nodeSize,l);for(let x=0;x<m.length;x++){let u=m[x],w;for(let T=0;T<f.length;T++){let C=f[T];C.step==h-1&&u.eq(f[T].style)&&(w=C)}w?(w.to=y,w.step=h):f.push({style:u,from:Math.max(d,e),to:y,step:h})}}}),f.forEach(p=>t.step(new RemoveMarkStep(p.from,p.to,p.style)))}function clearIncompatible(t,e,l,c=l.contentMatch,f=!0){let h=t.doc.nodeAt(e),p=[],d=e+1;for(let m=0;m<h.childCount;m++){let y=h.child(m),x=d+y.nodeSize,u=c.matchType(y.type);if(!u)p.push(new ReplaceStep(d,x,Slice.empty));else{c=u;for(let w=0;w<y.marks.length;w++)l.allowsMarkType(y.marks[w].type)||t.step(new RemoveMarkStep(d,x,y.marks[w]));if(f&&y.isText&&l.whitespace!="pre"){let w,T=/\r?\n|\r/g,C;for(;w=T.exec(y.text);)C||(C=new Slice(Fragment.from(l.schema.text(" ",l.allowedMarks(y.marks))),0,0)),p.push(new ReplaceStep(d+w.index,d+w.index+w[0].length,C))}}d=x}if(!c.validEnd){let m=c.fillBefore(Fragment.empty,!0);t.replace(d,d,new Slice(m,0,0))}for(let m=p.length-1;m>=0;m--)t.step(p[m])}function canCut(t,e,l){return(e==0||t.canReplace(e,t.childCount))&&(l==t.childCount||t.canReplace(0,l))}function liftTarget(t){let l=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let c=t.depth;;--c){let f=t.$from.node(c),h=t.$from.index(c),p=t.$to.indexAfter(c);if(c<t.depth&&f.canReplace(h,p,l))return c;if(c==0||f.type.spec.isolating||!canCut(f,h,p))break}return null}function lift$2(t,e,l){let{$from:c,$to:f,depth:h}=e,p=c.before(h+1),d=f.after(h+1),m=p,y=d,x=Fragment.empty,u=0;for(let C=h,k=!1;C>l;C--)k||c.index(C)>0?(k=!0,x=Fragment.from(c.node(C).copy(x)),u++):m--;let w=Fragment.empty,T=0;for(let C=h,k=!1;C>l;C--)k||f.after(C+1)<f.end(C)?(k=!0,w=Fragment.from(f.node(C).copy(w)),T++):y++;t.step(new ReplaceAroundStep(m,y,p,d,new Slice(x.append(w),u,T),x.size-u,!0))}function findWrapping(t,e,l=null,c=t){let f=findWrappingOutside(t,e),h=f&&findWrappingInside(c,e);return h?f.map(withAttrs).concat({type:e,attrs:l}).concat(h.map(withAttrs)):null}function withAttrs(t){return{type:t,attrs:null}}function findWrappingOutside(t,e){let{parent:l,startIndex:c,endIndex:f}=t,h=l.contentMatchAt(c).findWrapping(e);if(!h)return null;let p=h.length?h[0]:e;return l.canReplaceWith(c,f,p)?h:null}function findWrappingInside(t,e){let{parent:l,startIndex:c,endIndex:f}=t,h=l.child(c),p=e.contentMatch.findWrapping(h.type);if(!p)return null;let m=(p.length?p[p.length-1]:e).contentMatch;for(let y=c;m&&y<f;y++)m=m.matchType(l.child(y).type);return!m||!m.validEnd?null:p}function wrap(t,e,l){let c=Fragment.empty;for(let p=l.length-1;p>=0;p--){if(c.size){let d=l[p].type.contentMatch.matchFragment(c);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}c=Fragment.from(l[p].type.create(l[p].attrs,c))}let f=e.start,h=e.end;t.step(new ReplaceAroundStep(f,h,f,h,new Slice(c,0,0),l.length,!0))}function setBlockType$1(t,e,l,c,f){if(!c.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let h=t.steps.length;t.doc.nodesBetween(e,l,(p,d)=>{let m=typeof f=="function"?f(p):f;if(p.isTextblock&&!p.hasMarkup(c,m)&&canChangeType(t.doc,t.mapping.slice(h).map(d),c)){let y=null;if(c.schema.linebreakReplacement){let T=c.whitespace=="pre",C=!!c.contentMatch.matchType(c.schema.linebreakReplacement);T&&!C?y=!1:!T&&C&&(y=!0)}y===!1&&replaceLinebreaks(t,p,d,h),clearIncompatible(t,t.mapping.slice(h).map(d,1),c,void 0,y===null);let x=t.mapping.slice(h),u=x.map(d,1),w=x.map(d+p.nodeSize,1);return t.step(new ReplaceAroundStep(u,w,u+1,w-1,new Slice(Fragment.from(c.create(m,null,p.marks)),0,0),1,!0)),y===!0&&replaceNewlines(t,p,d,h),!1}})}function replaceNewlines(t,e,l,c){e.forEach((f,h)=>{if(f.isText){let p,d=/\r?\n|\r/g;for(;p=d.exec(f.text);){let m=t.mapping.slice(c).map(l+1+h+p.index);t.replaceWith(m,m+1,e.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(t,e,l,c){e.forEach((f,h)=>{if(f.type==f.type.schema.linebreakReplacement){let p=t.mapping.slice(c).map(l+1+h);t.replaceWith(p,p+1,e.type.schema.text(`
`))}})}function canChangeType(t,e,l){let c=t.resolve(e),f=c.index();return c.parent.canReplaceWith(f,f+1,l)}function setNodeMarkup(t,e,l,c,f){let h=t.doc.nodeAt(e);if(!h)throw new RangeError("No node at given position");l||(l=h.type);let p=l.create(c,null,f||h.marks);if(h.isLeaf)return t.replaceWith(e,e+h.nodeSize,p);if(!l.validContent(h.content))throw new RangeError("Invalid content for node type "+l.name);t.step(new ReplaceAroundStep(e,e+h.nodeSize,e+1,e+h.nodeSize-1,new Slice(Fragment.from(p),0,0),1,!0))}function canSplit(t,e,l=1,c){let f=t.resolve(e),h=f.depth-l,p=c&&c[c.length-1]||f.parent;if(h<0||f.parent.type.spec.isolating||!f.parent.canReplace(f.index(),f.parent.childCount)||!p.type.validContent(f.parent.content.cutByIndex(f.index(),f.parent.childCount)))return!1;for(let y=f.depth-1,x=l-2;y>h;y--,x--){let u=f.node(y),w=f.index(y);if(u.type.spec.isolating)return!1;let T=u.content.cutByIndex(w,u.childCount),C=c&&c[x+1];C&&(T=T.replaceChild(0,C.type.create(C.attrs)));let k=c&&c[x]||u;if(!u.canReplace(w+1,u.childCount)||!k.type.validContent(T))return!1}let d=f.indexAfter(h),m=c&&c[0];return f.node(h).canReplaceWith(d,d,m?m.type:f.node(h+1).type)}function split(t,e,l=1,c){let f=t.doc.resolve(e),h=Fragment.empty,p=Fragment.empty;for(let d=f.depth,m=f.depth-l,y=l-1;d>m;d--,y--){h=Fragment.from(f.node(d).copy(h));let x=c&&c[y];p=Fragment.from(x?x.type.create(x.attrs,p):f.node(d).copy(p))}t.step(new ReplaceStep(e,e,new Slice(h.append(p),l,l),!0))}function canJoin(t,e){let l=t.resolve(e),c=l.index();return joinable(l.nodeBefore,l.nodeAfter)&&l.parent.canReplace(c,c+1)}function canAppendWithSubstitutedLinebreaks(t,e){e.content.size||t.type.compatibleContent(e.type);let l=t.contentMatchAt(t.childCount),{linebreakReplacement:c}=t.type.schema;for(let f=0;f<e.childCount;f++){let h=e.child(f),p=h.type==c?t.type.schema.nodes.text:h.type;if(l=l.matchType(p),!l||!t.type.allowsMarks(h.marks))return!1}return l.validEnd}function joinable(t,e){return!!(t&&e&&!t.isLeaf&&canAppendWithSubstitutedLinebreaks(t,e))}function joinPoint(t,e,l=-1){let c=t.resolve(e);for(let f=c.depth;;f--){let h,p,d=c.index(f);if(f==c.depth?(h=c.nodeBefore,p=c.nodeAfter):l>0?(h=c.node(f+1),d++,p=c.node(f).maybeChild(d)):(h=c.node(f).maybeChild(d-1),p=c.node(f+1)),h&&!h.isTextblock&&joinable(h,p)&&c.node(f).canReplace(d,d+1))return e;if(f==0)break;e=l<0?c.before(f):c.after(f)}}function join(t,e,l){let c=null,{linebreakReplacement:f}=t.doc.type.schema,h=t.doc.resolve(e-l),p=h.node().type;if(f&&p.inlineContent){let x=p.whitespace=="pre",u=!!p.contentMatch.matchType(f);x&&!u?c=!1:!x&&u&&(c=!0)}let d=t.steps.length;if(c===!1){let x=t.doc.resolve(e+l);replaceLinebreaks(t,x.node(),x.before(),d)}p.inlineContent&&clearIncompatible(t,e+l-1,p,h.node().contentMatchAt(h.index()),c==null);let m=t.mapping.slice(d),y=m.map(e-l);if(t.step(new ReplaceStep(y,m.map(e+l,-1),Slice.empty,!0)),c===!0){let x=t.doc.resolve(y);replaceNewlines(t,x.node(),x.before(),t.steps.length)}return t}function insertPoint(t,e,l){let c=t.resolve(e);if(c.parent.canReplaceWith(c.index(),c.index(),l))return e;if(c.parentOffset==0)for(let f=c.depth-1;f>=0;f--){let h=c.index(f);if(c.node(f).canReplaceWith(h,h,l))return c.before(f+1);if(h>0)return null}if(c.parentOffset==c.parent.content.size)for(let f=c.depth-1;f>=0;f--){let h=c.indexAfter(f);if(c.node(f).canReplaceWith(h,h,l))return c.after(f+1);if(h<c.node(f).childCount)return null}return null}function dropPoint(t,e,l){let c=t.resolve(e);if(!l.content.size)return e;let f=l.content;for(let h=0;h<l.openStart;h++)f=f.firstChild.content;for(let h=1;h<=(l.openStart==0&&l.size?2:1);h++)for(let p=c.depth;p>=0;p--){let d=p==c.depth?0:c.pos<=(c.start(p+1)+c.end(p+1))/2?-1:1,m=c.index(p)+(d>0?1:0),y=c.node(p),x=!1;if(h==1)x=y.canReplace(m,m,f);else{let u=y.contentMatchAt(m).findWrapping(f.firstChild.type);x=u&&y.canReplaceWith(m,m,u[0])}if(x)return d==0?c.pos:d<0?c.before(p+1):c.after(p+1)}return null}function replaceStep(t,e,l=e,c=Slice.empty){if(e==l&&!c.size)return null;let f=t.resolve(e),h=t.resolve(l);return fitsTrivially(f,h,c)?new ReplaceStep(e,l,c):new Fitter(f,h,c).fit()}function fitsTrivially(t,e,l){return!l.openStart&&!l.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),l.content)}class Fitter{constructor(e,l,c){this.$from=e,this.$to=l,this.unplaced=c,this.frontier=[],this.placed=Fragment.empty;for(let f=0;f<=e.depth;f++){let h=e.node(f);this.frontier.push({type:h.type,match:h.contentMatchAt(e.indexAfter(f))})}for(let f=e.depth;f>0;f--)this.placed=Fragment.from(e.node(f).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let y=this.findFittable();y?this.placeNodes(y):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),l=this.placed.size-this.depth-this.$from.depth,c=this.$from,f=this.close(e<0?this.$to:c.doc.resolve(e));if(!f)return null;let h=this.placed,p=c.depth,d=f.depth;for(;p&&d&&h.childCount==1;)h=h.firstChild.content,p--,d--;let m=new Slice(h,p,d);return e>-1?new ReplaceAroundStep(c.pos,e,this.$to.pos,this.$to.end(),m,l):m.size||c.pos!=this.$to.pos?new ReplaceStep(c.pos,f.pos,m):null}findFittable(){let e=this.unplaced.openStart;for(let l=this.unplaced.content,c=0,f=this.unplaced.openEnd;c<e;c++){let h=l.firstChild;if(l.childCount>1&&(f=0),h.type.spec.isolating&&f<=c){e=c;break}l=h.content}for(let l=1;l<=2;l++)for(let c=l==1?e:this.unplaced.openStart;c>=0;c--){let f,h=null;c?(h=contentAt(this.unplaced.content,c-1).firstChild,f=h.content):f=this.unplaced.content;let p=f.firstChild;for(let d=this.depth;d>=0;d--){let{type:m,match:y}=this.frontier[d],x,u=null;if(l==1&&(p?y.matchType(p.type)||(u=y.fillBefore(Fragment.from(p),!1)):h&&m.compatibleContent(h.type)))return{sliceDepth:c,frontierDepth:d,parent:h,inject:u};if(l==2&&p&&(x=y.findWrapping(p.type)))return{sliceDepth:c,frontierDepth:d,parent:h,wrap:x};if(h&&y.matchType(h.type))break}}}openMore(){let{content:e,openStart:l,openEnd:c}=this.unplaced,f=contentAt(e,l);return!f.childCount||f.firstChild.isLeaf?!1:(this.unplaced=new Slice(e,l+1,Math.max(c,f.size+l>=e.size-c?l+1:0)),!0)}dropNode(){let{content:e,openStart:l,openEnd:c}=this.unplaced,f=contentAt(e,l);if(f.childCount<=1&&l>0){let h=e.size-l<=l+f.size;this.unplaced=new Slice(dropFromFragment(e,l-1,1),l-1,h?l-1:c)}else this.unplaced=new Slice(dropFromFragment(e,l,1),l,c)}placeNodes({sliceDepth:e,frontierDepth:l,parent:c,inject:f,wrap:h}){for(;this.depth>l;)this.closeFrontierNode();if(h)for(let k=0;k<h.length;k++)this.openFrontierNode(h[k]);let p=this.unplaced,d=c?c.content:p.content,m=p.openStart-e,y=0,x=[],{match:u,type:w}=this.frontier[l];if(f){for(let k=0;k<f.childCount;k++)x.push(f.child(k));u=u.matchFragment(f)}let T=d.size+e-(p.content.size-p.openEnd);for(;y<d.childCount;){let k=d.child(y),A=u.matchType(k.type);if(!A)break;y++,(y>1||m==0||k.content.size)&&(u=A,x.push(closeNodeStart(k.mark(w.allowedMarks(k.marks)),y==1?m:0,y==d.childCount?T:-1)))}let C=y==d.childCount;C||(T=-1),this.placed=addToFragment(this.placed,l,Fragment.from(x)),this.frontier[l].match=u,C&&T<0&&c&&c.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,A=d;k<T;k++){let g=A.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),A=g.content}this.unplaced=C?e==0?Slice.empty:new Slice(dropFromFragment(p.content,e-1,1),e-1,T<0?p.openEnd:e-1):new Slice(dropFromFragment(p.content,e,y),p.openStart,p.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],l;if(!e.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(l=this.findCloseLevel(this.$to))&&l.depth==this.depth)return-1;let{depth:c}=this.$to,f=this.$to.after(c);for(;c>1&&f==this.$to.end(--c);)++f;return f}findCloseLevel(e){e:for(let l=Math.min(this.depth,e.depth);l>=0;l--){let{match:c,type:f}=this.frontier[l],h=l<e.depth&&e.end(l+1)==e.pos+(e.depth-(l+1)),p=contentAfterFits(e,l,f,c,h);if(p){for(let d=l-1;d>=0;d--){let{match:m,type:y}=this.frontier[d],x=contentAfterFits(e,d,y,m,!0);if(!x||x.childCount)continue e}return{depth:l,fit:p,move:h?e.doc.resolve(e.after(l+1)):e}}}}close(e){let l=this.findCloseLevel(e);if(!l)return null;for(;this.depth>l.depth;)this.closeFrontierNode();l.fit.childCount&&(this.placed=addToFragment(this.placed,l.depth,l.fit)),e=l.move;for(let c=l.depth+1;c<=e.depth;c++){let f=e.node(c),h=f.type.contentMatch.fillBefore(f.content,!0,e.index(c));this.openFrontierNode(f.type,f.attrs,h)}return e}openFrontierNode(e,l=null,c){let f=this.frontier[this.depth];f.match=f.match.matchType(e),this.placed=addToFragment(this.placed,this.depth,Fragment.from(e.create(l,c))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let l=this.frontier.pop().match.fillBefore(Fragment.empty,!0);l.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,l))}}function dropFromFragment(t,e,l){return e==0?t.cutByIndex(l,t.childCount):t.replaceChild(0,t.firstChild.copy(dropFromFragment(t.firstChild.content,e-1,l)))}function addToFragment(t,e,l){return e==0?t.append(l):t.replaceChild(t.childCount-1,t.lastChild.copy(addToFragment(t.lastChild.content,e-1,l)))}function contentAt(t,e){for(let l=0;l<e;l++)t=t.firstChild.content;return t}function closeNodeStart(t,e,l){if(e<=0)return t;let c=t.content;return e>1&&(c=c.replaceChild(0,closeNodeStart(c.firstChild,e-1,c.childCount==1?l-1:0))),e>0&&(c=t.type.contentMatch.fillBefore(c).append(c),l<=0&&(c=c.append(t.type.contentMatch.matchFragment(c).fillBefore(Fragment.empty,!0)))),t.copy(c)}function contentAfterFits(t,e,l,c,f){let h=t.node(e),p=f?t.indexAfter(e):t.index(e);if(p==h.childCount&&!l.compatibleContent(h.type))return null;let d=c.fillBefore(h.content,!0,p);return d&&!invalidMarks(l,h.content,p)?d:null}function invalidMarks(t,e,l){for(let c=l;c<e.childCount;c++)if(!t.allowsMarks(e.child(c).marks))return!0;return!1}function definesContent(t){return t.spec.defining||t.spec.definingForContent}function replaceRange(t,e,l,c){if(!c.size)return t.deleteRange(e,l);let f=t.doc.resolve(e),h=t.doc.resolve(l);if(fitsTrivially(f,h,c))return t.step(new ReplaceStep(e,l,c));let p=coveredDepths(f,t.doc.resolve(l));p[p.length-1]==0&&p.pop();let d=-(f.depth+1);p.unshift(d);for(let w=f.depth,T=f.pos-1;w>0;w--,T--){let C=f.node(w).type.spec;if(C.defining||C.definingAsContext||C.isolating)break;p.indexOf(w)>-1?d=w:f.before(w)==T&&p.splice(1,0,-w)}let m=p.indexOf(d),y=[],x=c.openStart;for(let w=c.content,T=0;;T++){let C=w.firstChild;if(y.push(C),T==c.openStart)break;w=C.content}for(let w=x-1;w>=0;w--){let T=y[w],C=definesContent(T.type);if(C&&!T.sameMarkup(f.node(Math.abs(d)-1)))x=w;else if(C||!T.type.isTextblock)break}for(let w=c.openStart;w>=0;w--){let T=(w+x+1)%(c.openStart+1),C=y[T];if(C)for(let k=0;k<p.length;k++){let A=p[(k+m)%p.length],g=!0;A<0&&(g=!1,A=-A);let E=f.node(A-1),v=f.index(A-1);if(E.canReplaceWith(v,v,C.type,C.marks))return t.replace(f.before(A),g?h.after(A):l,new Slice(closeFragment(c.content,0,c.openStart,T),T,c.openEnd))}}let u=t.steps.length;for(let w=p.length-1;w>=0&&(t.replace(e,l,c),!(t.steps.length>u));w--){let T=p[w];T<0||(e=f.before(T),l=h.after(T))}}function closeFragment(t,e,l,c,f){if(e<l){let h=t.firstChild;t=t.replaceChild(0,h.copy(closeFragment(h.content,e+1,l,c,h)))}if(e>c){let h=f.contentMatchAt(0),p=h.fillBefore(t).append(t);t=p.append(h.matchFragment(p).fillBefore(Fragment.empty,!0))}return t}function replaceRangeWith(t,e,l,c){if(!c.isInline&&e==l&&t.doc.resolve(e).parent.content.size){let f=insertPoint(t.doc,e,c.type);f!=null&&(e=l=f)}t.replaceRange(e,l,new Slice(Fragment.from(c),0,0))}function deleteRange$1(t,e,l){let c=t.doc.resolve(e),f=t.doc.resolve(l),h=coveredDepths(c,f);for(let p=0;p<h.length;p++){let d=h[p],m=p==h.length-1;if(m&&d==0||c.node(d).type.contentMatch.validEnd)return t.delete(c.start(d),f.end(d));if(d>0&&(m||c.node(d-1).canReplace(c.index(d-1),f.indexAfter(d-1))))return t.delete(c.before(d),f.after(d))}for(let p=1;p<=c.depth&&p<=f.depth;p++)if(e-c.start(p)==c.depth-p&&l>c.end(p)&&f.end(p)-l!=f.depth-p&&c.start(p-1)==f.start(p-1)&&c.node(p-1).canReplace(c.index(p-1),f.index(p-1)))return t.delete(c.before(p),l);t.delete(e,l)}function coveredDepths(t,e){let l=[],c=Math.min(t.depth,e.depth);for(let f=c;f>=0;f--){let h=t.start(f);if(h<t.pos-(t.depth-f)||e.end(f)>e.pos+(e.depth-f)||t.node(f).type.spec.isolating||e.node(f).type.spec.isolating)break;(h==e.start(f)||f==t.depth&&f==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&f&&e.start(f-1)==h-1)&&l.push(f)}return l}class AttrStep extends Step{constructor(e,l,c){super(),this.pos=e,this.attr=l,this.value=c}apply(e){let l=e.nodeAt(this.pos);if(!l)return StepResult.fail("No node at attribute step's position");let c=Object.create(null);for(let h in l.attrs)c[h]=l.attrs[h];c[this.attr]=this.value;let f=l.type.create(c,null,l.marks);return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(f),0,l.isLeaf?0:1))}getMap(){return StepMap.empty}invert(e){return new AttrStep(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let l=e.mapResult(this.pos,1);return l.deletedAfter?null:new AttrStep(l.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,l){if(typeof l.pos!="number"||typeof l.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(l.pos,l.attr,l.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(e,l){super(),this.attr=e,this.value=l}apply(e){let l=Object.create(null);for(let f in e.attrs)l[f]=e.attrs[f];l[this.attr]=this.value;let c=e.type.create(l,e.content,e.marks);return StepResult.ok(c)}getMap(){return StepMap.empty}invert(e){return new DocAttrStep(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,l){if(typeof l.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(l.attr,l.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function t(e){let l=Error.call(this,e);return l.__proto__=t.prototype,l};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let l=this.maybeStep(e);if(l.failed)throw new TransformError(l.failed);return this}maybeStep(e){let l=e.apply(this.doc);return l.failed||this.addStep(e,l.doc),l}get docChanged(){return this.steps.length>0}addStep(e,l){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=l}replace(e,l=e,c=Slice.empty){let f=replaceStep(this.doc,e,l,c);return f&&this.step(f),this}replaceWith(e,l,c){return this.replace(e,l,new Slice(Fragment.from(c),0,0))}delete(e,l){return this.replace(e,l,Slice.empty)}insert(e,l){return this.replaceWith(e,e,l)}replaceRange(e,l,c){return replaceRange(this,e,l,c),this}replaceRangeWith(e,l,c){return replaceRangeWith(this,e,l,c),this}deleteRange(e,l){return deleteRange$1(this,e,l),this}lift(e,l){return lift$2(this,e,l),this}join(e,l=1){return join(this,e,l),this}wrap(e,l){return wrap(this,e,l),this}setBlockType(e,l=e,c,f=null){return setBlockType$1(this,e,l,c,f),this}setNodeMarkup(e,l,c=null,f){return setNodeMarkup(this,e,l,c,f),this}setNodeAttribute(e,l,c){return this.step(new AttrStep(e,l,c)),this}setDocAttribute(e,l){return this.step(new DocAttrStep(e,l)),this}addNodeMark(e,l){return this.step(new AddNodeMarkStep(e,l)),this}removeNodeMark(e,l){let c=this.doc.nodeAt(e);if(!c)throw new RangeError("No node at position "+e);if(l instanceof Mark$1)l.isInSet(c.marks)&&this.step(new RemoveNodeMarkStep(e,l));else{let f=c.marks,h,p=[];for(;h=l.isInSet(f);)p.push(new RemoveNodeMarkStep(e,h)),f=h.removeFromSet(f);for(let d=p.length-1;d>=0;d--)this.step(p[d])}return this}split(e,l=1,c){return split(this,e,l,c),this}addMark(e,l,c){return addMark(this,e,l,c),this}removeMark(e,l,c){return removeMark(this,e,l,c),this}clearIncompatible(e,l,c){return clearIncompatible(this,e,l,c),this}}const classesById=Object.create(null);class Selection{constructor(e,l,c){this.$anchor=e,this.$head=l,this.ranges=c||[new SelectionRange(e.min(l),e.max(l))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let l=0;l<e.length;l++)if(e[l].$from.pos!=e[l].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,l=Slice.empty){let c=l.content.lastChild,f=null;for(let d=0;d<l.openEnd;d++)f=c,c=c.lastChild;let h=e.steps.length,p=this.ranges;for(let d=0;d<p.length;d++){let{$from:m,$to:y}=p[d],x=e.mapping.slice(h);e.replaceRange(x.map(m.pos),x.map(y.pos),d?Slice.empty:l),d==0&&selectionToInsertionEnd$1(e,h,(c?c.isInline:f&&f.isTextblock)?-1:1)}}replaceWith(e,l){let c=e.steps.length,f=this.ranges;for(let h=0;h<f.length;h++){let{$from:p,$to:d}=f[h],m=e.mapping.slice(c),y=m.map(p.pos),x=m.map(d.pos);h?e.deleteRange(y,x):(e.replaceRangeWith(y,x,l),selectionToInsertionEnd$1(e,c,l.isInline?-1:1))}}static findFrom(e,l,c=!1){let f=e.parent.inlineContent?new TextSelection(e):findSelectionIn(e.node(0),e.parent,e.pos,e.index(),l,c);if(f)return f;for(let h=e.depth-1;h>=0;h--){let p=l<0?findSelectionIn(e.node(0),e.node(h),e.before(h+1),e.index(h),l,c):findSelectionIn(e.node(0),e.node(h),e.after(h+1),e.index(h)+1,l,c);if(p)return p}return null}static near(e,l=1){return this.findFrom(e,l)||this.findFrom(e,-l)||new AllSelection(e.node(0))}static atStart(e){return findSelectionIn(e,e,0,0,1)||new AllSelection(e)}static atEnd(e){return findSelectionIn(e,e,e.content.size,e.childCount,-1)||new AllSelection(e)}static fromJSON(e,l){if(!l||!l.type)throw new RangeError("Invalid input for Selection.fromJSON");let c=classesById[l.type];if(!c)throw new RangeError(`No selection type ${l.type} defined`);return c.fromJSON(e,l)}static jsonID(e,l){if(e in classesById)throw new RangeError("Duplicate use of selection JSON ID "+e);return classesById[e]=l,l.prototype.jsonID=e,l}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(e,l){this.$from=e,this.$to=l}}let warnedAboutTextSelection=!1;function checkTextSelection(t){!warnedAboutTextSelection&&!t.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class TextSelection extends Selection{constructor(e,l=e){checkTextSelection(e),checkTextSelection(l),super(e,l)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,l){let c=e.resolve(l.map(this.head));if(!c.parent.inlineContent)return Selection.near(c);let f=e.resolve(l.map(this.anchor));return new TextSelection(f.parent.inlineContent?f:c,c)}replace(e,l=Slice.empty){if(super.replace(e,l),l==Slice.empty){let c=this.$from.marksAcross(this.$to);c&&e.ensureMarks(c)}}eq(e){return e instanceof TextSelection&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,l){if(typeof l.anchor!="number"||typeof l.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(e.resolve(l.anchor),e.resolve(l.head))}static create(e,l,c=l){let f=e.resolve(l);return new this(f,c==l?f:e.resolve(c))}static between(e,l,c){let f=e.pos-l.pos;if((!c||f)&&(c=f>=0?1:-1),!l.parent.inlineContent){let h=Selection.findFrom(l,c,!0)||Selection.findFrom(l,-c,!0);if(h)l=h.$head;else return Selection.near(l,c)}return e.parent.inlineContent||(f==0?e=l:(e=(Selection.findFrom(e,-c,!0)||Selection.findFrom(e,c,!0)).$anchor,e.pos<l.pos!=f<0&&(e=l))),new TextSelection(e,l)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(e,l){this.anchor=e,this.head=l}map(e){return new TextBookmark(e.map(this.anchor),e.map(this.head))}resolve(e){return TextSelection.between(e.resolve(this.anchor),e.resolve(this.head))}}class NodeSelection extends Selection{constructor(e){let l=e.nodeAfter,c=e.node(0).resolve(e.pos+l.nodeSize);super(e,c),this.node=l}map(e,l){let{deleted:c,pos:f}=l.mapResult(this.anchor),h=e.resolve(f);return c?Selection.near(h):new NodeSelection(h)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(e){return e instanceof NodeSelection&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(e,l){if(typeof l.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(e.resolve(l.anchor))}static create(e,l){return new NodeSelection(e.resolve(l))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(e){this.anchor=e}map(e){let{deleted:l,pos:c}=e.mapResult(this.anchor);return l?new TextBookmark(c,c):new NodeBookmark(c)}resolve(e){let l=e.resolve(this.anchor),c=l.nodeAfter;return c&&NodeSelection.isSelectable(c)?new NodeSelection(l):Selection.near(l)}}class AllSelection extends Selection{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,l=Slice.empty){if(l==Slice.empty){e.delete(0,e.doc.content.size);let c=Selection.atStart(e.doc);c.eq(e.selection)||e.setSelection(c)}else super.replace(e,l)}toJSON(){return{type:"all"}}static fromJSON(e){return new AllSelection(e)}map(e){return new AllSelection(e)}eq(e){return e instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(t){return new AllSelection(t)}};function findSelectionIn(t,e,l,c,f,h=!1){if(e.inlineContent)return TextSelection.create(t,l);for(let p=c-(f>0?0:1);f>0?p<e.childCount:p>=0;p+=f){let d=e.child(p);if(d.isAtom){if(!h&&NodeSelection.isSelectable(d))return NodeSelection.create(t,l-(f<0?d.nodeSize:0))}else{let m=findSelectionIn(t,d,l+f,f<0?d.childCount:0,f,h);if(m)return m}l+=d.nodeSize*f}return null}function selectionToInsertionEnd$1(t,e,l){let c=t.steps.length-1;if(c<e)return;let f=t.steps[c];if(!(f instanceof ReplaceStep||f instanceof ReplaceAroundStep))return;let h=t.mapping.maps[c],p;h.forEach((d,m,y,x)=>{p==null&&(p=x)}),t.setSelection(Selection.near(t.doc.resolve(p),l))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=UPDATED_MARKS,this}ensureMarks(e){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(e,l){super.addStep(e,l),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,l=!0){let c=this.selection;return l&&(e=e.mark(this.storedMarks||(c.empty?c.$from.marks():c.$from.marksAcross(c.$to)||Mark$1.none))),c.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,l,c){let f=this.doc.type.schema;if(l==null)return e?this.replaceSelectionWith(f.text(e),!0):this.deleteSelection();{if(c==null&&(c=l),c=c??l,!e)return this.deleteRange(l,c);let h=this.storedMarks;if(!h){let p=this.doc.resolve(l);h=c==l?p.marks():p.marksAcross(this.doc.resolve(c))}return this.replaceRangeWith(l,c,f.text(e,h)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(e,l){return this.meta[typeof e=="string"?e:e.key]=l,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(t,e){return!e||!t?t:t.bind(e)}class FieldDesc{constructor(e,l,c){this.name=e,this.init=bind(l.init,c),this.apply=bind(l.apply,c)}}const baseFields=[new FieldDesc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new FieldDesc("selection",{init(t,e){return t.selection||Selection.atStart(e.doc)},apply(t){return t.selection}}),new FieldDesc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,l,c){return c.selection.$cursor?t.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Configuration{constructor(e,l){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),l&&l.forEach(c=>{if(this.pluginsByKey[c.key])throw new RangeError("Adding different instances of a keyed plugin ("+c.key+")");this.plugins.push(c),this.pluginsByKey[c.key]=c,c.spec.state&&this.fields.push(new FieldDesc(c.key,c.spec.state,c))})}}class EditorState{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,l=-1){for(let c=0;c<this.config.plugins.length;c++)if(c!=l){let f=this.config.plugins[c];if(f.spec.filterTransaction&&!f.spec.filterTransaction.call(f,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let l=[e],c=this.applyInner(e),f=null;for(;;){let h=!1;for(let p=0;p<this.config.plugins.length;p++){let d=this.config.plugins[p];if(d.spec.appendTransaction){let m=f?f[p].n:0,y=f?f[p].state:this,x=m<l.length&&d.spec.appendTransaction.call(d,m?l.slice(m):l,y,c);if(x&&c.filterTransaction(x,p)){if(x.setMeta("appendedTransaction",e),!f){f=[];for(let u=0;u<this.config.plugins.length;u++)f.push(u<p?{state:c,n:l.length}:{state:this,n:0})}l.push(x),c=c.applyInner(x),h=!0}f&&(f[p]={state:c,n:l.length})}}if(!h)return{state:c,transactions:l}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let l=new EditorState(this.config),c=this.config.fields;for(let f=0;f<c.length;f++){let h=c[f];l[h.name]=h.apply(e,this[h.name],this,l)}return l}get tr(){return new Transaction(this)}static create(e){let l=new Configuration(e.doc?e.doc.type.schema:e.schema,e.plugins),c=new EditorState(l);for(let f=0;f<l.fields.length;f++)c[l.fields[f].name]=l.fields[f].init(e,c);return c}reconfigure(e){let l=new Configuration(this.schema,e.plugins),c=l.fields,f=new EditorState(l);for(let h=0;h<c.length;h++){let p=c[h].name;f[p]=this.hasOwnProperty(p)?this[p]:c[h].init(e,f)}return f}toJSON(e){let l={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(l.storedMarks=this.storedMarks.map(c=>c.toJSON())),e&&typeof e=="object")for(let c in e){if(c=="doc"||c=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let f=e[c],h=f.spec.state;h&&h.toJSON&&(l[c]=h.toJSON.call(f,this[f.key]))}return l}static fromJSON(e,l,c){if(!l)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let f=new Configuration(e.schema,e.plugins),h=new EditorState(f);return f.fields.forEach(p=>{if(p.name=="doc")h.doc=Node$2.fromJSON(e.schema,l.doc);else if(p.name=="selection")h.selection=Selection.fromJSON(h.doc,l.selection);else if(p.name=="storedMarks")l.storedMarks&&(h.storedMarks=l.storedMarks.map(e.schema.markFromJSON));else{if(c)for(let d in c){let m=c[d],y=m.spec.state;if(m.key==p.name&&y&&y.fromJSON&&Object.prototype.hasOwnProperty.call(l,d)){h[p.name]=y.fromJSON.call(m,e,l[d],h);return}}h[p.name]=p.init(e,h)}}),h}}function bindProps(t,e,l){for(let c in t){let f=t[c];f instanceof Function?f=f.bind(e):c=="handleDOMEvents"&&(f=bindProps(f,e,{})),l[c]=f}return l}class Plugin{constructor(e){this.spec=e,this.props={},e.props&&bindProps(e.props,this,this.props),this.key=e.key?e.key.key:createKey("plugin")}getState(e){return e[this.key]}}const keys=Object.create(null);function createKey(t){return t in keys?t+"$"+ ++keys[t]:(keys[t]=0,t+"$")}class PluginKey{constructor(e="key"){this.key=createKey(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const domIndex=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},parentNode=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let reusedRange=null;const textRange=function(t,e,l){let c=reusedRange||(reusedRange=document.createRange());return c.setEnd(t,l??t.nodeValue.length),c.setStart(t,e||0),c},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(t,e,l,c){return l&&(scanFor(t,e,l,c,-1)||scanFor(t,e,l,c,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(t,e,l,c,f){for(;;){if(t==l&&e==c)return!0;if(e==(f<0?0:nodeSize(t))){let h=t.parentNode;if(!h||h.nodeType!=1||hasBlockDesc(t)||atomElements.test(t.nodeName)||t.contentEditable=="false")return!1;e=domIndex(t)+(f<0?0:1),t=h}else if(t.nodeType==1){if(t=t.childNodes[e+(f<0?-1:0)],t.contentEditable=="false")return!1;e=f<0?nodeSize(t):0}else return!1}}function nodeSize(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function textNodeBefore$1(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=nodeSize(t)}else if(t.parentNode&&!hasBlockDesc(t))e=domIndex(t),t=t.parentNode;else return null}}function textNodeAfter$1(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!hasBlockDesc(t))e=domIndex(t)+1,t=t.parentNode;else return null}}function isOnEdge(t,e,l){for(let c=e==0,f=e==nodeSize(t);c||f;){if(t==l)return!0;let h=domIndex(t);if(t=t.parentNode,!t)return!1;c=c&&h==0,f=f&&h==nodeSize(t)}}function hasBlockDesc(t){let e;for(let l=t;l&&!(e=l.pmViewDesc);l=l.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const selectionCollapsed=function(t){return t.focusNode&&isEquivalentPosition(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function keyEvent(t,e){let l=document.createEvent("Event");return l.initEvent("keydown",!0,!0),l.keyCode=t,l.key=l.code=e,l}function deepActiveElement(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function caretFromPoint(t,e,l){if(t.caretPositionFromPoint)try{let c=t.caretPositionFromPoint(e,l);if(c)return{node:c.offsetNode,offset:Math.min(nodeSize(c.offsetNode),c.offset)}}catch{}if(t.caretRangeFromPoint){let c=t.caretRangeFromPoint(e,l);if(c)return{node:c.startContainer,offset:Math.min(nodeSize(c.startContainer),c.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function getSide(t,e){return typeof t=="number"?t:t[e]}function clientRect(t){let e=t.getBoundingClientRect(),l=e.width/t.offsetWidth||1,c=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*l,top:e.top,bottom:e.top+t.clientHeight*c}}function scrollRectIntoView(t,e,l){let c=t.someProp("scrollThreshold")||0,f=t.someProp("scrollMargin")||5,h=t.dom.ownerDocument;for(let p=l||t.dom;p;){if(p.nodeType!=1){p=parentNode(p);continue}let d=p,m=d==h.body,y=m?windowRect(h):clientRect(d),x=0,u=0;if(e.top<y.top+getSide(c,"top")?u=-(y.top-e.top+getSide(f,"top")):e.bottom>y.bottom-getSide(c,"bottom")&&(u=e.bottom-e.top>y.bottom-y.top?e.top+getSide(f,"top")-y.top:e.bottom-y.bottom+getSide(f,"bottom")),e.left<y.left+getSide(c,"left")?x=-(y.left-e.left+getSide(f,"left")):e.right>y.right-getSide(c,"right")&&(x=e.right-y.right+getSide(f,"right")),x||u)if(m)h.defaultView.scrollBy(x,u);else{let T=d.scrollLeft,C=d.scrollTop;u&&(d.scrollTop+=u),x&&(d.scrollLeft+=x);let k=d.scrollLeft-T,A=d.scrollTop-C;e={left:e.left-k,top:e.top-A,right:e.right-k,bottom:e.bottom-A}}let w=m?"fixed":getComputedStyle(p).position;if(/^(fixed|sticky)$/.test(w))break;p=w=="absolute"?p.offsetParent:parentNode(p)}}function storeScrollPos(t){let e=t.dom.getBoundingClientRect(),l=Math.max(0,e.top),c,f;for(let h=(e.left+e.right)/2,p=l+1;p<Math.min(innerHeight,e.bottom);p+=5){let d=t.root.elementFromPoint(h,p);if(!d||d==t.dom||!t.dom.contains(d))continue;let m=d.getBoundingClientRect();if(m.top>=l-20){c=d,f=m.top;break}}return{refDOM:c,refTop:f,stack:scrollStack(t.dom)}}function scrollStack(t){let e=[],l=t.ownerDocument;for(let c=t;c&&(e.push({dom:c,top:c.scrollTop,left:c.scrollLeft}),t!=l);c=parentNode(c));return e}function resetScrollPos({refDOM:t,refTop:e,stack:l}){let c=t?t.getBoundingClientRect().top:0;restoreScrollStack(l,c==0?0:c-e)}function restoreScrollStack(t,e){for(let l=0;l<t.length;l++){let{dom:c,top:f,left:h}=t[l];c.scrollTop!=f+e&&(c.scrollTop=f+e),c.scrollLeft!=h&&(c.scrollLeft=h)}}let preventScrollSupported=null;function focusPreventScroll(t){if(t.setActive)return t.setActive();if(preventScrollSupported)return t.focus(preventScrollSupported);let e=scrollStack(t);t.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(e,0))}function findOffsetInNode(t,e){let l,c=2e8,f,h=0,p=e.top,d=e.top,m,y;for(let x=t.firstChild,u=0;x;x=x.nextSibling,u++){let w;if(x.nodeType==1)w=x.getClientRects();else if(x.nodeType==3)w=textRange(x).getClientRects();else continue;for(let T=0;T<w.length;T++){let C=w[T];if(C.top<=p&&C.bottom>=d){p=Math.max(C.bottom,p),d=Math.min(C.top,d);let k=C.left>e.left?C.left-e.left:C.right<e.left?e.left-C.right:0;if(k<c){l=x,c=k,f=k&&l.nodeType==3?{left:C.right<e.left?C.right:C.left,top:e.top}:e,x.nodeType==1&&k&&(h=u+(e.left>=(C.left+C.right)/2?1:0));continue}}else C.top>e.top&&!m&&C.left<=e.left&&C.right>=e.left&&(m=x,y={left:Math.max(C.left,Math.min(C.right,e.left)),top:C.top});!l&&(e.left>=C.right&&e.top>=C.top||e.left>=C.left&&e.top>=C.bottom)&&(h=u+1)}}return!l&&m&&(l=m,f=y,c=0),l&&l.nodeType==3?findOffsetInText(l,f):!l||c&&l.nodeType==1?{node:t,offset:h}:findOffsetInNode(l,f)}function findOffsetInText(t,e){let l=t.nodeValue.length,c=document.createRange();for(let f=0;f<l;f++){c.setEnd(t,f+1),c.setStart(t,f);let h=singleRect(c,1);if(h.top!=h.bottom&&inRect(e,h))return{node:t,offset:f+(e.left>=(h.left+h.right)/2?1:0)}}return{node:t,offset:0}}function inRect(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function targetKludge(t,e){let l=t.parentNode;return l&&/^li$/i.test(l.nodeName)&&e.left<t.getBoundingClientRect().left?l:t}function posFromElement(t,e,l){let{node:c,offset:f}=findOffsetInNode(e,l),h=-1;if(c.nodeType==1&&!c.firstChild){let p=c.getBoundingClientRect();h=p.left!=p.right&&l.left>(p.left+p.right)/2?1:-1}return t.docView.posFromDOM(c,f,h)}function posFromCaret(t,e,l,c){let f=-1;for(let h=e,p=!1;h!=t.dom;){let d=t.docView.nearestDesc(h,!0),m;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((m=d.dom.getBoundingClientRect()).width||m.height)&&(d.node.isBlock&&d.parent&&(!p&&m.left>c.left||m.top>c.top?f=d.posBefore:(!p&&m.right<c.left||m.bottom<c.top)&&(f=d.posAfter),p=!0),!d.contentDOM&&f<0&&!d.node.isText))return(d.node.isBlock?c.top<(m.top+m.bottom)/2:c.left<(m.left+m.right)/2)?d.posBefore:d.posAfter;h=d.dom.parentNode}return f>-1?f:t.docView.posFromDOM(e,l,-1)}function elementFromPoint(t,e,l){let c=t.childNodes.length;if(c&&l.top<l.bottom)for(let f=Math.max(0,Math.min(c-1,Math.floor(c*(e.top-l.top)/(l.bottom-l.top))-2)),h=f;;){let p=t.childNodes[h];if(p.nodeType==1){let d=p.getClientRects();for(let m=0;m<d.length;m++){let y=d[m];if(inRect(e,y))return elementFromPoint(p,e,y)}}if((h=(h+1)%c)==f)break}return t}function posAtCoords(t,e){let l=t.dom.ownerDocument,c,f=0,h=caretFromPoint(l,e.left,e.top);h&&({node:c,offset:f}=h);let p=(t.root.elementFromPoint?t.root:l).elementFromPoint(e.left,e.top),d;if(!p||!t.dom.contains(p.nodeType!=1?p.parentNode:p)){let y=t.dom.getBoundingClientRect();if(!inRect(e,y)||(p=elementFromPoint(t.dom,e,y),!p))return null}if(safari)for(let y=p;c&&y;y=parentNode(y))y.draggable&&(c=void 0);if(p=targetKludge(p,e),c){if(gecko&&c.nodeType==1&&(f=Math.min(f,c.childNodes.length),f<c.childNodes.length)){let x=c.childNodes[f],u;x.nodeName=="IMG"&&(u=x.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&f++}let y;webkit&&f&&c.nodeType==1&&(y=c.childNodes[f-1]).nodeType==1&&y.contentEditable=="false"&&y.getBoundingClientRect().top>=e.top&&f--,c==t.dom&&f==c.childNodes.length-1&&c.lastChild.nodeType==1&&e.top>c.lastChild.getBoundingClientRect().bottom?d=t.state.doc.content.size:(f==0||c.nodeType!=1||c.childNodes[f-1].nodeName!="BR")&&(d=posFromCaret(t,c,f,e))}d==null&&(d=posFromElement(t,p,e));let m=t.docView.nearestDesc(p,!0);return{pos:d,inside:m?m.posAtStart-m.border:-1}}function nonZero(t){return t.top<t.bottom||t.left<t.right}function singleRect(t,e){let l=t.getClientRects();if(l.length){let c=l[e<0?0:l.length-1];if(nonZero(c))return c}return Array.prototype.find.call(l,nonZero)||t.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(t,e,l){let{node:c,offset:f,atom:h}=t.docView.domFromPos(e,l<0?-1:1),p=webkit||gecko;if(c.nodeType==3)if(p&&(BIDI.test(c.nodeValue)||(l<0?!f:f==c.nodeValue.length))){let m=singleRect(textRange(c,f,f),l);if(gecko&&f&&/\s/.test(c.nodeValue[f-1])&&f<c.nodeValue.length){let y=singleRect(textRange(c,f-1,f-1),-1);if(y.top==m.top){let x=singleRect(textRange(c,f,f+1),-1);if(x.top!=m.top)return flattenV(x,x.left<y.left)}}return m}else{let m=f,y=f,x=l<0?1:-1;return l<0&&!f?(y++,x=-1):l>=0&&f==c.nodeValue.length?(m--,x=1):l<0?m--:y++,flattenV(singleRect(textRange(c,m,y),x),x<0)}if(!t.state.doc.resolve(e-(h||0)).parent.inlineContent){if(h==null&&f&&(l<0||f==nodeSize(c))){let m=c.childNodes[f-1];if(m.nodeType==1)return flattenH(m.getBoundingClientRect(),!1)}if(h==null&&f<nodeSize(c)){let m=c.childNodes[f];if(m.nodeType==1)return flattenH(m.getBoundingClientRect(),!0)}return flattenH(c.getBoundingClientRect(),l>=0)}if(h==null&&f&&(l<0||f==nodeSize(c))){let m=c.childNodes[f-1],y=m.nodeType==3?textRange(m,nodeSize(m)-(p?0:1)):m.nodeType==1&&(m.nodeName!="BR"||!m.nextSibling)?m:null;if(y)return flattenV(singleRect(y,1),!1)}if(h==null&&f<nodeSize(c)){let m=c.childNodes[f];for(;m.pmViewDesc&&m.pmViewDesc.ignoreForCoords;)m=m.nextSibling;let y=m?m.nodeType==3?textRange(m,0,p?0:1):m.nodeType==1?m:null:null;if(y)return flattenV(singleRect(y,-1),!0)}return flattenV(singleRect(c.nodeType==3?textRange(c):c,-l),l>=0)}function flattenV(t,e){if(t.width==0)return t;let l=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:l,right:l}}function flattenH(t,e){if(t.height==0)return t;let l=e?t.top:t.bottom;return{top:l,bottom:l,left:t.left,right:t.right}}function withFlushedState(t,e,l){let c=t.state,f=t.root.activeElement;c!=e&&t.updateState(e),f!=t.dom&&t.focus();try{return l()}finally{c!=e&&t.updateState(c),f!=t.dom&&f&&f.focus()}}function endOfTextblockVertical(t,e,l){let c=e.selection,f=l=="up"?c.$from:c.$to;return withFlushedState(t,e,()=>{let{node:h}=t.docView.domFromPos(f.pos,l=="up"?-1:1);for(;;){let d=t.docView.nearestDesc(h,!0);if(!d)break;if(d.node.isBlock){h=d.contentDOM||d.dom;break}h=d.dom.parentNode}let p=coordsAtPos(t,f.pos,1);for(let d=h.firstChild;d;d=d.nextSibling){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=textRange(d,0,d.nodeValue.length).getClientRects();else continue;for(let y=0;y<m.length;y++){let x=m[y];if(x.bottom>x.top+1&&(l=="up"?p.top-x.top>(x.bottom-p.top)*2:x.bottom-p.bottom>(p.bottom-x.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(t,e,l){let{$head:c}=e.selection;if(!c.parent.isTextblock)return!1;let f=c.parentOffset,h=!f,p=f==c.parent.content.size,d=t.domSelection();return d?!maybeRTL.test(c.parent.textContent)||!d.modify?l=="left"||l=="backward"?h:p:withFlushedState(t,e,()=>{let{focusNode:m,focusOffset:y,anchorNode:x,anchorOffset:u}=t.domSelectionRange(),w=d.caretBidiLevel;d.modify("move",l,"character");let T=c.depth?t.docView.domAfterPos(c.before()):t.dom,{focusNode:C,focusOffset:k}=t.domSelectionRange(),A=C&&!T.contains(C.nodeType==1?C:C.parentNode)||m==C&&y==k;try{d.collapse(x,u),m&&(m!=x||y!=u)&&d.extend&&d.extend(m,y)}catch{}return w!=null&&(d.caretBidiLevel=w),A}):c.pos==c.start()||c.pos==c.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(t,e,l){return cachedState==e&&cachedDir==l?cachedResult:(cachedState=e,cachedDir=l,cachedResult=l=="up"||l=="down"?endOfTextblockVertical(t,e,l):endOfTextblockHorizontal(t,e,l))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(e,l,c,f){this.parent=e,this.children=l,this.dom=c,this.contentDOM=f,this.dirty=NOT_DIRTY,c.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,l,c){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let l=0;l<this.children.length;l++)e+=this.children[l].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let l=0,c=this.posAtStart;;l++){let f=this.children[l];if(f==e)return c;c+=f.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,l,c){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(c<0){let h,p;if(e==this.contentDOM)h=e.childNodes[l-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;h=e.previousSibling}for(;h&&!((p=h.pmViewDesc)&&p.parent==this);)h=h.previousSibling;return h?this.posBeforeChild(p)+p.size:this.posAtStart}else{let h,p;if(e==this.contentDOM)h=e.childNodes[l];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;h=e.nextSibling}for(;h&&!((p=h.pmViewDesc)&&p.parent==this);)h=h.nextSibling;return h?this.posBeforeChild(p):this.posAtEnd}let f;if(e==this.dom&&this.contentDOM)f=l>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))f=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(l==0)for(let h=e;;h=h.parentNode){if(h==this.dom){f=!1;break}if(h.previousSibling)break}if(f==null&&l==e.childNodes.length)for(let h=e;;h=h.parentNode){if(h==this.dom){f=!0;break}if(h.nextSibling)break}}return f??c>0?this.posAtEnd:this.posAtStart}nearestDesc(e,l=!1){for(let c=!0,f=e;f;f=f.parentNode){let h=this.getDesc(f),p;if(h&&(!l||h.node))if(c&&(p=h.nodeDOM)&&!(p.nodeType==1?p.contains(e.nodeType==1?e:e.parentNode):p==e))c=!1;else return h}}getDesc(e){let l=e.pmViewDesc;for(let c=l;c;c=c.parent)if(c==this)return l}posFromDOM(e,l,c){for(let f=e;f;f=f.parentNode){let h=this.getDesc(f);if(h)return h.localPosFromDOM(e,l,c)}return-1}descAt(e){for(let l=0,c=0;l<this.children.length;l++){let f=this.children[l],h=c+f.size;if(c==e&&h!=c){for(;!f.border&&f.children.length;)for(let p=0;p<f.children.length;p++){let d=f.children[p];if(d.size){f=d;break}}return f}if(e<h)return f.descAt(e-c-f.border);c=h}}domFromPos(e,l){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let c=0,f=0;for(let h=0;c<this.children.length;c++){let p=this.children[c],d=h+p.size;if(d>e||p instanceof TrailingHackViewDesc){f=e-h;break}h=d}if(f)return this.children[c].domFromPos(f-this.children[c].border,l);for(let h;c&&!(h=this.children[c-1]).size&&h instanceof WidgetViewDesc&&h.side>=0;c--);if(l<=0){let h,p=!0;for(;h=c?this.children[c-1]:null,!(!h||h.dom.parentNode==this.contentDOM);c--,p=!1);return h&&l&&p&&!h.border&&!h.domAtom?h.domFromPos(h.size,l):{node:this.contentDOM,offset:h?domIndex(h.dom)+1:0}}else{let h,p=!0;for(;h=c<this.children.length?this.children[c]:null,!(!h||h.dom.parentNode==this.contentDOM);c++,p=!1);return h&&p&&!h.border&&!h.domAtom?h.domFromPos(0,l):{node:this.contentDOM,offset:h?domIndex(h.dom):this.contentDOM.childNodes.length}}}parseRange(e,l,c=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:l,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let f=-1,h=-1;for(let p=c,d=0;;d++){let m=this.children[d],y=p+m.size;if(f==-1&&e<=y){let x=p+m.border;if(e>=x&&l<=y-m.border&&m.node&&m.contentDOM&&this.contentDOM.contains(m.contentDOM))return m.parseRange(e,l,x);e=p;for(let u=d;u>0;u--){let w=this.children[u-1];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(1)){f=domIndex(w.dom)+1;break}e-=w.size}f==-1&&(f=0)}if(f>-1&&(y>l||d==this.children.length-1)){l=y;for(let x=d+1;x<this.children.length;x++){let u=this.children[x];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){h=domIndex(u.dom);break}l+=u.size}h==-1&&(h=this.contentDOM.childNodes.length);break}p=y}return{node:this.contentDOM,from:e,to:l,fromOffset:f,toOffset:h}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let l=this.children[e<0?0:this.children.length-1];return l.size==0||l.emptyChildAt(e)}domAfterPos(e){let{node:l,offset:c}=this.domFromPos(e,0);if(l.nodeType!=1||c==l.childNodes.length)throw new RangeError("No node after pos "+e);return l.childNodes[c]}setSelection(e,l,c,f=!1){let h=Math.min(e,l),p=Math.max(e,l);for(let T=0,C=0;T<this.children.length;T++){let k=this.children[T],A=C+k.size;if(h>C&&p<A)return k.setSelection(e-C-k.border,l-C-k.border,c,f);C=A}let d=this.domFromPos(e,e?-1:1),m=l==e?d:this.domFromPos(l,l?-1:1),y=c.root.getSelection(),x=c.domSelectionRange(),u=!1;if((gecko||safari)&&e==l){let{node:T,offset:C}=d;if(T.nodeType==3){if(u=!!(C&&T.nodeValue[C-1]==`
`),u&&C==T.nodeValue.length)for(let k=T,A;k;k=k.parentNode){if(A=k.nextSibling){A.nodeName=="BR"&&(d=m={node:A.parentNode,offset:domIndex(A)+1});break}let g=k.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let k=T.childNodes[C-1];u=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(gecko&&x.focusNode&&x.focusNode!=m.node&&x.focusNode.nodeType==1){let T=x.focusNode.childNodes[x.focusOffset];T&&T.contentEditable=="false"&&(f=!0)}if(!(f||u&&safari)&&isEquivalentPosition(d.node,d.offset,x.anchorNode,x.anchorOffset)&&isEquivalentPosition(m.node,m.offset,x.focusNode,x.focusOffset))return;let w=!1;if((y.extend||e==l)&&!u){y.collapse(d.node,d.offset);try{e!=l&&y.extend(m.node,m.offset),w=!0}catch{}}if(!w){if(e>l){let C=d;d=m,m=C}let T=document.createRange();T.setEnd(m.node,m.offset),T.setStart(d.node,d.offset),y.removeAllRanges(),y.addRange(T)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,l){for(let c=0,f=0;f<this.children.length;f++){let h=this.children[f],p=c+h.size;if(c==p?e<=p&&l>=c:e<p&&l>c){let d=c+h.border,m=p-h.border;if(e>=d&&l<=m){this.dirty=e==c||l==p?CONTENT_DIRTY:CHILD_DIRTY,e==d&&l==m&&(h.contentLost||h.dom.parentNode!=this.contentDOM)?h.dirty=NODE_DIRTY:h.markDirty(e-d,l-d);return}else h.dirty=h.dom==h.contentDOM&&h.dom.parentNode==this.contentDOM&&!h.children.length?CONTENT_DIRTY:NODE_DIRTY}c=p}this.dirty=CONTENT_DIRTY}markParentsDirty(){let e=1;for(let l=this.parent;l;l=l.parent,e++){let c=e==1?CONTENT_DIRTY:CHILD_DIRTY;l.dirty<c&&(l.dirty=c)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class WidgetViewDesc extends ViewDesc{constructor(e,l,c,f){let h,p=l.type.toDOM;if(typeof p=="function"&&(p=p(c,()=>{if(!h)return f;if(h.parent)return h.parent.posBeforeChild(h)})),!l.type.spec.raw){if(p.nodeType!=1){let d=document.createElement("span");d.appendChild(p),p=d}p.contentEditable="false",p.classList.add("ProseMirror-widget")}super(e,[],p,null),this.widget=l,this.widget=l,h=this}matchesWidget(e){return this.dirty==NOT_DIRTY&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let l=this.widget.spec.stopEvent;return l?l(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(e,l,c,f){super(e,[],l,null),this.textDOM=c,this.text=f}get size(){return this.text.length}localPosFromDOM(e,l){return e!=this.textDOM?this.posAtStart+(l?this.size:0):this.posAtStart+l}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class MarkViewDesc extends ViewDesc{constructor(e,l,c,f,h){super(e,[],c,f),this.mark=l,this.spec=h}static create(e,l,c,f){let h=f.nodeViews[l.type.name],p=h&&h(l,f,c);return(!p||!p.dom)&&(p=DOMSerializer.renderSpec(document,l.type.spec.toDOM(l,c),null,l.attrs)),new MarkViewDesc(e,l,p.dom,p.contentDOM||p.dom,p)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=NODE_DIRTY&&this.mark.eq(e)}markDirty(e,l){if(super.markDirty(e,l),this.dirty!=NOT_DIRTY){let c=this.parent;for(;!c.node;)c=c.parent;c.dirty<this.dirty&&(c.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(e,l,c){let f=MarkViewDesc.create(this.parent,this.mark,!0,c),h=this.children,p=this.size;l<p&&(h=replaceNodes(h,l,p,c)),e>0&&(h=replaceNodes(h,0,e,c));for(let d=0;d<h.length;d++)h[d].parent=f;return f.children=h,f}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(e,l,c,f,h,p,d,m,y){super(e,[],h,p),this.node=l,this.outerDeco=c,this.innerDeco=f,this.nodeDOM=d}static create(e,l,c,f,h,p){let d=h.nodeViews[l.type.name],m,y=d&&d(l,h,()=>{if(!m)return p;if(m.parent)return m.parent.posBeforeChild(m)},c,f),x=y&&y.dom,u=y&&y.contentDOM;if(l.isText){if(!x)x=document.createTextNode(l.text);else if(x.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else x||({dom:x,contentDOM:u}=DOMSerializer.renderSpec(document,l.type.spec.toDOM(l),null,l.attrs));!u&&!l.isText&&x.nodeName!="BR"&&(x.hasAttribute("contenteditable")||(x.contentEditable="false"),l.type.spec.draggable&&(x.draggable=!0));let w=x;return x=applyOuterDeco(x,c,l),y?m=new CustomNodeViewDesc(e,l,c,f,x,u||null,w,y,h,p+1):l.isText?new TextViewDesc(e,l,c,f,x,w,h):new NodeViewDesc(e,l,c,f,x,u||null,w,h,p+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let l=this.children.length-1;l>=0;l--){let c=this.children[l];if(this.dom.contains(c.dom.parentNode)){e.contentElement=c.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Fragment.empty)}return e}matchesNode(e,l,c){return this.dirty==NOT_DIRTY&&e.eq(this.node)&&sameOuterDeco(l,this.outerDeco)&&c.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,l){let c=this.node.inlineContent,f=l,h=e.composing?this.localCompositionInfo(e,l):null,p=h&&h.pos>-1?h:null,d=h&&h.pos<0,m=new ViewTreeUpdater(this,p&&p.node,e);iterDeco(this.node,this.innerDeco,(y,x,u)=>{y.spec.marks?m.syncToMarks(y.spec.marks,c,e):y.type.side>=0&&!u&&m.syncToMarks(x==this.node.childCount?Mark$1.none:this.node.child(x).marks,c,e),m.placeWidget(y,e,f)},(y,x,u,w)=>{m.syncToMarks(y.marks,c,e);let T;m.findNodeMatch(y,x,u,w)||d&&e.state.selection.from>f&&e.state.selection.to<f+y.nodeSize&&(T=m.findIndexWithChild(h.node))>-1&&m.updateNodeAt(y,x,u,T,e)||m.updateNextNode(y,x,u,e,w,f)||m.addNode(y,x,u,e,f),f+=y.nodeSize}),m.syncToMarks([],c,e),this.node.isTextblock&&m.addTextblockHacks(),m.destroyRest(),(m.changed||this.dirty==CONTENT_DIRTY)&&(p&&this.protectLocalComposition(e,p),renderDescs(this.contentDOM,this.children,e),ios&&iosHacks(this.dom))}localCompositionInfo(e,l){let{from:c,to:f}=e.state.selection;if(!(e.state.selection instanceof TextSelection)||c<l||f>l+this.node.content.size)return null;let h=e.input.compositionNode;if(!h||!this.dom.contains(h.parentNode))return null;if(this.node.inlineContent){let p=h.nodeValue,d=findTextInFragment(this.node.content,p,c-l,f-l);return d<0?null:{node:h,pos:d,text:p}}else return{node:h,pos:-1,text:""}}protectLocalComposition(e,{node:l,pos:c,text:f}){if(this.getDesc(l))return;let h=l;for(;h.parentNode!=this.contentDOM;h=h.parentNode){for(;h.previousSibling;)h.parentNode.removeChild(h.previousSibling);for(;h.nextSibling;)h.parentNode.removeChild(h.nextSibling);h.pmViewDesc&&(h.pmViewDesc=void 0)}let p=new CompositionViewDesc(this,h,l,f);e.input.compositionNodes.push(p),this.children=replaceNodes(this.children,c,c+f.length,e,p)}update(e,l,c,f){return this.dirty==NODE_DIRTY||!e.sameMarkup(this.node)?!1:(this.updateInner(e,l,c,f),!0)}updateInner(e,l,c,f){this.updateOuterDeco(l),this.node=e,this.innerDeco=c,this.contentDOM&&this.updateChildren(f,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(e){if(sameOuterDeco(e,this.outerDeco))return;let l=this.nodeDOM.nodeType!=1,c=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,l),computeOuterDeco(e,this.node,l)),this.dom!=c&&(c.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(t,e,l,c,f){applyOuterDeco(c,e,t);let h=new NodeViewDesc(void 0,t,e,l,c,c,c,f,0);return h.contentDOM&&h.updateChildren(f,0),h}class TextViewDesc extends NodeViewDesc{constructor(e,l,c,f,h,p,d){super(e,l,c,f,h,null,p,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,l,c,f){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(l),(this.dirty!=NOT_DIRTY||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,f.trackWrites==this.nodeDOM&&(f.trackWrites=null)),this.node=e,this.dirty=NOT_DIRTY,!0)}inParent(){let e=this.parent.contentDOM;for(let l=this.nodeDOM;l;l=l.parentNode)if(l==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,l,c){return e==this.nodeDOM?this.posAtStart+Math.min(l,this.node.text.length):super.localPosFromDOM(e,l,c)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,l,c){let f=this.node.cut(e,l),h=document.createTextNode(f.text);return new TextViewDesc(this.parent,f,this.outerDeco,this.innerDeco,h,h,c)}markDirty(e,l){super.markDirty(e,l),this.dom!=this.nodeDOM&&(e==0||l==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(e){return this.node.text==e}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==NOT_DIRTY&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(e,l,c,f,h,p,d,m,y,x){super(e,l,c,f,h,p,d,y,x),this.spec=m}update(e,l,c,f){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let h=this.spec.update(e,l,c);return h&&this.updateInner(e,l,c,f),h}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,l,c,f)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,l,c,f){this.spec.setSelection?this.spec.setSelection(e,l,c.root):super.setSelection(e,l,c,f)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function renderDescs(t,e,l){let c=t.firstChild,f=!1;for(let h=0;h<e.length;h++){let p=e[h],d=p.dom;if(d.parentNode==t){for(;d!=c;)c=rm(c),f=!0;c=c.nextSibling}else f=!0,t.insertBefore(d,c);if(p instanceof MarkViewDesc){let m=c?c.previousSibling:t.lastChild;renderDescs(p.contentDOM,p.children,l),c=m?m.nextSibling:t.firstChild}}for(;c;)c=rm(c),f=!0;f&&l.trackWrites==t&&(l.trackWrites=null)}const OuterDecoLevel=function(t){t&&(this.nodeName=t)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(t,e,l){if(t.length==0)return noDeco;let c=l?noDeco[0]:new OuterDecoLevel,f=[c];for(let h=0;h<t.length;h++){let p=t[h].type.attrs;if(p){p.nodeName&&f.push(c=new OuterDecoLevel(p.nodeName));for(let d in p){let m=p[d];m!=null&&(l&&f.length==1&&f.push(c=new OuterDecoLevel(e.isInline?"span":"div")),d=="class"?c.class=(c.class?c.class+" ":"")+m:d=="style"?c.style=(c.style?c.style+";":"")+m:d!="nodeName"&&(c[d]=m))}}}return f}function patchOuterDeco(t,e,l,c){if(l==noDeco&&c==noDeco)return e;let f=e;for(let h=0;h<c.length;h++){let p=c[h],d=l[h];if(h){let m;d&&d.nodeName==p.nodeName&&f!=t&&(m=f.parentNode)&&m.nodeName.toLowerCase()==p.nodeName||(m=document.createElement(p.nodeName),m.pmIsDeco=!0,m.appendChild(f),d=noDeco[0]),f=m}patchAttributes(f,d||noDeco[0],p)}return f}function patchAttributes(t,e,l){for(let c in e)c!="class"&&c!="style"&&c!="nodeName"&&!(c in l)&&t.removeAttribute(c);for(let c in l)c!="class"&&c!="style"&&c!="nodeName"&&l[c]!=e[c]&&t.setAttribute(c,l[c]);if(e.class!=l.class){let c=e.class?e.class.split(" ").filter(Boolean):[],f=l.class?l.class.split(" ").filter(Boolean):[];for(let h=0;h<c.length;h++)f.indexOf(c[h])==-1&&t.classList.remove(c[h]);for(let h=0;h<f.length;h++)c.indexOf(f[h])==-1&&t.classList.add(f[h]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=l.style){if(e.style){let c=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,f;for(;f=c.exec(e.style);)t.style.removeProperty(f[1])}l.style&&(t.style.cssText+=l.style)}}function applyOuterDeco(t,e,l){return patchOuterDeco(t,t,noDeco,computeOuterDeco(e,l,t.nodeType!=1))}function sameOuterDeco(t,e){if(t.length!=e.length)return!1;for(let l=0;l<t.length;l++)if(!t[l].type.eq(e[l].type))return!1;return!0}function rm(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ViewTreeUpdater{constructor(e,l,c){this.lock=l,this.view=c,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=preMatch(e.node.content,e)}destroyBetween(e,l){if(e!=l){for(let c=e;c<l;c++)this.top.children[c].destroy();this.top.children.splice(e,l-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,l,c){let f=0,h=this.stack.length>>1,p=Math.min(h,e.length);for(;f<p&&(f==h-1?this.top:this.stack[f+1<<1]).matchesMark(e[f])&&e[f].type.spec.spanning!==!1;)f++;for(;f<h;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),h--;for(;h<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let m=this.index;m<Math.min(this.index+3,this.top.children.length);m++){let y=this.top.children[m];if(y.matchesMark(e[h])&&!this.isLocked(y.dom)){d=m;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let m=MarkViewDesc.create(this.top,e[h],l,c);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,h++}}findNodeMatch(e,l,c,f){let h=-1,p;if(f>=this.preMatch.index&&(p=this.preMatch.matches[f-this.preMatch.index]).parent==this.top&&p.matchesNode(e,l,c))h=this.top.children.indexOf(p,this.index);else for(let d=this.index,m=Math.min(this.top.children.length,d+5);d<m;d++){let y=this.top.children[d];if(y.matchesNode(e,l,c)&&!this.preMatch.matched.has(y)){h=d;break}}return h<0?!1:(this.destroyBetween(this.index,h),this.index++,!0)}updateNodeAt(e,l,c,f,h){let p=this.top.children[f];return p.dirty==NODE_DIRTY&&p.dom==p.contentDOM&&(p.dirty=CONTENT_DIRTY),p.update(e,l,c,h)?(this.destroyBetween(this.index,f),this.index++,!0):!1}findIndexWithChild(e){for(;;){let l=e.parentNode;if(!l)return-1;if(l==this.top.contentDOM){let c=e.pmViewDesc;if(c){for(let f=this.index;f<this.top.children.length;f++)if(this.top.children[f]==c)return f}return-1}e=l}}updateNextNode(e,l,c,f,h,p){for(let d=this.index;d<this.top.children.length;d++){let m=this.top.children[d];if(m instanceof NodeViewDesc){let y=this.preMatch.matched.get(m);if(y!=null&&y!=h)return!1;let x=m.dom,u,w=this.isLocked(x)&&!(e.isText&&m.node&&m.node.isText&&m.nodeDOM.nodeValue==e.text&&m.dirty!=NODE_DIRTY&&sameOuterDeco(l,m.outerDeco));if(!w&&m.update(e,l,c,f))return this.destroyBetween(this.index,d),m.dom!=x&&(this.changed=!0),this.index++,!0;if(!w&&(u=this.recreateWrapper(m,e,l,c,f,p)))return this.destroyBetween(this.index,d),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=CONTENT_DIRTY,u.updateChildren(f,p+1),u.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,l,c,f,h,p){if(e.dirty||l.isAtom||!e.children.length||!e.node.content.eq(l.content)||!sameOuterDeco(c,e.outerDeco)||!f.eq(e.innerDeco))return null;let d=NodeViewDesc.create(this.top,l,c,f,h,p);if(d.contentDOM){d.children=e.children,e.children=[];for(let m of d.children)m.parent=d}return e.destroy(),d}addNode(e,l,c,f,h){let p=NodeViewDesc.create(this.top,e,l,c,f,h);p.contentDOM&&p.updateChildren(f,h+1),this.top.children.splice(this.index++,0,p),this.changed=!0}placeWidget(e,l,c){let f=this.index<this.top.children.length?this.top.children[this.index]:null;if(f&&f.matchesWidget(e)&&(e==f.widget||!f.widget.type.toDOM.parentNode))this.index++;else{let h=new WidgetViewDesc(this.top,e,l,c);this.top.children.splice(this.index++,0,h),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],l=this.top;for(;e instanceof MarkViewDesc;)l=e,e=l.children[l.children.length-1];(!e||!(e instanceof TextViewDesc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((safari||chrome)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",l),this.addHackNode("BR",this.top))}addHackNode(e,l){if(l==this.top&&this.index<l.children.length&&l.children[this.index].matchesHack(e))this.index++;else{let c=document.createElement(e);e=="IMG"&&(c.className="ProseMirror-separator",c.alt=""),e=="BR"&&(c.className="ProseMirror-trailingBreak");let f=new TrailingHackViewDesc(this.top,[],c,null);l!=this.top?l.children.push(f):l.children.splice(this.index++,0,f),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function preMatch(t,e){let l=e,c=l.children.length,f=t.childCount,h=new Map,p=[];e:for(;f>0;){let d;for(;;)if(c){let y=l.children[c-1];if(y instanceof MarkViewDesc)l=y,c=y.children.length;else{d=y,c--;break}}else{if(l==e)break e;c=l.parent.children.indexOf(l),l=l.parent}let m=d.node;if(m){if(m!=t.child(f-1))break;--f,h.set(d,f),p.push(d)}}return{index:f,matched:h,matches:p.reverse()}}function compareSide(t,e){return t.type.side-e.type.side}function iterDeco(t,e,l,c){let f=e.locals(t),h=0;if(f.length==0){for(let y=0;y<t.childCount;y++){let x=t.child(y);c(x,f,e.forChild(h,x),y),h+=x.nodeSize}return}let p=0,d=[],m=null;for(let y=0;;){let x,u;for(;p<f.length&&f[p].to==h;){let A=f[p++];A.widget&&(x?(u||(u=[x])).push(A):x=A)}if(x)if(u){u.sort(compareSide);for(let A=0;A<u.length;A++)l(u[A],y,!!m)}else l(x,y,!!m);let w,T;if(m)T=-1,w=m,m=null;else if(y<t.childCount)T=y,w=t.child(y++);else break;for(let A=0;A<d.length;A++)d[A].to<=h&&d.splice(A--,1);for(;p<f.length&&f[p].from<=h&&f[p].to>h;)d.push(f[p++]);let C=h+w.nodeSize;if(w.isText){let A=C;p<f.length&&f[p].from<A&&(A=f[p].from);for(let g=0;g<d.length;g++)d[g].to<A&&(A=d[g].to);A<C&&(m=w.cut(A-h),w=w.cut(0,A-h),C=A,T=-1)}else for(;p<f.length&&f[p].to<C;)p++;let k=w.isInline&&!w.isLeaf?d.filter(A=>!A.inline):d.slice();c(w,k,e.forChild(h,w),T),h=C}}function iosHacks(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function findTextInFragment(t,e,l,c){for(let f=0,h=0;f<t.childCount&&h<=c;){let p=t.child(f++),d=h;if(h+=p.nodeSize,!p.isText)continue;let m=p.text;for(;f<t.childCount;){let y=t.child(f++);if(h+=y.nodeSize,!y.isText)break;m+=y.text}if(h>=l){if(h>=c&&m.slice(c-e.length-d,c-d)==e)return c-e.length;let y=d<c?m.lastIndexOf(e,c-d-1):-1;if(y>=0&&y+e.length+d>=l)return d+y;if(l==c&&m.length>=c+e.length-d&&m.slice(c-d,c-d+e.length)==e)return c}}return-1}function replaceNodes(t,e,l,c,f){let h=[];for(let p=0,d=0;p<t.length;p++){let m=t[p],y=d,x=d+=m.size;y>=l||x<=e?h.push(m):(y<e&&h.push(m.slice(0,e-y,c)),f&&(h.push(f),f=void 0),x>l&&h.push(m.slice(l-y,m.size,c)))}return h}function selectionFromDOM(t,e=null){let l=t.domSelectionRange(),c=t.state.doc;if(!l.focusNode)return null;let f=t.docView.nearestDesc(l.focusNode),h=f&&f.size==0,p=t.docView.posFromDOM(l.focusNode,l.focusOffset,1);if(p<0)return null;let d=c.resolve(p),m,y;if(selectionCollapsed(l)){for(m=p;f&&!f.node;)f=f.parent;let u=f.node;if(f&&u.isAtom&&NodeSelection.isSelectable(u)&&f.parent&&!(u.isInline&&isOnEdge(l.focusNode,l.focusOffset,f.dom))){let w=f.posBefore;y=new NodeSelection(p==w?d:c.resolve(w))}}else{if(l instanceof t.dom.ownerDocument.defaultView.Selection&&l.rangeCount>1){let u=p,w=p;for(let T=0;T<l.rangeCount;T++){let C=l.getRangeAt(T);u=Math.min(u,t.docView.posFromDOM(C.startContainer,C.startOffset,1)),w=Math.max(w,t.docView.posFromDOM(C.endContainer,C.endOffset,-1))}if(u<0)return null;[m,p]=w==t.state.selection.anchor?[w,u]:[u,w],d=c.resolve(p)}else m=t.docView.posFromDOM(l.anchorNode,l.anchorOffset,1);if(m<0)return null}let x=c.resolve(m);if(!y){let u=e=="pointer"||t.state.selection.head<d.pos&&!h?1:-1;y=selectionBetween(t,x,d,u)}return y}function editorOwnsSelection(t){return t.editable?t.hasFocus():hasSelection(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function selectionToDOM(t,e=!1){let l=t.state.selection;if(syncNodeSelection(t,l),!!editorOwnsSelection(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&chrome){let c=t.domSelectionRange(),f=t.domObserver.currentSelection;if(c.anchorNode&&f.anchorNode&&isEquivalentPosition(c.anchorNode,c.anchorOffset,f.anchorNode,f.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)selectCursorWrapper(t);else{let{anchor:c,head:f}=l,h,p;brokenSelectBetweenUneditable&&!(l instanceof TextSelection)&&(l.$from.parent.inlineContent||(h=temporarilyEditableNear(t,l.from)),!l.empty&&!l.$from.parent.inlineContent&&(p=temporarilyEditableNear(t,l.to))),t.docView.setSelection(c,f,t,e),brokenSelectBetweenUneditable&&(h&&resetEditable(h),p&&resetEditable(p)),l.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(t,e){let{node:l,offset:c}=t.docView.domFromPos(e,0),f=c<l.childNodes.length?l.childNodes[c]:null,h=c?l.childNodes[c-1]:null;if(safari&&f&&f.contentEditable=="false")return setEditable(f);if((!f||f.contentEditable=="false")&&(!h||h.contentEditable=="false")){if(f)return setEditable(f);if(h)return setEditable(h)}}function setEditable(t){return t.contentEditable="true",safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function resetEditable(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function removeClassOnSelectionChange(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let l=t.domSelectionRange(),c=l.anchorNode,f=l.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(l.anchorNode!=c||l.anchorOffset!=f)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(t){let e=t.domSelection(),l=document.createRange();if(!e)return;let c=t.cursorWrapper.dom,f=c.nodeName=="IMG";f?l.setStart(c.parentNode,domIndex(c)+1):l.setStart(c,0),l.collapse(!0),e.removeAllRanges(),e.addRange(l),!f&&!t.state.selection.visible&&ie$1&&ie_version<=11&&(c.disabled=!0,c.disabled=!1)}function syncNodeSelection(t,e){if(e instanceof NodeSelection){let l=t.docView.descAt(e.from);l!=t.lastSelectedViewDesc&&(clearNodeSelection(t),l&&l.selectNode(),t.lastSelectedViewDesc=l)}else clearNodeSelection(t)}function clearNodeSelection(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function selectionBetween(t,e,l,c){return t.someProp("createSelectionBetween",f=>f(t,e,l))||TextSelection.between(e,l,c)}function hasFocusAndSelection(t){return t.editable&&!t.hasFocus()?!1:hasSelection(t)}function hasSelection(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function anchorInRightPlace(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),l=t.domSelectionRange();return isEquivalentPosition(e.node,e.offset,l.anchorNode,l.anchorOffset)}function moveSelectionBlock(t,e){let{$anchor:l,$head:c}=t.selection,f=e>0?l.max(c):l.min(c),h=f.parent.inlineContent?f.depth?t.doc.resolve(e>0?f.after():f.before()):null:f;return h&&Selection.findFrom(h,e)}function apply(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function selectHorizontally(t,e,l){let c=t.state.selection;if(c instanceof TextSelection)if(l.indexOf("s")>-1){let{$head:f}=c,h=f.textOffset?null:e<0?f.nodeBefore:f.nodeAfter;if(!h||h.isText||!h.isLeaf)return!1;let p=t.state.doc.resolve(f.pos+h.nodeSize*(e<0?-1:1));return apply(t,new TextSelection(c.$anchor,p))}else if(c.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let f=moveSelectionBlock(t.state,e);return f&&f instanceof NodeSelection?apply(t,f):!1}else if(!(mac$2&&l.indexOf("m")>-1)){let f=c.$head,h=f.textOffset?null:e<0?f.nodeBefore:f.nodeAfter,p;if(!h||h.isText)return!1;let d=e<0?f.pos-h.nodeSize:f.pos;return h.isAtom||(p=t.docView.descAt(d))&&!p.contentDOM?NodeSelection.isSelectable(h)?apply(t,new NodeSelection(e<0?t.state.doc.resolve(f.pos-h.nodeSize):f)):webkit?apply(t,new TextSelection(t.state.doc.resolve(e<0?d:d+h.nodeSize))):!1:!1}}else return!1;else{if(c instanceof NodeSelection&&c.node.isInline)return apply(t,new TextSelection(e>0?c.$to:c.$from));{let f=moveSelectionBlock(t.state,e);return f?apply(t,f):!1}}}function nodeLen(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function isIgnorable(t,e){let l=t.pmViewDesc;return l&&l.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function skipIgnoredNodes(t,e){return e<0?skipIgnoredNodesBefore(t):skipIgnoredNodesAfter(t)}function skipIgnoredNodesBefore(t){let e=t.domSelectionRange(),l=e.focusNode,c=e.focusOffset;if(!l)return;let f,h,p=!1;for(gecko&&l.nodeType==1&&c<nodeLen(l)&&isIgnorable(l.childNodes[c],-1)&&(p=!0);;)if(c>0){if(l.nodeType!=1)break;{let d=l.childNodes[c-1];if(isIgnorable(d,-1))f=l,h=--c;else if(d.nodeType==3)l=d,c=l.nodeValue.length;else break}}else{if(isBlockNode(l))break;{let d=l.previousSibling;for(;d&&isIgnorable(d,-1);)f=l.parentNode,h=domIndex(d),d=d.previousSibling;if(d)l=d,c=nodeLen(l);else{if(l=l.parentNode,l==t.dom)break;c=0}}}p?setSelFocus(t,l,c):f&&setSelFocus(t,f,h)}function skipIgnoredNodesAfter(t){let e=t.domSelectionRange(),l=e.focusNode,c=e.focusOffset;if(!l)return;let f=nodeLen(l),h,p;for(;;)if(c<f){if(l.nodeType!=1)break;let d=l.childNodes[c];if(isIgnorable(d,1))h=l,p=++c;else break}else{if(isBlockNode(l))break;{let d=l.nextSibling;for(;d&&isIgnorable(d,1);)h=d.parentNode,p=domIndex(d)+1,d=d.nextSibling;if(d)l=d,c=0,f=nodeLen(l);else{if(l=l.parentNode,l==t.dom)break;c=f=0}}}h&&setSelFocus(t,h,p)}function isBlockNode(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function textNodeAfter(t,e){for(;t&&e==t.childNodes.length&&!hasBlockDesc(t);)e=domIndex(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let l=t.childNodes[e];if(l.nodeType==3)return l;if(l.nodeType==1&&l.contentEditable=="false")break;t=l,e=0}}function textNodeBefore(t,e){for(;t&&!e&&!hasBlockDesc(t);)e=domIndex(t),t=t.parentNode;for(;t&&e;){let l=t.childNodes[e-1];if(l.nodeType==3)return l;if(l.nodeType==1&&l.contentEditable=="false")break;t=l,e=t.childNodes.length}}function setSelFocus(t,e,l){if(e.nodeType!=3){let h,p;(p=textNodeAfter(e,l))?(e=p,l=0):(h=textNodeBefore(e,l))&&(e=h,l=h.nodeValue.length)}let c=t.domSelection();if(!c)return;if(selectionCollapsed(c)){let h=document.createRange();h.setEnd(e,l),h.setStart(e,l),c.removeAllRanges(),c.addRange(h)}else c.extend&&c.extend(e,l);t.domObserver.setCurSelection();let{state:f}=t;setTimeout(()=>{t.state==f&&selectionToDOM(t)},50)}function findDirection(t,e){let l=t.state.doc.resolve(e);if(!(chrome||windows$1)&&l.parent.inlineContent){let f=t.coordsAtPos(e);if(e>l.start()){let h=t.coordsAtPos(e-1),p=(h.top+h.bottom)/2;if(p>f.top&&p<f.bottom&&Math.abs(h.left-f.left)>1)return h.left<f.left?"ltr":"rtl"}if(e<l.end()){let h=t.coordsAtPos(e+1),p=(h.top+h.bottom)/2;if(p>f.top&&p<f.bottom&&Math.abs(h.left-f.left)>1)return h.left>f.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(t,e,l){let c=t.state.selection;if(c instanceof TextSelection&&!c.empty||l.indexOf("s")>-1||mac$2&&l.indexOf("m")>-1)return!1;let{$from:f,$to:h}=c;if(!f.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let p=moveSelectionBlock(t.state,e);if(p&&p instanceof NodeSelection)return apply(t,p)}if(!f.parent.inlineContent){let p=e<0?f:h,d=c instanceof AllSelection?Selection.near(p,e):Selection.findFrom(p,e);return d?apply(t,d):!1}return!1}function stopNativeHorizontalDelete(t,e){if(!(t.state.selection instanceof TextSelection))return!0;let{$head:l,$anchor:c,empty:f}=t.state.selection;if(!l.sameParent(c))return!0;if(!f)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let h=!l.textOffset&&(e<0?l.nodeBefore:l.nodeAfter);if(h&&!h.isText){let p=t.state.tr;return e<0?p.delete(l.pos-h.nodeSize,l.pos):p.delete(l.pos,l.pos+h.nodeSize),t.dispatch(p),!0}return!1}function switchEditable(t,e,l){t.domObserver.stop(),e.contentEditable=l,t.domObserver.start()}function safariDownArrowBug(t){if(!safari||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:l}=t.domSelectionRange();if(e&&e.nodeType==1&&l==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let c=e.firstChild;switchEditable(t,c,"true"),setTimeout(()=>switchEditable(t,c,"false"),20)}return!1}function getMods(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function captureKeyDown(t,e){let l=e.keyCode,c=getMods(e);if(l==8||mac$2&&l==72&&c=="c")return stopNativeHorizontalDelete(t,-1)||skipIgnoredNodes(t,-1);if(l==46&&!e.shiftKey||mac$2&&l==68&&c=="c")return stopNativeHorizontalDelete(t,1)||skipIgnoredNodes(t,1);if(l==13||l==27)return!0;if(l==37||mac$2&&l==66&&c=="c"){let f=l==37?findDirection(t,t.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(t,f,c)||skipIgnoredNodes(t,f)}else if(l==39||mac$2&&l==70&&c=="c"){let f=l==39?findDirection(t,t.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(t,f,c)||skipIgnoredNodes(t,f)}else{if(l==38||mac$2&&l==80&&c=="c")return selectVertically(t,-1,c)||skipIgnoredNodes(t,-1);if(l==40||mac$2&&l==78&&c=="c")return safariDownArrowBug(t)||selectVertically(t,1,c)||skipIgnoredNodes(t,1);if(c==(mac$2?"m":"c")&&(l==66||l==73||l==89||l==90))return!0}return!1}function serializeForClipboard(t,e){t.someProp("transformCopied",T=>{e=T(e,t)});let l=[],{content:c,openStart:f,openEnd:h}=e;for(;f>1&&h>1&&c.childCount==1&&c.firstChild.childCount==1;){f--,h--;let T=c.firstChild;l.push(T.type.name,T.attrs!=T.type.defaultAttrs?T.attrs:null),c=T.content}let p=t.someProp("clipboardSerializer")||DOMSerializer.fromSchema(t.state.schema),d=detachedDoc(),m=d.createElement("div");m.appendChild(p.serializeFragment(c,{document:d}));let y=m.firstChild,x,u=0;for(;y&&y.nodeType==1&&(x=wrapMap[y.nodeName.toLowerCase()]);){for(let T=x.length-1;T>=0;T--){let C=d.createElement(x[T]);for(;m.firstChild;)C.appendChild(m.firstChild);m.appendChild(C),u++}y=m.firstChild}y&&y.nodeType==1&&y.setAttribute("data-pm-slice",`${f} ${h}${u?` -${u}`:""} ${JSON.stringify(l)}`);let w=t.someProp("clipboardTextSerializer",T=>T(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:m,text:w,slice:e}}function parseFromClipboard(t,e,l,c,f){let h=f.parent.type.spec.code,p,d;if(!l&&!e)return null;let m=e&&(c||h||!l);if(m){if(t.someProp("transformPastedText",w=>{e=w(e,h||c,t)}),h)return e?new Slice(Fragment.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Slice.empty;let u=t.someProp("clipboardTextParser",w=>w(e,f,c,t));if(u)d=u;else{let w=f.marks(),{schema:T}=t.state,C=DOMSerializer.fromSchema(T);p=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let A=p.appendChild(document.createElement("p"));k&&A.appendChild(C.serializeNode(T.text(k,w)))})}}else t.someProp("transformPastedHTML",u=>{l=u(l,t)}),p=readHTML(l),webkit&&restoreReplacedSpaces(p);let y=p&&p.querySelector("[data-pm-slice]"),x=y&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(y.getAttribute("data-pm-slice")||"");if(x&&x[3])for(let u=+x[3];u>0;u--){let w=p.firstChild;for(;w&&w.nodeType!=1;)w=w.nextSibling;if(!w)break;p=w}if(d||(d=(t.someProp("clipboardParser")||t.someProp("domParser")||DOMParser.fromSchema(t.state.schema)).parseSlice(p,{preserveWhitespace:!!(m||x),context:f,ruleFromNode(w){return w.nodeName=="BR"&&!w.nextSibling&&w.parentNode&&!inlineParents.test(w.parentNode.nodeName)?{ignore:!0}:null}})),x)d=addContext(closeSlice(d,+x[1],+x[2]),x[4]);else if(d=Slice.maxOpen(normalizeSiblings(d.content,f),!0),d.openStart||d.openEnd){let u=0,w=0;for(let T=d.content.firstChild;u<d.openStart&&!T.type.spec.isolating;u++,T=T.firstChild);for(let T=d.content.lastChild;w<d.openEnd&&!T.type.spec.isolating;w++,T=T.lastChild);d=closeSlice(d,u,w)}return t.someProp("transformPasted",u=>{d=u(d,t)}),d}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(t,e){if(t.childCount<2)return t;for(let l=e.depth;l>=0;l--){let f=e.node(l).contentMatchAt(e.index(l)),h,p=[];if(t.forEach(d=>{if(!p)return;let m=f.findWrapping(d.type),y;if(!m)return p=null;if(y=p.length&&h.length&&addToSibling(m,h,d,p[p.length-1],0))p[p.length-1]=y;else{p.length&&(p[p.length-1]=closeRight(p[p.length-1],h.length));let x=withWrappers(d,m);p.push(x),f=f.matchType(x.type),h=m}}),p)return Fragment.from(p)}return t}function withWrappers(t,e,l=0){for(let c=e.length-1;c>=l;c--)t=e[c].create(null,Fragment.from(t));return t}function addToSibling(t,e,l,c,f){if(f<t.length&&f<e.length&&t[f]==e[f]){let h=addToSibling(t,e,l,c.lastChild,f+1);if(h)return c.copy(c.content.replaceChild(c.childCount-1,h));if(c.contentMatchAt(c.childCount).matchType(f==t.length-1?l.type:t[f+1]))return c.copy(c.content.append(Fragment.from(withWrappers(l,t,f+1))))}}function closeRight(t,e){if(e==0)return t;let l=t.content.replaceChild(t.childCount-1,closeRight(t.lastChild,e-1)),c=t.contentMatchAt(t.childCount).fillBefore(Fragment.empty,!0);return t.copy(l.append(c))}function closeRange(t,e,l,c,f,h){let p=e<0?t.firstChild:t.lastChild,d=p.content;return t.childCount>1&&(h=0),f<c-1&&(d=closeRange(d,e,l,c,f+1,h)),f>=l&&(d=e<0?p.contentMatchAt(0).fillBefore(d,h<=f).append(d):d.append(p.contentMatchAt(p.childCount).fillBefore(Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,p.copy(d))}function closeSlice(t,e,l){return e<t.openStart&&(t=new Slice(closeRange(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),l<t.openEnd&&(t=new Slice(closeRange(t.content,1,l,t.openEnd,0,0),t.openStart,l)),t}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(t){let e=window.trustedTypes;return e?(_policy||(_policy=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:l=>l})),_policy.createHTML(t)):t}function readHTML(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let l=detachedDoc().createElement("div"),c=/<([a-z][^>\s]+)/i.exec(t),f;if((f=c&&wrapMap[c[1].toLowerCase()])&&(t=f.map(h=>"<"+h+">").join("")+t+f.map(h=>"</"+h+">").reverse().join("")),l.innerHTML=maybeWrapTrusted(t),f)for(let h=0;h<f.length;h++)l=l.querySelector(f[h])||l;return l}function restoreReplacedSpaces(t){let e=t.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let l=0;l<e.length;l++){let c=e[l];c.childNodes.length==1&&c.textContent==""&&c.parentNode&&c.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),c)}}function addContext(t,e){if(!t.size)return t;let l=t.content.firstChild.type.schema,c;try{c=JSON.parse(e)}catch{return t}let{content:f,openStart:h,openEnd:p}=t;for(let d=c.length-2;d>=0;d-=2){let m=l.nodes[c[d]];if(!m||m.hasRequiredAttrs())break;f=Fragment.from(m.create(c[d+1],f)),h++,p++}return new Slice(f,h,p)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(t){for(let e in handlers){let l=handlers[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=c=>{eventBelongsToView(t,c)&&!runCustomHandler(t,c)&&(t.editable||!(c.type in editHandlers))&&l(t,c)},passiveHandlers[e]?{passive:!0}:void 0)}safari&&t.dom.addEventListener("input",()=>null),ensureListeners(t)}function setSelectionOrigin(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function destroyInput(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ensureListeners(t){t.someProp("handleDOMEvents",e=>{for(let l in e)t.input.eventHandlers[l]||t.dom.addEventListener(l,t.input.eventHandlers[l]=c=>runCustomHandler(t,c))})}function runCustomHandler(t,e){return t.someProp("handleDOMEvents",l=>{let c=l[e.type];return c?c(t,e)||e.defaultPrevented:!1})}function eventBelongsToView(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let l=e.target;l!=t.dom;l=l.parentNode)if(!l||l.nodeType==11||l.pmViewDesc&&l.pmViewDesc.stopEvent(e))return!1;return!0}function dispatchEvent(t,e){!runCustomHandler(t,e)&&handlers[e.type]&&(t.editable||!(e.type in editHandlers))&&handlers[e.type](t,e)}editHandlers.keydown=(t,e)=>{let l=e;if(t.input.shiftKey=l.keyCode==16||l.shiftKey,!inOrNearComposition(t,l)&&(t.input.lastKeyCode=l.keyCode,t.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&l.keyCode==13)))if(l.keyCode!=229&&t.domObserver.forceFlush(),ios&&l.keyCode==13&&!l.ctrlKey&&!l.altKey&&!l.metaKey){let c=Date.now();t.input.lastIOSEnter=c,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==c&&(t.someProp("handleKeyDown",f=>f(t,keyEvent(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",c=>c(t,l))||captureKeyDown(t,l)?l.preventDefault():setSelectionOrigin(t,"key")};editHandlers.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};editHandlers.keypress=(t,e)=>{let l=e;if(inOrNearComposition(t,l)||!l.charCode||l.ctrlKey&&!l.altKey||mac$2&&l.metaKey)return;if(t.someProp("handleKeyPress",f=>f(t,l))){l.preventDefault();return}let c=t.state.selection;if(!(c instanceof TextSelection)||!c.$from.sameParent(c.$to)){let f=String.fromCharCode(l.charCode);!/[\r\n]/.test(f)&&!t.someProp("handleTextInput",h=>h(t,c.$from.pos,c.$to.pos,f))&&t.dispatch(t.state.tr.insertText(f).scrollIntoView()),l.preventDefault()}};function eventCoords(t){return{left:t.clientX,top:t.clientY}}function isNear(t,e){let l=e.x-t.clientX,c=e.y-t.clientY;return l*l+c*c<100}function runHandlerOnContext(t,e,l,c,f){if(c==-1)return!1;let h=t.state.doc.resolve(c);for(let p=h.depth+1;p>0;p--)if(t.someProp(e,d=>p>h.depth?d(t,l,h.nodeAfter,h.before(p),f,!0):d(t,l,h.node(p),h.before(p),f,!1)))return!0;return!1}function updateSelection(t,e,l){if(t.focused||t.focus(),t.state.selection.eq(e))return;let c=t.state.tr.setSelection(e);c.setMeta("pointer",!0),t.dispatch(c)}function selectClickedLeaf(t,e){if(e==-1)return!1;let l=t.state.doc.resolve(e),c=l.nodeAfter;return c&&c.isAtom&&NodeSelection.isSelectable(c)?(updateSelection(t,new NodeSelection(l)),!0):!1}function selectClickedNode(t,e){if(e==-1)return!1;let l=t.state.selection,c,f;l instanceof NodeSelection&&(c=l.node);let h=t.state.doc.resolve(e);for(let p=h.depth+1;p>0;p--){let d=p>h.depth?h.nodeAfter:h.node(p);if(NodeSelection.isSelectable(d)){c&&l.$from.depth>0&&p>=l.$from.depth&&h.before(l.$from.depth+1)==l.$from.pos?f=h.before(l.$from.depth):f=h.before(p);break}}return f!=null?(updateSelection(t,NodeSelection.create(t.state.doc,f)),!0):!1}function handleSingleClick(t,e,l,c,f){return runHandlerOnContext(t,"handleClickOn",e,l,c)||t.someProp("handleClick",h=>h(t,e,c))||(f?selectClickedNode(t,l):selectClickedLeaf(t,l))}function handleDoubleClick(t,e,l,c){return runHandlerOnContext(t,"handleDoubleClickOn",e,l,c)||t.someProp("handleDoubleClick",f=>f(t,e,c))}function handleTripleClick(t,e,l,c){return runHandlerOnContext(t,"handleTripleClickOn",e,l,c)||t.someProp("handleTripleClick",f=>f(t,e,c))||defaultTripleClick(t,l,c)}function defaultTripleClick(t,e,l){if(l.button!=0)return!1;let c=t.state.doc;if(e==-1)return c.inlineContent?(updateSelection(t,TextSelection.create(c,0,c.content.size)),!0):!1;let f=c.resolve(e);for(let h=f.depth+1;h>0;h--){let p=h>f.depth?f.nodeAfter:f.node(h),d=f.before(h);if(p.inlineContent)updateSelection(t,TextSelection.create(c,d+1,d+1+p.content.size));else if(NodeSelection.isSelectable(p))updateSelection(t,NodeSelection.create(c,d));else continue;return!0}}function forceDOMFlush(t){return endComposition(t)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(t,e)=>{let l=e;t.input.shiftKey=l.shiftKey;let c=forceDOMFlush(t),f=Date.now(),h="singleClick";f-t.input.lastClick.time<500&&isNear(l,t.input.lastClick)&&!l[selectNodeModifier]&&t.input.lastClick.button==l.button&&(t.input.lastClick.type=="singleClick"?h="doubleClick":t.input.lastClick.type=="doubleClick"&&(h="tripleClick")),t.input.lastClick={time:f,x:l.clientX,y:l.clientY,type:h,button:l.button};let p=t.posAtCoords(eventCoords(l));p&&(h=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new MouseDown(t,p,l,!!c)):(h=="doubleClick"?handleDoubleClick:handleTripleClick)(t,p.pos,p.inside,l)?l.preventDefault():setSelectionOrigin(t,"pointer"))};class MouseDown{constructor(e,l,c,f){this.view=e,this.pos=l,this.event=c,this.flushed=f,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!c[selectNodeModifier],this.allowDefault=c.shiftKey;let h,p;if(l.inside>-1)h=e.state.doc.nodeAt(l.inside),p=l.inside;else{let x=e.state.doc.resolve(l.pos);h=x.parent,p=x.depth?x.before():0}const d=f?null:c.target,m=d?e.docView.nearestDesc(d,!0):null;this.target=m&&m.dom.nodeType==1?m.dom:null;let{selection:y}=e.state;(c.button==0&&h.type.spec.draggable&&h.type.spec.selectable!==!1||y instanceof NodeSelection&&y.from<=p&&y.to>p)&&(this.mightDrag={node:h,pos:p,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let l=this.pos;this.view.state.doc!=this.startDoc&&(l=this.view.posAtCoords(eventCoords(e))),this.updateAllowDefault(e),this.allowDefault||!l?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,l.pos,l.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(l.pos-this.view.state.selection.from),Math.abs(l.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(l.pos))),e.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(e){this.updateAllowDefault(e),setSelectionOrigin(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=t=>{t.input.lastTouch=Date.now(),forceDOMFlush(t),setSelectionOrigin(t,"pointer")};handlers.touchmove=t=>{t.input.lastTouch=Date.now(),setSelectionOrigin(t,"pointer")};handlers.contextmenu=t=>forceDOMFlush(t);function inOrNearComposition(t,e){return t.composing?!0:safari&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,l=e.selection.$to;if(e.selection instanceof TextSelection&&(e.storedMarks||!l.textOffset&&l.parentOffset&&l.nodeBefore.marks.some(c=>c.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||l.marks(),endComposition(t,!0),t.markCursor=null;else if(endComposition(t,!e.selection.empty),gecko&&e.selection.empty&&l.parentOffset&&!l.textOffset&&l.nodeBefore.marks.length){let c=t.domSelectionRange();for(let f=c.focusNode,h=c.focusOffset;f&&f.nodeType==1&&h!=0;){let p=h<0?f.lastChild:f.childNodes[h-1];if(!p)break;if(p.nodeType==3){let d=t.domSelection();d&&d.collapse(p,p.nodeValue.length);break}else f=p,h=-1}}t.input.composing=!0}scheduleComposeEnd(t,timeoutComposition)};editHandlers.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,scheduleComposeEnd(t,20))};function scheduleComposeEnd(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>endComposition(t),e))}function clearComposition(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=timestampFromCustomEvent());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let l=textNodeBefore$1(e.focusNode,e.focusOffset),c=textNodeAfter$1(e.focusNode,e.focusOffset);if(l&&c&&l!=c){let f=c.pmViewDesc,h=t.domObserver.lastChangedTextNode;if(l==h||c==h)return h;if(!f||!f.isText(c.nodeValue))return c;if(t.input.compositionNode==c){let p=l.pmViewDesc;if(!(!p||!p.isText(l.nodeValue)))return c}}return l||c}function timestampFromCustomEvent(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function endComposition(t,e=!1){if(!(android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),clearComposition(t),e||t.docView&&t.docView.dirty){let l=selectionFromDOM(t),c=t.state.selection;return l&&!l.eq(c)?t.dispatch(t.state.tr.setSelection(l)):(t.markCursor||e)&&!c.$from.node(c.$from.sharedDepth(c.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function captureCopy(t,e){if(!t.dom.parentNode)return;let l=t.dom.parentNode.appendChild(document.createElement("div"));l.appendChild(e),l.style.cssText="position: fixed; left: -10000px; top: 10px";let c=getSelection(),f=document.createRange();f.selectNodeContents(e),t.dom.blur(),c.removeAllRanges(),c.addRange(f),setTimeout(()=>{l.parentNode&&l.parentNode.removeChild(l),t.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(t,e)=>{let l=e,c=t.state.selection,f=l.type=="cut";if(c.empty)return;let h=brokenClipboardAPI?null:l.clipboardData,p=c.content(),{dom:d,text:m}=serializeForClipboard(t,p);h?(l.preventDefault(),h.clearData(),h.setData("text/html",d.innerHTML),h.setData("text/plain",m)):captureCopy(t,d),f&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function capturePaste(t,e){if(!t.dom.parentNode)return;let l=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,c=t.dom.parentNode.appendChild(document.createElement(l?"textarea":"div"));l||(c.contentEditable="true"),c.style.cssText="position: fixed; left: -10000px; top: 10px",c.focus();let f=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),c.parentNode&&c.parentNode.removeChild(c),l?doPaste(t,c.value,null,f,e):doPaste(t,c.textContent,c.innerHTML,f,e)},50)}function doPaste(t,e,l,c,f){let h=parseFromClipboard(t,e,l,c,t.state.selection.$from);if(t.someProp("handlePaste",m=>m(t,f,h||Slice.empty)))return!0;if(!h)return!1;let p=sliceSingleNode(h),d=p?t.state.tr.replaceSelectionWith(p,c):t.state.tr.replaceSelection(h);return t.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let l=t.getData("text/uri-list");return l?l.replace(/\r?\n/g," "):""}editHandlers.paste=(t,e)=>{let l=e;if(t.composing&&!android)return;let c=brokenClipboardAPI?null:l.clipboardData,f=t.input.shiftKey&&t.input.lastKeyCode!=45;c&&doPaste(t,getText$1(c),c.getData("text/html"),f,l)?l.preventDefault():capturePaste(t,l)};class Dragging{constructor(e,l,c){this.slice=e,this.move=l,this.node=c}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(t,e){let l=t.someProp("dragCopies",c=>!c(e));return l??!e[dragCopyModifier]}handlers.dragstart=(t,e)=>{let l=e,c=t.input.mouseDown;if(c&&c.done(),!l.dataTransfer)return;let f=t.state.selection,h=f.empty?null:t.posAtCoords(eventCoords(l)),p;if(!(h&&h.pos>=f.from&&h.pos<=(f instanceof NodeSelection?f.to-1:f.to))){if(c&&c.mightDrag)p=NodeSelection.create(t.state.doc,c.mightDrag.pos);else if(l.target&&l.target.nodeType==1){let u=t.docView.nearestDesc(l.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&(p=NodeSelection.create(t.state.doc,u.posBefore))}}let d=(p||t.state.selection).content(),{dom:m,text:y,slice:x}=serializeForClipboard(t,d);(!l.dataTransfer.files.length||!chrome||chrome_version>120)&&l.dataTransfer.clearData(),l.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",m.innerHTML),l.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||l.dataTransfer.setData("text/plain",y),t.dragging=new Dragging(x,dragMoves(t,l),p)};handlers.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(t,e)=>e.preventDefault();editHandlers.drop=(t,e)=>{let l=e,c=t.dragging;if(t.dragging=null,!l.dataTransfer)return;let f=t.posAtCoords(eventCoords(l));if(!f)return;let h=t.state.doc.resolve(f.pos),p=c&&c.slice;p?t.someProp("transformPasted",C=>{p=C(p,t)}):p=parseFromClipboard(t,getText$1(l.dataTransfer),brokenClipboardAPI?null:l.dataTransfer.getData("text/html"),!1,h);let d=!!(c&&dragMoves(t,l));if(t.someProp("handleDrop",C=>C(t,l,p||Slice.empty,d))){l.preventDefault();return}if(!p)return;l.preventDefault();let m=p?dropPoint(t.state.doc,h.pos,p):h.pos;m==null&&(m=h.pos);let y=t.state.tr;if(d){let{node:C}=c;C?C.replace(y):y.deleteSelection()}let x=y.mapping.map(m),u=p.openStart==0&&p.openEnd==0&&p.content.childCount==1,w=y.doc;if(u?y.replaceRangeWith(x,x,p.content.firstChild):y.replaceRange(x,x,p),y.doc.eq(w))return;let T=y.doc.resolve(x);if(u&&NodeSelection.isSelectable(p.content.firstChild)&&T.nodeAfter&&T.nodeAfter.sameMarkup(p.content.firstChild))y.setSelection(new NodeSelection(T));else{let C=y.mapping.map(m);y.mapping.maps[y.mapping.maps.length-1].forEach((k,A,g,E)=>C=E),y.setSelection(selectionBetween(t,T,y.doc.resolve(C)))}t.focus(),t.dispatch(y.setMeta("uiEvent","drop"))};handlers.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&selectionToDOM(t)},20))};handlers.blur=(t,e)=>{let l=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),l.relatedTarget&&t.dom.contains(l.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};handlers.beforeinput=(t,e)=>{if(chrome&&android&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:c}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=c||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",h=>h(t,keyEvent(8,"Backspace")))))return;let{$cursor:f}=t.state.selection;f&&f.pos>0&&t.dispatch(t.state.tr.delete(f.pos-1,f.pos).scrollIntoView())},50)}};for(let t in editHandlers)handlers[t]=editHandlers[t];function compareObjs(t,e){if(t==e)return!0;for(let l in t)if(t[l]!==e[l])return!1;for(let l in e)if(!(l in t))return!1;return!0}class WidgetType{constructor(e,l){this.toDOM=e,this.spec=l||noSpec,this.side=this.spec.side||0}map(e,l,c,f){let{pos:h,deleted:p}=e.mapResult(l.from+f,this.side<0?-1:1);return p?null:new Decoration(h-c,h-c,this)}valid(){return!0}eq(e){return this==e||e instanceof WidgetType&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&compareObjs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class InlineType{constructor(e,l){this.attrs=e,this.spec=l||noSpec}map(e,l,c,f){let h=e.map(l.from+f,this.spec.inclusiveStart?-1:1)-c,p=e.map(l.to+f,this.spec.inclusiveEnd?1:-1)-c;return h>=p?null:new Decoration(h,p,this)}valid(e,l){return l.from<l.to}eq(e){return this==e||e instanceof InlineType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}static is(e){return e.type instanceof InlineType}destroy(){}}class NodeType{constructor(e,l){this.attrs=e,this.spec=l||noSpec}map(e,l,c,f){let h=e.mapResult(l.from+f,1);if(h.deleted)return null;let p=e.mapResult(l.to+f,-1);return p.deleted||p.pos<=h.pos?null:new Decoration(h.pos-c,p.pos-c,this)}valid(e,l){let{index:c,offset:f}=e.content.findIndex(l.from),h;return f==l.from&&!(h=e.child(c)).isText&&f+h.nodeSize==l.to}eq(e){return this==e||e instanceof NodeType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}destroy(){}}class Decoration{constructor(e,l,c){this.from=e,this.to=l,this.type=c}copy(e,l){return new Decoration(e,l,this.type)}eq(e,l=0){return this.type.eq(e.type)&&this.from+l==e.from&&this.to+l==e.to}map(e,l,c){return this.type.map(e,this,l,c)}static widget(e,l,c){return new Decoration(e,e,new WidgetType(l,c))}static inline(e,l,c,f){return new Decoration(e,l,new InlineType(c,f))}static node(e,l,c,f){return new Decoration(e,l,new NodeType(c,f))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(e,l){this.local=e.length?e:none,this.children=l.length?l:none}static create(e,l){return l.length?buildTree(l,e,0,noSpec):empty}find(e,l,c){let f=[];return this.findInner(e??0,l??1e9,f,0,c),f}findInner(e,l,c,f,h){for(let p=0;p<this.local.length;p++){let d=this.local[p];d.from<=l&&d.to>=e&&(!h||h(d.spec))&&c.push(d.copy(d.from+f,d.to+f))}for(let p=0;p<this.children.length;p+=3)if(this.children[p]<l&&this.children[p+1]>e){let d=this.children[p]+1;this.children[p+2].findInner(e-d,l-d,c,f+d,h)}}map(e,l,c){return this==empty||e.maps.length==0?this:this.mapInner(e,l,0,0,c||noSpec)}mapInner(e,l,c,f,h){let p;for(let d=0;d<this.local.length;d++){let m=this.local[d].map(e,c,f);m&&m.type.valid(l,m)?(p||(p=[])).push(m):h.onRemove&&h.onRemove(this.local[d].spec)}return this.children.length?mapChildren(this.children,p||[],e,l,c,f,h):p?new DecorationSet(p.sort(byPos),none):empty}add(e,l){return l.length?this==empty?DecorationSet.create(e,l):this.addInner(e,l,0):this}addInner(e,l,c){let f,h=0;e.forEach((d,m)=>{let y=m+c,x;if(x=takeSpansForNode(l,d,y)){for(f||(f=this.children.slice());h<f.length&&f[h]<m;)h+=3;f[h]==m?f[h+2]=f[h+2].addInner(d,x,y+1):f.splice(h,0,m,m+d.nodeSize,buildTree(x,d,y+1,noSpec)),h+=3}});let p=moveSpans(h?withoutNulls(l):l,-c);for(let d=0;d<p.length;d++)p[d].type.valid(e,p[d])||p.splice(d--,1);return new DecorationSet(p.length?this.local.concat(p).sort(byPos):this.local,f||this.children)}remove(e){return e.length==0||this==empty?this:this.removeInner(e,0)}removeInner(e,l){let c=this.children,f=this.local;for(let h=0;h<c.length;h+=3){let p,d=c[h]+l,m=c[h+1]+l;for(let x=0,u;x<e.length;x++)(u=e[x])&&u.from>d&&u.to<m&&(e[x]=null,(p||(p=[])).push(u));if(!p)continue;c==this.children&&(c=this.children.slice());let y=c[h+2].removeInner(p,d+1);y!=empty?c[h+2]=y:(c.splice(h,3),h-=3)}if(f.length){for(let h=0,p;h<e.length;h++)if(p=e[h])for(let d=0;d<f.length;d++)f[d].eq(p,l)&&(f==this.local&&(f=this.local.slice()),f.splice(d--,1))}return c==this.children&&f==this.local?this:f.length||c.length?new DecorationSet(f,c):empty}forChild(e,l){if(this==empty)return this;if(l.isLeaf)return DecorationSet.empty;let c,f;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(c=this.children[d+2]);break}let h=e+1,p=h+l.content.size;for(let d=0;d<this.local.length;d++){let m=this.local[d];if(m.from<p&&m.to>h&&m.type instanceof InlineType){let y=Math.max(h,m.from)-h,x=Math.min(p,m.to)-h;y<x&&(f||(f=[])).push(m.copy(y,x))}}if(f){let d=new DecorationSet(f.sort(byPos),none);return c?new DecorationGroup([d,c]):d}return c||empty}eq(e){if(this==e)return!0;if(!(e instanceof DecorationSet)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let l=0;l<this.local.length;l++)if(!this.local[l].eq(e.local[l]))return!1;for(let l=0;l<this.children.length;l+=3)if(this.children[l]!=e.children[l]||this.children[l+1]!=e.children[l+1]||!this.children[l+2].eq(e.children[l+2]))return!1;return!0}locals(e){return removeOverlap(this.localsInner(e))}localsInner(e){if(this==empty)return none;if(e.inlineContent||!this.local.some(InlineType.is))return this.local;let l=[];for(let c=0;c<this.local.length;c++)this.local[c].type instanceof InlineType||l.push(this.local[c]);return l}forEachSet(e){e(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(e){this.members=e}map(e,l){const c=this.members.map(f=>f.map(e,l,noSpec));return DecorationGroup.from(c)}forChild(e,l){if(l.isLeaf)return DecorationSet.empty;let c=[];for(let f=0;f<this.members.length;f++){let h=this.members[f].forChild(e,l);h!=empty&&(h instanceof DecorationGroup?c=c.concat(h.members):c.push(h))}return DecorationGroup.from(c)}eq(e){if(!(e instanceof DecorationGroup)||e.members.length!=this.members.length)return!1;for(let l=0;l<this.members.length;l++)if(!this.members[l].eq(e.members[l]))return!1;return!0}locals(e){let l,c=!0;for(let f=0;f<this.members.length;f++){let h=this.members[f].localsInner(e);if(h.length)if(!l)l=h;else{c&&(l=l.slice(),c=!1);for(let p=0;p<h.length;p++)l.push(h[p])}}return l?removeOverlap(c?l:l.sort(byPos)):none}static from(e){switch(e.length){case 0:return empty;case 1:return e[0];default:return new DecorationGroup(e.every(l=>l instanceof DecorationSet)?e:e.reduce((l,c)=>l.concat(c instanceof DecorationSet?c:c.members),[]))}}forEachSet(e){for(let l=0;l<this.members.length;l++)this.members[l].forEachSet(e)}}function mapChildren(t,e,l,c,f,h,p){let d=t.slice();for(let y=0,x=h;y<l.maps.length;y++){let u=0;l.maps[y].forEach((w,T,C,k)=>{let A=k-C-(T-w);for(let g=0;g<d.length;g+=3){let E=d[g+1];if(E<0||w>E+x-u)continue;let v=d[g]+x-u;T>=v?d[g+1]=w<=v?-2:-1:w>=x&&A&&(d[g]+=A,d[g+1]+=A)}u+=A}),x=l.maps[y].map(x,-1)}let m=!1;for(let y=0;y<d.length;y+=3)if(d[y+1]<0){if(d[y+1]==-2){m=!0,d[y+1]=-1;continue}let x=l.map(t[y]+h),u=x-f;if(u<0||u>=c.content.size){m=!0;continue}let w=l.map(t[y+1]+h,-1),T=w-f,{index:C,offset:k}=c.content.findIndex(u),A=c.maybeChild(C);if(A&&k==u&&k+A.nodeSize==T){let g=d[y+2].mapInner(l,A,x+1,t[y]+h+1,p);g!=empty?(d[y]=u,d[y+1]=T,d[y+2]=g):(d[y+1]=-2,m=!0)}else m=!0}if(m){let y=mapAndGatherRemainingDecorations(d,t,e,l,f,h,p),x=buildTree(y,c,0,p);e=x.local;for(let u=0;u<d.length;u+=3)d[u+1]<0&&(d.splice(u,3),u-=3);for(let u=0,w=0;u<x.children.length;u+=3){let T=x.children[u];for(;w<d.length&&d[w]<T;)w+=3;d.splice(w,0,x.children[u],x.children[u+1],x.children[u+2])}}return new DecorationSet(e.sort(byPos),d)}function moveSpans(t,e){if(!e||!t.length)return t;let l=[];for(let c=0;c<t.length;c++){let f=t[c];l.push(new Decoration(f.from+e,f.to+e,f.type))}return l}function mapAndGatherRemainingDecorations(t,e,l,c,f,h,p){function d(m,y){for(let x=0;x<m.local.length;x++){let u=m.local[x].map(c,f,y);u?l.push(u):p.onRemove&&p.onRemove(m.local[x].spec)}for(let x=0;x<m.children.length;x+=3)d(m.children[x+2],m.children[x]+y+1)}for(let m=0;m<t.length;m+=3)t[m+1]==-1&&d(t[m+2],e[m]+h+1);return l}function takeSpansForNode(t,e,l){if(e.isLeaf)return null;let c=l+e.nodeSize,f=null;for(let h=0,p;h<t.length;h++)(p=t[h])&&p.from>l&&p.to<c&&((f||(f=[])).push(p),t[h]=null);return f}function withoutNulls(t){let e=[];for(let l=0;l<t.length;l++)t[l]!=null&&e.push(t[l]);return e}function buildTree(t,e,l,c){let f=[],h=!1;e.forEach((d,m)=>{let y=takeSpansForNode(t,d,m+l);if(y){h=!0;let x=buildTree(y,d,l+m+1,c);x!=empty&&f.push(m,m+d.nodeSize,x)}});let p=moveSpans(h?withoutNulls(t):t,-l).sort(byPos);for(let d=0;d<p.length;d++)p[d].type.valid(e,p[d])||(c.onRemove&&c.onRemove(p[d].spec),p.splice(d--,1));return p.length||f.length?new DecorationSet(p,f):empty}function byPos(t,e){return t.from-e.from||t.to-e.to}function removeOverlap(t){let e=t;for(let l=0;l<e.length-1;l++){let c=e[l];if(c.from!=c.to)for(let f=l+1;f<e.length;f++){let h=e[f];if(h.from==c.from){h.to!=c.to&&(e==t&&(e=t.slice()),e[f]=h.copy(h.from,c.to),insertAhead(e,f+1,h.copy(c.to,h.to)));continue}else{h.from<c.to&&(e==t&&(e=t.slice()),e[l]=c.copy(c.from,h.from),insertAhead(e,f,c.copy(h.from,c.to)));break}}}return e}function insertAhead(t,e,l){for(;e<t.length&&byPos(l,t[e])>0;)e++;t.splice(e,0,l)}function viewDecorations(t){let e=[];return t.someProp("decorations",l=>{let c=l(t.state);c&&c!=empty&&e.push(c)}),t.cursorWrapper&&e.push(DecorationSet.create(t.state.doc,[t.cursorWrapper.deco])),DecorationGroup.from(e)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DOMObserver{constructor(e,l){this.view=e,this.handleDOMChange=l,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(c=>{for(let f=0;f<c.length;f++)this.queue.push(c[f]);ie$1&&ie_version<=11&&c.some(f=>f.type=="childList"&&f.removedNodes.length||f.type=="characterData"&&f.oldValue.length>f.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=c=>{this.queue.push({target:c.target,type:"characterData",oldValue:c.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let l=0;l<e.length;l++)this.queue.push(e[l]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let l=new Set,c;for(let h=e.focusNode;h;h=parentNode(h))l.add(h);for(let h=e.anchorNode;h;h=parentNode(h))if(l.has(h)){c=h;break}let f=c&&this.view.docView.nearestDesc(c);if(f&&f.ignoreMutation({type:"selection",target:c.nodeType==3?c.parentNode:c}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let l=this.pendingRecords();l.length&&(this.queue=[]);let c=e.domSelectionRange(),f=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(c)&&hasFocusAndSelection(e)&&!this.ignoreSelectionChange(c),h=-1,p=-1,d=!1,m=[];if(e.editable)for(let x=0;x<l.length;x++){let u=this.registerMutation(l[x],m);u&&(h=h<0?u.from:Math.min(u.from,h),p=p<0?u.to:Math.max(u.to,p),u.typeOver&&(d=!0))}if(gecko&&m.length){let x=m.filter(u=>u.nodeName=="BR");if(x.length==2){let[u,w]=x;u.parentNode&&u.parentNode.parentNode==w.parentNode?w.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let w of x){let T=w.parentNode;T&&T.nodeName=="LI"&&(!u||blockParent(e,u)!=T)&&w.remove()}}}let y=null;h<0&&f&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&selectionCollapsed(c)&&(y=selectionFromDOM(e))&&y.eq(Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,selectionToDOM(e),this.currentSelection.set(c),e.scrollToSelection()):(h>-1||f)&&(h>-1&&(e.docView.markDirty(h,p),checkCSS(e)),this.handleDOMChange(h,p,d,m),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(c)||selectionToDOM(e),this.currentSelection.set(c))}registerMutation(e,l){if(l.indexOf(e.target)>-1)return null;let c=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(c==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!c||c.ignoreMutation(e))return null;if(e.type=="childList"){for(let x=0;x<e.addedNodes.length;x++){let u=e.addedNodes[x];l.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(c.contentDOM&&c.contentDOM!=c.dom&&!c.contentDOM.contains(e.target))return{from:c.posBefore,to:c.posAfter};let f=e.previousSibling,h=e.nextSibling;if(ie$1&&ie_version<=11&&e.addedNodes.length)for(let x=0;x<e.addedNodes.length;x++){let{previousSibling:u,nextSibling:w}=e.addedNodes[x];(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(f=u),(!w||Array.prototype.indexOf.call(e.addedNodes,w)<0)&&(h=w)}let p=f&&f.parentNode==e.target?domIndex(f)+1:0,d=c.localPosFromDOM(e.target,p,-1),m=h&&h.parentNode==e.target?domIndex(h):e.target.childNodes.length,y=c.localPosFromDOM(e.target,m,1);return{from:d,to:y}}else return e.type=="attributes"?{from:c.posAtStart-c.border,to:c.posAtEnd+c.border}:(this.lastChangedTextNode=e.target,{from:c.posAtStart,to:c.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(t){if(!cssChecked.has(t)&&(cssChecked.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(t,e){let l=e.startContainer,c=e.startOffset,f=e.endContainer,h=e.endOffset,p=t.domAtPos(t.state.selection.anchor);return isEquivalentPosition(p.node,p.offset,f,h)&&([l,c,f,h]=[f,h,l,c]),{anchorNode:l,anchorOffset:c,focusNode:f,focusOffset:h}}function safariShadowSelectionRange(t,e){if(e.getComposedRanges){let f=e.getComposedRanges(t.root)[0];if(f)return rangeToSelectionRange(t,f)}let l;function c(f){f.preventDefault(),f.stopImmediatePropagation(),l=f.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",c,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",c,!0),l?rangeToSelectionRange(t,l):null}function blockParent(t,e){for(let l=e.parentNode;l&&l!=t.dom;l=l.parentNode){let c=t.docView.nearestDesc(l,!0);if(c&&c.node.isBlock)return l}return null}function parseBetween(t,e,l){let{node:c,fromOffset:f,toOffset:h,from:p,to:d}=t.docView.parseRange(e,l),m=t.domSelectionRange(),y,x=m.anchorNode;if(x&&t.dom.contains(x.nodeType==1?x:x.parentNode)&&(y=[{node:x,offset:m.anchorOffset}],selectionCollapsed(m)||y.push({node:m.focusNode,offset:m.focusOffset})),chrome&&t.input.lastKeyCode===8)for(let A=h;A>f;A--){let g=c.childNodes[A-1],E=g.pmViewDesc;if(g.nodeName=="BR"&&!E){h=A;break}if(!E||E.size)break}let u=t.state.doc,w=t.someProp("domParser")||DOMParser.fromSchema(t.state.schema),T=u.resolve(p),C=null,k=w.parse(c,{topNode:T.parent,topMatch:T.parent.contentMatchAt(T.index()),topOpen:!0,from:f,to:h,preserveWhitespace:T.parent.type.whitespace=="pre"?"full":!0,findPositions:y,ruleFromNode,context:T});if(y&&y[0].pos!=null){let A=y[0].pos,g=y[1]&&y[1].pos;g==null&&(g=A),C={anchor:A+p,head:g+p}}return{doc:k,sel:C,from:p,to:d}}function ruleFromNode(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let l=document.createElement("div");return l.appendChild(document.createElement("li")),{skip:l}}else if(t.parentNode.lastChild==t||safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(t,e,l,c,f){let h=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,K=selectionFromDOM(t,L);if(K&&!t.state.selection.eq(K)){if(chrome&&android&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",D=>D(t,keyEvent(13,"Enter"))))return;let $=t.state.tr.setSelection(K);L=="pointer"?$.setMeta("pointer",!0):L=="key"&&$.scrollIntoView(),h&&$.setMeta("composition",h),t.dispatch($)}return}let p=t.state.doc.resolve(e),d=p.sharedDepth(l);e=p.before(d+1),l=t.state.doc.resolve(l).after(d+1);let m=t.state.selection,y=parseBetween(t,e,l),x=t.state.doc,u=x.slice(y.from,y.to),w,T;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(w=t.state.selection.to,T="end"):(w=t.state.selection.from,T="start"),t.input.lastKeyCode=null;let C=findDiff(u.content,y.doc.content,y.from,w,T);if(C&&t.input.domChangeCount++,(ios&&t.input.lastIOSEnter>Date.now()-225||android)&&f.some(L=>L.nodeType==1&&!isInline.test(L.nodeName))&&(!C||C.endA>=C.endB)&&t.someProp("handleKeyDown",L=>L(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!C)if(c&&m instanceof TextSelection&&!m.empty&&m.$head.sameParent(m.$anchor)&&!t.composing&&!(y.sel&&y.sel.anchor!=y.sel.head))C={start:m.from,endA:m.to,endB:m.to};else{if(y.sel){let L=resolveSelection(t,t.state.doc,y.sel);if(L&&!L.eq(t.state.selection)){let K=t.state.tr.setSelection(L);h&&K.setMeta("composition",h),t.dispatch(K)}}return}t.state.selection.from<t.state.selection.to&&C.start==C.endB&&t.state.selection instanceof TextSelection&&(C.start>t.state.selection.from&&C.start<=t.state.selection.from+2&&t.state.selection.from>=y.from?C.start=t.state.selection.from:C.endA<t.state.selection.to&&C.endA>=t.state.selection.to-2&&t.state.selection.to<=y.to&&(C.endB+=t.state.selection.to-C.endA,C.endA=t.state.selection.to)),ie$1&&ie_version<=11&&C.endB==C.start+1&&C.endA==C.start&&C.start>y.from&&y.doc.textBetween(C.start-y.from-1,C.start-y.from+1)==" "&&(C.start--,C.endA--,C.endB--);let k=y.doc.resolveNoCache(C.start-y.from),A=y.doc.resolveNoCache(C.endB-y.from),g=x.resolve(C.start),E=k.sameParent(A)&&k.parent.inlineContent&&g.end()>=C.endA,v;if((ios&&t.input.lastIOSEnter>Date.now()-225&&(!E||f.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!E&&k.pos<y.doc.content.size&&(!k.sameParent(A)||!k.parent.inlineContent)&&!/\S/.test(y.doc.textBetween(k.pos,A.pos,"",""))&&(v=Selection.findFrom(y.doc.resolve(k.pos+1),1,!0))&&v.head>k.pos)&&t.someProp("handleKeyDown",L=>L(t,keyEvent(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>C.start&&looksLikeBackspace(x,C.start,C.endA,k,A)&&t.someProp("handleKeyDown",L=>L(t,keyEvent(8,"Backspace")))){android&&chrome&&t.domObserver.suppressSelectionUpdates();return}chrome&&C.endB==C.start&&(t.input.lastChromeDelete=Date.now()),android&&!E&&k.start()!=A.start()&&A.parentOffset==0&&k.depth==A.depth&&y.sel&&y.sel.anchor==y.sel.head&&y.sel.head==C.endA&&(C.endB-=2,A=y.doc.resolveNoCache(C.endB-y.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,keyEvent(13,"Enter"))})},20));let M=C.start,R=C.endA,I,J,_;if(E){if(k.pos==A.pos)ie$1&&ie_version<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(t),20)),I=t.state.tr.delete(M,R),J=x.resolve(C.start).marksAcross(x.resolve(C.endA));else if(C.endA==C.endB&&(_=isMarkChange(k.parent.content.cut(k.parentOffset,A.parentOffset),g.parent.content.cut(g.parentOffset,C.endA-g.start()))))I=t.state.tr,_.type=="add"?I.addMark(M,R,_.mark):I.removeMark(M,R,_.mark);else if(k.parent.child(k.index()).isText&&k.index()==A.index()-(A.textOffset?0:1)){let L=k.parent.textBetween(k.parentOffset,A.parentOffset);if(t.someProp("handleTextInput",K=>K(t,M,R,L)))return;I=t.state.tr.insertText(L,M,R)}}if(I||(I=t.state.tr.replace(M,R,y.doc.slice(C.start-y.from,C.endB-y.from))),y.sel){let L=resolveSelection(t,I.doc,y.sel);L&&!(chrome&&t.composing&&L.empty&&(C.start!=C.endB||t.input.lastChromeDelete<Date.now()-100)&&(L.head==M||L.head==I.mapping.map(R)-1)||ie$1&&L.empty&&L.head==M)&&I.setSelection(L)}J&&I.ensureMarks(J),h&&I.setMeta("composition",h),t.dispatch(I.scrollIntoView())}function resolveSelection(t,e,l){return Math.max(l.anchor,l.head)>e.content.size?null:selectionBetween(t,e.resolve(l.anchor),e.resolve(l.head))}function isMarkChange(t,e){let l=t.firstChild.marks,c=e.firstChild.marks,f=l,h=c,p,d,m;for(let x=0;x<c.length;x++)f=c[x].removeFromSet(f);for(let x=0;x<l.length;x++)h=l[x].removeFromSet(h);if(f.length==1&&h.length==0)d=f[0],p="add",m=x=>x.mark(d.addToSet(x.marks));else if(f.length==0&&h.length==1)d=h[0],p="remove",m=x=>x.mark(d.removeFromSet(x.marks));else return null;let y=[];for(let x=0;x<e.childCount;x++)y.push(m(e.child(x)));if(Fragment.from(y).eq(t))return{mark:d,type:p}}function looksLikeBackspace(t,e,l,c,f){if(l-e<=f.pos-c.pos||skipClosingAndOpening(c,!0,!1)<f.pos)return!1;let h=t.resolve(e);if(!c.parent.isTextblock){let d=h.nodeAfter;return d!=null&&l==e+d.nodeSize}if(h.parentOffset<h.parent.content.size||!h.parent.isTextblock)return!1;let p=t.resolve(skipClosingAndOpening(h,!0,!0));return!p.parent.isTextblock||p.pos>l||skipClosingAndOpening(p,!0,!1)<l?!1:c.parent.content.cut(c.parentOffset).eq(p.parent.content)}function skipClosingAndOpening(t,e,l){let c=t.depth,f=e?t.end():t.pos;for(;c>0&&(e||t.indexAfter(c)==t.node(c).childCount);)c--,f++,e=!1;if(l){let h=t.node(c).maybeChild(t.indexAfter(c));for(;h&&!h.isLeaf;)h=h.firstChild,f++}return f}function findDiff(t,e,l,c,f){let h=t.findDiffStart(e,l);if(h==null)return null;let{a:p,b:d}=t.findDiffEnd(e,l+t.size,l+e.size);if(f=="end"){let m=Math.max(0,h-Math.min(p,d));c-=p+m-h}if(p<h&&t.size<e.size){let m=c<=h&&c>=p?h-c:0;h-=m,h&&h<e.size&&isSurrogatePair(e.textBetween(h-1,h+1))&&(h+=m?1:-1),d=h+(d-p),p=h}else if(d<h){let m=c<=h&&c>=d?h-c:0;h-=m,h&&h<t.size&&isSurrogatePair(t.textBetween(h-1,h+1))&&(h+=m?1:-1),p=h+(p-d),d=h}return{start:h,endA:p,endB:d}}function isSurrogatePair(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),l=t.charCodeAt(1);return e>=56320&&e<=57343&&l>=55296&&l<=56319}class EditorView{constructor(e,l){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=l,this.state=l.state,this.directPlugins=l.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(c,f,h,p)=>readDOMChange(this,c,f,h,p)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let l in e)this._props[l]=e[l];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let l=this._props;this._props=e,e.plugins&&(e.plugins.forEach(checkStateComponent),this.directPlugins=e.plugins),this.updateStateInner(e.state,l)}setProps(e){let l={};for(let c in this._props)l[c]=this._props[c];l.state=this.state;for(let c in e)l[c]=e[c];this.update(l)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,l){var c;let f=this.state,h=!1,p=!1;e.storedMarks&&this.composing&&(clearComposition(this),p=!0),this.state=e;let d=f.plugins!=e.plugins||this._props.plugins!=l.plugins;if(d||this._props.plugins!=l.plugins||this._props.nodeViews!=l.nodeViews){let T=buildNodeViews(this);changedNodeViews(T,this.nodeViews)&&(this.nodeViews=T,h=!0)}(d||l.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let m=viewDecorations(this),y=computeDocDeco(this),x=f.plugins!=e.plugins&&!f.doc.eq(e.doc)?"reset":e.scrollToSelection>f.scrollToSelection?"to selection":"preserve",u=h||!this.docView.matchesNode(e.doc,y,m);(u||!e.selection.eq(f.selection))&&(p=!0);let w=x=="preserve"&&p&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(p){this.domObserver.stop();let T=u&&(ie$1||chrome)&&!this.composing&&!f.selection.empty&&!e.selection.empty&&selectionContextChanged(f.selection,e.selection);if(u){let C=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(h||!this.docView.update(e.doc,y,m,this))&&(this.docView.updateOuterDeco(y),this.docView.destroy(),this.docView=docViewDesc(e.doc,y,m,this.dom,this)),C&&!this.trackWrites&&(T=!0)}T||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,T):(syncNodeSelection(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(f),!((c=this.dragging)===null||c===void 0)&&c.node&&!f.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,f),x=="reset"?this.dom.scrollTop=0:x=="to selection"?this.scrollToSelection():w&&resetScrollPos(w)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",l=>l(this)))if(this.state.selection instanceof NodeSelection){let l=this.docView.domAfterPos(this.state.selection.from);l.nodeType==1&&scrollRectIntoView(this,l.getBoundingClientRect(),e)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l];c.spec.view&&this.pluginViews.push(c.spec.view(this))}for(let l=0;l<this.state.plugins.length;l++){let c=this.state.plugins[l];c.spec.view&&this.pluginViews.push(c.spec.view(this))}}else for(let l=0;l<this.pluginViews.length;l++){let c=this.pluginViews[l];c.update&&c.update(this,e)}}updateDraggedNode(e,l){let c=e.node,f=-1;if(this.state.doc.nodeAt(c.from)==c.node)f=c.from;else{let h=c.from+(this.state.doc.content.size-l.doc.content.size);(h>0&&this.state.doc.nodeAt(h))==c.node&&(f=h)}this.dragging=new Dragging(e.slice,e.move,f<0?void 0:NodeSelection.create(this.state.doc,f))}someProp(e,l){let c=this._props&&this._props[e],f;if(c!=null&&(f=l?l(c):c))return f;for(let p=0;p<this.directPlugins.length;p++){let d=this.directPlugins[p].props[e];if(d!=null&&(f=l?l(d):d))return f}let h=this.state.plugins;if(h)for(let p=0;p<h.length;p++){let d=h[p].props[e];if(d!=null&&(f=l?l(d):d))return f}}hasFocus(){if(ie$1){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let l=this.dom.parentNode;l;l=l.parentNode)if(l.nodeType==9||l.nodeType==11&&l.host)return l.getSelection||(Object.getPrototypeOf(l).getSelection=()=>l.ownerDocument.getSelection()),this._root=l}return e||document}updateRoot(){this._root=null}posAtCoords(e){return posAtCoords(this,e)}coordsAtPos(e,l=1){return coordsAtPos(this,e,l)}domAtPos(e,l=0){return this.docView.domFromPos(e,l)}nodeDOM(e){let l=this.docView.descAt(e);return l?l.nodeDOM:null}posAtDOM(e,l,c=-1){let f=this.docView.posFromDOM(e,l,c);if(f==null)throw new RangeError("DOM position not inside the editor");return f}endOfTextblock(e,l){return endOfTextblock(this,l||this.state,e)}pasteHTML(e,l){return doPaste(this,"",e,!1,l||new ClipboardEvent("paste"))}pasteText(e,l){return doPaste(this,e,null,!0,l||new ClipboardEvent("paste"))}serializeForClipboard(e){return serializeForClipboard(this,e)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return dispatchEvent(this,e)}dispatch(e){let l=this._props.dispatchTransaction;l?l.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function computeDocDeco(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",l=>{if(typeof l=="function"&&(l=l(t.state)),l)for(let c in l)c=="class"?e.class+=" "+l[c]:c=="style"?e.style=(e.style?e.style+";":"")+l[c]:!e[c]&&c!="contenteditable"&&c!="nodeName"&&(e[c]=String(l[c]))}),e.translate||(e.translate="no"),[Decoration.node(0,t.state.doc.content.size,e)]}function updateCursorWrapper(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Decoration.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function getEditable(t){return!t.someProp("editable",e=>e(t.state)===!1)}function selectionContextChanged(t,e){let l=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(l)!=e.$anchor.start(l)}function buildNodeViews(t){let e=Object.create(null);function l(c){for(let f in c)Object.prototype.hasOwnProperty.call(e,f)||(e[f]=c[f])}return t.someProp("nodeViews",l),t.someProp("markViews",l),e}function changedNodeViews(t,e){let l=0,c=0;for(let f in t){if(t[f]!=e[f])return!0;l++}for(let f in e)c++;return l!=c}function checkStateComponent(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base$1={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base$1[48+i]=base$1[96+i]=String(i);for(var i=1;i<=24;i++)base$1[i+111]="F"+i;for(var i=65;i<=90;i++)base$1[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code$1 in base$1)shift.hasOwnProperty(code$1)||(shift[code$1]=base$1[code$1]);function keyName(t){var e=mac$1&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ie&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",l=!e&&t.key||(t.shiftKey?shift:base$1)[t.keyCode]||t.key||"Unidentified";return l=="Esc"&&(l="Escape"),l=="Del"&&(l="Delete"),l=="Left"&&(l="ArrowLeft"),l=="Up"&&(l="ArrowUp"),l=="Right"&&(l="ArrowRight"),l=="Down"&&(l="ArrowDown"),l}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(t){let e=t.split(/-(?!$)/),l=e[e.length-1];l=="Space"&&(l=" ");let c,f,h,p;for(let d=0;d<e.length-1;d++){let m=e[d];if(/^(cmd|meta|m)$/i.test(m))p=!0;else if(/^a(lt)?$/i.test(m))c=!0;else if(/^(c|ctrl|control)$/i.test(m))f=!0;else if(/^s(hift)?$/i.test(m))h=!0;else if(/^mod$/i.test(m))mac?p=!0:f=!0;else throw new Error("Unrecognized modifier name: "+m)}return c&&(l="Alt-"+l),f&&(l="Ctrl-"+l),p&&(l="Meta-"+l),h&&(l="Shift-"+l),l}function normalize$1(t){let e=Object.create(null);for(let l in t)e[normalizeKeyName$1(l)]=t[l];return e}function modifiers(t,e,l=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),l&&e.shiftKey&&(t="Shift-"+t),t}function keymap(t){return new Plugin({props:{handleKeyDown:keydownHandler(t)}})}function keydownHandler(t){let e=normalize$1(t);return function(l,c){let f=keyName(c),h,p=e[modifiers(f,c)];if(p&&p(l.state,l.dispatch,l))return!0;if(f.length==1&&f!=" "){if(c.shiftKey){let d=e[modifiers(f,c,!1)];if(d&&d(l.state,l.dispatch,l))return!0}if((c.altKey||c.metaKey||c.ctrlKey)&&!(windows&&c.ctrlKey&&c.altKey)&&(h=base$1[c.keyCode])&&h!=f){let d=e[modifiers(h,c)];if(d&&d(l.state,l.dispatch,l))return!0}}return!1}}const deleteSelection$1=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(t,e){let{$cursor:l}=t.selection;return!l||(e?!e.endOfTextblock("backward",t):l.parentOffset>0)?null:l}const joinBackward$1=(t,e,l)=>{let c=atBlockStart(t,l);if(!c)return!1;let f=findCutBefore(c);if(!f){let p=c.blockRange(),d=p&&liftTarget(p);return d==null?!1:(e&&e(t.tr.lift(p,d).scrollIntoView()),!0)}let h=f.nodeBefore;if(deleteBarrier(t,f,e,-1))return!0;if(c.parent.content.size==0&&(textblockAt(h,"end")||NodeSelection.isSelectable(h)))for(let p=c.depth;;p--){let d=replaceStep(t.doc,c.before(p),c.after(p),Slice.empty);if(d&&d.slice.size<d.to-d.from){if(e){let m=t.tr.step(d);m.setSelection(textblockAt(h,"end")?Selection.findFrom(m.doc.resolve(m.mapping.map(f.pos,-1)),-1):NodeSelection.create(m.doc,f.pos-h.nodeSize)),e(m.scrollIntoView())}return!0}if(p==1||c.node(p-1).childCount>1)break}return h.isAtom&&f.depth==c.depth-1?(e&&e(t.tr.delete(f.pos-h.nodeSize,f.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(t,e,l)=>{let c=atBlockStart(t,l);if(!c)return!1;let f=findCutBefore(c);return f?joinTextblocksAround(t,f,e):!1},joinTextblockForward$1=(t,e,l)=>{let c=atBlockEnd(t,l);if(!c)return!1;let f=findCutAfter(c);return f?joinTextblocksAround(t,f,e):!1};function joinTextblocksAround(t,e,l){let c=e.nodeBefore,f=c,h=e.pos-1;for(;!f.isTextblock;h--){if(f.type.spec.isolating)return!1;let x=f.lastChild;if(!x)return!1;f=x}let p=e.nodeAfter,d=p,m=e.pos+1;for(;!d.isTextblock;m++){if(d.type.spec.isolating)return!1;let x=d.firstChild;if(!x)return!1;d=x}let y=replaceStep(t.doc,h,m,Slice.empty);if(!y||y.from!=h||y instanceof ReplaceStep&&y.slice.size>=m-h)return!1;if(l){let x=t.tr.step(y);x.setSelection(TextSelection.create(x.doc,h)),l(x.scrollIntoView())}return!0}function textblockAt(t,e,l=!1){for(let c=t;c;c=e=="start"?c.firstChild:c.lastChild){if(c.isTextblock)return!0;if(l&&c.childCount!=1)return!1}return!1}const selectNodeBackward$1=(t,e,l)=>{let{$head:c,empty:f}=t.selection,h=c;if(!f)return!1;if(c.parent.isTextblock){if(l?!l.endOfTextblock("backward",t):c.parentOffset>0)return!1;h=findCutBefore(c)}let p=h&&h.nodeBefore;return!p||!NodeSelection.isSelectable(p)?!1:(e&&e(t.tr.setSelection(NodeSelection.create(t.doc,h.pos-p.nodeSize)).scrollIntoView()),!0)};function findCutBefore(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function atBlockEnd(t,e){let{$cursor:l}=t.selection;return!l||(e?!e.endOfTextblock("forward",t):l.parentOffset<l.parent.content.size)?null:l}const joinForward$1=(t,e,l)=>{let c=atBlockEnd(t,l);if(!c)return!1;let f=findCutAfter(c);if(!f)return!1;let h=f.nodeAfter;if(deleteBarrier(t,f,e,1))return!0;if(c.parent.content.size==0&&(textblockAt(h,"start")||NodeSelection.isSelectable(h))){let p=replaceStep(t.doc,c.before(),c.after(),Slice.empty);if(p&&p.slice.size<p.to-p.from){if(e){let d=t.tr.step(p);d.setSelection(textblockAt(h,"start")?Selection.findFrom(d.doc.resolve(d.mapping.map(f.pos)),1):NodeSelection.create(d.doc,d.mapping.map(f.pos))),e(d.scrollIntoView())}return!0}}return h.isAtom&&f.depth==c.depth-1?(e&&e(t.tr.delete(f.pos,f.pos+h.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(t,e,l)=>{let{$head:c,empty:f}=t.selection,h=c;if(!f)return!1;if(c.parent.isTextblock){if(l?!l.endOfTextblock("forward",t):c.parentOffset<c.parent.content.size)return!1;h=findCutAfter(c)}let p=h&&h.nodeAfter;return!p||!NodeSelection.isSelectable(p)?!1:(e&&e(t.tr.setSelection(NodeSelection.create(t.doc,h.pos)).scrollIntoView()),!0)};function findCutAfter(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let l=t.node(e);if(t.index(e)+1<l.childCount)return t.doc.resolve(t.after(e+1));if(l.type.spec.isolating)break}return null}const joinUp$1=(t,e)=>{let l=t.selection,c=l instanceof NodeSelection,f;if(c){if(l.node.isTextblock||!canJoin(t.doc,l.from))return!1;f=l.from}else if(f=joinPoint(t.doc,l.from,-1),f==null)return!1;if(e){let h=t.tr.join(f);c&&h.setSelection(NodeSelection.create(h.doc,f-t.doc.resolve(f).nodeBefore.nodeSize)),e(h.scrollIntoView())}return!0},joinDown$1=(t,e)=>{let l=t.selection,c;if(l instanceof NodeSelection){if(l.node.isTextblock||!canJoin(t.doc,l.to))return!1;c=l.to}else if(c=joinPoint(t.doc,l.to,1),c==null)return!1;return e&&e(t.tr.join(c).scrollIntoView()),!0},lift$1=(t,e)=>{let{$from:l,$to:c}=t.selection,f=l.blockRange(c),h=f&&liftTarget(f);return h==null?!1:(e&&e(t.tr.lift(f,h).scrollIntoView()),!0)},newlineInCode$1=(t,e)=>{let{$head:l,$anchor:c}=t.selection;return!l.parent.type.spec.code||!l.sameParent(c)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(t){for(let e=0;e<t.edgeCount;e++){let{type:l}=t.edge(e);if(l.isTextblock&&!l.hasRequiredAttrs())return l}return null}const exitCode$1=(t,e)=>{let{$head:l,$anchor:c}=t.selection;if(!l.parent.type.spec.code||!l.sameParent(c))return!1;let f=l.node(-1),h=l.indexAfter(-1),p=defaultBlockAt$1(f.contentMatchAt(h));if(!p||!f.canReplaceWith(h,h,p))return!1;if(e){let d=l.after(),m=t.tr.replaceWith(d,d,p.createAndFill());m.setSelection(Selection.near(m.doc.resolve(d),1)),e(m.scrollIntoView())}return!0},createParagraphNear$1=(t,e)=>{let l=t.selection,{$from:c,$to:f}=l;if(l instanceof AllSelection||c.parent.inlineContent||f.parent.inlineContent)return!1;let h=defaultBlockAt$1(f.parent.contentMatchAt(f.indexAfter()));if(!h||!h.isTextblock)return!1;if(e){let p=(!c.parentOffset&&f.index()<f.parent.childCount?c:f).pos,d=t.tr.insert(p,h.createAndFill());d.setSelection(TextSelection.create(d.doc,p+1)),e(d.scrollIntoView())}return!0},liftEmptyBlock$1=(t,e)=>{let{$cursor:l}=t.selection;if(!l||l.parent.content.size)return!1;if(l.depth>1&&l.after()!=l.end(-1)){let h=l.before();if(canSplit(t.doc,h))return e&&e(t.tr.split(h).scrollIntoView()),!0}let c=l.blockRange(),f=c&&liftTarget(c);return f==null?!1:(e&&e(t.tr.lift(c,f).scrollIntoView()),!0)},selectParentNode$1=(t,e)=>{let{$from:l,to:c}=t.selection,f,h=l.sharedDepth(c);return h==0?!1:(f=l.before(h),e&&e(t.tr.setSelection(NodeSelection.create(t.doc,f))),!0)};function joinMaybeClear(t,e,l){let c=e.nodeBefore,f=e.nodeAfter,h=e.index();return!c||!f||!c.type.compatibleContent(f.type)?!1:!c.content.size&&e.parent.canReplace(h-1,h)?(l&&l(t.tr.delete(e.pos-c.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(h,h+1)||!(f.isTextblock||canJoin(t.doc,e.pos))?!1:(l&&l(t.tr.join(e.pos).scrollIntoView()),!0)}function deleteBarrier(t,e,l,c){let f=e.nodeBefore,h=e.nodeAfter,p,d,m=f.type.spec.isolating||h.type.spec.isolating;if(!m&&joinMaybeClear(t,e,l))return!0;let y=!m&&e.parent.canReplace(e.index(),e.index()+1);if(y&&(p=(d=f.contentMatchAt(f.childCount)).findWrapping(h.type))&&d.matchType(p[0]||h.type).validEnd){if(l){let T=e.pos+h.nodeSize,C=Fragment.empty;for(let g=p.length-1;g>=0;g--)C=Fragment.from(p[g].create(null,C));C=Fragment.from(f.copy(C));let k=t.tr.step(new ReplaceAroundStep(e.pos-1,T,e.pos,T,new Slice(C,1,0),p.length,!0)),A=k.doc.resolve(T+2*p.length);A.nodeAfter&&A.nodeAfter.type==f.type&&canJoin(k.doc,A.pos)&&k.join(A.pos),l(k.scrollIntoView())}return!0}let x=h.type.spec.isolating||c>0&&m?null:Selection.findFrom(e,1),u=x&&x.$from.blockRange(x.$to),w=u&&liftTarget(u);if(w!=null&&w>=e.depth)return l&&l(t.tr.lift(u,w).scrollIntoView()),!0;if(y&&textblockAt(h,"start",!0)&&textblockAt(f,"end")){let T=f,C=[];for(;C.push(T),!T.isTextblock;)T=T.lastChild;let k=h,A=1;for(;!k.isTextblock;k=k.firstChild)A++;if(T.canReplace(T.childCount,T.childCount,k.content)){if(l){let g=Fragment.empty;for(let v=C.length-1;v>=0;v--)g=Fragment.from(C[v].copy(g));let E=t.tr.step(new ReplaceAroundStep(e.pos-C.length,e.pos+h.nodeSize,e.pos+A,e.pos+h.nodeSize-A,new Slice(g,C.length,0),0,!0));l(E.scrollIntoView())}return!0}}return!1}function selectTextblockSide(t){return function(e,l){let c=e.selection,f=t<0?c.$from:c.$to,h=f.depth;for(;f.node(h).isInline;){if(!h)return!1;h--}return f.node(h).isTextblock?(l&&l(e.tr.setSelection(TextSelection.create(e.doc,t<0?f.start(h):f.end(h)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(t,e=null){return function(l,c){let{$from:f,$to:h}=l.selection,p=f.blockRange(h),d=p&&findWrapping(p,t,e);return d?(c&&c(l.tr.wrap(p,d).scrollIntoView()),!0):!1}}function setBlockType(t,e=null){return function(l,c){let f=!1;for(let h=0;h<l.selection.ranges.length&&!f;h++){let{$from:{pos:p},$to:{pos:d}}=l.selection.ranges[h];l.doc.nodesBetween(p,d,(m,y)=>{if(f)return!1;if(!(!m.isTextblock||m.hasMarkup(t,e)))if(m.type==t)f=!0;else{let x=l.doc.resolve(y),u=x.index();f=x.parent.canReplaceWith(u,u+1,t)}})}if(!f)return!1;if(c){let h=l.tr;for(let p=0;p<l.selection.ranges.length;p++){let{$from:{pos:d},$to:{pos:m}}=l.selection.ranges[p];h.setBlockType(d,m,t,e)}c(h.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(t,e=null){return function(l,c){let{$from:f,$to:h}=l.selection,p=f.blockRange(h);if(!p)return!1;let d=c?l.tr:null;return wrapRangeInList(d,p,t,e)?(c&&c(d.scrollIntoView()),!0):!1}}function wrapRangeInList(t,e,l,c=null){let f=!1,h=e,p=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(l)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let m=p.resolve(e.start-2);h=new NodeRange(m,m,e.depth),e.endIndex<e.parent.childCount&&(e=new NodeRange(e.$from,p.resolve(e.$to.end(e.depth)),e.depth)),f=!0}let d=findWrapping(h,l,c,e);return d?(t&&doWrapInList(t,e,d,f,l),!0):!1}function doWrapInList(t,e,l,c,f){let h=Fragment.empty;for(let x=l.length-1;x>=0;x--)h=Fragment.from(l[x].type.create(l[x].attrs,h));t.step(new ReplaceAroundStep(e.start-(c?2:0),e.end,e.start,e.end,new Slice(h,0,0),l.length,!0));let p=0;for(let x=0;x<l.length;x++)l[x].type==f&&(p=x+1);let d=l.length-p,m=e.start+l.length-(c?2:0),y=e.parent;for(let x=e.startIndex,u=e.endIndex,w=!0;x<u;x++,w=!1)!w&&canSplit(t.doc,m,d)&&(t.split(m,d),m+=2*d),m+=y.child(x).nodeSize;return t}function liftListItem$1(t){return function(e,l){let{$from:c,$to:f}=e.selection,h=c.blockRange(f,p=>p.childCount>0&&p.firstChild.type==t);return h?l?c.node(h.depth-1).type==t?liftToOuterList(e,l,t,h):liftOutOfList(e,l,h):!0:!1}}function liftToOuterList(t,e,l,c){let f=t.tr,h=c.end,p=c.$to.end(c.depth);h<p&&(f.step(new ReplaceAroundStep(h-1,p,h,p,new Slice(Fragment.from(l.create(null,c.parent.copy())),1,0),1,!0)),c=new NodeRange(f.doc.resolve(c.$from.pos),f.doc.resolve(p),c.depth));const d=liftTarget(c);if(d==null)return!1;f.lift(c,d);let m=f.doc.resolve(f.mapping.map(h,-1)-1);return canJoin(f.doc,m.pos)&&m.nodeBefore.type==m.nodeAfter.type&&f.join(m.pos),e(f.scrollIntoView()),!0}function liftOutOfList(t,e,l){let c=t.tr,f=l.parent;for(let T=l.end,C=l.endIndex-1,k=l.startIndex;C>k;C--)T-=f.child(C).nodeSize,c.delete(T-1,T+1);let h=c.doc.resolve(l.start),p=h.nodeAfter;if(c.mapping.map(l.end)!=l.start+h.nodeAfter.nodeSize)return!1;let d=l.startIndex==0,m=l.endIndex==f.childCount,y=h.node(-1),x=h.index(-1);if(!y.canReplace(x+(d?0:1),x+1,p.content.append(m?Fragment.empty:Fragment.from(f))))return!1;let u=h.pos,w=u+p.nodeSize;return c.step(new ReplaceAroundStep(u-(d?1:0),w+(m?1:0),u+1,w-1,new Slice((d?Fragment.empty:Fragment.from(f.copy(Fragment.empty))).append(m?Fragment.empty:Fragment.from(f.copy(Fragment.empty))),d?0:1,m?0:1),d?0:1)),e(c.scrollIntoView()),!0}function sinkListItem$1(t){return function(e,l){let{$from:c,$to:f}=e.selection,h=c.blockRange(f,y=>y.childCount>0&&y.firstChild.type==t);if(!h)return!1;let p=h.startIndex;if(p==0)return!1;let d=h.parent,m=d.child(p-1);if(m.type!=t)return!1;if(l){let y=m.lastChild&&m.lastChild.type==d.type,x=Fragment.from(y?t.create():null),u=new Slice(Fragment.from(t.create(null,Fragment.from(d.type.create(null,x)))),y?3:1,0),w=h.start,T=h.end;l(e.tr.step(new ReplaceAroundStep(w-(y?3:1),T,w,T,u,1,!0)).scrollIntoView())}return!0}}function createChainableState(t){const{state:e,transaction:l}=t;let{selection:c}=l,{doc:f}=l,{storedMarks:h}=l;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return h},get selection(){return c},get doc(){return f},get tr(){return c=l.selection,f=l.doc,h=l.storedMarks,l}}}class CommandManager{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:l,state:c}=this,{view:f}=l,{tr:h}=c,p=this.buildProps(h);return Object.fromEntries(Object.entries(e).map(([d,m])=>[d,(...x)=>{const u=m(...x)(p);return!h.getMeta("preventDispatch")&&!this.hasCustomState&&f.dispatch(h),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,l=!0){const{rawCommands:c,editor:f,state:h}=this,{view:p}=f,d=[],m=!!e,y=e||h.tr,x=()=>(!m&&l&&!y.getMeta("preventDispatch")&&!this.hasCustomState&&p.dispatch(y),d.every(w=>w===!0)),u={...Object.fromEntries(Object.entries(c).map(([w,T])=>[w,(...k)=>{const A=this.buildProps(y,l),g=T(...k)(A);return d.push(g),u}])),run:x};return u}createCan(e){const{rawCommands:l,state:c}=this,f=!1,h=e||c.tr,p=this.buildProps(h,f);return{...Object.fromEntries(Object.entries(l).map(([m,y])=>[m,(...x)=>y(...x)({...p,dispatch:void 0})])),chain:()=>this.createChain(h,f)}}buildProps(e,l=!0){const{rawCommands:c,editor:f,state:h}=this,{view:p}=f,d={tr:e,editor:f,view:p,state:createChainableState({state:h,transaction:e}),dispatch:l?()=>{}:void 0,chain:()=>this.createChain(e,l),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(c).map(([m,y])=>[m,(...x)=>y(...x)(d)]))}};return d}}class EventEmitter{constructor(){this.callbacks={}}on(e,l){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(l),this}emit(e,...l){const c=this.callbacks[e];return c&&c.forEach(f=>f.apply(this,l)),this}off(e,l){const c=this.callbacks[e];return c&&(l?this.callbacks[e]=c.filter(f=>f!==l):delete this.callbacks[e]),this}once(e,l){const c=(...f)=>{this.off(e,c),l.apply(this,f)};return this.on(e,c)}removeAllListeners(){this.callbacks={}}}function getExtensionField(t,e,l){return t.config[e]===void 0&&t.parent?getExtensionField(t.parent,e,l):typeof t.config[e]=="function"?t.config[e].bind({...l,parent:t.parent?getExtensionField(t.parent,e,l):null}):t.config[e]}function splitExtensions(t){const e=t.filter(f=>f.type==="extension"),l=t.filter(f=>f.type==="node"),c=t.filter(f=>f.type==="mark");return{baseExtensions:e,nodeExtensions:l,markExtensions:c}}function getAttributesFromExtensions(t){const e=[],{nodeExtensions:l,markExtensions:c}=splitExtensions(t),f=[...l,...c],h={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(p=>{const d={name:p.name,options:p.options,storage:p.storage,extensions:f},m=getExtensionField(p,"addGlobalAttributes",d);if(!m)return;m().forEach(x=>{x.types.forEach(u=>{Object.entries(x.attributes).forEach(([w,T])=>{e.push({type:u,name:w,attribute:{...h,...T}})})})})}),f.forEach(p=>{const d={name:p.name,options:p.options,storage:p.storage},m=getExtensionField(p,"addAttributes",d);if(!m)return;const y=m();Object.entries(y).forEach(([x,u])=>{const w={...h,...u};typeof(w==null?void 0:w.default)=="function"&&(w.default=w.default()),w!=null&&w.isRequired&&(w==null?void 0:w.default)===void 0&&delete w.default,e.push({type:p.name,name:x,attribute:w})})}),e}function getNodeType(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function mergeAttributes(...t){return t.filter(e=>!!e).reduce((e,l)=>{const c={...e};return Object.entries(l).forEach(([f,h])=>{if(!c[f]){c[f]=h;return}if(f==="class"){const d=h?String(h).split(" "):[],m=c[f]?c[f].split(" "):[],y=d.filter(x=>!m.includes(x));c[f]=[...m,...y].join(" ")}else if(f==="style"){const d=h?h.split(";").map(x=>x.trim()).filter(Boolean):[],m=c[f]?c[f].split(";").map(x=>x.trim()).filter(Boolean):[],y=new Map;m.forEach(x=>{const[u,w]=x.split(":").map(T=>T.trim());y.set(u,w)}),d.forEach(x=>{const[u,w]=x.split(":").map(T=>T.trim());y.set(u,w)}),c[f]=Array.from(y.entries()).map(([x,u])=>`${x}: ${u}`).join("; ")}else c[f]=h}),c},{})}function getRenderedAttributes(t,e){return e.filter(l=>l.type===t.type.name).filter(l=>l.attribute.rendered).map(l=>l.attribute.renderHTML?l.attribute.renderHTML(t.attrs)||{}:{[l.name]:t.attrs[l.name]}).reduce((l,c)=>mergeAttributes(l,c),{})}function isFunction$3(t){return typeof t=="function"}function callOrReturn(t,e=void 0,...l){return isFunction$3(t)?e?t.bind(e)(...l):t(...l):t}function isEmptyObject(t={}){return Object.keys(t).length===0&&t.constructor===Object}function fromString(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function injectExtensionAttributesToParseRule(t,e){return"style"in t?t:{...t,getAttrs:l=>{const c=t.getAttrs?t.getAttrs(l):t.attrs;if(c===!1)return!1;const f=e.reduce((h,p)=>{const d=p.attribute.parseHTML?p.attribute.parseHTML(l):fromString(l.getAttribute(p.name));return d==null?h:{...h,[p.name]:d}},{});return{...c,...f}}}}function cleanUpSchemaItem(t){return Object.fromEntries(Object.entries(t).filter(([e,l])=>e==="attrs"&&isEmptyObject(l)?!1:l!=null))}function getSchemaByResolvedExtensions(t,e){var l;const c=getAttributesFromExtensions(t),{nodeExtensions:f,markExtensions:h}=splitExtensions(t),p=(l=f.find(y=>getExtensionField(y,"topNode")))===null||l===void 0?void 0:l.name,d=Object.fromEntries(f.map(y=>{const x=c.filter(g=>g.type===y.name),u={name:y.name,options:y.options,storage:y.storage,editor:e},w=t.reduce((g,E)=>{const v=getExtensionField(E,"extendNodeSchema",u);return{...g,...v?v(y):{}}},{}),T=cleanUpSchemaItem({...w,content:callOrReturn(getExtensionField(y,"content",u)),marks:callOrReturn(getExtensionField(y,"marks",u)),group:callOrReturn(getExtensionField(y,"group",u)),inline:callOrReturn(getExtensionField(y,"inline",u)),atom:callOrReturn(getExtensionField(y,"atom",u)),selectable:callOrReturn(getExtensionField(y,"selectable",u)),draggable:callOrReturn(getExtensionField(y,"draggable",u)),code:callOrReturn(getExtensionField(y,"code",u)),whitespace:callOrReturn(getExtensionField(y,"whitespace",u)),linebreakReplacement:callOrReturn(getExtensionField(y,"linebreakReplacement",u)),defining:callOrReturn(getExtensionField(y,"defining",u)),isolating:callOrReturn(getExtensionField(y,"isolating",u)),attrs:Object.fromEntries(x.map(g=>{var E;return[g.name,{default:(E=g==null?void 0:g.attribute)===null||E===void 0?void 0:E.default}]}))}),C=callOrReturn(getExtensionField(y,"parseHTML",u));C&&(T.parseDOM=C.map(g=>injectExtensionAttributesToParseRule(g,x)));const k=getExtensionField(y,"renderHTML",u);k&&(T.toDOM=g=>k({node:g,HTMLAttributes:getRenderedAttributes(g,x)}));const A=getExtensionField(y,"renderText",u);return A&&(T.toText=A),[y.name,T]})),m=Object.fromEntries(h.map(y=>{const x=c.filter(A=>A.type===y.name),u={name:y.name,options:y.options,storage:y.storage,editor:e},w=t.reduce((A,g)=>{const E=getExtensionField(g,"extendMarkSchema",u);return{...A,...E?E(y):{}}},{}),T=cleanUpSchemaItem({...w,inclusive:callOrReturn(getExtensionField(y,"inclusive",u)),excludes:callOrReturn(getExtensionField(y,"excludes",u)),group:callOrReturn(getExtensionField(y,"group",u)),spanning:callOrReturn(getExtensionField(y,"spanning",u)),code:callOrReturn(getExtensionField(y,"code",u)),attrs:Object.fromEntries(x.map(A=>{var g;return[A.name,{default:(g=A==null?void 0:A.attribute)===null||g===void 0?void 0:g.default}]}))}),C=callOrReturn(getExtensionField(y,"parseHTML",u));C&&(T.parseDOM=C.map(A=>injectExtensionAttributesToParseRule(A,x)));const k=getExtensionField(y,"renderHTML",u);return k&&(T.toDOM=A=>k({mark:A,HTMLAttributes:getRenderedAttributes(A,x)})),[y.name,T]}));return new Schema({topNode:p,nodes:d,marks:m})}function getSchemaTypeByName(t,e){return e.nodes[t]||e.marks[t]||null}function isExtensionRulesEnabled(t,e){return Array.isArray(e)?e.some(l=>(typeof l=="string"?l:l.name)===t.name):e}function getHTMLFromFragment(t,e){const l=DOMSerializer.fromSchema(e).serializeFragment(t),f=document.implementation.createHTMLDocument().createElement("div");return f.appendChild(l),f.innerHTML}const getTextContentFromNodes=(t,e=500)=>{let l="";const c=t.parentOffset;return t.parent.nodesBetween(Math.max(0,c-e),c,(f,h,p,d)=>{var m,y;const x=((y=(m=f.type.spec).toText)===null||y===void 0?void 0:y.call(m,{node:f,pos:h,parent:p,index:d}))||f.textContent||"%leaf%";l+=f.isAtom&&!f.isText?x:x.slice(0,Math.max(0,c-h))}),l};function isRegExp$1(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class InputRule{constructor(e){this.find=e.find,this.handler=e.handler}}const inputRuleMatcherHandler=(t,e)=>{if(isRegExp$1(e))return e.exec(t);const l=e(t);if(!l)return null;const c=[l.text];return c.index=l.index,c.input=t,c.data=l.data,l.replaceWith&&(l.text.includes(l.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),c.push(l.replaceWith)),c};function run$1(t){var e;const{editor:l,from:c,to:f,text:h,rules:p,plugin:d}=t,{view:m}=l;if(m.composing)return!1;const y=m.state.doc.resolve(c);if(y.parent.type.spec.code||!((e=y.nodeBefore||y.nodeAfter)===null||e===void 0)&&e.marks.find(w=>w.type.spec.code))return!1;let x=!1;const u=getTextContentFromNodes(y)+h;return p.forEach(w=>{if(x)return;const T=inputRuleMatcherHandler(u,w.find);if(!T)return;const C=m.state.tr,k=createChainableState({state:m.state,transaction:C}),A={from:c-(T[0].length-h.length),to:f},{commands:g,chain:E,can:v}=new CommandManager({editor:l,state:k});w.handler({state:k,range:A,match:T,commands:g,chain:E,can:v})===null||!C.steps.length||(C.setMeta(d,{transform:C,from:c,to:f,text:h}),m.dispatch(C),x=!0)}),x}function inputRulesPlugin(t){const{editor:e,rules:l}=t,c=new Plugin({state:{init(){return null},apply(f,h,p){const d=f.getMeta(c);if(d)return d;const m=f.getMeta("applyInputRules");return!!m&&setTimeout(()=>{let{text:x}=m;typeof x=="string"?x=x:x=getHTMLFromFragment(Fragment.from(x),p.schema);const{from:u}=m,w=u+x.length;run$1({editor:e,from:u,to:w,text:x,rules:l,plugin:c})}),f.selectionSet||f.docChanged?null:h}},props:{handleTextInput(f,h,p,d){return run$1({editor:e,from:h,to:p,text:d,rules:l,plugin:c})},handleDOMEvents:{compositionend:f=>(setTimeout(()=>{const{$cursor:h}=f.state.selection;h&&run$1({editor:e,from:h.pos,to:h.pos,text:"",rules:l,plugin:c})}),!1)},handleKeyDown(f,h){if(h.key!=="Enter")return!1;const{$cursor:p}=f.state.selection;return p?run$1({editor:e,from:p.pos,to:p.pos,text:`
`,rules:l,plugin:c}):!1}},isInputRules:!0});return c}function getType(t){return Object.prototype.toString.call(t).slice(8,-1)}function isPlainObject(t){return getType(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function mergeDeep(t,e){const l={...t};return isPlainObject(t)&&isPlainObject(e)&&Object.keys(e).forEach(c=>{isPlainObject(e[c])&&isPlainObject(t[c])?l[c]=mergeDeep(t[c],e[c]):l[c]=e[c]}),l}class Mark{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Mark(e)}configure(e={}){const l=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return l.name=this.name,l.parent=this.parent,l}extend(e={}){const l=new Mark(e);return l.parent=this,this.child=l,l.name=e.name?e.name:l.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${l.name}".`),l.options=callOrReturn(getExtensionField(l,"addOptions",{name:l.name})),l.storage=callOrReturn(getExtensionField(l,"addStorage",{name:l.name,options:l.options})),l}static handleExit({editor:e,mark:l}){const{tr:c}=e.state,f=e.state.selection.$from;if(f.pos===f.end()){const p=f.marks();if(!!!p.find(y=>(y==null?void 0:y.type.name)===l.name))return!1;const m=p.find(y=>(y==null?void 0:y.type.name)===l.name);return m&&c.removeStoredMark(m),c.insertText(" ",f.pos),e.view.dispatch(c),!0}return!1}}function isNumber$1(t){return typeof t=="number"}class PasteRule{constructor(e){this.find=e.find,this.handler=e.handler}}const pasteRuleMatcherHandler=(t,e,l)=>{if(isRegExp$1(e))return[...t.matchAll(e)];const c=e(t,l);return c?c.map(f=>{const h=[f.text];return h.index=f.index,h.input=t,h.data=f.data,f.replaceWith&&(f.text.includes(f.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),h.push(f.replaceWith)),h}):[]};function run(t){const{editor:e,state:l,from:c,to:f,rule:h,pasteEvent:p,dropEvent:d}=t,{commands:m,chain:y,can:x}=new CommandManager({editor:e,state:l}),u=[];return l.doc.nodesBetween(c,f,(T,C)=>{if(!T.isTextblock||T.type.spec.code)return;const k=Math.max(c,C),A=Math.min(f,C+T.content.size),g=T.textBetween(k-C,A-C,void 0,"");pasteRuleMatcherHandler(g,h.find,p).forEach(v=>{if(v.index===void 0)return;const M=k+v.index+1,R=M+v[0].length,I={from:l.tr.mapping.map(M),to:l.tr.mapping.map(R)},J=h.handler({state:l,range:I,match:v,commands:m,chain:y,can:x,pasteEvent:p,dropEvent:d});u.push(J)})}),u.every(T=>T!==null)}let tiptapDragFromOtherEditor=null;const createClipboardPasteEvent=t=>{var e;const l=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=l.clipboardData)===null||e===void 0||e.setData("text/html",t),l};function pasteRulesPlugin(t){const{editor:e,rules:l}=t;let c=null,f=!1,h=!1,p=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const m=({state:x,from:u,to:w,rule:T,pasteEvt:C})=>{const k=x.tr,A=createChainableState({state:x,transaction:k});if(!(!run({editor:e,state:A,from:Math.max(u-1,0),to:w.b-1,rule:T,pasteEvent:C,dropEvent:d})||!k.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return p=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return l.map(x=>new Plugin({view(u){const w=C=>{var k;c=!((k=u.dom.parentElement)===null||k===void 0)&&k.contains(C.target)?u.dom.parentElement:null,c&&(tiptapDragFromOtherEditor=e)},T=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",w),window.addEventListener("dragend",T),{destroy(){window.removeEventListener("dragstart",w),window.removeEventListener("dragend",T)}}},props:{handleDOMEvents:{drop:(u,w)=>{if(h=c===u.dom.parentElement,d=w,!h){const T=tiptapDragFromOtherEditor;T&&setTimeout(()=>{const C=T.state.selection;C&&T.commands.deleteRange({from:C.from,to:C.to})},10)}return!1},paste:(u,w)=>{var T;const C=(T=w.clipboardData)===null||T===void 0?void 0:T.getData("text/html");return p=w,f=!!(C!=null&&C.includes("data-pm-slice")),!1}}},appendTransaction:(u,w,T)=>{const C=u[0],k=C.getMeta("uiEvent")==="paste"&&!f,A=C.getMeta("uiEvent")==="drop"&&!h,g=C.getMeta("applyPasteRules"),E=!!g;if(!k&&!A&&!E)return;if(E){let{text:R}=g;typeof R=="string"?R=R:R=getHTMLFromFragment(Fragment.from(R),T.schema);const{from:I}=g,J=I+R.length,_=createClipboardPasteEvent(R);return m({rule:x,state:T,from:I,to:{b:J},pasteEvt:_})}const v=w.doc.content.findDiffStart(T.doc.content),M=w.doc.content.findDiffEnd(T.doc.content);if(!(!isNumber$1(v)||!M||v===M.b))return m({rule:x,state:T,from:v,to:M,pasteEvt:p})}}))}function findDuplicates(t){const e=t.filter((l,c)=>t.indexOf(l)!==c);return Array.from(new Set(e))}class ExtensionManager{constructor(e,l){this.splittableMarks=[],this.editor=l,this.extensions=ExtensionManager.resolve(e),this.schema=getSchemaByResolvedExtensions(this.extensions,l),this.setupExtensions()}static resolve(e){const l=ExtensionManager.sort(ExtensionManager.flatten(e)),c=findDuplicates(l.map(f=>f.name));return c.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${c.map(f=>`'${f}'`).join(", ")}]. This can lead to issues.`),l}static flatten(e){return e.map(l=>{const c={name:l.name,options:l.options,storage:l.storage},f=getExtensionField(l,"addExtensions",c);return f?[l,...this.flatten(f())]:l}).flat(10)}static sort(e){return e.sort((c,f)=>{const h=getExtensionField(c,"priority")||100,p=getExtensionField(f,"priority")||100;return h>p?-1:h<p?1:0})}get commands(){return this.extensions.reduce((e,l)=>{const c={name:l.name,options:l.options,storage:l.storage,editor:this.editor,type:getSchemaTypeByName(l.name,this.schema)},f=getExtensionField(l,"addCommands",c);return f?{...e,...f()}:e},{})}get plugins(){const{editor:e}=this,l=ExtensionManager.sort([...this.extensions].reverse()),c=[],f=[],h=l.map(p=>{const d={name:p.name,options:p.options,storage:p.storage,editor:e,type:getSchemaTypeByName(p.name,this.schema)},m=[],y=getExtensionField(p,"addKeyboardShortcuts",d);let x={};if(p.type==="mark"&&getExtensionField(p,"exitable",d)&&(x.ArrowRight=()=>Mark.handleExit({editor:e,mark:p})),y){const k=Object.fromEntries(Object.entries(y()).map(([A,g])=>[A,()=>g({editor:e})]));x={...x,...k}}const u=keymap(x);m.push(u);const w=getExtensionField(p,"addInputRules",d);isExtensionRulesEnabled(p,e.options.enableInputRules)&&w&&c.push(...w());const T=getExtensionField(p,"addPasteRules",d);isExtensionRulesEnabled(p,e.options.enablePasteRules)&&T&&f.push(...T());const C=getExtensionField(p,"addProseMirrorPlugins",d);if(C){const k=C();m.push(...k)}return m}).flat();return[inputRulesPlugin({editor:e,rules:c}),...pasteRulesPlugin({editor:e,rules:f}),...h]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:l}=splitExtensions(this.extensions);return Object.fromEntries(l.filter(c=>!!getExtensionField(c,"addNodeView")).map(c=>{const f=this.attributes.filter(m=>m.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e,type:getNodeType(c.name,this.schema)},p=getExtensionField(c,"addNodeView",h);if(!p)return[];const d=(m,y,x,u,w)=>{const T=getRenderedAttributes(m,f);return p()({node:m,view:y,getPos:x,decorations:u,innerDecorations:w,editor:e,extension:c,HTMLAttributes:T})};return[c.name,d]}))}setupExtensions(){this.extensions.forEach(e=>{var l;this.editor.extensionStorage[e.name]=e.storage;const c={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:getSchemaTypeByName(e.name,this.schema)};e.type==="mark"&&(!((l=callOrReturn(getExtensionField(e,"keepOnSplit",c)))!==null&&l!==void 0)||l)&&this.splittableMarks.push(e.name);const f=getExtensionField(e,"onBeforeCreate",c),h=getExtensionField(e,"onCreate",c),p=getExtensionField(e,"onUpdate",c),d=getExtensionField(e,"onSelectionUpdate",c),m=getExtensionField(e,"onTransaction",c),y=getExtensionField(e,"onFocus",c),x=getExtensionField(e,"onBlur",c),u=getExtensionField(e,"onDestroy",c);f&&this.editor.on("beforeCreate",f),h&&this.editor.on("create",h),p&&this.editor.on("update",p),d&&this.editor.on("selectionUpdate",d),m&&this.editor.on("transaction",m),y&&this.editor.on("focus",y),x&&this.editor.on("blur",x),u&&this.editor.on("destroy",u)})}}class Extension{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Extension(e)}configure(e={}){const l=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return l.name=this.name,l.parent=this.parent,l}extend(e={}){const l=new Extension({...this.config,...e});return l.parent=this,this.child=l,l.name=e.name?e.name:l.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${l.name}".`),l.options=callOrReturn(getExtensionField(l,"addOptions",{name:l.name})),l.storage=callOrReturn(getExtensionField(l,"addStorage",{name:l.name,options:l.options})),l}}function getTextBetween(t,e,l){const{from:c,to:f}=e,{blockSeparator:h=`

`,textSerializers:p={}}=l||{};let d="";return t.nodesBetween(c,f,(m,y,x,u)=>{var w;m.isBlock&&y>c&&(d+=h);const T=p==null?void 0:p[m.type.name];if(T)return x&&(d+=T({node:m,pos:y,parent:x,index:u,range:e})),!1;m.isText&&(d+=(w=m==null?void 0:m.text)===null||w===void 0?void 0:w.slice(Math.max(c,y)-y,f-y))}),d}function getTextSerializersFromSchema(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,l])=>[e,l.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:l}=t,{doc:c,selection:f}=e,{ranges:h}=f,p=Math.min(...h.map(x=>x.$from.pos)),d=Math.max(...h.map(x=>x.$to.pos)),m=getTextSerializersFromSchema(l);return getTextBetween(c,{from:p,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:m})}}})]}}),blur=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var l;t.isDestroyed||(e.dom.blur(),(l=window==null?void 0:window.getSelection())===null||l===void 0||l.removeAllRanges())}),!0),clearContent=(t=!1)=>({commands:e})=>e.setContent("",t),clearNodes=()=>({state:t,tr:e,dispatch:l})=>{const{selection:c}=e,{ranges:f}=c;return l&&f.forEach(({$from:h,$to:p})=>{t.doc.nodesBetween(h.pos,p.pos,(d,m)=>{if(d.type.isText)return;const{doc:y,mapping:x}=e,u=y.resolve(x.map(m)),w=y.resolve(x.map(m+d.nodeSize)),T=u.blockRange(w);if(!T)return;const C=liftTarget(T);if(d.type.isTextblock){const{defaultType:k}=u.parent.contentMatchAt(u.index());e.setNodeMarkup(T.start,k)}(C||C===0)&&e.lift(T,C)})}),!0},command=t=>e=>t(e),createParagraphNear=()=>({state:t,dispatch:e})=>createParagraphNear$1(t,e),cut=(t,e)=>({editor:l,tr:c})=>{const{state:f}=l,h=f.doc.slice(t.from,t.to);c.deleteRange(t.from,t.to);const p=c.mapping.map(e);return c.insert(p,h.content),c.setSelection(new TextSelection(c.doc.resolve(p-1))),!0},deleteCurrentNode=()=>({tr:t,dispatch:e})=>{const{selection:l}=t,c=l.$anchor.node();if(c.content.size>0)return!1;const f=t.selection.$anchor;for(let h=f.depth;h>0;h-=1)if(f.node(h).type===c.type){if(e){const d=f.before(h),m=f.after(h);t.delete(d,m).scrollIntoView()}return!0}return!1},deleteNode=t=>({tr:e,state:l,dispatch:c})=>{const f=getNodeType(t,l.schema),h=e.selection.$anchor;for(let p=h.depth;p>0;p-=1)if(h.node(p).type===f){if(c){const m=h.before(p),y=h.after(p);e.delete(m,y).scrollIntoView()}return!0}return!1},deleteRange=t=>({tr:e,dispatch:l})=>{const{from:c,to:f}=t;return l&&e.delete(c,f),!0},deleteSelection=()=>({state:t,dispatch:e})=>deleteSelection$1(t,e),enter=()=>({commands:t})=>t.keyboardShortcut("Enter"),exitCode=()=>({state:t,dispatch:e})=>exitCode$1(t,e);function objectIncludes(t,e,l={strict:!0}){const c=Object.keys(e);return c.length?c.every(f=>l.strict?e[f]===t[f]:isRegExp$1(e[f])?e[f].test(t[f]):e[f]===t[f]):!0}function findMarkInSet(t,e,l={}){return t.find(c=>c.type===e&&objectIncludes(Object.fromEntries(Object.keys(l).map(f=>[f,c.attrs[f]])),l))}function isMarkInSet(t,e,l={}){return!!findMarkInSet(t,e,l)}function getMarkRange(t,e,l){var c;if(!t||!e)return;let f=t.parent.childAfter(t.parentOffset);if((!f.node||!f.node.marks.some(x=>x.type===e))&&(f=t.parent.childBefore(t.parentOffset)),!f.node||!f.node.marks.some(x=>x.type===e)||(l=l||((c=f.node.marks[0])===null||c===void 0?void 0:c.attrs),!findMarkInSet([...f.node.marks],e,l)))return;let p=f.index,d=t.start()+f.offset,m=p+1,y=d+f.node.nodeSize;for(;p>0&&isMarkInSet([...t.parent.child(p-1).marks],e,l);)p-=1,d-=t.parent.child(p).nodeSize;for(;m<t.parent.childCount&&isMarkInSet([...t.parent.child(m).marks],e,l);)y+=t.parent.child(m).nodeSize,m+=1;return{from:d,to:y}}function getMarkType(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const extendMarkRange=(t,e={})=>({tr:l,state:c,dispatch:f})=>{const h=getMarkType(t,c.schema),{doc:p,selection:d}=l,{$from:m,from:y,to:x}=d;if(f){const u=getMarkRange(m,h,e);if(u&&u.from<=y&&u.to>=x){const w=TextSelection.create(p,u.from,u.to);l.setSelection(w)}}return!0},first=t=>e=>{const l=typeof t=="function"?t(e):t;for(let c=0;c<l.length;c+=1)if(l[c](e))return!0;return!1};function isTextSelection(t){return t instanceof TextSelection}function minMax(t=0,e=0,l=0){return Math.min(Math.max(t,e),l)}function resolveFocusPosition(t,e=null){if(!e)return null;const l=Selection.atStart(t),c=Selection.atEnd(t);if(e==="start"||e===!0)return l;if(e==="end")return c;const f=l.from,h=c.to;return e==="all"?TextSelection.create(t,minMax(0,f,h),minMax(t.content.size,f,h)):TextSelection.create(t,minMax(e,f,h),minMax(e,f,h))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const focus$1=(t=null,e={})=>({editor:l,view:c,tr:f,dispatch:h})=>{e={scrollIntoView:!0,...e};const p=()=>{(isiOS()||isAndroid())&&c.dom.focus(),requestAnimationFrame(()=>{l.isDestroyed||(c.focus(),e!=null&&e.scrollIntoView&&l.commands.scrollIntoView())})};if(c.hasFocus()&&t===null||t===!1)return!0;if(h&&t===null&&!isTextSelection(l.state.selection))return p(),!0;const d=resolveFocusPosition(f.doc,t)||l.state.selection,m=l.state.selection.eq(d);return h&&(m||f.setSelection(d),m&&f.storedMarks&&f.setStoredMarks(f.storedMarks),p()),!0},forEach=(t,e)=>l=>t.every((c,f)=>e(c,{...l,index:f})),insertContent=(t,e)=>({tr:l,commands:c})=>c.insertContentAt({from:l.selection.from,to:l.selection.to},t,e),removeWhitespaces=t=>{const e=t.childNodes;for(let l=e.length-1;l>=0;l-=1){const c=e[l];c.nodeType===3&&c.nodeValue&&/^(\n\s\s|\n)$/.test(c.nodeValue)?t.removeChild(c):c.nodeType===1&&removeWhitespaces(c)}return t};function elementFromString$1(t){const e=`<body>${t}</body>`,l=new window.DOMParser().parseFromString(e,"text/html").body;return removeWhitespaces(l)}function createNodeFromContent(t,e,l){if(t instanceof Node$2||t instanceof Fragment)return t;l={slice:!0,parseOptions:{},...l};const c=typeof t=="object"&&t!==null,f=typeof t=="string";if(c)try{if(Array.isArray(t)&&t.length>0)return Fragment.fromArray(t.map(d=>e.nodeFromJSON(d)));const p=e.nodeFromJSON(t);return l.errorOnInvalidContent&&p.check(),p}catch(h){if(l.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:h});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",h),createNodeFromContent("",e,l)}if(f){if(l.errorOnInvalidContent){let p=!1,d="";const m=new Schema({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:y=>(p=!0,d=typeof y=="string"?y:y.outerHTML,null)}]}})});if(l.slice?DOMParser.fromSchema(m).parseSlice(elementFromString$1(t),l.parseOptions):DOMParser.fromSchema(m).parse(elementFromString$1(t),l.parseOptions),l.errorOnInvalidContent&&p)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const h=DOMParser.fromSchema(e);return l.slice?h.parseSlice(elementFromString$1(t),l.parseOptions).content:h.parse(elementFromString$1(t),l.parseOptions)}return createNodeFromContent("",e,l)}function selectionToInsertionEnd(t,e,l){const c=t.steps.length-1;if(c<e)return;const f=t.steps[c];if(!(f instanceof ReplaceStep||f instanceof ReplaceAroundStep))return;const h=t.mapping.maps[c];let p=0;h.forEach((d,m,y,x)=>{p===0&&(p=x)}),t.setSelection(Selection.near(t.doc.resolve(p),l))}const isFragment=t=>!("type"in t),insertContentAt=(t,e,l)=>({tr:c,dispatch:f,editor:h})=>{var p;if(f){l={parseOptions:h.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...l};let d;try{d=createNodeFromContent(e,h.schema,{parseOptions:{preserveWhitespace:"full",...l.parseOptions},errorOnInvalidContent:(p=l.errorOnInvalidContent)!==null&&p!==void 0?p:h.options.enableContentCheck})}catch(C){return h.emit("contentError",{editor:h,error:C,disableCollaboration:()=>{h.storage.collaboration&&(h.storage.collaboration.isDisabled=!0)}}),!1}let{from:m,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,u=!0;if((isFragment(d)?d:[d]).forEach(C=>{C.check(),x=x?C.isText&&C.marks.length===0:!1,u=u?C.isBlock:!1}),m===y&&u){const{parent:C}=c.doc.resolve(m);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(m-=1,y+=1)}let T;if(x){if(Array.isArray(e))T=e.map(C=>C.text||"").join("");else if(e instanceof Fragment){let C="";e.forEach(k=>{k.text&&(C+=k.text)}),T=C}else typeof e=="object"&&e&&e.text?T=e.text:T=e;c.insertText(T,m,y)}else T=d,c.replaceWith(m,y,T);l.updateSelection&&selectionToInsertionEnd(c,c.steps.length-1,-1),l.applyInputRules&&c.setMeta("applyInputRules",{from:m,text:T}),l.applyPasteRules&&c.setMeta("applyPasteRules",{from:m,text:T})}return!0},joinUp=()=>({state:t,dispatch:e})=>joinUp$1(t,e),joinDown=()=>({state:t,dispatch:e})=>joinDown$1(t,e),joinBackward=()=>({state:t,dispatch:e})=>joinBackward$1(t,e),joinForward=()=>({state:t,dispatch:e})=>joinForward$1(t,e),joinItemBackward=()=>({state:t,dispatch:e,tr:l})=>{try{const c=joinPoint(t.doc,t.selection.$from.pos,-1);return c==null?!1:(l.join(c,2),e&&e(l),!0)}catch{return!1}},joinItemForward=()=>({state:t,dispatch:e,tr:l})=>{try{const c=joinPoint(t.doc,t.selection.$from.pos,1);return c==null?!1:(l.join(c,2),e&&e(l),!0)}catch{return!1}},joinTextblockBackward=()=>({state:t,dispatch:e})=>joinTextblockBackward$1(t,e),joinTextblockForward=()=>({state:t,dispatch:e})=>joinTextblockForward$1(t,e);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(t){const e=t.split(/-(?!$)/);let l=e[e.length-1];l==="Space"&&(l=" ");let c,f,h,p;for(let d=0;d<e.length-1;d+=1){const m=e[d];if(/^(cmd|meta|m)$/i.test(m))p=!0;else if(/^a(lt)?$/i.test(m))c=!0;else if(/^(c|ctrl|control)$/i.test(m))f=!0;else if(/^s(hift)?$/i.test(m))h=!0;else if(/^mod$/i.test(m))isiOS()||isMacOS()?p=!0:f=!0;else throw new Error(`Unrecognized modifier name: ${m}`)}return c&&(l=`Alt-${l}`),f&&(l=`Ctrl-${l}`),p&&(l=`Meta-${l}`),h&&(l=`Shift-${l}`),l}const keyboardShortcut=t=>({editor:e,view:l,tr:c,dispatch:f})=>{const h=normalizeKeyName(t).split(/-(?!$)/),p=h.find(y=>!["Alt","Ctrl","Meta","Shift"].includes(y)),d=new KeyboardEvent("keydown",{key:p==="Space"?" ":p,altKey:h.includes("Alt"),ctrlKey:h.includes("Ctrl"),metaKey:h.includes("Meta"),shiftKey:h.includes("Shift"),bubbles:!0,cancelable:!0}),m=e.captureTransaction(()=>{l.someProp("handleKeyDown",y=>y(l,d))});return m==null||m.steps.forEach(y=>{const x=y.map(c.mapping);x&&f&&c.maybeStep(x)}),!0};function isNodeActive(t,e,l={}){const{from:c,to:f,empty:h}=t.selection,p=e?getNodeType(e,t.schema):null,d=[];t.doc.nodesBetween(c,f,(u,w)=>{if(u.isText)return;const T=Math.max(c,w),C=Math.min(f,w+u.nodeSize);d.push({node:u,from:T,to:C})});const m=f-c,y=d.filter(u=>p?p.name===u.node.type.name:!0).filter(u=>objectIncludes(u.node.attrs,l,{strict:!1}));return h?!!y.length:y.reduce((u,w)=>u+w.to-w.from,0)>=m}const lift=(t,e={})=>({state:l,dispatch:c})=>{const f=getNodeType(t,l.schema);return isNodeActive(l,f,e)?lift$1(l,c):!1},liftEmptyBlock=()=>({state:t,dispatch:e})=>liftEmptyBlock$1(t,e),liftListItem=t=>({state:e,dispatch:l})=>{const c=getNodeType(t,e.schema);return liftListItem$1(c)(e,l)},newlineInCode=()=>({state:t,dispatch:e})=>newlineInCode$1(t,e);function getSchemaTypeNameByName(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function deleteProps(t,e){const l=typeof e=="string"?[e]:e;return Object.keys(t).reduce((c,f)=>(l.includes(f)||(c[f]=t[f]),c),{})}const resetAttributes=(t,e)=>({tr:l,state:c,dispatch:f})=>{let h=null,p=null;const d=getSchemaTypeNameByName(typeof t=="string"?t:t.name,c.schema);return d?(d==="node"&&(h=getNodeType(t,c.schema)),d==="mark"&&(p=getMarkType(t,c.schema)),f&&l.selection.ranges.forEach(m=>{c.doc.nodesBetween(m.$from.pos,m.$to.pos,(y,x)=>{h&&h===y.type&&l.setNodeMarkup(x,void 0,deleteProps(y.attrs,e)),p&&y.marks.length&&y.marks.forEach(u=>{p===u.type&&l.addMark(x,x+y.nodeSize,p.create(deleteProps(u.attrs,e)))})})}),!0):!1},scrollIntoView=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),selectAll=()=>({tr:t,dispatch:e})=>{if(e){const l=new AllSelection(t.doc);t.setSelection(l)}return!0},selectNodeBackward=()=>({state:t,dispatch:e})=>selectNodeBackward$1(t,e),selectNodeForward=()=>({state:t,dispatch:e})=>selectNodeForward$1(t,e),selectParentNode=()=>({state:t,dispatch:e})=>selectParentNode$1(t,e),selectTextblockEnd=()=>({state:t,dispatch:e})=>selectTextblockEnd$1(t,e),selectTextblockStart=()=>({state:t,dispatch:e})=>selectTextblockStart$1(t,e);function createDocument(t,e,l={},c={}){return createNodeFromContent(t,e,{slice:!1,parseOptions:l,errorOnInvalidContent:c.errorOnInvalidContent})}const setContent=(t,e=!1,l={},c={})=>({editor:f,tr:h,dispatch:p,commands:d})=>{var m,y;const{doc:x}=h;if(l.preserveWhitespace!=="full"){const u=createDocument(t,f.schema,l,{errorOnInvalidContent:(m=c.errorOnInvalidContent)!==null&&m!==void 0?m:f.options.enableContentCheck});return p&&h.replaceWith(0,x.content.size,u).setMeta("preventUpdate",!e),!0}return p&&h.setMeta("preventUpdate",!e),d.insertContentAt({from:0,to:x.content.size},t,{parseOptions:l,errorOnInvalidContent:(y=c.errorOnInvalidContent)!==null&&y!==void 0?y:f.options.enableContentCheck})};function getMarkAttributes(t,e){const l=getMarkType(e,t.schema),{from:c,to:f,empty:h}=t.selection,p=[];h?(t.storedMarks&&p.push(...t.storedMarks),p.push(...t.selection.$head.marks())):t.doc.nodesBetween(c,f,m=>{p.push(...m.marks)});const d=p.find(m=>m.type.name===l.name);return d?{...d.attrs}:{}}function defaultBlockAt(t){for(let e=0;e<t.edgeCount;e+=1){const{type:l}=t.edge(e);if(l.isTextblock&&!l.hasRequiredAttrs())return l}return null}function findParentNodeClosestToPos(t,e){for(let l=t.depth;l>0;l-=1){const c=t.node(l);if(e(c))return{pos:l>0?t.before(l):0,start:t.start(l),depth:l,node:c}}}function findParentNode(t){return e=>findParentNodeClosestToPos(e.$from,t)}function getText(t,e){const l={from:0,to:t.content.size};return getTextBetween(t,l,e)}function getNodeAttributes(t,e){const l=getNodeType(e,t.schema),{from:c,to:f}=t.selection,h=[];t.doc.nodesBetween(c,f,d=>{h.push(d)});const p=h.reverse().find(d=>d.type.name===l.name);return p?{...p.attrs}:{}}function getAttributes(t,e){const l=getSchemaTypeNameByName(typeof e=="string"?e:e.name,t.schema);return l==="node"?getNodeAttributes(t,e):l==="mark"?getMarkAttributes(t,e):{}}function getMarksBetween(t,e,l){const c=[];return t===e?l.resolve(t).marks().forEach(f=>{const h=l.resolve(t),p=getMarkRange(h,f.type);p&&c.push({mark:f,...p})}):l.nodesBetween(t,e,(f,h)=>{!f||(f==null?void 0:f.nodeSize)===void 0||c.push(...f.marks.map(p=>({from:h,to:h+f.nodeSize,mark:p})))}),c}function getSplittedAttributes(t,e,l){return Object.fromEntries(Object.entries(l).filter(([c])=>{const f=t.find(h=>h.type===e&&h.name===c);return f?f.attribute.keepOnSplit:!1}))}function isMarkActive(t,e,l={}){const{empty:c,ranges:f}=t.selection,h=e?getMarkType(e,t.schema):null;if(c)return!!(t.storedMarks||t.selection.$from.marks()).filter(u=>h?h.name===u.type.name:!0).find(u=>objectIncludes(u.attrs,l,{strict:!1}));let p=0;const d=[];if(f.forEach(({$from:u,$to:w})=>{const T=u.pos,C=w.pos;t.doc.nodesBetween(T,C,(k,A)=>{if(!k.isText&&!k.marks.length)return;const g=Math.max(T,A),E=Math.min(C,A+k.nodeSize),v=E-g;p+=v,d.push(...k.marks.map(M=>({mark:M,from:g,to:E})))})}),p===0)return!1;const m=d.filter(u=>h?h.name===u.mark.type.name:!0).filter(u=>objectIncludes(u.mark.attrs,l,{strict:!1})).reduce((u,w)=>u+w.to-w.from,0),y=d.filter(u=>h?u.mark.type!==h&&u.mark.type.excludes(h):!0).reduce((u,w)=>u+w.to-w.from,0);return(m>0?m+y:m)>=p}function isActive(t,e,l={}){if(!e)return isNodeActive(t,null,l)||isMarkActive(t,null,l);const c=getSchemaTypeNameByName(e,t.schema);return c==="node"?isNodeActive(t,e,l):c==="mark"?isMarkActive(t,e,l):!1}function isList(t,e){const{nodeExtensions:l}=splitExtensions(e),c=l.find(p=>p.name===t);if(!c)return!1;const f={name:c.name,options:c.options,storage:c.storage},h=callOrReturn(getExtensionField(c,"group",f));return typeof h!="string"?!1:h.split(" ").includes("list")}function isNodeEmpty(t,{checkChildren:e=!0,ignoreWhitespace:l=!1}={}){var c;if(l){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((c=t.text)!==null&&c!==void 0?c:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let f=!0;return t.content.forEach(h=>{f!==!1&&(isNodeEmpty(h,{ignoreWhitespace:l,checkChildren:e})||(f=!1))}),f}return!1}function isNodeSelection(t){return t instanceof NodeSelection}function canSetMark(t,e,l){var c;const{selection:f}=e;let h=null;if(isTextSelection(f)&&(h=f.$cursor),h){const d=(c=t.storedMarks)!==null&&c!==void 0?c:h.marks();return!!l.isInSet(d)||!d.some(m=>m.type.excludes(l))}const{ranges:p}=f;return p.some(({$from:d,$to:m})=>{let y=d.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(l):!1;return t.doc.nodesBetween(d.pos,m.pos,(x,u,w)=>{if(y)return!1;if(x.isInline){const T=!w||w.type.allowsMarkType(l),C=!!l.isInSet(x.marks)||!x.marks.some(k=>k.type.excludes(l));y=T&&C}return!y}),y})}const setMark=(t,e={})=>({tr:l,state:c,dispatch:f})=>{const{selection:h}=l,{empty:p,ranges:d}=h,m=getMarkType(t,c.schema);if(f)if(p){const y=getMarkAttributes(c,m);l.addStoredMark(m.create({...y,...e}))}else d.forEach(y=>{const x=y.$from.pos,u=y.$to.pos;c.doc.nodesBetween(x,u,(w,T)=>{const C=Math.max(T,x),k=Math.min(T+w.nodeSize,u);w.marks.find(g=>g.type===m)?w.marks.forEach(g=>{m===g.type&&l.addMark(C,k,m.create({...g.attrs,...e}))}):l.addMark(C,k,m.create(e))})});return canSetMark(c,l,m)},setMeta=(t,e)=>({tr:l})=>(l.setMeta(t,e),!0),setNode=(t,e={})=>({state:l,dispatch:c,chain:f})=>{const h=getNodeType(t,l.schema);let p;return l.selection.$anchor.sameParent(l.selection.$head)&&(p=l.selection.$anchor.parent.attrs),h.isTextblock?f().command(({commands:d})=>setBlockType(h,{...p,...e})(l)?!0:d.clearNodes()).command(({state:d})=>setBlockType(h,{...p,...e})(d,c)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=t=>({tr:e,dispatch:l})=>{if(l){const{doc:c}=e,f=minMax(t,0,c.content.size),h=NodeSelection.create(c,f);e.setSelection(h)}return!0},setTextSelection=t=>({tr:e,dispatch:l})=>{if(l){const{doc:c}=e,{from:f,to:h}=typeof t=="number"?{from:t,to:t}:t,p=TextSelection.atStart(c).from,d=TextSelection.atEnd(c).to,m=minMax(f,p,d),y=minMax(h,p,d),x=TextSelection.create(c,m,y);e.setSelection(x)}return!0},sinkListItem=t=>({state:e,dispatch:l})=>{const c=getNodeType(t,e.schema);return sinkListItem$1(c)(e,l)};function ensureMarks(t,e){const l=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(l){const c=l.filter(f=>e==null?void 0:e.includes(f.type.name));t.tr.ensureMarks(c)}}const splitBlock=({keepMarks:t=!0}={})=>({tr:e,state:l,dispatch:c,editor:f})=>{const{selection:h,doc:p}=e,{$from:d,$to:m}=h,y=f.extensionManager.attributes,x=getSplittedAttributes(y,d.node().type.name,d.node().attrs);if(h instanceof NodeSelection&&h.node.isBlock)return!d.parentOffset||!canSplit(p,d.pos)?!1:(c&&(t&&ensureMarks(l,f.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const u=m.parentOffset===m.parent.content.size,w=d.depth===0?void 0:defaultBlockAt(d.node(-1).contentMatchAt(d.indexAfter(-1)));let T=u&&w?[{type:w,attrs:x}]:void 0,C=canSplit(e.doc,e.mapping.map(d.pos),1,T);if(!T&&!C&&canSplit(e.doc,e.mapping.map(d.pos),1,w?[{type:w}]:void 0)&&(C=!0,T=w?[{type:w,attrs:x}]:void 0),c){if(C&&(h instanceof TextSelection&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,T),w&&!u&&!d.parentOffset&&d.parent.type!==w)){const k=e.mapping.map(d.before()),A=e.doc.resolve(k);d.node(-1).canReplaceWith(A.index(),A.index()+1,w)&&e.setNodeMarkup(e.mapping.map(d.before()),w)}t&&ensureMarks(l,f.extensionManager.splittableMarks),e.scrollIntoView()}return C},splitListItem=(t,e={})=>({tr:l,state:c,dispatch:f,editor:h})=>{var p;const d=getNodeType(t,c.schema),{$from:m,$to:y}=c.selection,x=c.selection.node;if(x&&x.isBlock||m.depth<2||!m.sameParent(y))return!1;const u=m.node(-1);if(u.type!==d)return!1;const w=h.extensionManager.attributes;if(m.parent.content.size===0&&m.node(-1).childCount===m.indexAfter(-1)){if(m.depth===2||m.node(-3).type!==d||m.index(-2)!==m.node(-2).childCount-1)return!1;if(f){let g=Fragment.empty;const E=m.index(-1)?1:m.index(-2)?2:3;for(let _=m.depth-E;_>=m.depth-3;_-=1)g=Fragment.from(m.node(_).copy(g));const v=m.indexAfter(-1)<m.node(-2).childCount?1:m.indexAfter(-2)<m.node(-3).childCount?2:3,M={...getSplittedAttributes(w,m.node().type.name,m.node().attrs),...e},R=((p=d.contentMatch.defaultType)===null||p===void 0?void 0:p.createAndFill(M))||void 0;g=g.append(Fragment.from(d.createAndFill(null,R)||void 0));const I=m.before(m.depth-(E-1));l.replace(I,m.after(-v),new Slice(g,4-E,0));let J=-1;l.doc.nodesBetween(I,l.doc.content.size,(_,L)=>{if(J>-1)return!1;_.isTextblock&&_.content.size===0&&(J=L+1)}),J>-1&&l.setSelection(TextSelection.near(l.doc.resolve(J))),l.scrollIntoView()}return!0}const T=y.pos===m.end()?u.contentMatchAt(0).defaultType:null,C={...getSplittedAttributes(w,u.type.name,u.attrs),...e},k={...getSplittedAttributes(w,m.node().type.name,m.node().attrs),...e};l.delete(m.pos,y.pos);const A=T?[{type:d,attrs:C},{type:T,attrs:k}]:[{type:d,attrs:C}];if(!canSplit(l.doc,m.pos,2))return!1;if(f){const{selection:g,storedMarks:E}=c,{splittableMarks:v}=h.extensionManager,M=E||g.$to.parentOffset&&g.$from.marks();if(l.split(m.pos,2,A).scrollIntoView(),!M||!f)return!0;const R=M.filter(I=>v.includes(I.type.name));l.ensureMarks(R)}return!0},joinListBackwards=(t,e)=>{const l=findParentNode(p=>p.type===e)(t.selection);if(!l)return!0;const c=t.doc.resolve(Math.max(0,l.pos-1)).before(l.depth);if(c===void 0)return!0;const f=t.doc.nodeAt(c);return l.node.type===(f==null?void 0:f.type)&&canJoin(t.doc,l.pos)&&t.join(l.pos),!0},joinListForwards=(t,e)=>{const l=findParentNode(p=>p.type===e)(t.selection);if(!l)return!0;const c=t.doc.resolve(l.start).after(l.depth);if(c===void 0)return!0;const f=t.doc.nodeAt(c);return l.node.type===(f==null?void 0:f.type)&&canJoin(t.doc,c)&&t.join(c),!0},toggleList=(t,e,l,c={})=>({editor:f,tr:h,state:p,dispatch:d,chain:m,commands:y,can:x})=>{const{extensions:u,splittableMarks:w}=f.extensionManager,T=getNodeType(t,p.schema),C=getNodeType(e,p.schema),{selection:k,storedMarks:A}=p,{$from:g,$to:E}=k,v=g.blockRange(E),M=A||k.$to.parentOffset&&k.$from.marks();if(!v)return!1;const R=findParentNode(I=>isList(I.type.name,u))(k);if(v.depth>=1&&R&&v.depth-R.depth<=1){if(R.node.type===T)return y.liftListItem(C);if(isList(R.node.type.name,u)&&T.validContent(R.node.content)&&d)return m().command(()=>(h.setNodeMarkup(R.pos,T),!0)).command(()=>joinListBackwards(h,T)).command(()=>joinListForwards(h,T)).run()}return!l||!M||!d?m().command(()=>x().wrapInList(T,c)?!0:y.clearNodes()).wrapInList(T,c).command(()=>joinListBackwards(h,T)).command(()=>joinListForwards(h,T)).run():m().command(()=>{const I=x().wrapInList(T,c),J=M.filter(_=>w.includes(_.type.name));return h.ensureMarks(J),I?!0:y.clearNodes()}).wrapInList(T,c).command(()=>joinListBackwards(h,T)).command(()=>joinListForwards(h,T)).run()},toggleMark=(t,e={},l={})=>({state:c,commands:f})=>{const{extendEmptyMarkRange:h=!1}=l,p=getMarkType(t,c.schema);return isMarkActive(c,p,e)?f.unsetMark(p,{extendEmptyMarkRange:h}):f.setMark(p,e)},toggleNode=(t,e,l={})=>({state:c,commands:f})=>{const h=getNodeType(t,c.schema),p=getNodeType(e,c.schema),d=isNodeActive(c,h,l);let m;return c.selection.$anchor.sameParent(c.selection.$head)&&(m=c.selection.$anchor.parent.attrs),d?f.setNode(p,m):f.setNode(h,{...m,...l})},toggleWrap=(t,e={})=>({state:l,commands:c})=>{const f=getNodeType(t,l.schema);return isNodeActive(l,f,e)?c.lift(f):c.wrapIn(f,e)},undoInputRule=()=>({state:t,dispatch:e})=>{const l=t.plugins;for(let c=0;c<l.length;c+=1){const f=l[c];let h;if(f.spec.isInputRules&&(h=f.getState(t))){if(e){const p=t.tr,d=h.transform;for(let m=d.steps.length-1;m>=0;m-=1)p.step(d.steps[m].invert(d.docs[m]));if(h.text){const m=p.doc.resolve(h.from).marks();p.replaceWith(h.from,h.to,t.schema.text(h.text,m))}else p.delete(h.from,h.to)}return!0}}return!1},unsetAllMarks=()=>({tr:t,dispatch:e})=>{const{selection:l}=t,{empty:c,ranges:f}=l;return c||e&&f.forEach(h=>{t.removeMark(h.$from.pos,h.$to.pos)}),!0},unsetMark=(t,e={})=>({tr:l,state:c,dispatch:f})=>{var h;const{extendEmptyMarkRange:p=!1}=e,{selection:d}=l,m=getMarkType(t,c.schema),{$from:y,empty:x,ranges:u}=d;if(!f)return!0;if(x&&p){let{from:w,to:T}=d;const C=(h=y.marks().find(A=>A.type===m))===null||h===void 0?void 0:h.attrs,k=getMarkRange(y,m,C);k&&(w=k.from,T=k.to),l.removeMark(w,T,m)}else u.forEach(w=>{l.removeMark(w.$from.pos,w.$to.pos,m)});return l.removeStoredMark(m),!0},updateAttributes=(t,e={})=>({tr:l,state:c,dispatch:f})=>{let h=null,p=null;const d=getSchemaTypeNameByName(typeof t=="string"?t:t.name,c.schema);return d?(d==="node"&&(h=getNodeType(t,c.schema)),d==="mark"&&(p=getMarkType(t,c.schema)),f&&l.selection.ranges.forEach(m=>{const y=m.$from.pos,x=m.$to.pos;let u,w,T,C;l.selection.empty?c.doc.nodesBetween(y,x,(k,A)=>{h&&h===k.type&&(T=Math.max(A,y),C=Math.min(A+k.nodeSize,x),u=A,w=k)}):c.doc.nodesBetween(y,x,(k,A)=>{A<y&&h&&h===k.type&&(T=Math.max(A,y),C=Math.min(A+k.nodeSize,x),u=A,w=k),A>=y&&A<=x&&(h&&h===k.type&&l.setNodeMarkup(A,void 0,{...k.attrs,...e}),p&&k.marks.length&&k.marks.forEach(g=>{if(p===g.type){const E=Math.max(A,y),v=Math.min(A+k.nodeSize,x);l.addMark(E,v,p.create({...g.attrs,...e}))}}))}),w&&(u!==void 0&&l.setNodeMarkup(u,void 0,{...w.attrs,...e}),p&&w.marks.length&&w.marks.forEach(k=>{p===k.type&&l.addMark(T,C,p.create({...k.attrs,...e}))}))}),!0):!1},wrapIn=(t,e={})=>({state:l,dispatch:c})=>{const f=getNodeType(t,l.schema);return wrapIn$1(f,e)(l,c)},wrapInList=(t,e={})=>({state:l,dispatch:c})=>{const f=getNodeType(t,l.schema);return wrapInList$1(f,e)(l,c)};var commands=Object.freeze({__proto__:null,blur,clearContent,clearNodes,command,createParagraphNear,cut,deleteCurrentNode,deleteNode,deleteRange,deleteSelection,enter,exitCode,extendMarkRange,first,focus:focus$1,forEach,insertContent,insertContentAt,joinBackward,joinDown,joinForward,joinItemBackward,joinItemForward,joinTextblockBackward,joinTextblockForward,joinUp,keyboardShortcut,lift,liftEmptyBlock,liftListItem,newlineInCode,resetAttributes,scrollIntoView,selectAll,selectNodeBackward,selectNodeForward,selectParentNode,selectTextblockEnd,selectTextblockStart,setContent,setMark,setMeta,setNode,setNodeSelection,setTextSelection,sinkListItem,splitBlock,splitListItem,toggleList,toggleMark,toggleNode,toggleWrap,undoInputRule,unsetAllMarks,unsetMark,updateAttributes,wrapIn,wrapInList});const Commands=Extension.create({name:"commands",addCommands(){return{...commands}}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(t,e,l,c)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:l,moved:c})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(e,l)=>{t.isFocused=!0;const c=t.state.tr.setMeta("focus",{event:l}).setMeta("addToHistory",!1);return e.dispatch(c),!1},blur:(e,l)=>{t.isFocused=!1;const c=t.state.tr.setMeta("blur",{event:l}).setMeta("addToHistory",!1);return e.dispatch(c),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:p})=>[()=>p.undoInputRule(),()=>p.command(({tr:d})=>{const{selection:m,doc:y}=d,{empty:x,$anchor:u}=m,{pos:w,parent:T}=u,C=u.parent.isTextblock&&w>0?d.doc.resolve(w-1):u,k=C.parent.type.spec.isolating,A=u.pos-u.parentOffset,g=k&&C.parent.childCount===1?A===u.pos:Selection.atStart(y).from===w;return!x||!T.type.isTextblock||T.textContent.length||!g||g&&u.parent.type.name==="paragraph"?!1:p.clearNodes()}),()=>p.deleteSelection(),()=>p.joinBackward(),()=>p.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:p})=>[()=>p.deleteSelection(),()=>p.deleteCurrentNode(),()=>p.joinForward(),()=>p.selectNodeForward()]),c={Enter:()=>this.editor.commands.first(({commands:p})=>[()=>p.newlineInCode(),()=>p.createParagraphNear(),()=>p.liftEmptyBlock(),()=>p.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},f={...c},h={...c,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?h:f},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(t,e,l)=>{if(t.some(k=>k.getMeta("composition")))return;const c=t.some(k=>k.docChanged)&&!e.doc.eq(l.doc),f=t.some(k=>k.getMeta("preventClearDocument"));if(!c||f)return;const{empty:h,from:p,to:d}=e.selection,m=Selection.atStart(e.doc).from,y=Selection.atEnd(e.doc).to;if(h||!(p===m&&d===y)||!isNodeEmpty(l.doc))return;const w=l.tr,T=createChainableState({state:l,transaction:w}),{commands:C}=new CommandManager({editor:this.editor,state:T});if(C.clearNodes(),!!w.steps.length)return w}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(t,e,l)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:l})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var index=Object.freeze({__proto__:null,ClipboardTextSerializer,Commands,Drop,Editable,FocusEvents,Keymap,Paste,Tabindex,focusEventsPluginKey});class NodePos{get name(){return this.node.type.name}constructor(e,l,c=!1,f=null){this.currentNode=null,this.actualDepth=null,this.isBlock=c,this.resolvedPos=e,this.editor=l,this.currentNode=f}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let l=this.from,c=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}l=this.from+1,c=this.to-1}this.editor.commands.insertContentAt({from:l,to:c},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),l=this.resolvedPos.doc.resolve(e);return new NodePos(l,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new NodePos(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new NodePos(e,this.editor)}get children(){const e=[];return this.node.content.forEach((l,c)=>{const f=l.isBlock&&!l.isTextblock,h=l.isAtom&&!l.isText,p=this.pos+c+(h?0:1),d=this.resolvedPos.doc.resolve(p);if(!f&&d.depth<=this.depth)return;const m=new NodePos(d,this.editor,f,f?l:null);f&&(m.actualDepth=this.depth+1),e.push(new NodePos(d,this.editor,f,f?l:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,l={}){let c=null,f=this.parent;for(;f&&!c;){if(f.node.type.name===e)if(Object.keys(l).length>0){const h=f.node.attrs,p=Object.keys(l);for(let d=0;d<p.length;d+=1){const m=p[d];if(h[m]!==l[m])break}}else c=f;f=f.parent}return c}querySelector(e,l={}){return this.querySelectorAll(e,l,!0)[0]||null}querySelectorAll(e,l={},c=!1){let f=[];if(!this.children||this.children.length===0)return f;const h=Object.keys(l);return this.children.forEach(p=>{c&&f.length>0||(p.node.type.name===e&&h.every(m=>l[m]===p.node.attrs[m])&&f.push(p),!(c&&f.length>0)&&(f=f.concat(p.querySelectorAll(e,l,c))))}),f}setAttribute(e){const{tr:l}=this.editor.state;l.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(l)}}const style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag(t,e,l){const c=document.querySelector("style[data-tiptap-style]");if(c!==null)return c;const f=document.createElement("style");return e&&f.setAttribute("nonce",e),f.setAttribute("data-tiptap-style",""),f.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(f),f}class Editor extends EventEmitter{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:l})=>{throw l},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:l,slice:c,moved:f})=>this.options.onDrop(l,c,f)),this.on("paste",({event:l,slice:c})=>this.options.onPaste(l,c)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,l=!0){this.setOptions({editable:e}),l&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,l){const c=isFunction$3(l)?l(e,[...this.state.plugins]):[...this.state.plugins,e],f=this.state.reconfigure({plugins:c});return this.view.updateState(f),f}unregisterPlugin(e){if(this.isDestroyed)return;const l=this.state.plugins;let c=l;if([].concat(e).forEach(h=>{const p=typeof h=="string"?`${h}$`:h.key;c=c.filter(d=>!d.key.startsWith(p))}),l.length===c.length)return;const f=this.state.reconfigure({plugins:c});return this.view.updateState(f),f}createExtensionManager(){var e,l;const f=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(l=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||l===void 0?void 0:l.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste].filter(h=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[h.name]!==!1:!0):[],...this.options.extensions].filter(h=>["extension","node","mark"].includes(h==null?void 0:h.type));this.extensionManager=new ExtensionManager(f,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let l;try{l=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(p){if(!(p instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(p.message))throw p;this.emit("contentError",{editor:this,error:p,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(d=>d.name!=="collaboration"),this.createExtensionManager()}}),l=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const c=resolveFocusPosition(l,this.options.autofocus);this.view=new EditorView(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:l,selection:c||void 0})});const f=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(f),this.createNodeViews(),this.prependClass();const h=this.view.dom;h.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const l=this.capturedTransaction;return this.capturedTransaction=null,l}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(p=>{var d;return(d=this.capturedTransaction)===null||d===void 0?void 0:d.step(p)});return}const l=this.state.apply(e),c=!this.state.selection.eq(l.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:l}),this.view.updateState(l),this.emit("transaction",{editor:this,transaction:e}),c&&this.emit("selectionUpdate",{editor:this,transaction:e});const f=e.getMeta("focus"),h=e.getMeta("blur");f&&this.emit("focus",{editor:this,event:f.event,transaction:e}),h&&this.emit("blur",{editor:this,event:h.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return getAttributes(this.state,e)}isActive(e,l){const c=typeof e=="string"?e:null,f=typeof e=="string"?l:e;return isActive(this.state,c,f)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:l=`

`,textSerializers:c={}}=e||{};return getText(this.state.doc,{blockSeparator:l,textSerializers:{...getTextSerializersFromSchema(this.schema),...c}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,l){var c;return((c=this.$doc)===null||c===void 0?void 0:c.querySelector(e,l))||null}$nodes(e,l){var c;return((c=this.$doc)===null||c===void 0?void 0:c.querySelectorAll(e,l))||null}$pos(e){const l=this.state.doc.resolve(e);return new NodePos(l,this)}get $doc(){return this.$pos(0)}}function markInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:l,match:c})=>{const f=callOrReturn(t.getAttributes,void 0,c);if(f===!1||f===null)return null;const{tr:h}=e,p=c[c.length-1],d=c[0];if(p){const m=d.search(/\S/),y=l.from+d.indexOf(p),x=y+p.length;if(getMarksBetween(l.from,l.to,e.doc).filter(T=>T.mark.type.excluded.find(k=>k===t.type&&k!==T.mark.type)).filter(T=>T.to>y).length)return null;x<l.to&&h.delete(x,l.to),y>l.from&&h.delete(l.from+m,y);const w=l.from+m+p.length;h.addMark(l.from+m,w,t.type.create(f||{})),h.removeStoredMark(t.type)}}})}function nodeInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:l,match:c})=>{const f=callOrReturn(t.getAttributes,void 0,c)||{},{tr:h}=e,p=l.from;let d=l.to;const m=t.type.create(f);if(c[1]){const y=c[0].lastIndexOf(c[1]);let x=p+y;x>d?x=d:d=x+c[1].length;const u=c[0][c[0].length-1];h.insertText(u,p+c[0].length-1),h.replaceWith(x,d,m)}else if(c[0]){const y=t.type.isInline?p:p-1;h.insert(y,t.type.create(f)).delete(h.mapping.map(p),h.mapping.map(d))}h.scrollIntoView()}})}function textblockTypeInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:l,match:c})=>{const f=e.doc.resolve(l.from),h=callOrReturn(t.getAttributes,void 0,c)||{};if(!f.node(-1).canReplaceWith(f.index(-1),f.indexAfter(-1),t.type))return null;e.tr.delete(l.from,l.to).setBlockType(l.from,l.from,t.type,h)}})}function wrappingInputRule(t){return new InputRule({find:t.find,handler:({state:e,range:l,match:c,chain:f})=>{const h=callOrReturn(t.getAttributes,void 0,c)||{},p=e.tr.delete(l.from,l.to),m=p.doc.resolve(l.from).blockRange(),y=m&&findWrapping(m,t.type,h);if(!y)return null;if(p.wrap(m,y),t.keepMarks&&t.editor){const{selection:u,storedMarks:w}=e,{splittableMarks:T}=t.editor.extensionManager,C=w||u.$to.parentOffset&&u.$from.marks();if(C){const k=C.filter(A=>T.includes(A.type.name));p.ensureMarks(k)}}if(t.keepAttributes){const u=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";f().updateAttributes(u,h).run()}const x=p.doc.resolve(l.from-1).nodeBefore;x&&x.type===t.type&&canJoin(p.doc,l.from-1)&&(!t.joinPredicate||t.joinPredicate(c,x))&&p.join(l.from-1)}})}let Node$1=class kl{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new kl(e)}configure(e={}){const l=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return l.name=this.name,l.parent=this.parent,l}extend(e={}){const l=new kl(e);return l.parent=this,this.child=l,l.name=e.name?e.name:l.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${l.name}".`),l.options=callOrReturn(getExtensionField(l,"addOptions",{name:l.name})),l.storage=callOrReturn(getExtensionField(l,"addStorage",{name:l.name,options:l.options})),l}};function markPasteRule(t){return new PasteRule({find:t.find,handler:({state:e,range:l,match:c,pasteEvent:f})=>{const h=callOrReturn(t.getAttributes,void 0,c,f);if(h===!1||h===null)return null;const{tr:p}=e,d=c[c.length-1],m=c[0];let y=l.to;if(d){const x=m.search(/\S/),u=l.from+m.indexOf(d),w=u+d.length;if(getMarksBetween(l.from,l.to,e.doc).filter(C=>C.mark.type.excluded.find(A=>A===t.type&&A!==C.mark.type)).filter(C=>C.to>u).length)return null;w<l.to&&p.delete(w,l.to),u>l.from&&p.delete(l.from+x,u),y=l.from+x+d.length,p.addMark(l.from+x,y,t.type.create(h||{})),p.removeStoredMark(t.type)}}})}function getDefaultExportFromCjs(t){return t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production_min;function requireUseSyncExternalStoreShim_production_min(){if(hasRequiredUseSyncExternalStoreShim_production_min)return useSyncExternalStoreShim_production_min;hasRequiredUseSyncExternalStoreShim_production_min=1;var t=React2;function e(u,w){return u===w&&(u!==0||1/u===1/w)||u!==u&&w!==w}var l=typeof Object.is=="function"?Object.is:e,c=t.useState,f=t.useEffect,h=t.useLayoutEffect,p=t.useDebugValue;function d(u,w){var T=w(),C=c({inst:{value:T,getSnapshot:w}}),k=C[0].inst,A=C[1];return h(function(){k.value=T,k.getSnapshot=w,m(k)&&A({inst:k})},[u,T,w]),f(function(){return m(k)&&A({inst:k}),u(function(){m(k)&&A({inst:k})})},[u]),p(T),T}function m(u){var w=u.getSnapshot;u=u.value;try{var T=w();return!l(u,T)}catch{return!0}}function y(u,w){return w()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:d;return useSyncExternalStoreShim_production_min.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:x,useSyncExternalStoreShim_production_min}shim.exports=requireUseSyncExternalStoreShim_production_min();var shimExports=shim.exports;const mergeRefs=(...t)=>e=>{t.forEach(l=>{typeof l=="function"?l(e):l&&(l.current=e)})},Portals=({contentComponent:t})=>{const e=shimExports.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return React2.createElement(React2.Fragment,null,Object.values(e))};function getInstance(){const t=new Set;let e={};return{subscribe(l){return t.add(l),()=>{t.delete(l)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(l,c){e={...e,[l]:ReactDOM.createPortal(c.reactElement,c.element,l)},t.forEach(f=>f())},removeRenderer(l){const c={...e};delete c[l],e=c,t.forEach(f=>f())}}}class PureEditorContent extends React2.Component{constructor(e){var l;super(e),this.editorContentRef=React2.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((l=e.editor)===null||l===void 0)&&l.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const l=this.editorContentRef.current;l.append(...e.options.element.childNodes),e.setOptions({element:l}),e.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(c=>c.hasContentComponentInitialized?c:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const l=document.createElement("div");l.append(...e.options.element.childNodes),e.setOptions({element:l})}render(){const{editor:e,innerRef:l,...c}=this.props;return React2.createElement(React2.Fragment,null,React2.createElement("div",{ref:mergeRefs(l,this.editorContentRef),...c}),(e==null?void 0:e.contentComponent)&&React2.createElement(Portals,{contentComponent:e.contentComponent}))}}const EditorContentWithKey=reactExports.forwardRef((t,e)=>{const l=React2.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return React2.createElement(PureEditorContent,{key:l,innerRef:e,...t})}),EditorContent=React2.memo(EditorContentWithKey);var react=function t(e,l){if(e===l)return!0;if(e&&l&&typeof e=="object"&&typeof l=="object"){if(e.constructor!==l.constructor)return!1;var c,f,h;if(Array.isArray(e)){if(c=e.length,c!=l.length)return!1;for(f=c;f--!==0;)if(!t(e[f],l[f]))return!1;return!0}if(e instanceof Map&&l instanceof Map){if(e.size!==l.size)return!1;for(f of e.entries())if(!l.has(f[0]))return!1;for(f of e.entries())if(!t(f[1],l.get(f[0])))return!1;return!0}if(e instanceof Set&&l instanceof Set){if(e.size!==l.size)return!1;for(f of e.entries())if(!l.has(f[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(l)){if(c=e.length,c!=l.length)return!1;for(f=c;f--!==0;)if(e[f]!==l[f])return!1;return!0}if(e.constructor===RegExp)return e.source===l.source&&e.flags===l.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===l.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===l.toString();if(h=Object.keys(e),c=h.length,c!==Object.keys(l).length)return!1;for(f=c;f--!==0;)if(!Object.prototype.hasOwnProperty.call(l,h[f]))return!1;for(f=c;f--!==0;){var p=h[f];if(!(p==="_owner"&&e.$$typeof)&&!t(e[p],l[p]))return!1}return!0}return e!==e&&l!==l},deepEqual=getDefaultExportFromCjs(react),withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production_min;function requireWithSelector_production_min(){if(hasRequiredWithSelector_production_min)return withSelector_production_min;hasRequiredWithSelector_production_min=1;var t=React2,e=shimExports;function l(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var c=typeof Object.is=="function"?Object.is:l,f=e.useSyncExternalStore,h=t.useRef,p=t.useEffect,d=t.useMemo,m=t.useDebugValue;return withSelector_production_min.useSyncExternalStoreWithSelector=function(y,x,u,w,T){var C=h(null);if(C.current===null){var k={hasValue:!1,value:null};C.current=k}else k=C.current;C=d(function(){function g(I){if(!E){if(E=!0,v=I,I=w(I),T!==void 0&&k.hasValue){var J=k.value;if(T(J,I))return M=J}return M=I}if(J=M,c(v,I))return J;var _=w(I);return T!==void 0&&T(J,_)?J:(v=I,M=_)}var E=!1,v,M,R=u===void 0?null:u;return[function(){return g(x())},R===null?void 0:function(){return g(R())}]},[x,u,w,T]);var A=f(y,C[0],C[1]);return p(function(){k.hasValue=!0,k.value=A},[A]),m(A),A},withSelector_production_min}withSelector.exports=requireWithSelector_production_min();var withSelectorExports=withSelector.exports;const useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;class EditorStateManager{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const l=()=>{this.transactionNumber+=1,this.subscribers.forEach(f=>f())},c=this.editor;return c.on("transaction",l),()=>{c.off("transaction",l)}}}}function useEditorState(t){var e;const[l]=reactExports.useState(()=>new EditorStateManager(t.editor)),c=withSelectorExports.useSyncExternalStoreWithSelector(l.subscribe,l.getSnapshot,l.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:deepEqual);return useIsomorphicLayoutEffect(()=>l.watch(t.editor),[t.editor,l]),reactExports.useDebugValue(c),c}const isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next);class EditorInstanceManager{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(l=>l())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...c)=>{var f,h;return(h=(f=this.options.current).onBeforeCreate)===null||h===void 0?void 0:h.call(f,...c)},onBlur:(...c)=>{var f,h;return(h=(f=this.options.current).onBlur)===null||h===void 0?void 0:h.call(f,...c)},onCreate:(...c)=>{var f,h;return(h=(f=this.options.current).onCreate)===null||h===void 0?void 0:h.call(f,...c)},onDestroy:(...c)=>{var f,h;return(h=(f=this.options.current).onDestroy)===null||h===void 0?void 0:h.call(f,...c)},onFocus:(...c)=>{var f,h;return(h=(f=this.options.current).onFocus)===null||h===void 0?void 0:h.call(f,...c)},onSelectionUpdate:(...c)=>{var f,h;return(h=(f=this.options.current).onSelectionUpdate)===null||h===void 0?void 0:h.call(f,...c)},onTransaction:(...c)=>{var f,h;return(h=(f=this.options.current).onTransaction)===null||h===void 0?void 0:h.call(f,...c)},onUpdate:(...c)=>{var f,h;return(h=(f=this.options.current).onUpdate)===null||h===void 0?void 0:h.call(f,...c)},onContentError:(...c)=>{var f,h;return(h=(f=this.options.current).onContentError)===null||h===void 0?void 0:h.call(f,...c)},onDrop:(...c)=>{var f,h;return(h=(f=this.options.current).onDrop)===null||h===void 0?void 0:h.call(f,...c)},onPaste:(...c)=>{var f,h;return(h=(f=this.options.current).onPaste)===null||h===void 0?void 0:h.call(f,...c)}};return new Editor(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,l){return Object.keys(e).every(c=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(c)?!0:c==="extensions"&&e.extensions&&l.extensions?e.extensions.length!==l.extensions.length?!1:e.extensions.every((f,h)=>{var p;return f===((p=l.extensions)===null||p===void 0?void 0:p[h])}):e[c]===l[c])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?EditorInstanceManager.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((c,f)=>c===e[f]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,l=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){l&&l.setOptions(this.options.current);return}l&&!l.isDestroyed&&(l.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function useEditor(t={},e=[]){const l=reactExports.useRef(t);l.current=t;const[c]=reactExports.useState(()=>new EditorInstanceManager(l)),f=shimExports.useSyncExternalStore(c.subscribe,c.getEditor,c.getServerSnapshot);return reactExports.useDebugValue(f),reactExports.useEffect(c.onRender(e)),useEditorState({editor:f,selector:({transactionNumber:h})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&h===0?0:h+1}),f}const EditorContext=reactExports.createContext({editor:null});EditorContext.Consumer;const ReactNodeViewContext=reactExports.createContext({onDragStart:void 0}),useReactNodeView=()=>reactExports.useContext(ReactNodeViewContext);React2.forwardRef((t,e)=>{const{onDragStart:l}=useReactNodeView(),c=t.as||"div";return React2.createElement(c,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:l,style:{whiteSpace:"normal",...t.style}})});const inputRegex$4=/^\s*>\s$/,Blockquote$2=Node$1.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold$2=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),ListItemName$1="listItem",TextStyleName$1="textStyle",inputRegex$3=/^\s*([-+*])\s$/,BulletList$2=Node$1.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName$1,this.editor.getAttributes(TextStyleName$1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=wrappingInputRule({find:inputRegex$3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:inputRegex$3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName$1),editor:this.editor})),[t]}}),inputRegex$2=/(^|[^`])`([^`]+)`(?!`)/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code$2=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock$2=Node$1.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:l}=this.options,h=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(p=>p.startsWith(l)).map(p=>p.replace(l,""))[0];return h||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",mergeAttributes(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,l=e.pos===1;return!t||e.parent.type.name!==this.name?!1:l||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:l}=e,{$from:c,empty:f}=l;if(!f||c.parent.type!==this.type)return!1;const h=c.parentOffset===c.parent.nodeSize-2,p=c.parent.textContent.endsWith(`

`);return!h||!p?!1:t.chain().command(({tr:d})=>(d.delete(c.pos-2,c.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:l,doc:c}=e,{$from:f,empty:h}=l;if(!h||f.parent.type!==this.type||!(f.parentOffset===f.parent.nodeSize-2))return!1;const d=f.after();return d===void 0?!1:c.nodeAt(d)?t.commands.command(({tr:y})=>(y.setSelection(Selection.near(c.resolve(d))),!0)):t.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:t=>({language:t[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const l=e.clipboardData.getData("text/plain"),c=e.clipboardData.getData("vscode-editor-data"),f=c?JSON.parse(c):void 0,h=f==null?void 0:f.mode;if(!l||!h)return!1;const{tr:p,schema:d}=t.state,m=d.text(l.replace(/\r\n?/g,`
`));return p.replaceSelectionWith(this.type.create({language:h},m)),p.selection.$from.parent.type!==this.type&&p.setSelection(TextSelection.near(p.doc.resolve(Math.max(0,p.selection.from-2)))),p.setMeta("paste",!0),t.dispatch(p),!0}}})]}}),Document=Node$1.create({name:"doc",topNode:!0,content:"block+"});function dropCursor(t={}){return new Plugin({view(e){return new DropCursorView(e,t)}})}class DropCursorView{constructor(e,l){var c;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(c=l.width)!==null&&c!==void 0?c:1,this.color=l.color===!1?void 0:l.color||"black",this.class=l.class,this.handlers=["dragover","dragend","drop","dragleave"].map(f=>{let h=p=>{this[f](p)};return e.dom.addEventListener(f,h),{name:f,handler:h}})}destroy(){this.handlers.forEach(({name:e,handler:l})=>this.editorView.dom.removeEventListener(e,l))}update(e,l){this.cursorPos!=null&&l.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),l=!e.parent.inlineContent,c,f=this.editorView.dom,h=f.getBoundingClientRect(),p=h.width/f.offsetWidth,d=h.height/f.offsetHeight;if(l){let u=e.nodeBefore,w=e.nodeAfter;if(u||w){let T=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(T){let C=T.getBoundingClientRect(),k=u?C.bottom:C.top;u&&w&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let A=this.width/2*d;c={left:C.left,right:C.right,top:k-A,bottom:k+A}}}}if(!c){let u=this.editorView.coordsAtPos(this.cursorPos),w=this.width/2*p;c={left:u.left-w,right:u.left+w,top:u.top,bottom:u.bottom}}let m=this.editorView.dom.offsetParent;this.element||(this.element=m.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",l),this.element.classList.toggle("prosemirror-dropcursor-inline",!l);let y,x;if(!m||m==document.body&&getComputedStyle(m).position=="static")y=-pageXOffset,x=-pageYOffset;else{let u=m.getBoundingClientRect(),w=u.width/m.offsetWidth,T=u.height/m.offsetHeight;y=u.left-m.scrollLeft*w,x=u.top-m.scrollTop*T}this.element.style.left=(c.left-y)/p+"px",this.element.style.top=(c.top-x)/d+"px",this.element.style.width=(c.right-c.left)/p+"px",this.element.style.height=(c.bottom-c.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let l=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),c=l&&l.inside>=0&&this.editorView.state.doc.nodeAt(l.inside),f=c&&c.type.spec.disableDropCursor,h=typeof f=="function"?f(this.editorView,l,e):f;if(l&&!h){let p=l.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=dropPoint(this.editorView.state.doc,p,this.editorView.dragging.slice);d!=null&&(p=d)}this.setCursor(p),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});class GapCursor extends Selection{constructor(e){super(e,e)}map(e,l){let c=e.resolve(l.map(this.head));return GapCursor.valid(c)?new GapCursor(c):Selection.near(c)}content(){return Slice.empty}eq(e){return e instanceof GapCursor&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,l){if(typeof l.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(e.resolve(l.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(e){let l=e.parent;if(l.isTextblock||!closedBefore(e)||!closedAfter(e))return!1;let c=l.type.spec.allowGapCursor;if(c!=null)return c;let f=l.contentMatchAt(e.index()).defaultType;return f&&f.isTextblock}static findGapCursorFrom(e,l,c=!1){e:for(;;){if(!c&&GapCursor.valid(e))return e;let f=e.pos,h=null;for(let p=e.depth;;p--){let d=e.node(p);if(l>0?e.indexAfter(p)<d.childCount:e.index(p)>0){h=d.child(l>0?e.indexAfter(p):e.index(p)-1);break}else if(p==0)return null;f+=l;let m=e.doc.resolve(f);if(GapCursor.valid(m))return m}for(;;){let p=l>0?h.firstChild:h.lastChild;if(!p){if(h.isAtom&&!h.isText&&!NodeSelection.isSelectable(h)){e=e.doc.resolve(f+h.nodeSize*l),c=!1;continue e}break}h=p,f+=l;let d=e.doc.resolve(f);if(GapCursor.valid(d))return d}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(e){this.pos=e}map(e){return new GapBookmark(e.map(this.pos))}resolve(e){let l=e.resolve(this.pos);return GapCursor.valid(l)?new GapCursor(l):Selection.near(l)}}function closedBefore(t){for(let e=t.depth;e>=0;e--){let l=t.index(e),c=t.node(e);if(l==0){if(c.type.spec.isolating)return!0;continue}for(let f=c.child(l-1);;f=f.lastChild){if(f.childCount==0&&!f.inlineContent||f.isAtom||f.type.spec.isolating)return!0;if(f.inlineContent)return!1}}return!0}function closedAfter(t){for(let e=t.depth;e>=0;e--){let l=t.indexAfter(e),c=t.node(e);if(l==c.childCount){if(c.type.spec.isolating)return!0;continue}for(let f=c.child(l);;f=f.firstChild){if(f.childCount==0&&!f.inlineContent||f.isAtom||f.type.spec.isolating)return!0;if(f.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(t,e,l){return e.pos==l.pos&&GapCursor.valid(l)?new GapCursor(l):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(t,e){const l=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(c,f,h){let p=c.selection,d=e>0?p.$to:p.$from,m=p.empty;if(p instanceof TextSelection){if(!h.endOfTextblock(l)||d.depth==0)return!1;m=!1,d=c.doc.resolve(e>0?d.after():d.before())}let y=GapCursor.findGapCursorFrom(d,e,m);return y?(f&&f(c.tr.setSelection(new GapCursor(y))),!0):!1}}function handleClick(t,e,l){if(!t||!t.editable)return!1;let c=t.state.doc.resolve(e);if(!GapCursor.valid(c))return!1;let f=t.posAtCoords({left:l.clientX,top:l.clientY});return f&&f.inside>-1&&NodeSelection.isSelectable(t.state.doc.nodeAt(f.inside))?!1:(t.dispatch(t.state.tr.setSelection(new GapCursor(c))),!0)}function beforeinput(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof GapCursor))return!1;let{$from:l}=t.state.selection,c=l.parent.contentMatchAt(l.index()).findWrapping(t.state.schema.nodes.text);if(!c)return!1;let f=Fragment.empty;for(let p=c.length-1;p>=0;p--)f=Fragment.from(c[p].createAndFill(null,f));let h=t.state.tr.replace(l.pos,l.pos,new Slice(f,0,0));return h.setSelection(TextSelection.near(h.doc.resolve(l.pos+1))),t.dispatch(h),!1}function drawGapCursor(t){if(!(t.selection instanceof GapCursor))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",DecorationSet.create(t.doc,[Decoration.widget(t.selection.head,e,{key:"gapcursor"})])}const Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(t){var e;const l={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=callOrReturn(getExtensionField(t,"allowGapCursor",l)))!==null&&e!==void 0?e:null}}}),HardBreak$2=Node$1.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",mergeAttributes(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:l,editor:c})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:f,storedMarks:h}=l;if(f.$from.parent.type.spec.isolating)return!1;const{keepMarks:p}=this.options,{splittableMarks:d}=c.extensionManager,m=h||f.$to.parentOffset&&f.$from.marks();return e().insertContent({type:this.name}).command(({tr:y,dispatch:x})=>{if(x&&m&&p){const u=m.filter(w=>d.includes(w.type.name));y.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading$2=Node$1.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var GOOD_LEAF_SIZE=200,RopeSequence=function t(){};RopeSequence.prototype.append=function t(e){return e.length?(e=RopeSequence.from(e),!this.length&&e||e.length<GOOD_LEAF_SIZE&&this.leafAppend(e)||this.length<GOOD_LEAF_SIZE&&e.leafPrepend(this)||this.appendInner(e)):this};RopeSequence.prototype.prepend=function t(e){return e.length?RopeSequence.from(e).append(this):this};RopeSequence.prototype.appendInner=function t(e){return new Append(this,e)};RopeSequence.prototype.slice=function t(e,l){return e===void 0&&(e=0),l===void 0&&(l=this.length),e>=l?RopeSequence.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,l))};RopeSequence.prototype.get=function t(e){if(!(e<0||e>=this.length))return this.getInner(e)};RopeSequence.prototype.forEach=function t(e,l,c){l===void 0&&(l=0),c===void 0&&(c=this.length),l<=c?this.forEachInner(e,l,c,0):this.forEachInvertedInner(e,l,c,0)};RopeSequence.prototype.map=function t(e,l,c){l===void 0&&(l=0),c===void 0&&(c=this.length);var f=[];return this.forEach(function(h,p){return f.push(e(h,p))},l,c),f};RopeSequence.from=function t(e){return e instanceof RopeSequence?e:e&&e.length?new Leaf(e):RopeSequence.empty};var Leaf=function(t){function e(c){t.call(this),this.values=c}e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e;var l={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(f,h){return f==0&&h==this.length?this:new e(this.values.slice(f,h))},e.prototype.getInner=function(f){return this.values[f]},e.prototype.forEachInner=function(f,h,p,d){for(var m=h;m<p;m++)if(f(this.values[m],d+m)===!1)return!1},e.prototype.forEachInvertedInner=function(f,h,p,d){for(var m=h-1;m>=p;m--)if(f(this.values[m],d+m)===!1)return!1},e.prototype.leafAppend=function(f){if(this.length+f.length<=GOOD_LEAF_SIZE)return new e(this.values.concat(f.flatten()))},e.prototype.leafPrepend=function(f){if(this.length+f.length<=GOOD_LEAF_SIZE)return new e(f.flatten().concat(this.values))},l.length.get=function(){return this.values.length},l.depth.get=function(){return 0},Object.defineProperties(e.prototype,l),e}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(t){function e(l,c){t.call(this),this.left=l,this.right=c,this.length=l.length+c.length,this.depth=Math.max(l.depth,c.depth)+1}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(c){return c<this.left.length?this.left.get(c):this.right.get(c-this.left.length)},e.prototype.forEachInner=function(c,f,h,p){var d=this.left.length;if(f<d&&this.left.forEachInner(c,f,Math.min(h,d),p)===!1||h>d&&this.right.forEachInner(c,Math.max(f-d,0),Math.min(this.length,h)-d,p+d)===!1)return!1},e.prototype.forEachInvertedInner=function(c,f,h,p){var d=this.left.length;if(f>d&&this.right.forEachInvertedInner(c,f-d,Math.max(h,d)-d,p+d)===!1||h<d&&this.left.forEachInvertedInner(c,Math.min(f,d),h,p)===!1)return!1},e.prototype.sliceInner=function(c,f){if(c==0&&f==this.length)return this;var h=this.left.length;return f<=h?this.left.slice(c,f):c>=h?this.right.slice(c-h,f-h):this.left.slice(c,h).append(this.right.slice(0,f-h))},e.prototype.leafAppend=function(c){var f=this.right.leafAppend(c);if(f)return new e(this.left,f)},e.prototype.leafPrepend=function(c){var f=this.left.leafPrepend(c);if(f)return new e(f,this.right)},e.prototype.appendInner=function(c){return this.left.depth>=Math.max(this.right.depth,c.depth)+1?new e(this.left,new e(this.right,c)):new e(this,c)},e}(RopeSequence);const max_empty_items=500;class Branch{constructor(e,l){this.items=e,this.eventCount=l}popEvent(e,l){if(this.eventCount==0)return null;let c=this.items.length;for(;;c--)if(this.items.get(c-1).selection){--c;break}let f,h;l&&(f=this.remapping(c,this.items.length),h=f.maps.length);let p=e.tr,d,m,y=[],x=[];return this.items.forEach((u,w)=>{if(!u.step){f||(f=this.remapping(c,w+1),h=f.maps.length),h--,x.push(u);return}if(f){x.push(new Item$1(u.map));let T=u.step.map(f.slice(h)),C;T&&p.maybeStep(T).doc&&(C=p.mapping.maps[p.mapping.maps.length-1],y.push(new Item$1(C,void 0,void 0,y.length+x.length))),h--,C&&f.appendMap(C,h)}else p.maybeStep(u.step);if(u.selection)return d=f?u.selection.map(f.slice(h)):u.selection,m=new Branch(this.items.slice(0,c).append(x.reverse().concat(y)),this.eventCount-1),!1},this.items.length,0),{remaining:m,transform:p,selection:d}}addTransform(e,l,c,f){let h=[],p=this.eventCount,d=this.items,m=!f&&d.length?d.get(d.length-1):null;for(let x=0;x<e.steps.length;x++){let u=e.steps[x].invert(e.docs[x]),w=new Item$1(e.mapping.maps[x],u,l),T;(T=m&&m.merge(w))&&(w=T,x?h.pop():d=d.slice(0,d.length-1)),h.push(w),l&&(p++,l=void 0),f||(m=w)}let y=p-c.depth;return y>DEPTH_OVERFLOW&&(d=cutOffEvents(d,y),p-=y),new Branch(d.append(h),p)}remapping(e,l){let c=new Mapping;return this.items.forEach((f,h)=>{let p=f.mirrorOffset!=null&&h-f.mirrorOffset>=e?c.maps.length-f.mirrorOffset:void 0;c.appendMap(f.map,p)},e,l),c}addMaps(e){return this.eventCount==0?this:new Branch(this.items.append(e.map(l=>new Item$1(l))),this.eventCount)}rebased(e,l){if(!this.eventCount)return this;let c=[],f=Math.max(0,this.items.length-l),h=e.mapping,p=e.steps.length,d=this.eventCount;this.items.forEach(w=>{w.selection&&d--},f);let m=l;this.items.forEach(w=>{let T=h.getMirror(--m);if(T==null)return;p=Math.min(p,T);let C=h.maps[T];if(w.step){let k=e.steps[T].invert(e.docs[T]),A=w.selection&&w.selection.map(h.slice(m+1,T));A&&d++,c.push(new Item$1(C,k,A))}else c.push(new Item$1(C))},f);let y=[];for(let w=l;w<p;w++)y.push(new Item$1(h.maps[w]));let x=this.items.slice(0,f).append(y).append(c),u=new Branch(x,d);return u.emptyItemCount()>max_empty_items&&(u=u.compress(this.items.length-c.length)),u}emptyItemCount(){let e=0;return this.items.forEach(l=>{l.step||e++}),e}compress(e=this.items.length){let l=this.remapping(0,e),c=l.maps.length,f=[],h=0;return this.items.forEach((p,d)=>{if(d>=e)f.push(p),p.selection&&h++;else if(p.step){let m=p.step.map(l.slice(c)),y=m&&m.getMap();if(c--,y&&l.appendMap(y,c),m){let x=p.selection&&p.selection.map(l.slice(c));x&&h++;let u=new Item$1(y.invert(),m,x),w,T=f.length-1;(w=f.length&&f[T].merge(u))?f[T]=w:f.push(u)}}else p.map&&c--},this.items.length,0),new Branch(RopeSequence.from(f.reverse()),h)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(t,e){let l;return t.forEach((c,f)=>{if(c.selection&&e--==0)return l=f,!1}),t.slice(l)}let Item$1=class od{constructor(e,l,c,f){this.map=e,this.step=l,this.selection=c,this.mirrorOffset=f}merge(e){if(this.step&&e.step&&!e.selection){let l=e.step.merge(this.step);if(l)return new od(l.getMap().invert(),l,this.selection)}}};class HistoryState{constructor(e,l,c,f,h){this.done=e,this.undone=l,this.prevRanges=c,this.prevTime=f,this.prevComposition=h}}const DEPTH_OVERFLOW=20;function applyTransaction(t,e,l,c){let f=l.getMeta(historyKey),h;if(f)return f.historyState;l.getMeta(closeHistoryKey)&&(t=new HistoryState(t.done,t.undone,null,0,-1));let p=l.getMeta("appendedTransaction");if(l.steps.length==0)return t;if(p&&p.getMeta(historyKey))return p.getMeta(historyKey).redo?new HistoryState(t.done.addTransform(l,void 0,c,mustPreserveItems(e)),t.undone,rangesFor(l.mapping.maps),t.prevTime,t.prevComposition):new HistoryState(t.done,t.undone.addTransform(l,void 0,c,mustPreserveItems(e)),null,t.prevTime,t.prevComposition);if(l.getMeta("addToHistory")!==!1&&!(p&&p.getMeta("addToHistory")===!1)){let d=l.getMeta("composition"),m=t.prevTime==0||!p&&t.prevComposition!=d&&(t.prevTime<(l.time||0)-c.newGroupDelay||!isAdjacentTo(l,t.prevRanges)),y=p?mapRanges(t.prevRanges,l.mapping):rangesFor(l.mapping.maps);return new HistoryState(t.done.addTransform(l,m?e.selection.getBookmark():void 0,c,mustPreserveItems(e)),Branch.empty,y,l.time,d??t.prevComposition)}else return(h=l.getMeta("rebased"))?new HistoryState(t.done.rebased(l,h),t.undone.rebased(l,h),mapRanges(t.prevRanges,l.mapping),t.prevTime,t.prevComposition):new HistoryState(t.done.addMaps(l.mapping.maps),t.undone.addMaps(l.mapping.maps),mapRanges(t.prevRanges,l.mapping),t.prevTime,t.prevComposition)}function isAdjacentTo(t,e){if(!e)return!1;if(!t.docChanged)return!0;let l=!1;return t.mapping.maps[0].forEach((c,f)=>{for(let h=0;h<e.length;h+=2)c<=e[h+1]&&f>=e[h]&&(l=!0)}),l}function rangesFor(t){let e=[];for(let l=t.length-1;l>=0&&e.length==0;l--)t[l].forEach((c,f,h,p)=>e.push(h,p));return e}function mapRanges(t,e){if(!t)return null;let l=[];for(let c=0;c<t.length;c+=2){let f=e.map(t[c],1),h=e.map(t[c+1],-1);f<=h&&l.push(f,h)}return l}function histTransaction(t,e,l){let c=mustPreserveItems(e),f=historyKey.get(e).spec.config,h=(l?t.undone:t.done).popEvent(e,c);if(!h)return null;let p=h.selection.resolve(h.transform.doc),d=(l?t.done:t.undone).addTransform(h.transform,e.selection.getBookmark(),f,c),m=new HistoryState(l?d:h.remaining,l?h.remaining:d,null,0,-1);return h.transform.setSelection(p).setMeta(historyKey,{redo:l,historyState:m})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(t){let e=t.plugins;if(cachedPreserveItemsPlugins!=e){cachedPreserveItems=!1,cachedPreserveItemsPlugins=e;for(let l=0;l<e.length;l++)if(e[l].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(e,l,c){return applyTransaction(l,c,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,l){let c=l.inputType,f=c=="historyUndo"?undo:c=="historyRedo"?redo:null;return f?(l.preventDefault(),f(e.state,e.dispatch)):!1}}}})}function buildCommand(t,e){return(l,c)=>{let f=historyKey.getState(l);if(!f||(t?f.undone:f.done).eventCount==0)return!1;if(c){let h=histTransaction(f,l,t);h&&c(e?h.scrollIntoView():h)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0),History=Extension.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>undo(t,e),redo:()=>({state:t,dispatch:e})=>redo(t,e)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),HorizontalRule$2=Node$1.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",mergeAttributes(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:l}=e,{$from:c,$to:f}=l,h=t();return c.parentOffset===0?h.insertContentAt({from:Math.max(c.pos-1,0),to:f.pos},{type:this.name}):isNodeSelection(l)?h.insertContentAt(f.pos,{type:this.name}):h.insertContent({type:this.name}),h.command(({tr:p,dispatch:d})=>{var m;if(d){const{$to:y}=p.selection,x=y.end();if(y.nodeAfter)y.nodeAfter.isTextblock?p.setSelection(TextSelection.create(p.doc,y.pos+1)):y.nodeAfter.isBlock?p.setSelection(NodeSelection.create(p.doc,y.pos)):p.setSelection(TextSelection.create(p.doc,y.pos));else{const u=(m=y.parent.type.contentMatch.defaultType)===null||m===void 0?void 0:m.create();u&&(p.insert(x,u),p.setSelection(TextSelection.create(p.doc,x+1)))}p.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic$2=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),ListItem$2=Node$1.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",mergeAttributes(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ListItemName="listItem",TextStyleName="textStyle",inputRegex$1=/^(\d+)\.\s$/,OrderedList$2=Node$1.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...l}=t;return e===1?["ol",mergeAttributes(this.options.HTMLAttributes,l),0]:["ol",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,l)=>l.childCount+l.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=wrappingInputRule({find:inputRegex$1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(TextStyleName)}),joinPredicate:(e,l)=>l.childCount+l.attrs.start===+e[1],editor:this.editor})),[t]}}),Paragraph$2=Node$1.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike$2=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text$2=Node$1.create({name:"text",group:"inline"}),StarterKit=Extension.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(Bold$2.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(Blockquote$2.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(BulletList$2.configure(this.options.bulletList)),this.options.code!==!1&&t.push(Code$2.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(CodeBlock$2.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(HardBreak$2.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(Heading$2.configure(this.options.heading)),this.options.history!==!1&&t.push(History.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(HorizontalRule$2.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(Italic$2.configure(this.options.italic)),this.options.listItem!==!1&&t.push(ListItem$2.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(OrderedList$2.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(Paragraph$2.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(Strike$2.configure(this.options.strike)),this.options.text!==!1&&t.push(Text$2.configure(this.options.text)),t}}),decodeCache={};function getDecodeCache(t){let e=decodeCache[t];if(e)return e;e=decodeCache[t]=[];for(let l=0;l<128;l++){const c=String.fromCharCode(l);e.push(c)}for(let l=0;l<t.length;l++){const c=t.charCodeAt(l);e[c]="%"+("0"+c.toString(16).toUpperCase()).slice(-2)}return e}function decode$1(t,e){typeof e!="string"&&(e=decode$1.defaultChars);const l=getDecodeCache(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(c){let f="";for(let h=0,p=c.length;h<p;h+=3){const d=parseInt(c.slice(h+1,h+3),16);if(d<128){f+=l[d];continue}if((d&224)===192&&h+3<p){const m=parseInt(c.slice(h+4,h+6),16);if((m&192)===128){const y=d<<6&1984|m&63;y<128?f+="":f+=String.fromCharCode(y),h+=3;continue}}if((d&240)===224&&h+6<p){const m=parseInt(c.slice(h+4,h+6),16),y=parseInt(c.slice(h+7,h+9),16);if((m&192)===128&&(y&192)===128){const x=d<<12&61440|m<<6&4032|y&63;x<2048||x>=55296&&x<=57343?f+="":f+=String.fromCharCode(x),h+=6;continue}}if((d&248)===240&&h+9<p){const m=parseInt(c.slice(h+4,h+6),16),y=parseInt(c.slice(h+7,h+9),16),x=parseInt(c.slice(h+10,h+12),16);if((m&192)===128&&(y&192)===128&&(x&192)===128){let u=d<<18&1835008|m<<12&258048|y<<6&4032|x&63;u<65536||u>1114111?f+="":(u-=65536,f+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),h+=9;continue}}f+=""}return f})}decode$1.defaultChars=";/?:@&=+$,#";decode$1.componentChars="";const encodeCache={};function getEncodeCache(t){let e=encodeCache[t];if(e)return e;e=encodeCache[t]=[];for(let l=0;l<128;l++){const c=String.fromCharCode(l);/^[0-9a-z]$/i.test(c)?e.push(c):e.push("%"+("0"+l.toString(16).toUpperCase()).slice(-2))}for(let l=0;l<t.length;l++)e[t.charCodeAt(l)]=t[l];return e}function encode$1(t,e,l){typeof e!="string"&&(l=e,e=encode$1.defaultChars),typeof l>"u"&&(l=!0);const c=getEncodeCache(e);let f="";for(let h=0,p=t.length;h<p;h++){const d=t.charCodeAt(h);if(l&&d===37&&h+2<p&&/^[0-9a-f]{2}$/i.test(t.slice(h+1,h+3))){f+=t.slice(h,h+3),h+=2;continue}if(d<128){f+=c[d];continue}if(d>=55296&&d<=57343){if(d>=55296&&d<=56319&&h+1<p){const m=t.charCodeAt(h+1);if(m>=56320&&m<=57343){f+=encodeURIComponent(t[h]+t[h+1]),h++;continue}}f+="%EF%BF%BD";continue}f+=encodeURIComponent(t[h])}return f}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#";encode$1.componentChars="-_.!~*'()";function format(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(t,e){if(t&&t instanceof Url)return t;const l=new Url;return l.parse(t,e),l}Url.prototype.parse=function(t,e){let l,c,f,h=t;if(h=h.trim(),!e&&t.split("#").length===1){const y=simplePathPattern.exec(h);if(y)return this.pathname=y[1],y[2]&&(this.search=y[2]),this}let p=protocolPattern.exec(h);if(p&&(p=p[0],l=p.toLowerCase(),this.protocol=p,h=h.substr(p.length)),(e||p||h.match(/^\/\/[^@\/]+@[^@\/]+/))&&(f=h.substr(0,2)==="//",f&&!(p&&hostlessProtocol[p])&&(h=h.substr(2),this.slashes=!0)),!hostlessProtocol[p]&&(f||p&&!slashedProtocol[p])){let y=-1;for(let C=0;C<hostEndingChars.length;C++)c=h.indexOf(hostEndingChars[C]),c!==-1&&(y===-1||c<y)&&(y=c);let x,u;y===-1?u=h.lastIndexOf("@"):u=h.lastIndexOf("@",y),u!==-1&&(x=h.slice(0,u),h=h.slice(u+1),this.auth=x),y=-1;for(let C=0;C<nonHostChars.length;C++)c=h.indexOf(nonHostChars[C]),c!==-1&&(y===-1||c<y)&&(y=c);y===-1&&(y=h.length),h[y-1]===":"&&y--;const w=h.slice(0,y);h=h.slice(y),this.parseHost(w),this.hostname=this.hostname||"";const T=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!T){const C=this.hostname.split(/\./);for(let k=0,A=C.length;k<A;k++){const g=C[k];if(g&&!g.match(hostnamePartPattern)){let E="";for(let v=0,M=g.length;v<M;v++)g.charCodeAt(v)>127?E+="x":E+=g[v];if(!E.match(hostnamePartPattern)){const v=C.slice(0,k),M=C.slice(k+1),R=g.match(hostnamePartStart);R&&(v.push(R[1]),M.unshift(R[2])),M.length&&(h=M.join(".")+h),this.hostname=v.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const d=h.indexOf("#");d!==-1&&(this.hash=h.substr(d),h=h.slice(0,d));const m=h.indexOf("?");return m!==-1&&(this.search=h.substr(m),h=h.slice(0,m)),h&&(this.pathname=h),slashedProtocol[l]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(t){let e=portPattern.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P,S:regex,Z},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function replaceCodePoint(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=decodeMap.get(t))!==null&&e!==void 0?e:t}var CharCodes;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(t){return t>=CharCodes.ZERO&&t<=CharCodes.NINE}function isHexadecimalCharacter(t){return t>=CharCodes.UPPER_A&&t<=CharCodes.UPPER_F||t>=CharCodes.LOWER_A&&t<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(t){return t>=CharCodes.UPPER_A&&t<=CharCodes.UPPER_Z||t>=CharCodes.LOWER_A&&t<=CharCodes.LOWER_Z||isNumber(t)}function isEntityInAttributeInvalidEnd(t){return t===CharCodes.EQUALS||isAsciiAlphaNumeric(t)}var EntityDecoderState;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(e,l,c){this.decodeTree=e,this.emitCodePoint=l,this.errors=c,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(e){this.decodeMode=e,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,l){switch(this.state){case EntityDecoderState.EntityStart:return e.charCodeAt(l)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(e,l+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(e,l));case EntityDecoderState.NumericStart:return this.stateNumericStart(e,l);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(e,l);case EntityDecoderState.NumericHex:return this.stateNumericHex(e,l);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(e,l)}}stateNumericStart(e,l){return l>=e.length?-1:(e.charCodeAt(l)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(e,l+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(e,l))}addToNumericResult(e,l,c,f){if(l!==c){const h=c-l;this.result=this.result*Math.pow(f,h)+parseInt(e.substr(l,h),f),this.consumed+=h}}stateNumericHex(e,l){const c=l;for(;l<e.length;){const f=e.charCodeAt(l);if(isNumber(f)||isHexadecimalCharacter(f))l+=1;else return this.addToNumericResult(e,c,l,16),this.emitNumericEntity(f,3)}return this.addToNumericResult(e,c,l,16),-1}stateNumericDecimal(e,l){const c=l;for(;l<e.length;){const f=e.charCodeAt(l);if(isNumber(f))l+=1;else return this.addToNumericResult(e,c,l,10),this.emitNumericEntity(f,2)}return this.addToNumericResult(e,c,l,10),-1}emitNumericEntity(e,l){var c;if(this.consumed<=l)return(c=this.errors)===null||c===void 0||c.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(e!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,l){const{decodeTree:c}=this;let f=c[this.treeIndex],h=(f&BinTrieFlags.VALUE_LENGTH)>>14;for(;l<e.length;l++,this.excess++){const p=e.charCodeAt(l);if(this.treeIndex=determineBranch(c,f,this.treeIndex+Math.max(1,h),p),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(h===0||isEntityInAttributeInvalidEnd(p))?0:this.emitNotTerminatedNamedEntity();if(f=c[this.treeIndex],h=(f&BinTrieFlags.VALUE_LENGTH)>>14,h!==0){if(p===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,h,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:l,decodeTree:c}=this,f=(c[l]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(l,f,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,l,c){const{decodeTree:f}=this;return this.emitCodePoint(l===1?f[e]&~BinTrieFlags.VALUE_LENGTH:f[e+1],c),l===3&&this.emitCodePoint(f[e+2],c),c}end(){var e;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(t){let e="";const l=new EntityDecoder(t,c=>e+=fromCodePoint$1(c));return function(f,h){let p=0,d=0;for(;(d=f.indexOf("&",d))>=0;){e+=f.slice(p,d),l.startEntity(h);const y=l.write(f,d+1);if(y<0){p=d+l.end();break}p=d+y,d=y===0?p+1:p}const m=e+f.slice(p);return e="",m}}function determineBranch(t,e,l,c){const f=(e&BinTrieFlags.BRANCH_LENGTH)>>7,h=e&BinTrieFlags.JUMP_TABLE;if(f===0)return h!==0&&c===h?l:-1;if(h){const m=c-h;return m<0||m>=f?-1:t[l+m]-1}let p=l,d=p+f-1;for(;p<=d;){const m=p+d>>>1,y=t[m];if(y<c)p=m+1;else if(y>c)d=m-1;else return t[m+f]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(t,e=DecodingMode.Legacy){return htmlDecoder(t,e)}function _class$1(t){return Object.prototype.toString.call(t)}function isString$1(t){return _class$1(t)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(t,e){return _hasOwnProperty.call(t,e)}function assign$1(t){return Array.prototype.slice.call(arguments,1).forEach(function(l){if(l){if(typeof l!="object")throw new TypeError(l+"must be object");Object.keys(l).forEach(function(c){t[c]=l[c]})}}),t}function arrayReplaceAt(t,e,l){return[].concat(t.slice(0,e),l,t.slice(e+1))}function isValidEntityCode(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function fromCodePoint(t){if(t>65535){t-=65536;const e=55296+(t>>10),l=56320+(t&1023);return String.fromCharCode(e,l)}return String.fromCharCode(t)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(t,e){if(e.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(e)){const c=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return isValidEntityCode(c)?fromCodePoint(c):t}const l=decodeHTML(t);return l!==t?l:t}function unescapeMd(t){return t.indexOf("\\")<0?t:t.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(UNESCAPE_ALL_RE,function(e,l,c){return l||replaceEntityPattern(e,c)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(t){return HTML_REPLACEMENTS[t]}function escapeHtml(t){return HTML_ESCAPE_TEST_RE.test(t)?t.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):t}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(t){return t.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(t){switch(t){case 9:case 32:return!0}return!1}function isWhiteSpace(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(t){return P.test(t)||regex.test(t)}function isMdAsciiPunct(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint,has,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$1,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel(t,e,l){let c,f,h,p;const d=t.posMax,m=t.pos;for(t.pos=e+1,c=1;t.pos<d;){if(h=t.src.charCodeAt(t.pos),h===93&&(c--,c===0)){f=!0;break}if(p=t.pos,t.md.inline.skipToken(t),h===91){if(p===t.pos-1)c++;else if(l)return t.pos=m,-1}}let y=-1;return f&&(y=t.pos),t.pos=m,y}function parseLinkDestination(t,e,l){let c,f=e;const h={ok:!1,pos:0,str:""};if(t.charCodeAt(f)===60){for(f++;f<l;){if(c=t.charCodeAt(f),c===10||c===60)return h;if(c===62)return h.pos=f+1,h.str=unescapeAll(t.slice(e+1,f)),h.ok=!0,h;if(c===92&&f+1<l){f+=2;continue}f++}return h}let p=0;for(;f<l&&(c=t.charCodeAt(f),!(c===32||c<32||c===127));){if(c===92&&f+1<l){if(t.charCodeAt(f+1)===32)break;f+=2;continue}if(c===40&&(p++,p>32))return h;if(c===41){if(p===0)break;p--}f++}return e===f||p!==0||(h.str=unescapeAll(t.slice(e,f)),h.pos=f,h.ok=!0),h}function parseLinkTitle(t,e,l,c){let f,h=e;const p={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(c)p.str=c.str,p.marker=c.marker;else{if(h>=l)return p;let d=t.charCodeAt(h);if(d!==34&&d!==39&&d!==40)return p;e++,h++,d===40&&(d=41),p.marker=d}for(;h<l;){if(f=t.charCodeAt(h),f===p.marker)return p.pos=h+1,p.str+=unescapeAll(t.slice(e,h)),p.ok=!0,p;if(f===40&&p.marker===41)return p;f===92&&h+1<l&&h++,h++}return p.can_continue=!0,p.str+=unescapeAll(t.slice(e,h)),p}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel,parseLinkTitle},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(t,e,l,c,f){const h=t[e];return"<code"+f.renderAttrs(h)+">"+escapeHtml(h.content)+"</code>"};default_rules.code_block=function(t,e,l,c,f){const h=t[e];return"<pre"+f.renderAttrs(h)+"><code>"+escapeHtml(t[e].content)+`</code></pre>
`};default_rules.fence=function(t,e,l,c,f){const h=t[e],p=h.info?unescapeAll(h.info).trim():"";let d="",m="";if(p){const x=p.split(/(\s+)/g);d=x[0],m=x.slice(2).join("")}let y;if(l.highlight?y=l.highlight(h.content,d,m)||escapeHtml(h.content):y=escapeHtml(h.content),y.indexOf("<pre")===0)return y+`
`;if(p){const x=h.attrIndex("class"),u=h.attrs?h.attrs.slice():[];x<0?u.push(["class",l.langPrefix+d]):(u[x]=u[x].slice(),u[x][1]+=" "+l.langPrefix+d);const w={attrs:u};return`<pre><code${f.renderAttrs(w)}>${y}</code></pre>
`}return`<pre><code${f.renderAttrs(h)}>${y}</code></pre>
`};default_rules.image=function(t,e,l,c,f){const h=t[e];return h.attrs[h.attrIndex("alt")][1]=f.renderInlineAsText(h.children,l,c),f.renderToken(t,e,l)};default_rules.hardbreak=function(t,e,l){return l.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(t,e,l){return l.breaks?l.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(t,e){return escapeHtml(t[e].content)};default_rules.html_block=function(t,e){return t[e].content};default_rules.html_inline=function(t,e){return t[e].content};function Renderer(){this.rules=assign$1({},default_rules)}Renderer.prototype.renderAttrs=function t(e){let l,c,f;if(!e.attrs)return"";for(f="",l=0,c=e.attrs.length;l<c;l++)f+=" "+escapeHtml(e.attrs[l][0])+'="'+escapeHtml(e.attrs[l][1])+'"';return f};Renderer.prototype.renderToken=function t(e,l,c){const f=e[l];let h="";if(f.hidden)return"";f.block&&f.nesting!==-1&&l&&e[l-1].hidden&&(h+=`
`),h+=(f.nesting===-1?"</":"<")+f.tag,h+=this.renderAttrs(f),f.nesting===0&&c.xhtmlOut&&(h+=" /");let p=!1;if(f.block&&(p=!0,f.nesting===1&&l+1<e.length)){const d=e[l+1];(d.type==="inline"||d.hidden||d.nesting===-1&&d.tag===f.tag)&&(p=!1)}return h+=p?`>
`:">",h};Renderer.prototype.renderInline=function(t,e,l){let c="";const f=this.rules;for(let h=0,p=t.length;h<p;h++){const d=t[h].type;typeof f[d]<"u"?c+=f[d](t,h,e,l,this):c+=this.renderToken(t,h,e)}return c};Renderer.prototype.renderInlineAsText=function(t,e,l){let c="";for(let f=0,h=t.length;f<h;f++)switch(t[f].type){case"text":c+=t[f].content;break;case"image":c+=this.renderInlineAsText(t[f].children,e,l);break;case"html_inline":case"html_block":c+=t[f].content;break;case"softbreak":case"hardbreak":c+=`
`;break}return c};Renderer.prototype.render=function(t,e,l){let c="";const f=this.rules;for(let h=0,p=t.length;h<p;h++){const d=t[h].type;d==="inline"?c+=this.renderInline(t[h].children,e,l):typeof f[d]<"u"?c+=f[d](t,h,e,l,this):c+=this.renderToken(t,h,e,l)}return c};function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Ruler.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(l){l.enabled&&l.alt.forEach(function(c){e.indexOf(c)<0&&e.push(c)})}),t.__cache__={},e.forEach(function(l){t.__cache__[l]=[],t.__rules__.forEach(function(c){c.enabled&&(l&&c.alt.indexOf(l)<0||t.__cache__[l].push(c.fn))})})};Ruler.prototype.at=function(t,e,l){const c=this.__find__(t),f=l||{};if(c===-1)throw new Error("Parser rule not found: "+t);this.__rules__[c].fn=e,this.__rules__[c].alt=f.alt||[],this.__cache__=null};Ruler.prototype.before=function(t,e,l,c){const f=this.__find__(t),h=c||{};if(f===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(f,0,{name:e,enabled:!0,fn:l,alt:h.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(t,e,l,c){const f=this.__find__(t),h=c||{};if(f===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(f+1,0,{name:e,enabled:!0,fn:l,alt:h.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(t,e,l){const c=l||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:c.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const l=[];return t.forEach(function(c){const f=this.__find__(c);if(f<0){if(e)return;throw new Error("Rules manager: invalid rule name "+c)}this.__rules__[f].enabled=!0,l.push(c)},this),this.__cache__=null,l};Ruler.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(l){l.enabled=!1}),this.enable(t,e)};Ruler.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const l=[];return t.forEach(function(c){const f=this.__find__(c);if(f<0){if(e)return;throw new Error("Rules manager: invalid rule name "+c)}this.__rules__[f].enabled=!1,l.push(c)},this),this.__cache__=null,l};Ruler.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Token(t,e,l){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=l,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function t(e){if(!this.attrs)return-1;const l=this.attrs;for(let c=0,f=l.length;c<f;c++)if(l[c][0]===e)return c;return-1};Token.prototype.attrPush=function t(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Token.prototype.attrSet=function t(e,l){const c=this.attrIndex(e),f=[e,l];c<0?this.attrPush(f):this.attrs[c]=f};Token.prototype.attrGet=function t(e){const l=this.attrIndex(e);let c=null;return l>=0&&(c=this.attrs[l][1]),c};Token.prototype.attrJoin=function t(e,l){const c=this.attrIndex(e);c<0?this.attrPush([e,l]):this.attrs[c][1]=this.attrs[c][1]+" "+l};function StateCore(t,e,l){this.src=t,this.env=l,this.tokens=[],this.inlineMode=!1,this.md=e}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(t){let e;e=t.src.replace(NEWLINES_RE,`
`),e=e.replace(NULL_RE,""),t.src=e}function block(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function inline(t){const e=t.tokens;for(let l=0,c=e.length;l<c;l++){const f=e[l];f.type==="inline"&&t.md.inline.parse(f.content,t.md,t.env,f.children)}}function isLinkOpen$1(t){return/^<a[>\s]/i.test(t)}function isLinkClose$1(t){return/^<\/a\s*>/i.test(t)}function linkify$1(t){const e=t.tokens;if(t.md.options.linkify)for(let l=0,c=e.length;l<c;l++){if(e[l].type!=="inline"||!t.md.linkify.pretest(e[l].content))continue;let f=e[l].children,h=0;for(let p=f.length-1;p>=0;p--){const d=f[p];if(d.type==="link_close"){for(p--;f[p].level!==d.level&&f[p].type!=="link_open";)p--;continue}if(d.type==="html_inline"&&(isLinkOpen$1(d.content)&&h>0&&h--,isLinkClose$1(d.content)&&h++),!(h>0)&&d.type==="text"&&t.md.linkify.test(d.content)){const m=d.content;let y=t.md.linkify.match(m);const x=[];let u=d.level,w=0;y.length>0&&y[0].index===0&&p>0&&f[p-1].type==="text_special"&&(y=y.slice(1));for(let T=0;T<y.length;T++){const C=y[T].url,k=t.md.normalizeLink(C);if(!t.md.validateLink(k))continue;let A=y[T].text;y[T].schema?y[T].schema==="mailto:"&&!/^mailto:/i.test(A)?A=t.md.normalizeLinkText("mailto:"+A).replace(/^mailto:/,""):A=t.md.normalizeLinkText(A):A=t.md.normalizeLinkText("http://"+A).replace(/^http:\/\//,"");const g=y[T].index;if(g>w){const R=new t.Token("text","",0);R.content=m.slice(w,g),R.level=u,x.push(R)}const E=new t.Token("link_open","a",1);E.attrs=[["href",k]],E.level=u++,E.markup="linkify",E.info="auto",x.push(E);const v=new t.Token("text","",0);v.content=A,v.level=u,x.push(v);const M=new t.Token("link_close","a",-1);M.level=--u,M.markup="linkify",M.info="auto",x.push(M),w=y[T].lastIndex}if(w<m.length){const T=new t.Token("text","",0);T.content=m.slice(w),T.level=u,x.push(T)}e[l].children=f=arrayReplaceAt(f,p,x)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"",r:"",tm:""};function replaceFn(t,e){return SCOPED_ABBR[e.toLowerCase()]}function replace_scoped(t){let e=0;for(let l=t.length-1;l>=0;l--){const c=t[l];c.type==="text"&&!e&&(c.content=c.content.replace(SCOPED_ABBR_RE,replaceFn)),c.type==="link_open"&&c.info==="auto"&&e--,c.type==="link_close"&&c.info==="auto"&&e++}}function replace_rare(t){let e=0;for(let l=t.length-1;l>=0;l--){const c=t[l];c.type==="text"&&!e&&RARE_RE.test(c.content)&&(c.content=c.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),c.type==="link_open"&&c.info==="auto"&&e--,c.type==="link_close"&&c.info==="auto"&&e++}}function replace(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(t.tokens[e].content)&&replace_scoped(t.tokens[e].children),RARE_RE.test(t.tokens[e].content)&&replace_rare(t.tokens[e].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";function replaceAt(t,e,l){return t.slice(0,e)+l+t.slice(e+1)}function process_inlines(t,e){let l;const c=[];for(let f=0;f<t.length;f++){const h=t[f],p=t[f].level;for(l=c.length-1;l>=0&&!(c[l].level<=p);l--);if(c.length=l+1,h.type!=="text")continue;let d=h.content,m=0,y=d.length;e:for(;m<y;){QUOTE_RE.lastIndex=m;const x=QUOTE_RE.exec(d);if(!x)break;let u=!0,w=!0;m=x.index+1;const T=x[0]==="'";let C=32;if(x.index-1>=0)C=d.charCodeAt(x.index-1);else for(l=f-1;l>=0&&!(t[l].type==="softbreak"||t[l].type==="hardbreak");l--)if(t[l].content){C=t[l].content.charCodeAt(t[l].content.length-1);break}let k=32;if(m<y)k=d.charCodeAt(m);else for(l=f+1;l<t.length&&!(t[l].type==="softbreak"||t[l].type==="hardbreak");l++)if(t[l].content){k=t[l].content.charCodeAt(0);break}const A=isMdAsciiPunct(C)||isPunctChar(String.fromCharCode(C)),g=isMdAsciiPunct(k)||isPunctChar(String.fromCharCode(k)),E=isWhiteSpace(C),v=isWhiteSpace(k);if(v?u=!1:g&&(E||A||(u=!1)),E?w=!1:A&&(v||g||(w=!1)),k===34&&x[0]==='"'&&C>=48&&C<=57&&(w=u=!1),u&&w&&(u=A,w=g),!u&&!w){T&&(h.content=replaceAt(h.content,x.index,APOSTROPHE));continue}if(w)for(l=c.length-1;l>=0;l--){let M=c[l];if(c[l].level<p)break;if(M.single===T&&c[l].level===p){M=c[l];let R,I;T?(R=e.md.options.quotes[2],I=e.md.options.quotes[3]):(R=e.md.options.quotes[0],I=e.md.options.quotes[1]),h.content=replaceAt(h.content,x.index,I),t[M.token].content=replaceAt(t[M.token].content,M.pos,R),m+=I.length-1,M.token===f&&(m+=R.length-1),d=h.content,y=d.length,c.length=l;continue e}}u?c.push({token:f,pos:x.index,single:T,level:p}):w&&T&&(h.content=replaceAt(h.content,x.index,APOSTROPHE))}}}function smartquotes(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!QUOTE_TEST_RE.test(t.tokens[e].content)||process_inlines(t.tokens[e].children,t)}function text_join(t){let e,l;const c=t.tokens,f=c.length;for(let h=0;h<f;h++){if(c[h].type!=="inline")continue;const p=c[h].children,d=p.length;for(e=0;e<d;e++)p[e].type==="text_special"&&(p[e].type="text");for(e=l=0;e<d;e++)p[e].type==="text"&&e+1<d&&p[e+1].type==="text"?p[e+1].content=p[e].content+p[e+1].content:(e!==l&&(p[l]=p[e]),l++);e!==l&&(p.length=l)}}const _rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let t=0;t<_rules$2.length;t++)this.ruler.push(_rules$2[t][0],_rules$2[t][1])}Core.prototype.process=function(t){const e=this.ruler.getRules("");for(let l=0,c=e.length;l<c;l++)e[l](t)};Core.prototype.State=StateCore;function StateBlock(t,e,l,c){this.src=t,this.md=e,this.env=l,this.tokens=c,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const f=this.src;for(let h=0,p=0,d=0,m=0,y=f.length,x=!1;p<y;p++){const u=f.charCodeAt(p);if(!x)if(isSpace(u)){d++,u===9?m+=4-m%4:m++;continue}else x=!0;(u===10||p===y-1)&&(u!==10&&p++,this.bMarks.push(h),this.eMarks.push(p),this.tShift.push(d),this.sCount.push(m),this.bsCount.push(0),x=!1,d=0,m=0,h=p+1)}this.bMarks.push(f.length),this.eMarks.push(f.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(t,e,l){const c=new Token(t,e,l);return c.block=!0,l<0&&this.level--,c.level=this.level,l>0&&this.level++,this.tokens.push(c),c};StateBlock.prototype.isEmpty=function t(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};StateBlock.prototype.skipEmptyLines=function t(e){for(let l=this.lineMax;e<l&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};StateBlock.prototype.skipSpaces=function t(e){for(let l=this.src.length;e<l;e++){const c=this.src.charCodeAt(e);if(!isSpace(c))break}return e};StateBlock.prototype.skipSpacesBack=function t(e,l){if(e<=l)return e;for(;e>l;)if(!isSpace(this.src.charCodeAt(--e)))return e+1;return e};StateBlock.prototype.skipChars=function t(e,l){for(let c=this.src.length;e<c&&this.src.charCodeAt(e)===l;e++);return e};StateBlock.prototype.skipCharsBack=function t(e,l,c){if(e<=c)return e;for(;e>c;)if(l!==this.src.charCodeAt(--e))return e+1;return e};StateBlock.prototype.getLines=function t(e,l,c,f){if(e>=l)return"";const h=new Array(l-e);for(let p=0,d=e;d<l;d++,p++){let m=0;const y=this.bMarks[d];let x=y,u;for(d+1<l||f?u=this.eMarks[d]+1:u=this.eMarks[d];x<u&&m<c;){const w=this.src.charCodeAt(x);if(isSpace(w))w===9?m+=4-(m+this.bsCount[d])%4:m++;else if(x-y<this.tShift[d])m++;else break;x++}m>c?h[p]=new Array(m-c+1).join(" ")+this.src.slice(x,u):h[p]=this.src.slice(x,u)}return h.join("")};StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(t,e){const l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];return t.src.slice(l,c)}function escapedSplit(t){const e=[],l=t.length;let c=0,f=t.charCodeAt(c),h=!1,p=0,d="";for(;c<l;)f===124&&(h?(d+=t.substring(p,c-1),p=c):(e.push(d+t.substring(p,c)),d="",p=c+1)),h=f===92,c++,f=t.charCodeAt(c);return e.push(d+t.substring(p)),e}function table(t,e,l,c){if(e+2>l)return!1;let f=e+1;if(t.sCount[f]<t.blkIndent||t.sCount[f]-t.blkIndent>=4)return!1;let h=t.bMarks[f]+t.tShift[f];if(h>=t.eMarks[f])return!1;const p=t.src.charCodeAt(h++);if(p!==124&&p!==45&&p!==58||h>=t.eMarks[f])return!1;const d=t.src.charCodeAt(h++);if(d!==124&&d!==45&&d!==58&&!isSpace(d)||p===45&&isSpace(d))return!1;for(;h<t.eMarks[f];){const M=t.src.charCodeAt(h);if(M!==124&&M!==45&&M!==58&&!isSpace(M))return!1;h++}let m=getLine(t,e+1),y=m.split("|");const x=[];for(let M=0;M<y.length;M++){const R=y[M].trim();if(!R){if(M===0||M===y.length-1)continue;return!1}if(!/^:?-+:?$/.test(R))return!1;R.charCodeAt(R.length-1)===58?x.push(R.charCodeAt(0)===58?"center":"right"):R.charCodeAt(0)===58?x.push("left"):x.push("")}if(m=getLine(t,e).trim(),m.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;y=escapedSplit(m),y.length&&y[0]===""&&y.shift(),y.length&&y[y.length-1]===""&&y.pop();const u=y.length;if(u===0||u!==x.length)return!1;if(c)return!0;const w=t.parentType;t.parentType="table";const T=t.md.block.ruler.getRules("blockquote"),C=t.push("table_open","table",1),k=[e,0];C.map=k;const A=t.push("thead_open","thead",1);A.map=[e,e+1];const g=t.push("tr_open","tr",1);g.map=[e,e+1];for(let M=0;M<y.length;M++){const R=t.push("th_open","th",1);x[M]&&(R.attrs=[["style","text-align:"+x[M]]]);const I=t.push("inline","",0);I.content=y[M].trim(),I.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let E,v=0;for(f=e+2;f<l&&!(t.sCount[f]<t.blkIndent);f++){let M=!1;for(let I=0,J=T.length;I<J;I++)if(T[I](t,f,l,!0)){M=!0;break}if(M||(m=getLine(t,f).trim(),!m)||t.sCount[f]-t.blkIndent>=4||(y=escapedSplit(m),y.length&&y[0]===""&&y.shift(),y.length&&y[y.length-1]===""&&y.pop(),v+=u-y.length,v>MAX_AUTOCOMPLETED_CELLS))break;if(f===e+2){const I=t.push("tbody_open","tbody",1);I.map=E=[e+2,0]}const R=t.push("tr_open","tr",1);R.map=[f,f+1];for(let I=0;I<u;I++){const J=t.push("td_open","td",1);x[I]&&(J.attrs=[["style","text-align:"+x[I]]]);const _=t.push("inline","",0);_.content=y[I]?y[I].trim():"",_.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return E&&(t.push("tbody_close","tbody",-1),E[1]=f),t.push("table_close","table",-1),k[1]=f,t.parentType=w,t.line=f,!0}function code(t,e,l){if(t.sCount[e]-t.blkIndent<4)return!1;let c=e+1,f=c;for(;c<l;){if(t.isEmpty(c)){c++;continue}if(t.sCount[c]-t.blkIndent>=4){c++,f=c;continue}break}t.line=f;const h=t.push("code_block","code",0);return h.content=t.getLines(e,f,4+t.blkIndent,!1)+`
`,h.map=[e,t.line],!0}function fence(t,e,l,c){let f=t.bMarks[e]+t.tShift[e],h=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||f+3>h)return!1;const p=t.src.charCodeAt(f);if(p!==126&&p!==96)return!1;let d=f;f=t.skipChars(f,p);let m=f-d;if(m<3)return!1;const y=t.src.slice(d,f),x=t.src.slice(f,h);if(p===96&&x.indexOf(String.fromCharCode(p))>=0)return!1;if(c)return!0;let u=e,w=!1;for(;u++,!(u>=l||(f=d=t.bMarks[u]+t.tShift[u],h=t.eMarks[u],f<h&&t.sCount[u]<t.blkIndent));)if(t.src.charCodeAt(f)===p&&!(t.sCount[u]-t.blkIndent>=4)&&(f=t.skipChars(f,p),!(f-d<m)&&(f=t.skipSpaces(f),!(f<h)))){w=!0;break}m=t.sCount[e],t.line=u+(w?1:0);const T=t.push("fence","code",0);return T.info=x,T.content=t.getLines(e+1,u,m,!0),T.markup=y,T.map=[e,t.line],!0}function blockquote(t,e,l,c){let f=t.bMarks[e]+t.tShift[e],h=t.eMarks[e];const p=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(f)!==62)return!1;if(c)return!0;const d=[],m=[],y=[],x=[],u=t.md.block.ruler.getRules("blockquote"),w=t.parentType;t.parentType="blockquote";let T=!1,C;for(C=e;C<l;C++){const v=t.sCount[C]<t.blkIndent;if(f=t.bMarks[C]+t.tShift[C],h=t.eMarks[C],f>=h)break;if(t.src.charCodeAt(f++)===62&&!v){let R=t.sCount[C]+1,I,J;t.src.charCodeAt(f)===32?(f++,R++,J=!1,I=!0):t.src.charCodeAt(f)===9?(I=!0,(t.bsCount[C]+R)%4===3?(f++,R++,J=!1):J=!0):I=!1;let _=R;for(d.push(t.bMarks[C]),t.bMarks[C]=f;f<h;){const L=t.src.charCodeAt(f);if(isSpace(L))L===9?_+=4-(_+t.bsCount[C]+(J?1:0))%4:_++;else break;f++}T=f>=h,m.push(t.bsCount[C]),t.bsCount[C]=t.sCount[C]+1+(I?1:0),y.push(t.sCount[C]),t.sCount[C]=_-R,x.push(t.tShift[C]),t.tShift[C]=f-t.bMarks[C];continue}if(T)break;let M=!1;for(let R=0,I=u.length;R<I;R++)if(u[R](t,C,l,!0)){M=!0;break}if(M){t.lineMax=C,t.blkIndent!==0&&(d.push(t.bMarks[C]),m.push(t.bsCount[C]),x.push(t.tShift[C]),y.push(t.sCount[C]),t.sCount[C]-=t.blkIndent);break}d.push(t.bMarks[C]),m.push(t.bsCount[C]),x.push(t.tShift[C]),y.push(t.sCount[C]),t.sCount[C]=-1}const k=t.blkIndent;t.blkIndent=0;const A=t.push("blockquote_open","blockquote",1);A.markup=">";const g=[e,0];A.map=g,t.md.block.tokenize(t,e,C);const E=t.push("blockquote_close","blockquote",-1);E.markup=">",t.lineMax=p,t.parentType=w,g[1]=t.line;for(let v=0;v<x.length;v++)t.bMarks[v+e]=d[v],t.tShift[v+e]=x[v],t.sCount[v+e]=y[v],t.bsCount[v+e]=m[v];return t.blkIndent=k,!0}function hr(t,e,l,c){const f=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let h=t.bMarks[e]+t.tShift[e];const p=t.src.charCodeAt(h++);if(p!==42&&p!==45&&p!==95)return!1;let d=1;for(;h<f;){const y=t.src.charCodeAt(h++);if(y!==p&&!isSpace(y))return!1;y===p&&d++}if(d<3)return!1;if(c)return!0;t.line=e+1;const m=t.push("hr","hr",0);return m.map=[e,t.line],m.markup=Array(d+1).join(String.fromCharCode(p)),!0}function skipBulletListMarker(t,e){const l=t.eMarks[e];let c=t.bMarks[e]+t.tShift[e];const f=t.src.charCodeAt(c++);if(f!==42&&f!==45&&f!==43)return-1;if(c<l){const h=t.src.charCodeAt(c);if(!isSpace(h))return-1}return c}function skipOrderedListMarker(t,e){const l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];let f=l;if(f+1>=c)return-1;let h=t.src.charCodeAt(f++);if(h<48||h>57)return-1;for(;;){if(f>=c)return-1;if(h=t.src.charCodeAt(f++),h>=48&&h<=57){if(f-l>=10)return-1;continue}if(h===41||h===46)break;return-1}return f<c&&(h=t.src.charCodeAt(f),!isSpace(h))?-1:f}function markTightParagraphs(t,e){const l=t.level+2;for(let c=e+2,f=t.tokens.length-2;c<f;c++)t.tokens[c].level===l&&t.tokens[c].type==="paragraph_open"&&(t.tokens[c+2].hidden=!0,t.tokens[c].hidden=!0,c+=2)}function list(t,e,l,c){let f,h,p,d,m=e,y=!0;if(t.sCount[m]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[m]-t.listIndent>=4&&t.sCount[m]<t.blkIndent)return!1;let x=!1;c&&t.parentType==="paragraph"&&t.sCount[m]>=t.blkIndent&&(x=!0);let u,w,T;if((T=skipOrderedListMarker(t,m))>=0){if(u=!0,p=t.bMarks[m]+t.tShift[m],w=Number(t.src.slice(p,T-1)),x&&w!==1)return!1}else if((T=skipBulletListMarker(t,m))>=0)u=!1;else return!1;if(x&&t.skipSpaces(T)>=t.eMarks[m])return!1;if(c)return!0;const C=t.src.charCodeAt(T-1),k=t.tokens.length;u?(d=t.push("ordered_list_open","ol",1),w!==1&&(d.attrs=[["start",w]])):d=t.push("bullet_list_open","ul",1);const A=[m,0];d.map=A,d.markup=String.fromCharCode(C);let g=!1;const E=t.md.block.ruler.getRules("list"),v=t.parentType;for(t.parentType="list";m<l;){h=T,f=t.eMarks[m];const M=t.sCount[m]+T-(t.bMarks[m]+t.tShift[m]);let R=M;for(;h<f;){const j=t.src.charCodeAt(h);if(j===9)R+=4-(R+t.bsCount[m])%4;else if(j===32)R++;else break;h++}const I=h;let J;I>=f?J=1:J=R-M,J>4&&(J=1);const _=M+J;d=t.push("list_item_open","li",1),d.markup=String.fromCharCode(C);const L=[m,0];d.map=L,u&&(d.info=t.src.slice(p,T-1));const K=t.tight,$=t.tShift[m],D=t.sCount[m],ne=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=_,t.tight=!0,t.tShift[m]=I-t.bMarks[m],t.sCount[m]=R,I>=f&&t.isEmpty(m+1)?t.line=Math.min(t.line+2,l):t.md.block.tokenize(t,m,l,!0),(!t.tight||g)&&(y=!1),g=t.line-m>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=ne,t.tShift[m]=$,t.sCount[m]=D,t.tight=K,d=t.push("list_item_close","li",-1),d.markup=String.fromCharCode(C),m=t.line,L[1]=m,m>=l||t.sCount[m]<t.blkIndent||t.sCount[m]-t.blkIndent>=4)break;let F=!1;for(let j=0,se=E.length;j<se;j++)if(E[j](t,m,l,!0)){F=!0;break}if(F)break;if(u){if(T=skipOrderedListMarker(t,m),T<0)break;p=t.bMarks[m]+t.tShift[m]}else if(T=skipBulletListMarker(t,m),T<0)break;if(C!==t.src.charCodeAt(T-1))break}return u?d=t.push("ordered_list_close","ol",-1):d=t.push("bullet_list_close","ul",-1),d.markup=String.fromCharCode(C),A[1]=m,t.line=m,t.parentType=v,y&&markTightParagraphs(t,k),!0}function reference(t,e,l,c){let f=t.bMarks[e]+t.tShift[e],h=t.eMarks[e],p=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(f)!==91)return!1;function d(E){const v=t.lineMax;if(E>=v||t.isEmpty(E))return null;let M=!1;if(t.sCount[E]-t.blkIndent>3&&(M=!0),t.sCount[E]<0&&(M=!0),!M){const J=t.md.block.ruler.getRules("reference"),_=t.parentType;t.parentType="reference";let L=!1;for(let K=0,$=J.length;K<$;K++)if(J[K](t,E,v,!0)){L=!0;break}if(t.parentType=_,L)return null}const R=t.bMarks[E]+t.tShift[E],I=t.eMarks[E];return t.src.slice(R,I+1)}let m=t.src.slice(f,h+1);h=m.length;let y=-1;for(f=1;f<h;f++){const E=m.charCodeAt(f);if(E===91)return!1;if(E===93){y=f;break}else if(E===10){const v=d(p);v!==null&&(m+=v,h=m.length,p++)}else if(E===92&&(f++,f<h&&m.charCodeAt(f)===10)){const v=d(p);v!==null&&(m+=v,h=m.length,p++)}}if(y<0||m.charCodeAt(y+1)!==58)return!1;for(f=y+2;f<h;f++){const E=m.charCodeAt(f);if(E===10){const v=d(p);v!==null&&(m+=v,h=m.length,p++)}else if(!isSpace(E))break}const x=t.md.helpers.parseLinkDestination(m,f,h);if(!x.ok)return!1;const u=t.md.normalizeLink(x.str);if(!t.md.validateLink(u))return!1;f=x.pos;const w=f,T=p,C=f;for(;f<h;f++){const E=m.charCodeAt(f);if(E===10){const v=d(p);v!==null&&(m+=v,h=m.length,p++)}else if(!isSpace(E))break}let k=t.md.helpers.parseLinkTitle(m,f,h);for(;k.can_continue;){const E=d(p);if(E===null)break;m+=E,f=h,h=m.length,p++,k=t.md.helpers.parseLinkTitle(m,f,h,k)}let A;for(f<h&&C!==f&&k.ok?(A=k.str,f=k.pos):(A="",f=w,p=T);f<h;){const E=m.charCodeAt(f);if(!isSpace(E))break;f++}if(f<h&&m.charCodeAt(f)!==10&&A)for(A="",f=w,p=T;f<h;){const E=m.charCodeAt(f);if(!isSpace(E))break;f++}if(f<h&&m.charCodeAt(f)!==10)return!1;const g=normalizeReference(m.slice(1,y));return g?(c||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[g]>"u"&&(t.env.references[g]={title:A,href:u}),t.line=p),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(t,e,l,c){let f=t.bMarks[e]+t.tShift[e],h=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(f)!==60)return!1;let p=t.src.slice(f,h),d=0;for(;d<HTML_SEQUENCES.length&&!HTML_SEQUENCES[d][0].test(p);d++);if(d===HTML_SEQUENCES.length)return!1;if(c)return HTML_SEQUENCES[d][2];let m=e+1;if(!HTML_SEQUENCES[d][1].test(p)){for(;m<l&&!(t.sCount[m]<t.blkIndent);m++)if(f=t.bMarks[m]+t.tShift[m],h=t.eMarks[m],p=t.src.slice(f,h),HTML_SEQUENCES[d][1].test(p)){p.length!==0&&m++;break}}t.line=m;const y=t.push("html_block","",0);return y.map=[e,m],y.content=t.getLines(e,m,t.blkIndent,!0),!0}function heading(t,e,l,c){let f=t.bMarks[e]+t.tShift[e],h=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let p=t.src.charCodeAt(f);if(p!==35||f>=h)return!1;let d=1;for(p=t.src.charCodeAt(++f);p===35&&f<h&&d<=6;)d++,p=t.src.charCodeAt(++f);if(d>6||f<h&&!isSpace(p))return!1;if(c)return!0;h=t.skipSpacesBack(h,f);const m=t.skipCharsBack(h,35,f);m>f&&isSpace(t.src.charCodeAt(m-1))&&(h=m),t.line=e+1;const y=t.push("heading_open","h"+String(d),1);y.markup="########".slice(0,d),y.map=[e,t.line];const x=t.push("inline","",0);x.content=t.src.slice(f,h).trim(),x.map=[e,t.line],x.children=[];const u=t.push("heading_close","h"+String(d),-1);return u.markup="########".slice(0,d),!0}function lheading(t,e,l){const c=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const f=t.parentType;t.parentType="paragraph";let h=0,p,d=e+1;for(;d<l&&!t.isEmpty(d);d++){if(t.sCount[d]-t.blkIndent>3)continue;if(t.sCount[d]>=t.blkIndent){let T=t.bMarks[d]+t.tShift[d];const C=t.eMarks[d];if(T<C&&(p=t.src.charCodeAt(T),(p===45||p===61)&&(T=t.skipChars(T,p),T=t.skipSpaces(T),T>=C))){h=p===61?1:2;break}}if(t.sCount[d]<0)continue;let w=!1;for(let T=0,C=c.length;T<C;T++)if(c[T](t,d,l,!0)){w=!0;break}if(w)break}if(!h)return!1;const m=t.getLines(e,d,t.blkIndent,!1).trim();t.line=d+1;const y=t.push("heading_open","h"+String(h),1);y.markup=String.fromCharCode(p),y.map=[e,t.line];const x=t.push("inline","",0);x.content=m,x.map=[e,t.line-1],x.children=[];const u=t.push("heading_close","h"+String(h),-1);return u.markup=String.fromCharCode(p),t.parentType=f,!0}function paragraph(t,e,l){const c=t.md.block.ruler.getRules("paragraph"),f=t.parentType;let h=e+1;for(t.parentType="paragraph";h<l&&!t.isEmpty(h);h++){if(t.sCount[h]-t.blkIndent>3||t.sCount[h]<0)continue;let y=!1;for(let x=0,u=c.length;x<u;x++)if(c[x](t,h,l,!0)){y=!0;break}if(y)break}const p=t.getLines(e,h,t.blkIndent,!1).trim();t.line=h;const d=t.push("paragraph_open","p",1);d.map=[e,t.line];const m=t.push("inline","",0);return m.content=p,m.map=[e,t.line],m.children=[],t.push("paragraph_close","p",-1),t.parentType=f,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler;for(let t=0;t<_rules$1.length;t++)this.ruler.push(_rules$1[t][0],_rules$1[t][1],{alt:(_rules$1[t][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(t,e,l){const c=this.ruler.getRules(""),f=c.length,h=t.md.options.maxNesting;let p=e,d=!1;for(;p<l&&(t.line=p=t.skipEmptyLines(p),!(p>=l||t.sCount[p]<t.blkIndent));){if(t.level>=h){t.line=l;break}const m=t.line;let y=!1;for(let x=0;x<f;x++)if(y=c[x](t,p,l,!1),y){if(m>=t.line)throw new Error("block rule didn't increment state.line");break}if(!y)throw new Error("none of the block rules matched");t.tight=!d,t.isEmpty(t.line-1)&&(d=!0),p=t.line,p<l&&t.isEmpty(p)&&(d=!0,p++,t.line=p)}};ParserBlock.prototype.parse=function(t,e,l,c){if(!t)return;const f=new this.State(t,e,l,c);this.tokenize(f,f.line,f.lineMax)};ParserBlock.prototype.State=StateBlock;function StateInline(t,e,l,c){this.src=t,this.env=l,this.md=e,this.tokens=c,this.tokens_meta=Array(c.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const t=new Token("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};StateInline.prototype.push=function(t,e,l){this.pending&&this.pushPending();const c=new Token(t,e,l);let f=null;return l<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),c.level=this.level,l>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],f={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(c),this.tokens_meta.push(f),c};StateInline.prototype.scanDelims=function(t,e){const l=this.posMax,c=this.src.charCodeAt(t),f=t>0?this.src.charCodeAt(t-1):32;let h=t;for(;h<l&&this.src.charCodeAt(h)===c;)h++;const p=h-t,d=h<l?this.src.charCodeAt(h):32,m=isMdAsciiPunct(f)||isPunctChar(String.fromCharCode(f)),y=isMdAsciiPunct(d)||isPunctChar(String.fromCharCode(d)),x=isWhiteSpace(f),u=isWhiteSpace(d),w=!u&&(!y||x||m),T=!x&&(!m||u||y);return{can_open:w&&(e||!T||m),can_close:T&&(e||!w||y),length:p}};StateInline.prototype.Token=Token;function isTerminatorChar(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(t,e){let l=t.pos;for(;l<t.posMax&&!isTerminatorChar(t.src.charCodeAt(l));)l++;return l===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,l)),t.pos=l,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const l=t.pos,c=t.posMax;if(l+3>c||t.src.charCodeAt(l)!==58||t.src.charCodeAt(l+1)!==47||t.src.charCodeAt(l+2)!==47)return!1;const f=t.pending.match(SCHEME_RE);if(!f)return!1;const h=f[1],p=t.md.linkify.matchAtStart(t.src.slice(l-h.length));if(!p)return!1;let d=p.url;if(d.length<=h.length)return!1;d=d.replace(/\*+$/,"");const m=t.md.normalizeLink(d);if(!t.md.validateLink(m))return!1;if(!e){t.pending=t.pending.slice(0,-h.length);const y=t.push("link_open","a",1);y.attrs=[["href",m]],y.markup="linkify",y.info="auto";const x=t.push("text","",0);x.content=t.md.normalizeLinkText(d);const u=t.push("link_close","a",-1);u.markup="linkify",u.info="auto"}return t.pos+=d.length-h.length,!0}function newline(t,e){let l=t.pos;if(t.src.charCodeAt(l)!==10)return!1;const c=t.pending.length-1,f=t.posMax;if(!e)if(c>=0&&t.pending.charCodeAt(c)===32)if(c>=1&&t.pending.charCodeAt(c-1)===32){let h=c-1;for(;h>=1&&t.pending.charCodeAt(h-1)===32;)h--;t.pending=t.pending.slice(0,h),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(l++;l<f&&isSpace(t.src.charCodeAt(l));)l++;return t.pos=l,!0}const ESCAPED=[];for(let t=0;t<256;t++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){ESCAPED[t.charCodeAt(0)]=1});function escape$1(t,e){let l=t.pos;const c=t.posMax;if(t.src.charCodeAt(l)!==92||(l++,l>=c))return!1;let f=t.src.charCodeAt(l);if(f===10){for(e||t.push("hardbreak","br",0),l++;l<c&&(f=t.src.charCodeAt(l),!!isSpace(f));)l++;return t.pos=l,!0}let h=t.src[l];if(f>=55296&&f<=56319&&l+1<c){const d=t.src.charCodeAt(l+1);d>=56320&&d<=57343&&(h+=t.src[l+1],l++)}const p="\\"+h;if(!e){const d=t.push("text_special","",0);f<256&&ESCAPED[f]!==0?d.content=h:d.content=p,d.markup=p,d.info="escape"}return t.pos=l+1,!0}function backtick(t,e){let l=t.pos;if(t.src.charCodeAt(l)!==96)return!1;const f=l;l++;const h=t.posMax;for(;l<h&&t.src.charCodeAt(l)===96;)l++;const p=t.src.slice(f,l),d=p.length;if(t.backticksScanned&&(t.backticks[d]||0)<=f)return e||(t.pending+=p),t.pos+=d,!0;let m=l,y;for(;(y=t.src.indexOf("`",m))!==-1;){for(m=y+1;m<h&&t.src.charCodeAt(m)===96;)m++;const x=m-y;if(x===d){if(!e){const u=t.push("code_inline","code",0);u.markup=p,u.content=t.src.slice(l,y).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=m,!0}t.backticks[x]=y}return t.backticksScanned=!0,e||(t.pending+=p),t.pos+=d,!0}function strikethrough_tokenize(t,e){const l=t.pos,c=t.src.charCodeAt(l);if(e||c!==126)return!1;const f=t.scanDelims(t.pos,!0);let h=f.length;const p=String.fromCharCode(c);if(h<2)return!1;let d;h%2&&(d=t.push("text","",0),d.content=p,h--);for(let m=0;m<h;m+=2)d=t.push("text","",0),d.content=p+p,t.delimiters.push({marker:c,length:0,token:t.tokens.length-1,end:-1,open:f.can_open,close:f.can_close});return t.pos+=f.length,!0}function postProcess$1(t,e){let l;const c=[],f=e.length;for(let h=0;h<f;h++){const p=e[h];if(p.marker!==126||p.end===-1)continue;const d=e[p.end];l=t.tokens[p.token],l.type="s_open",l.tag="s",l.nesting=1,l.markup="~~",l.content="",l=t.tokens[d.token],l.type="s_close",l.tag="s",l.nesting=-1,l.markup="~~",l.content="",t.tokens[d.token-1].type==="text"&&t.tokens[d.token-1].content==="~"&&c.push(d.token-1)}for(;c.length;){const h=c.pop();let p=h+1;for(;p<t.tokens.length&&t.tokens[p].type==="s_close";)p++;p--,h!==p&&(l=t.tokens[p],t.tokens[p]=t.tokens[h],t.tokens[h]=l)}}function strikethrough_postProcess(t){const e=t.tokens_meta,l=t.tokens_meta.length;postProcess$1(t,t.delimiters);for(let c=0;c<l;c++)e[c]&&e[c].delimiters&&postProcess$1(t,e[c].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(t,e){const l=t.pos,c=t.src.charCodeAt(l);if(e||c!==95&&c!==42)return!1;const f=t.scanDelims(t.pos,c===42);for(let h=0;h<f.length;h++){const p=t.push("text","",0);p.content=String.fromCharCode(c),t.delimiters.push({marker:c,length:f.length,token:t.tokens.length-1,end:-1,open:f.can_open,close:f.can_close})}return t.pos+=f.length,!0}function postProcess(t,e){const l=e.length;for(let c=l-1;c>=0;c--){const f=e[c];if(f.marker!==95&&f.marker!==42||f.end===-1)continue;const h=e[f.end],p=c>0&&e[c-1].end===f.end+1&&e[c-1].marker===f.marker&&e[c-1].token===f.token-1&&e[f.end+1].token===h.token+1,d=String.fromCharCode(f.marker),m=t.tokens[f.token];m.type=p?"strong_open":"em_open",m.tag=p?"strong":"em",m.nesting=1,m.markup=p?d+d:d,m.content="";const y=t.tokens[h.token];y.type=p?"strong_close":"em_close",y.tag=p?"strong":"em",y.nesting=-1,y.markup=p?d+d:d,y.content="",p&&(t.tokens[e[c-1].token].content="",t.tokens[e[f.end+1].token].content="",c--)}}function emphasis_post_process(t){const e=t.tokens_meta,l=t.tokens_meta.length;postProcess(t,t.delimiters);for(let c=0;c<l;c++)e[c]&&e[c].delimiters&&postProcess(t,e[c].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link(t,e){let l,c,f,h,p="",d="",m=t.pos,y=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const x=t.pos,u=t.posMax,w=t.pos+1,T=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(T<0)return!1;let C=T+1;if(C<u&&t.src.charCodeAt(C)===40){for(y=!1,C++;C<u&&(l=t.src.charCodeAt(C),!(!isSpace(l)&&l!==10));C++);if(C>=u)return!1;if(m=C,f=t.md.helpers.parseLinkDestination(t.src,C,t.posMax),f.ok){for(p=t.md.normalizeLink(f.str),t.md.validateLink(p)?C=f.pos:p="",m=C;C<u&&(l=t.src.charCodeAt(C),!(!isSpace(l)&&l!==10));C++);if(f=t.md.helpers.parseLinkTitle(t.src,C,t.posMax),C<u&&m!==C&&f.ok)for(d=f.str,C=f.pos;C<u&&(l=t.src.charCodeAt(C),!(!isSpace(l)&&l!==10));C++);}(C>=u||t.src.charCodeAt(C)!==41)&&(y=!0),C++}if(y){if(typeof t.env.references>"u")return!1;if(C<u&&t.src.charCodeAt(C)===91?(m=C+1,C=t.md.helpers.parseLinkLabel(t,C),C>=0?c=t.src.slice(m,C++):C=T+1):C=T+1,c||(c=t.src.slice(w,T)),h=t.env.references[normalizeReference(c)],!h)return t.pos=x,!1;p=h.href,d=h.title}if(!e){t.pos=w,t.posMax=T;const k=t.push("link_open","a",1),A=[["href",p]];k.attrs=A,d&&A.push(["title",d]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=C,t.posMax=u,!0}function image(t,e){let l,c,f,h,p,d,m,y,x="";const u=t.pos,w=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const T=t.pos+2,C=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(C<0)return!1;if(h=C+1,h<w&&t.src.charCodeAt(h)===40){for(h++;h<w&&(l=t.src.charCodeAt(h),!(!isSpace(l)&&l!==10));h++);if(h>=w)return!1;for(y=h,d=t.md.helpers.parseLinkDestination(t.src,h,t.posMax),d.ok&&(x=t.md.normalizeLink(d.str),t.md.validateLink(x)?h=d.pos:x=""),y=h;h<w&&(l=t.src.charCodeAt(h),!(!isSpace(l)&&l!==10));h++);if(d=t.md.helpers.parseLinkTitle(t.src,h,t.posMax),h<w&&y!==h&&d.ok)for(m=d.str,h=d.pos;h<w&&(l=t.src.charCodeAt(h),!(!isSpace(l)&&l!==10));h++);else m="";if(h>=w||t.src.charCodeAt(h)!==41)return t.pos=u,!1;h++}else{if(typeof t.env.references>"u")return!1;if(h<w&&t.src.charCodeAt(h)===91?(y=h+1,h=t.md.helpers.parseLinkLabel(t,h),h>=0?f=t.src.slice(y,h++):h=C+1):h=C+1,f||(f=t.src.slice(T,C)),p=t.env.references[normalizeReference(f)],!p)return t.pos=u,!1;x=p.href,m=p.title}if(!e){c=t.src.slice(T,C);const k=[];t.md.inline.parse(c,t.md,t.env,k);const A=t.push("image","img",0),g=[["src",x],["alt",""]];A.attrs=g,A.children=k,A.content=c,m&&g.push(["title",m])}return t.pos=h,t.posMax=w,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(t,e){let l=t.pos;if(t.src.charCodeAt(l)!==60)return!1;const c=t.pos,f=t.posMax;for(;;){if(++l>=f)return!1;const p=t.src.charCodeAt(l);if(p===60)return!1;if(p===62)break}const h=t.src.slice(c+1,l);if(AUTOLINK_RE.test(h)){const p=t.md.normalizeLink(h);if(!t.md.validateLink(p))return!1;if(!e){const d=t.push("link_open","a",1);d.attrs=[["href",p]],d.markup="autolink",d.info="auto";const m=t.push("text","",0);m.content=t.md.normalizeLinkText(h);const y=t.push("link_close","a",-1);y.markup="autolink",y.info="auto"}return t.pos+=h.length+2,!0}if(EMAIL_RE.test(h)){const p=t.md.normalizeLink("mailto:"+h);if(!t.md.validateLink(p))return!1;if(!e){const d=t.push("link_open","a",1);d.attrs=[["href",p]],d.markup="autolink",d.info="auto";const m=t.push("text","",0);m.content=t.md.normalizeLinkText(h);const y=t.push("link_close","a",-1);y.markup="autolink",y.info="auto"}return t.pos+=h.length+2,!0}return!1}function isLinkOpen(t){return/^<a[>\s]/i.test(t)}function isLinkClose(t){return/^<\/a\s*>/i.test(t)}function isLetter(t){const e=t|32;return e>=97&&e<=122}function html_inline(t,e){if(!t.md.options.html)return!1;const l=t.posMax,c=t.pos;if(t.src.charCodeAt(c)!==60||c+2>=l)return!1;const f=t.src.charCodeAt(c+1);if(f!==33&&f!==63&&f!==47&&!isLetter(f))return!1;const h=t.src.slice(c).match(HTML_TAG_RE);if(!h)return!1;if(!e){const p=t.push("html_inline","",0);p.content=h[0],isLinkOpen(p.content)&&t.linkLevel++,isLinkClose(p.content)&&t.linkLevel--}return t.pos+=h[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(t,e){const l=t.pos,c=t.posMax;if(t.src.charCodeAt(l)!==38||l+1>=c)return!1;if(t.src.charCodeAt(l+1)===35){const h=t.src.slice(l).match(DIGITAL_RE);if(h){if(!e){const p=h[1][0].toLowerCase()==="x"?parseInt(h[1].slice(1),16):parseInt(h[1],10),d=t.push("text_special","",0);d.content=isValidEntityCode(p)?fromCodePoint(p):fromCodePoint(65533),d.markup=h[0],d.info="entity"}return t.pos+=h[0].length,!0}}else{const h=t.src.slice(l).match(NAMED_RE);if(h){const p=decodeHTML(h[0]);if(p!==h[0]){if(!e){const d=t.push("text_special","",0);d.content=p,d.markup=h[0],d.info="entity"}return t.pos+=h[0].length,!0}}}return!1}function processDelimiters(t){const e={},l=t.length;if(!l)return;let c=0,f=-2;const h=[];for(let p=0;p<l;p++){const d=t[p];if(h.push(0),(t[c].marker!==d.marker||f!==d.token-1)&&(c=p),f=d.token,d.length=d.length||0,!d.close)continue;e.hasOwnProperty(d.marker)||(e[d.marker]=[-1,-1,-1,-1,-1,-1]);const m=e[d.marker][(d.open?3:0)+d.length%3];let y=c-h[c]-1,x=y;for(;y>m;y-=h[y]+1){const u=t[y];if(u.marker===d.marker&&u.open&&u.end<0){let w=!1;if((u.close||d.open)&&(u.length+d.length)%3===0&&(u.length%3!==0||d.length%3!==0)&&(w=!0),!w){const T=y>0&&!t[y-1].open?h[y-1]+1:0;h[p]=p-y+T,h[y]=T,d.open=!1,u.end=p,u.close=!1,x=-1,f=-2;break}}}x!==-1&&(e[d.marker][(d.open?3:0)+(d.length||0)%3]=x)}}function link_pairs(t){const e=t.tokens_meta,l=t.tokens_meta.length;processDelimiters(t.delimiters);for(let c=0;c<l;c++)e[c]&&e[c].delimiters&&processDelimiters(e[c].delimiters)}function fragments_join(t){let e,l,c=0;const f=t.tokens,h=t.tokens.length;for(e=l=0;e<h;e++)f[e].nesting<0&&c--,f[e].level=c,f[e].nesting>0&&c++,f[e].type==="text"&&e+1<h&&f[e+1].type==="text"?f[e+1].content=f[e].content+f[e+1].content:(e!==l&&(f[l]=f[e]),l++);e!==l&&(f.length=l)}const _rules=[["text",text],["linkify",linkify],["newline",newline],["escape",escape$1],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let t=0;t<_rules.length;t++)this.ruler.push(_rules[t][0],_rules[t][1]);this.ruler2=new Ruler;for(let t=0;t<_rules2.length;t++)this.ruler2.push(_rules2[t][0],_rules2[t][1])}ParserInline.prototype.skipToken=function(t){const e=t.pos,l=this.ruler.getRules(""),c=l.length,f=t.md.options.maxNesting,h=t.cache;if(typeof h[e]<"u"){t.pos=h[e];return}let p=!1;if(t.level<f){for(let d=0;d<c;d++)if(t.level++,p=l[d](t,!0),t.level--,p){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;p||t.pos++,h[e]=t.pos};ParserInline.prototype.tokenize=function(t){const e=this.ruler.getRules(""),l=e.length,c=t.posMax,f=t.md.options.maxNesting;for(;t.pos<c;){const h=t.pos;let p=!1;if(t.level<f){for(let d=0;d<l;d++)if(p=e[d](t,!1),p){if(h>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(p){if(t.pos>=c)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};ParserInline.prototype.parse=function(t,e,l,c){const f=new this.State(t,e,l,c);this.tokenize(f);const h=this.ruler2.getRules(""),p=h.length;for(let d=0;d<p;d++)h[d](f)};ParserInline.prototype.State=StateInline;function reFactory(t){const e={};t=t||{},e.src_Any=Any.source,e.src_Cc=Cc.source,e.src_Z=Z.source,e.src_P=P.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const l="[><]";return e.src_pseudo_letter="(?:(?!"+l+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+l+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+l+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+l+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function assign(t){return Array.prototype.slice.call(arguments,1).forEach(function(l){l&&Object.keys(l).forEach(function(c){t[c]=l[c]})}),t}function _class(t){return Object.prototype.toString.call(t)}function isString(t){return _class(t)==="[object String]"}function isObject(t){return _class(t)==="[object Object]"}function isRegExp(t){return _class(t)==="[object RegExp]"}function isFunction$2(t){return _class(t)==="[object Function]"}function escapeRE(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(t){return Object.keys(t||{}).reduce(function(e,l){return e||defaultOptions.hasOwnProperty(l)},!1)}const defaultSchemas={"http:":{validate:function(t,e,l){const c=t.slice(e);return l.re.http||(l.re.http=new RegExp("^\\/\\/"+l.re.src_auth+l.re.src_host_port_strict+l.re.src_path,"i")),l.re.http.test(c)?c.match(l.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,l){const c=t.slice(e);return l.re.no_http||(l.re.no_http=new RegExp("^"+l.re.src_auth+"(?:localhost|(?:(?:"+l.re.src_domain+")\\.)+"+l.re.src_domain_root+")"+l.re.src_port+l.re.src_host_terminator+l.re.src_path,"i")),l.re.no_http.test(c)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:c.match(l.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,l){const c=t.slice(e);return l.re.mailto||(l.re.mailto=new RegExp("^"+l.re.src_email_name+"@"+l.re.src_host_strict,"i")),l.re.mailto.test(c)?c.match(l.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(t){t.__index__=-1,t.__text_cache__=""}function createValidator(t){return function(e,l){const c=e.slice(l);return t.test(c)?c.match(t)[0].length:0}}function createNormalizer(){return function(t,e){e.normalize(t)}}function compile(t){const e=t.re=reFactory(t.__opts__),l=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||l.push(tlds_2ch_src_re),l.push(e.src_xn),e.src_tlds=l.join("|");function c(d){return d.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(c(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(c(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(c(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(c(e.tpl_host_fuzzy_test),"i");const f=[];t.__compiled__={};function h(d,m){throw new Error('(LinkifyIt) Invalid schema "'+d+'": '+m)}Object.keys(t.__schemas__).forEach(function(d){const m=t.__schemas__[d];if(m===null)return;const y={validate:null,link:null};if(t.__compiled__[d]=y,isObject(m)){isRegExp(m.validate)?y.validate=createValidator(m.validate):isFunction$2(m.validate)?y.validate=m.validate:h(d,m),isFunction$2(m.normalize)?y.normalize=m.normalize:m.normalize?h(d,m):y.normalize=createNormalizer();return}if(isString(m)){f.push(d);return}h(d,m)}),f.forEach(function(d){t.__compiled__[t.__schemas__[d]]&&(t.__compiled__[d].validate=t.__compiled__[t.__schemas__[d]].validate,t.__compiled__[d].normalize=t.__compiled__[t.__schemas__[d]].normalize)}),t.__compiled__[""]={validate:null,normalize:createNormalizer()};const p=Object.keys(t.__compiled__).filter(function(d){return d.length>0&&t.__compiled__[d]}).map(escapeRE).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+p+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+p+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),resetScanCache(t)}function Match(t,e){const l=t.__index__,c=t.__last_index__,f=t.__text_cache__.slice(l,c);this.schema=t.__schema__.toLowerCase(),this.index=l+e,this.lastIndex=c+e,this.raw=f,this.text=f,this.url=f}function createMatch(t,e){const l=new Match(t,e);return t.__compiled__[l.schema].normalize(l,t),l}function LinkifyIt(t,e){if(!(this instanceof LinkifyIt))return new LinkifyIt(t,e);e||isOptionsObj(t)&&(e=t,t={}),this.__opts__=assign({},defaultOptions,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,t),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function t(e,l){return this.__schemas__[e]=l,compile(this),this};LinkifyIt.prototype.set=function t(e){return this.__opts__=assign(this.__opts__,e),this};LinkifyIt.prototype.test=function t(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let l,c,f,h,p,d,m,y,x;if(this.re.schema_test.test(e)){for(m=this.re.schema_search,m.lastIndex=0;(l=m.exec(e))!==null;)if(h=this.testSchemaAt(e,l[2],m.lastIndex),h){this.__schema__=l[2],this.__index__=l.index+l[1].length,this.__last_index__=l.index+l[0].length+h;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(y=e.search(this.re.host_fuzzy_test),y>=0&&(this.__index__<0||y<this.__index__)&&(c=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(p=c.index+c[1].length,(this.__index__<0||p<this.__index__)&&(this.__schema__="",this.__index__=p,this.__last_index__=c.index+c[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(x=e.indexOf("@"),x>=0&&(f=e.match(this.re.email_fuzzy))!==null&&(p=f.index+f[1].length,d=f.index+f[0].length,(this.__index__<0||p<this.__index__||p===this.__index__&&d>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=p,this.__last_index__=d))),this.__index__>=0};LinkifyIt.prototype.pretest=function t(e){return this.re.pretest.test(e)};LinkifyIt.prototype.testSchemaAt=function t(e,l,c){return this.__compiled__[l.toLowerCase()]?this.__compiled__[l.toLowerCase()].validate(e,c,this):0};LinkifyIt.prototype.match=function t(e){const l=[];let c=0;this.__index__>=0&&this.__text_cache__===e&&(l.push(createMatch(this,c)),c=this.__last_index__);let f=c?e.slice(c):e;for(;this.test(f);)l.push(createMatch(this,c)),f=f.slice(this.__last_index__),c+=this.__last_index__;return l.length?l:null};LinkifyIt.prototype.matchAtStart=function t(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const l=this.re.schema_at_start.exec(e);if(!l)return null;const c=this.testSchemaAt(e,l[2],l[0].length);return c?(this.__schema__=l[2],this.__index__=l.index+l[1].length,this.__last_index__=l.index+l[0].length+c,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function t(e,l){return e=Array.isArray(e)?e:[e],l?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(c,f,h){return c!==h[f-1]}).reverse(),compile(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt.prototype.normalize=function t(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};LinkifyIt.prototype.onCompile=function t(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(t){throw new RangeError(errors[t])}function map(t,e){const l=[];let c=t.length;for(;c--;)l[c]=e(t[c]);return l}function mapDomain(t,e){const l=t.split("@");let c="";l.length>1&&(c=l[0]+"@",t=l[1]),t=t.replace(regexSeparators,".");const f=t.split("."),h=map(f,e).join(".");return c+h}function ucs2decode(t){const e=[];let l=0;const c=t.length;for(;l<c;){const f=t.charCodeAt(l++);if(f>=55296&&f<=56319&&l<c){const h=t.charCodeAt(l++);(h&64512)==56320?e.push(((f&1023)<<10)+(h&1023)+65536):(e.push(f),l--)}else e.push(f)}return e}const ucs2encode=t=>String.fromCodePoint(...t),basicToDigit=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:base},digitToBasic=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},adapt=function(t,e,l){let c=0;for(t=l?floor(t/damp):t>>1,t+=floor(t/e);t>baseMinusTMin*tMax>>1;c+=base)t=floor(t/baseMinusTMin);return floor(c+(baseMinusTMin+1)*t/(t+skew))},decode=function(t){const e=[],l=t.length;let c=0,f=initialN,h=initialBias,p=t.lastIndexOf(delimiter);p<0&&(p=0);for(let d=0;d<p;++d)t.charCodeAt(d)>=128&&error("not-basic"),e.push(t.charCodeAt(d));for(let d=p>0?p+1:0;d<l;){const m=c;for(let x=1,u=base;;u+=base){d>=l&&error("invalid-input");const w=basicToDigit(t.charCodeAt(d++));w>=base&&error("invalid-input"),w>floor((maxInt-c)/x)&&error("overflow"),c+=w*x;const T=u<=h?tMin:u>=h+tMax?tMax:u-h;if(w<T)break;const C=base-T;x>floor(maxInt/C)&&error("overflow"),x*=C}const y=e.length+1;h=adapt(c-m,y,m==0),floor(c/y)>maxInt-f&&error("overflow"),f+=floor(c/y),c%=y,e.splice(c++,0,f)}return String.fromCodePoint(...e)},encode=function(t){const e=[];t=ucs2decode(t);const l=t.length;let c=initialN,f=0,h=initialBias;for(const m of t)m<128&&e.push(stringFromCharCode(m));const p=e.length;let d=p;for(p&&e.push(delimiter);d<l;){let m=maxInt;for(const x of t)x>=c&&x<m&&(m=x);const y=d+1;m-c>floor((maxInt-f)/y)&&error("overflow"),f+=(m-c)*y,c=m;for(const x of t)if(x<c&&++f>maxInt&&error("overflow"),x===c){let u=f;for(let w=base;;w+=base){const T=w<=h?tMin:w>=h+tMax?tMax:w-h;if(u<T)break;const C=u-T,k=base-T;e.push(stringFromCharCode(digitToBasic(T+C%k,0))),u=floor(C/k)}e.push(stringFromCharCode(digitToBasic(u,0))),h=adapt(f,y,d===p),f=0,++d}++f,++c}return e.join("")},toUnicode=function(t){return mapDomain(t,function(e){return regexPunycode.test(e)?decode(e.slice(4).toLowerCase()):e})},toASCII=function(t){return mapDomain(t,function(e){return regexNonASCII.test(e)?"xn--"+encode(e):e})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(t){const e=t.trim().toLowerCase();return BAD_PROTO_RE.test(e)?GOOD_DATA_RE.test(e):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(t){const e=urlParse(t,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toASCII(e.hostname)}catch{}return encode$1(format(e))}function normalizeLinkText(t){const e=urlParse(t,!0);if(e.hostname&&(!e.protocol||RECODE_HOSTNAME_FOR.indexOf(e.protocol)>=0))try{e.hostname=punycode.toUnicode(e.hostname)}catch{}return decode$1(format(e),decode$1.defaultChars+"%")}function MarkdownIt(t,e){if(!(this instanceof MarkdownIt))return new MarkdownIt(t,e);e||isString$1(t)||(e=t||{},t="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(t),e&&this.set(e)}MarkdownIt.prototype.set=function(t){return assign$1(this.options,t),this};MarkdownIt.prototype.configure=function(t){const e=this;if(isString$1(t)){const l=t;if(t=config[l],!t)throw new Error('Wrong `markdown-it` preset "'+l+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(l){t.components[l].rules&&e[l].ruler.enableOnly(t.components[l].rules),t.components[l].rules2&&e[l].ruler2.enableOnly(t.components[l].rules2)}),this};MarkdownIt.prototype.enable=function(t,e){let l=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(f){l=l.concat(this[f].ruler.enable(t,!0))},this),l=l.concat(this.inline.ruler2.enable(t,!0));const c=t.filter(function(f){return l.indexOf(f)<0});if(c.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+c);return this};MarkdownIt.prototype.disable=function(t,e){let l=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(f){l=l.concat(this[f].ruler.disable(t,!0))},this),l=l.concat(this.inline.ruler2.disable(t,!0));const c=t.filter(function(f){return l.indexOf(f)<0});if(c.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+c);return this};MarkdownIt.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};MarkdownIt.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const l=new this.core.State(t,this,e);return this.core.process(l),l.tokens};MarkdownIt.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};MarkdownIt.prototype.parseInline=function(t,e){const l=new this.core.State(t,this,e);return l.inlineMode=!0,this.core.process(l),l.tokens};MarkdownIt.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const schema=new Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({params:t.getAttribute("data-params")||""})}],toDOM(t){return["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")}}}],toDOM(t){return["ol",{start:t.attrs.order==1?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>({tight:t.hasAttribute("data-tight")})}],toDOM(t){return["ul",{"data-tight":t.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM(t){return["img",t.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>t.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name=="strong"},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM(t){return["a",t.attrs]}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function maybeMerge(t,e){if(t.isText&&e.isText&&Mark$1.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}class MarkdownParseState{constructor(e,l){this.schema=e,this.tokenHandlers=l,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:Mark$1.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let l=this.top(),c=l.content,f=c[c.length-1],h=this.schema.text(e,l.marks),p;f&&(p=maybeMerge(f,h))?c[c.length-1]=p:c.push(h)}openMark(e){let l=this.top();l.marks=e.addToSet(l.marks)}closeMark(e){let l=this.top();l.marks=e.removeFromSet(l.marks)}parseTokens(e){for(let l=0;l<e.length;l++){let c=e[l],f=this.tokenHandlers[c.type];if(!f)throw new Error("Token type `"+c.type+"` not supported by Markdown parser");f(this,c,e,l)}}addNode(e,l,c){let f=this.top(),h=e.createAndFill(l,c,f?f.marks:[]);return h?(this.push(h),h):null}openNode(e,l){this.stack.push({type:e,attrs:l,content:[],marks:Mark$1.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function attrs(t,e,l,c){return t.getAttrs?t.getAttrs(e,l,c):t.attrs instanceof Function?t.attrs(e):t.attrs}function noCloseToken(t,e){return t.noCloseToken||e=="code_inline"||e=="code_block"||e=="fence"}function withoutTrailingNewline(t){return t[t.length-1]==`
`?t.slice(0,t.length-1):t}function noOp(){}function tokenHandlers(t,e){let l=Object.create(null);for(let c in e){let f=e[c];if(f.block){let h=t.nodeType(f.block);noCloseToken(f,c)?l[c]=(p,d,m,y)=>{p.openNode(h,attrs(f,d,m,y)),p.addText(withoutTrailingNewline(d.content)),p.closeNode()}:(l[c+"_open"]=(p,d,m,y)=>p.openNode(h,attrs(f,d,m,y)),l[c+"_close"]=p=>p.closeNode())}else if(f.node){let h=t.nodeType(f.node);l[c]=(p,d,m,y)=>p.addNode(h,attrs(f,d,m,y))}else if(f.mark){let h=t.marks[f.mark];noCloseToken(f,c)?l[c]=(p,d,m,y)=>{p.openMark(h.create(attrs(f,d,m,y))),p.addText(withoutTrailingNewline(d.content)),p.closeMark(h)}:(l[c+"_open"]=(p,d,m,y)=>p.openMark(h.create(attrs(f,d,m,y))),l[c+"_close"]=p=>p.closeMark(h))}else if(f.ignore)noCloseToken(f,c)?l[c]=noOp:(l[c+"_open"]=noOp,l[c+"_close"]=noOp);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(f))}return l.text=(c,f)=>c.addText(f.content),l.inline=(c,f)=>c.parseTokens(f.children),l.softbreak=l.softbreak||(c=>c.addText(" ")),l}let MarkdownParser$1=class{constructor(e,l,c){this.schema=e,this.tokenizer=l,this.tokens=c,this.tokenHandlers=tokenHandlers(e,c)}parse(e,l={}){let c=new MarkdownParseState(this.schema,this.tokenHandlers),f;c.parseTokens(this.tokenizer.parse(e,l));do f=c.closeNode();while(c.stack.length);return f||this.schema.topNodeType.createAndFill()}};function listIsTight(t,e){for(;++e<t.length;)if(t[e].type!="list_item_open")return t[e].hidden;return!1}new MarkdownParser$1(schema,MarkdownIt("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(t,e,l)=>({tight:listIsTight(e,l)})},ordered_list:{block:"ordered_list",getAttrs:(t,e,l)=>({order:+t.attrGet("start")||1,tight:listIsTight(e,l)})},heading:{block:"heading",getAttrs:t=>({level:+t.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:t=>({params:t.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:t=>({href:t.attrGet("href"),title:t.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const blankMark={open:"",close:"",mixable:!0};let MarkdownSerializer$1=class{constructor(e,l,c={}){this.nodes=e,this.marks=l,this.options=c}serialize(e,l={}){l=Object.assign({},this.options,l);let c=new MarkdownSerializerState$1(this.nodes,this.marks,l);return c.renderContent(e),c.out}};const defaultMarkdownSerializer=new MarkdownSerializer$1({blockquote(t,e){t.wrapBlock("> ",null,e,()=>t.renderContent(e))},code_block(t,e){const l=e.textContent.match(/`{3,}/gm),c=l?l.sort().slice(-1)[0]+"`":"```";t.write(c+(e.attrs.params||"")+`
`),t.text(e.textContent,!1),t.write(`
`),t.write(c),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",()=>(e.attrs.bullet||"*")+" ")},ordered_list(t,e){let l=e.attrs.order||1,c=String(l+e.childCount-1).length,f=t.repeat(" ",c+2);t.renderList(e,f,h=>{let p=String(l+h);return t.repeat(" ",c-p.length)+p+". "})},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,l,c){for(let f=c+1;f<l.childCount;f++)if(l.child(f).type!=e.type){t.write(`\\
`);return}},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(t,e,l,c){return t.inAutolink=isPlainURL(e,l,c),t.inAutolink?"<":"["},close(t,e,l,c){let{inAutolink:f}=t;return t.inAutolink=void 0,f?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(t,e,l,c){return backticksFor(l.child(c),-1)},close(t,e,l,c){return backticksFor(l.child(c-1),1)},escape:!1}});function backticksFor(t,e){let l=/`+/g,c,f=0;if(t.isText)for(;c=l.exec(t.text);)f=Math.max(f,c[0].length);let h=f>0&&e>0?" `":"`";for(let p=0;p<f;p++)h+="`";return f>0&&e<0&&(h+=" "),h}function isPlainURL(t,e,l){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1;let c=e.child(l);return!c.isText||c.text!=t.attrs.href||c.marks[c.marks.length-1]!=t?!1:l==e.childCount-1||!t.isInSet(e.child(l+1).marks)}let MarkdownSerializerState$1=class{constructor(e,l,c){this.nodes=e,this.marks=l,this.options=c,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),e>1){let l=this.delim,c=/\s+$/.exec(l);c&&(l=l.slice(0,l.length-c[0].length));for(let f=1;f<e;f++)this.out+=l+`
`}this.closed=null}}getMark(e){let l=this.marks[e];if(!l){if(this.options.strict!==!1)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);l=blankMark}return l}wrapBlock(e,l,c,f){let h=this.delim;this.write(l??e),this.delim+=e,f(),this.delim=h,this.closeBlock(c)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,l=!0){let c=e.split(`
`);for(let f=0;f<c.length;f++)this.write(),!l&&c[f][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=l?this.esc(c[f],this.atBlockStart):c[f],f!=c.length-1&&(this.out+=`
`)}render(e,l,c){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,l,c);else{if(this.options.strict!==!1)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach((l,c,f)=>this.render(l,e,f))}renderInline(e,l=!0){this.atBlockStart=l;let c=[],f="",h=(p,d,m)=>{let y=p?p.marks:[];p&&p.type.name===this.options.hardBreakNodeName&&(y=y.filter(k=>{if(m+1==e.childCount)return!1;let A=e.child(m+1);return k.isInSet(A.marks)&&(!A.isText||/\S/.test(A.text))}));let x=f;if(f="",p&&p.isText&&y.some(k=>{let A=this.getMark(k.type.name);return A&&A.expelEnclosingWhitespace&&!k.isInSet(c)})){let[k,A,g]=/^(\s*)(.*)$/m.exec(p.text);A&&(x+=A,p=g?p.withText(g):null,p||(y=c))}if(p&&p.isText&&y.some(k=>{let A=this.getMark(k.type.name);return A&&A.expelEnclosingWhitespace&&(m==e.childCount-1||!k.isInSet(e.child(m+1).marks))})){let[k,A,g]=/^(.*?)(\s*)$/m.exec(p.text);g&&(f=g,p=A?p.withText(A):null,p||(y=c))}let u=y.length?y[y.length-1]:null,w=u&&this.getMark(u.type.name).escape===!1,T=y.length-(w?1:0);e:for(let k=0;k<T;k++){let A=y[k];if(!this.getMark(A.type.name).mixable)break;for(let g=0;g<c.length;g++){let E=c[g];if(!this.getMark(E.type.name).mixable)break;if(A.eq(E)){k>g?y=y.slice(0,g).concat(A).concat(y.slice(g,k)).concat(y.slice(k+1,T)):g>k&&(y=y.slice(0,k).concat(y.slice(k+1,g)).concat(A).concat(y.slice(g,T)));continue e}}}let C=0;for(;C<Math.min(c.length,T)&&y[C].eq(c[C]);)++C;for(;C<c.length;)this.text(this.markString(c.pop(),!1,e,m),!1);if(x&&this.text(x),p){for(;c.length<T;){let k=y[c.length];c.push(k),this.text(this.markString(k,!0,e,m),!1),this.atBlockStart=!1}w&&p.isText?this.text(this.markString(u,!0,e,m)+p.text+this.markString(u,!1,e,m+1),!1):this.render(p,e,m),this.atBlockStart=!1}p!=null&&p.isText&&p.nodeSize>0&&(this.atBlockStart=!1)};e.forEach(h),h(null,0,e.childCount),this.atBlockStart=!1}renderList(e,l,c){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let f=typeof e.attrs.tight<"u"?e.attrs.tight:this.options.tightLists,h=this.inTightList;this.inTightList=f,e.forEach((p,d,m)=>{m&&f&&this.flushClose(1),this.wrapBlock(l,c(m),e,()=>this.render(p,e,m))}),this.inTightList=h}esc(e,l=!1){return e=e.replace(/[`*\\~\[\]_]/g,(c,f)=>c=="_"&&f>0&&f+1<e.length&&e[f-1].match(/\w/)&&e[f+1].match(/\w/)?c:"\\"+c),l&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let l=e.indexOf('"')==-1?'""':e.indexOf("'")==-1?"''":"()";return l[0]+e+l[1]}repeat(e,l){let c="";for(let f=0;f<l;f++)c+=e;return c}markString(e,l,c,f){let h=this.getMark(e.type.name),p=l?h.open:h.close;return typeof p=="string"?p:p(this,e,c,f)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}};var markdownItTaskLists,hasRequiredMarkdownItTaskLists;function requireMarkdownItTaskLists(){if(hasRequiredMarkdownItTaskLists)return markdownItTaskLists;hasRequiredMarkdownItTaskLists=1;var t=!0,e=!1,l=!1;markdownItTaskLists=function(k,A){A&&(t=!A.enabled,e=!!A.label,l=!!A.labelAfter),k.core.ruler.after("inline","github-task-lists",function(g){for(var E=g.tokens,v=2;v<E.length;v++)h(E,v)&&(p(E[v],g.Token),c(E[v-2],"class","task-list-item"+(t?"":" enabled")),c(E[f(E,v-2)],"class","contains-task-list"))})};function c(k,A,g){var E=k.attrIndex(A),v=[A,g];E<0?k.attrPush(v):k.attrs[E]=v}function f(k,A){for(var g=k[A].level-1,E=A-1;E>=0;E--)if(k[E].level===g)return E;return-1}function h(k,A){return u(k[A])&&w(k[A-1])&&T(k[A-2])&&C(k[A])}function p(k,A){if(k.children.unshift(d(k,A)),k.children[1].content=k.children[1].content.slice(3),k.content=k.content.slice(3),e)if(l){k.children.pop();var g="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);k.children[0].content=k.children[0].content.slice(0,-1)+' id="'+g+'">',k.children.push(x(k.content,g,A))}else k.children.unshift(m(A)),k.children.push(y(A))}function d(k,A){var g=new A("html_inline","",0),E=t?' disabled="" ':"";return k.content.indexOf("[ ] ")===0?g.content='<input class="task-list-item-checkbox"'+E+'type="checkbox">':(k.content.indexOf("[x] ")===0||k.content.indexOf("[X] ")===0)&&(g.content='<input class="task-list-item-checkbox" checked=""'+E+'type="checkbox">'),g}function m(k){var A=new k("html_inline","",0);return A.content="<label>",A}function y(k){var A=new k("html_inline","",0);return A.content="</label>",A}function x(k,A,g){var E=new g("html_inline","",0);return E.content='<label class="task-list-item-label" for="'+A+'">'+k+"</label>",E.attrs=[{for:A}],E}function u(k){return k.type==="inline"}function w(k){return k.type==="paragraph_open"}function T(k){return k.type==="list_item_open"}function C(k){return k.content.indexOf("[ ] ")===0||k.content.indexOf("[x] ")===0||k.content.indexOf("[X] ")===0}return markdownItTaskLists}var markdownItTaskListsExports=requireMarkdownItTaskLists();const taskListPlugin=getDefaultExportFromCjs$1(markdownItTaskListsExports);var __defProp=Object.defineProperty,__defNormalProp=(t,e,l)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,__publicField=(t,e,l)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,l),l);const MarkdownTightLists=Extension.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:t=>t.getAttribute("data-tight")==="true"||!t.querySelector("p"),renderHTML:t=>({class:t.tight?this.options.tightClass:null,"data-tight":t.tight?"true":null})}}}]},addCommands(){var t=this;return{toggleTight:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return l=>{let{editor:c,commands:f}=l;function h(p){if(!c.isActive(p))return!1;const d=c.getAttributes(p);return f.updateAttributes(p,{tight:e??!(d!=null&&d.tight)})}return t.options.listTypes.some(p=>h(p))}}}}}),md=MarkdownIt();function scanDelims(t,e){return md.inline.State.prototype.scanDelims.call({src:t,posMax:t.length}),new md.inline.State(t,null,null,[]).scanDelims(e,!0)}function shiftDelim(t,e,l,c){let f=t.substring(0,l)+t.substring(l+e.length);return f=f.substring(0,l+c)+e+f.substring(l+c),f}function trimStart(t,e,l,c){let f=l,h=t;for(;f<c&&!scanDelims(h,f).can_open;)h=shiftDelim(h,e,f,1),f++;return{text:h,from:f,to:c}}function trimEnd(t,e,l,c){let f=c,h=t;for(;f>l&&!scanDelims(h,f).can_close;)h=shiftDelim(h,e,f,-1),f--;return{text:h,from:l,to:f}}function trimInline(t,e,l,c){let f={text:t,from:l,to:c};return f=trimStart(f.text,e,f.from,f.to),f=trimEnd(f.text,e,f.from,f.to),f.to-f.from<e.length+1&&(f.text=f.text.substring(0,f.from)+f.text.substring(f.to+e.length)),f.text}class MarkdownSerializerState extends MarkdownSerializerState$1{constructor(e,l,c){super(e,l,c??{}),__publicField(this,"inTable",!1),this.inlines=[]}render(e,l,c){super.render(e,l,c);const f=this.inlines[this.inlines.length-1];if(f!=null&&f.start&&f!==null&&f!==void 0&&f.end){const{delimiter:h,start:p,end:d}=this.normalizeInline(f);this.out=trimInline(this.out,h,p,d),this.inlines.pop()}}markString(e,l,c,f){const h=this.marks[e.type.name];if(h.expelEnclosingWhitespace)if(l)this.inlines.push({start:this.out.length,delimiter:h.open});else{const p=this.inlines.pop();this.inlines.push({...p,end:this.out.length})}return super.markString(e,l,c,f)}normalizeInline(e){let{start:l,end:c}=e;for(;this.out.charAt(l).match(/\s/);)l++;return{...e,start:l}}}const HTMLMark=Mark.create({name:"markdownHTMLMark",addStorage(){return{markdown:{serialize:{open(t,e){var l,c;return this.editor.storage.markdown.options.html?(l=(c=getMarkTags(e))===null||c===void 0?void 0:c[0])!==null&&l!==void 0?l:"":(console.warn(`Tiptap Markdown: "${e.type.name}" mark is only available in html mode`),"")},close(t,e){var l,c;return this.editor.storage.markdown.options.html&&(l=(c=getMarkTags(e))===null||c===void 0?void 0:c[1])!==null&&l!==void 0?l:""}},parse:{}}}}});function getMarkTags(t){const e=t.type.schema,l=e.text(" ",[t]),f=getHTMLFromFragment(Fragment.from(l),e).match(/^(<.*?>) (<\/.*?>)$/);return f?[f[1],f[2]]:null}function elementFromString(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function escapeHTML(t){return t==null?void 0:t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function extractElement(t){const e=t.parentElement,l=e.cloneNode();for(;e.firstChild&&e.firstChild!==t;)l.appendChild(e.firstChild);l.childNodes.length>0&&e.parentElement.insertBefore(l,e),e.parentElement.insertBefore(t,e),e.childNodes.length===0&&e.remove()}function unwrapElement(t){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}const HTMLNode=Node$1.create({name:"markdownHTMLNode",addStorage(){return{markdown:{serialize(t,e,l){this.editor.storage.markdown.options.html?t.write(serializeHTML(e,l)):(console.warn(`Tiptap Markdown: "${e.type.name}" node is only available in html mode`),t.write(`[${e.type.name}]`)),e.isBlock&&t.closeBlock(e)},parse:{}}}}});function serializeHTML(t,e){const l=t.type.schema,c=getHTMLFromFragment(Fragment.from(t),l);return t.isBlock&&(e instanceof Fragment||e.type.name===l.topNodeType.name)?formatBlock(c):c}function formatBlock(t){const l=elementFromString(t).firstElementChild;return l.innerHTML=l.innerHTML.trim()?`
${l.innerHTML}
`:`
`,l.outerHTML}const Blockquote=Node$1.create({name:"blockquote"}),Blockquote$1=Blockquote.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.blockquote,parse:{}}}}}),BulletList=Node$1.create({name:"bulletList"}),BulletList$1=BulletList.extend({addStorage(){return{markdown:{serialize(t,e){return t.renderList(e,"  ",()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" ")},parse:{}}}}}),CodeBlock=Node$1.create({name:"codeBlock"}),CodeBlock$1=CodeBlock.extend({addStorage(){return{markdown:{serialize(t,e){t.write("```"+(e.attrs.language||"")+`
`),t.text(e.textContent,!1),t.ensureNewLine(),t.write("```"),t.closeBlock(e)},parse:{setup(t){var e;t.set({langPrefix:(e=this.options.languageClassPrefix)!==null&&e!==void 0?e:"language-"})},updateDOM(t){t.innerHTML=t.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}}}}),HardBreak=Node$1.create({name:"hardBreak"}),HardBreak$1=HardBreak.extend({addStorage(){return{markdown:{serialize(t,e,l,c){for(let f=c+1;f<l.childCount;f++)if(l.child(f).type!=e.type){t.write(t.inTable?HTMLNode.storage.markdown.serialize.call(this,t,e,l):`\\
`);return}},parse:{}}}}}),Heading=Node$1.create({name:"heading"}),Heading$1=Heading.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.heading,parse:{}}}}}),HorizontalRule=Node$1.create({name:"horizontalRule"}),HorizontalRule$1=HorizontalRule.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.horizontal_rule,parse:{}}}}}),Image=Node$1.create({name:"image"}),Image$1=Image.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.image,parse:{}}}}}),ListItem=Node$1.create({name:"listItem"}),ListItem$1=ListItem.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.list_item,parse:{}}}}}),OrderedList=Node$1.create({name:"orderedList"});function findIndexOfAdjacentNode(t,e,l){let c=0;for(;l-c>0&&e.child(l-c-1).type.name===t.type.name;c++);return c}const OrderedList$1=OrderedList.extend({addStorage(){return{markdown:{serialize(t,e,l,c){const f=e.attrs.start||1,h=String(f+e.childCount-1).length,p=t.repeat(" ",h+2),m=findIndexOfAdjacentNode(e,l,c)%2?") ":". ";t.renderList(e,p,y=>{const x=String(f+y);return t.repeat(" ",h-x.length)+x+m})},parse:{}}}}}),Paragraph=Node$1.create({name:"paragraph"}),Paragraph$1=Paragraph.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.nodes.paragraph,parse:{}}}}});function childNodes(t){var e,l;return(e=t==null||(l=t.content)===null||l===void 0?void 0:l.content)!==null&&e!==void 0?e:[]}const Table=Node$1.create({name:"table"}),Table$1=Table.extend({addStorage(){return{markdown:{serialize(t,e,l){if(!isMarkdownSerializable(e)){HTMLNode.storage.markdown.serialize.call(this,t,e,l);return}t.inTable=!0,e.forEach((c,f,h)=>{if(t.write("| "),c.forEach((p,d,m)=>{m&&t.write(" | ");const y=p.firstChild;y.textContent.trim()&&t.renderInline(y)}),t.write(" |"),t.ensureNewLine(),!h){const p=Array.from({length:c.childCount}).map(()=>"---").join(" | ");t.write(`| ${p} |`),t.ensureNewLine()}}),t.closeBlock(e),t.inTable=!1},parse:{}}}}});function hasSpan(t){return t.attrs.colspan>1||t.attrs.rowspan>1}function isMarkdownSerializable(t){const e=childNodes(t),l=e[0],c=e.slice(1);return!(childNodes(l).some(f=>f.type.name!=="tableHeader"||hasSpan(f)||f.childCount>1)||c.some(f=>childNodes(f).some(h=>h.type.name==="tableHeader"||hasSpan(h)||h.childCount>1)))}const TaskItem=Node$1.create({name:"taskItem"}),TaskItem$1=TaskItem.extend({addStorage(){return{markdown:{serialize(t,e){const l=e.attrs.checked?"[x]":"[ ]";t.write(`${l} `),t.renderContent(e)},parse:{updateDOM(t){[...t.querySelectorAll(".task-list-item")].forEach(e=>{const l=e.querySelector("input");e.setAttribute("data-type","taskItem"),l&&(e.setAttribute("data-checked",l.checked),l.remove())})}}}}}}),TaskList=Node$1.create({name:"taskList"}),TaskList$1=TaskList.extend({addStorage(){return{markdown:{serialize:BulletList$1.storage.markdown.serialize,parse:{setup(t){t.use(taskListPlugin)},updateDOM(t){[...t.querySelectorAll(".contains-task-list")].forEach(e=>{e.setAttribute("data-type","taskList")})}}}}}}),Text=Node$1.create({name:"text"}),Text$1=Text.extend({addStorage(){return{markdown:{serialize(t,e){t.text(escapeHTML(e.text))},parse:{}}}}}),Bold=Mark.create({name:"bold"}),Bold$1=Bold.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.marks.strong,parse:{}}}}}),Code=Mark.create({name:"code"}),Code$1=Code.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.marks.code,parse:{}}}}}),Italic=Mark.create({name:"italic"}),Italic$1=Italic.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.marks.em,parse:{}}}}}),Link=Mark.create({name:"link"}),Link$1=Link.extend({addStorage(){return{markdown:{serialize:defaultMarkdownSerializer.marks.link,parse:{}}}}}),Strike=Mark.create({name:"strike"}),Strike$1=Strike.extend({addStorage(){return{markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}}}}),markdownExtensions=[Blockquote$1,BulletList$1,CodeBlock$1,HardBreak$1,Heading$1,HorizontalRule$1,HTMLNode,Image$1,ListItem$1,OrderedList$1,Paragraph$1,Table$1,TaskItem$1,TaskList$1,Text$1,Bold$1,Code$1,HTMLMark,Italic$1,Link$1,Strike$1];function getMarkdownSpec(t){var e,l;const c=(e=t.storage)===null||e===void 0?void 0:e.markdown,f=(l=markdownExtensions.find(h=>h.name===t.name))===null||l===void 0?void 0:l.storage.markdown;return c||f?{...f,...c}:null}class MarkdownSerializer{constructor(e){__publicField(this,"editor",null),this.editor=e}serialize(e){const l=new MarkdownSerializerState(this.nodes,this.marks,{hardBreakNodeName:HardBreak$1.name});return l.renderContent(e),l.out}get nodes(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map(l=>[l,this.serializeNode(HTMLNode)])),...Object.fromEntries((e=this.editor.extensionManager.extensions.filter(l=>l.type==="node"&&this.serializeNode(l)).map(l=>[l.name,this.serializeNode(l)]))!==null&&e!==void 0?e:[])}}get marks(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map(l=>[l,this.serializeMark(HTMLMark)])),...Object.fromEntries((e=this.editor.extensionManager.extensions.filter(l=>l.type==="mark"&&this.serializeMark(l)).map(l=>[l.name,this.serializeMark(l)]))!==null&&e!==void 0?e:[])}}serializeNode(e){var l;return(l=getMarkdownSpec(e))===null||l===void 0||(l=l.serialize)===null||l===void 0?void 0:l.bind({editor:this.editor,options:e.options})}serializeMark(e){var l;const c=(l=getMarkdownSpec(e))===null||l===void 0?void 0:l.serialize;return c?{...c,open:typeof c.open=="function"?c.open.bind({editor:this.editor,options:e.options}):c.open,close:typeof c.close=="function"?c.close.bind({editor:this.editor,options:e.options}):c.close}:null}}class MarkdownParser{constructor(e,l){__publicField(this,"editor",null),__publicField(this,"md",null);let{html:c,linkify:f,breaks:h}=l;this.editor=e,this.md=this.withPatchedRenderer(MarkdownIt({html:c,linkify:f,breaks:h}))}parse(e){let{inline:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string"){this.editor.extensionManager.extensions.forEach(h=>{var p;return(p=getMarkdownSpec(h))===null||p===void 0||(p=p.parse)===null||p===void 0||(p=p.setup)===null||p===void 0?void 0:p.call({editor:this.editor,options:h.options},this.md)});const c=this.md.render(e),f=elementFromString(c);return this.editor.extensionManager.extensions.forEach(h=>{var p;return(p=getMarkdownSpec(h))===null||p===void 0||(p=p.parse)===null||p===void 0||(p=p.updateDOM)===null||p===void 0?void 0:p.call({editor:this.editor,options:h.options},f)}),this.normalizeDOM(f,{inline:l,content:e}),f.innerHTML}return e}normalizeDOM(e,l){let{inline:c,content:f}=l;return this.normalizeBlocks(e),e.querySelectorAll("*").forEach(h=>{var p;((p=h.nextSibling)===null||p===void 0?void 0:p.nodeType)===Node.TEXT_NODE&&!h.closest("pre")&&(h.nextSibling.textContent=h.nextSibling.textContent.replace(/^\n/,""))}),c&&this.normalizeInline(e,f),e}normalizeBlocks(e){const c=Object.values(this.editor.schema.nodes).filter(f=>f.isBlock).map(f=>{var h;return(h=f.spec.parseDOM)===null||h===void 0?void 0:h.map(p=>p.tag)}).flat().filter(Boolean).join(",");c&&[...e.querySelectorAll(c)].forEach(f=>{f.parentElement.matches("p")&&extractElement(f)})}normalizeInline(e,l){var c;if((c=e.firstElementChild)!==null&&c!==void 0&&c.matches("p")){var f,h,p,d;const m=e.firstElementChild,{nextElementSibling:y}=m,x=(f=(h=l.match(/^\s+/))===null||h===void 0?void 0:h[0])!==null&&f!==void 0?f:"",u=y?"":(p=(d=l.match(/\s+$/))===null||d===void 0?void 0:d[0])!==null&&p!==void 0?p:"";if(l.match(/^\n\n/)){m.innerHTML=`${m.innerHTML}${u}`;return}unwrapElement(m),e.innerHTML=`${x}${e.innerHTML}${u}`}}withPatchedRenderer(e){const l=c=>function(){const f=c(...arguments);return f===`
`?f:f[f.length-1]===`
`?f.slice(0,-1):f};return e.renderer.rules.hardbreak=l(e.renderer.rules.hardbreak),e.renderer.rules.softbreak=l(e.renderer.rules.softbreak),e.renderer.rules.fence=l(e.renderer.rules.fence),e.renderer.rules.code_block=l(e.renderer.rules.code_block),e.renderer.renderToken=l(e.renderer.renderToken.bind(e.renderer)),e}}const MarkdownClipboard=Extension.create({name:"markdownClipboard",addOptions(){return{transformPastedText:!1,transformCopiedText:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("markdownClipboard"),props:{clipboardTextParser:(t,e,l)=>{if(l||!this.options.transformPastedText)return null;const c=this.editor.storage.markdown.parser.parse(t,{inline:!0});return DOMParser.fromSchema(this.editor.schema).parseSlice(elementFromString(c),{preserveWhitespace:!0,context:e})},clipboardTextSerializer:t=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(t.content):null}})]}}),Markdown=Extension.create({name:"markdown",priority:50,addOptions(){return{html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}},addCommands(){const t=index.Commands.config.addCommands();return{setContent:(e,l,c)=>f=>t.setContent(f.editor.storage.markdown.parser.parse(e),l,c)(f),insertContentAt:(e,l,c)=>f=>t.insertContentAt(e,f.editor.storage.markdown.parser.parse(l,{inline:!0}),c)(f)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new MarkdownParser(this.editor,this.options),serializer:new MarkdownSerializer(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage(){return{}},addExtensions(){return[MarkdownTightLists.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),MarkdownClipboard.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),TiptapEditor=({markdownText:t})=>{const e=useEditor({extensions:[StarterKit,Markdown.configure({html:!0,tightLists:!0,bulletListMarker:"-",linkify:!0,breaks:!1})],content:""});return reactExports.useEffect(()=>{e&&t&&e.commands.setContent(t,!1,{parseOptions:{preserveWhitespace:!0}})},[e,t]),jsxRuntimeExports.jsx(EditorContent,{editor:e})};function copyToClipboard(t){if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(t).then(()=>console.log("Copied to clipboard!")).catch(e=>console.error("Failed to copy: ",e));else{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{document.execCommand("copy"),console.log("Copied to clipboard!")}catch(l){console.error("Failed to copy: ",l)}document.body.removeChild(e)}}var module$1={};(function t(e,l,c,f){var h=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),p=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!e.OffscreenCanvas)return!1;var N=new OffscreenCanvas(1,1),O=N.getContext("2d");O.fillRect(0,0,1,1);var H=N.transferToImageBitmap();try{O.createPattern(H,"no-repeat")}catch{return!1}return!0}();function m(){}function y(N){var O=l.exports.Promise,H=O!==void 0?O:e.Promise;return typeof H=="function"?new H(N):(N(m,m),null)}var x=function(N,O){return{transform:function(H){if(N)return H;if(O.has(H))return O.get(H);var G=new OffscreenCanvas(H.width,H.height),le=G.getContext("2d");return le.drawImage(H,0,0),O.set(H,G),G},clear:function(){O.clear()}}}(d,new Map),u=function(){var N=Math.floor(16.666666666666668),O,H,G={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(O=function(fe){var ae=Math.random();return G[ae]=requestAnimationFrame(function re(be){le===be||le+N-1<be?(le=be,delete G[ae],fe()):G[ae]=requestAnimationFrame(re)}),ae},H=function(fe){G[fe]&&cancelAnimationFrame(G[fe])}):(O=function(fe){return setTimeout(fe,N)},H=function(fe){return clearTimeout(fe)}),{frame:O,cancel:H}}(),w=function(){var N,O,H={};function G(le){function fe(ae,re){le.postMessage({options:ae||{},callback:re})}le.init=function(re){var be=re.transferControlToOffscreen();le.postMessage({canvas:be},[be])},le.fire=function(re,be,ye){if(O)return fe(re,null),O;var Ce=Math.random().toString(36).slice(2);return O=y(function(me){function ee(te){te.data.callback===Ce&&(delete H[Ce],le.removeEventListener("message",ee),O=null,x.clear(),ye(),me())}le.addEventListener("message",ee),fe(re,Ce),H[Ce]=ee.bind(null,{data:{callback:Ce}})}),O},le.reset=function(){le.postMessage({reset:!0});for(var re in H)H[re](),delete H[re]}}return function(){if(N)return N;if(!c&&h){var le=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{N=new Worker(URL.createObjectURL(new Blob([le])))}catch(fe){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",fe),null}G(N)}return N}}(),T={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(N,O){return O?O(N):N}function k(N){return N!=null}function A(N,O,H){return C(N&&k(N[O])?N[O]:T[O],H)}function g(N){return N<0?0:Math.floor(N)}function E(N,O){return Math.floor(Math.random()*(O-N))+N}function v(N){return parseInt(N,16)}function M(N){return N.map(R)}function R(N){var O=String(N).replace(/[^0-9a-f]/gi,"");return O.length<6&&(O=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]),{r:v(O.substring(0,2)),g:v(O.substring(2,4)),b:v(O.substring(4,6))}}function I(N){var O=A(N,"origin",Object);return O.x=A(O,"x",Number),O.y=A(O,"y",Number),O}function J(N){N.width=document.documentElement.clientWidth,N.height=document.documentElement.clientHeight}function _(N){var O=N.getBoundingClientRect();N.width=O.width,N.height=O.height}function L(N){var O=document.createElement("canvas");return O.style.position="fixed",O.style.top="0px",O.style.left="0px",O.style.pointerEvents="none",O.style.zIndex=N,O}function K(N,O,H,G,le,fe,ae,re,be){N.save(),N.translate(O,H),N.rotate(fe),N.scale(G,le),N.arc(0,0,1,ae,re,be),N.restore()}function $(N){var O=N.angle*(Math.PI/180),H=N.spread*(Math.PI/180);return{x:N.x,y:N.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:N.startVelocity*.5+Math.random()*N.startVelocity,angle2D:-O+(.5*H-Math.random()*H),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:N.color,shape:N.shape,tick:0,totalTicks:N.ticks,decay:N.decay,drift:N.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:N.gravity*3,ovalScalar:.6,scalar:N.scalar,flat:N.flat}}function D(N,O){O.x+=Math.cos(O.angle2D)*O.velocity+O.drift,O.y+=Math.sin(O.angle2D)*O.velocity+O.gravity,O.velocity*=O.decay,O.flat?(O.wobble=0,O.wobbleX=O.x+10*O.scalar,O.wobbleY=O.y+10*O.scalar,O.tiltSin=0,O.tiltCos=0,O.random=1):(O.wobble+=O.wobbleSpeed,O.wobbleX=O.x+10*O.scalar*Math.cos(O.wobble),O.wobbleY=O.y+10*O.scalar*Math.sin(O.wobble),O.tiltAngle+=.1,O.tiltSin=Math.sin(O.tiltAngle),O.tiltCos=Math.cos(O.tiltAngle),O.random=Math.random()+2);var H=O.tick++/O.totalTicks,G=O.x+O.random*O.tiltCos,le=O.y+O.random*O.tiltSin,fe=O.wobbleX+O.random*O.tiltCos,ae=O.wobbleY+O.random*O.tiltSin;if(N.fillStyle="rgba("+O.color.r+", "+O.color.g+", "+O.color.b+", "+(1-H)+")",N.beginPath(),p&&O.shape.type==="path"&&typeof O.shape.path=="string"&&Array.isArray(O.shape.matrix))N.fill(Y(O.shape.path,O.shape.matrix,O.x,O.y,Math.abs(fe-G)*.1,Math.abs(ae-le)*.1,Math.PI/10*O.wobble));else if(O.shape.type==="bitmap"){var re=Math.PI/10*O.wobble,be=Math.abs(fe-G)*.1,ye=Math.abs(ae-le)*.1,Ce=O.shape.bitmap.width*O.scalar,me=O.shape.bitmap.height*O.scalar,ee=new DOMMatrix([Math.cos(re)*be,Math.sin(re)*be,-Math.sin(re)*ye,Math.cos(re)*ye,O.x,O.y]);ee.multiplySelf(new DOMMatrix(O.shape.matrix));var te=N.createPattern(x.transform(O.shape.bitmap),"no-repeat");te.setTransform(ee),N.globalAlpha=1-H,N.fillStyle=te,N.fillRect(O.x-Ce/2,O.y-me/2,Ce,me),N.globalAlpha=1}else if(O.shape==="circle")N.ellipse?N.ellipse(O.x,O.y,Math.abs(fe-G)*O.ovalScalar,Math.abs(ae-le)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI):K(N,O.x,O.y,Math.abs(fe-G)*O.ovalScalar,Math.abs(ae-le)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI);else if(O.shape==="star")for(var oe=Math.PI/2*3,V=4*O.scalar,W=8*O.scalar,ue=O.x,he=O.y,pe=5,Se=Math.PI/pe;pe--;)ue=O.x+Math.cos(oe)*W,he=O.y+Math.sin(oe)*W,N.lineTo(ue,he),oe+=Se,ue=O.x+Math.cos(oe)*V,he=O.y+Math.sin(oe)*V,N.lineTo(ue,he),oe+=Se;else N.moveTo(Math.floor(O.x),Math.floor(O.y)),N.lineTo(Math.floor(O.wobbleX),Math.floor(le)),N.lineTo(Math.floor(fe),Math.floor(ae)),N.lineTo(Math.floor(G),Math.floor(O.wobbleY));return N.closePath(),N.fill(),O.tick<O.totalTicks}function ne(N,O,H,G,le){var fe=O.slice(),ae=N.getContext("2d"),re,be,ye=y(function(Ce){function me(){re=be=null,ae.clearRect(0,0,G.width,G.height),x.clear(),le(),Ce()}function ee(){c&&!(G.width===f.width&&G.height===f.height)&&(G.width=N.width=f.width,G.height=N.height=f.height),!G.width&&!G.height&&(H(N),G.width=N.width,G.height=N.height),ae.clearRect(0,0,G.width,G.height),fe=fe.filter(function(te){return D(ae,te)}),fe.length?re=u.frame(ee):me()}re=u.frame(ee),be=me});return{addFettis:function(Ce){return fe=fe.concat(Ce),ye},canvas:N,promise:ye,reset:function(){re&&u.cancel(re),be&&be()}}}function F(N,O){var H=!N,G=!!A(O||{},"resize"),le=!1,fe=A(O,"disableForReducedMotion",Boolean),ae=h&&!!A(O||{},"useWorker"),re=ae?w():null,be=H?J:_,ye=N&&re?!!N.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,me;function ee(oe,V,W){for(var ue=A(oe,"particleCount",g),he=A(oe,"angle",Number),pe=A(oe,"spread",Number),Se=A(oe,"startVelocity",Number),ge=A(oe,"decay",Number),de=A(oe,"gravity",Number),xe=A(oe,"drift",Number),ve=A(oe,"colors",M),Ee=A(oe,"ticks",Number),Te=A(oe,"shapes"),_e=A(oe,"scalar"),Oe=!!A(oe,"flat"),Pe=I(oe),je=ue,De=[],Me=N.width*Pe.x,Fe=N.height*Pe.y;je--;)De.push($({x:Me,y:Fe,angle:he,spread:pe,startVelocity:Se,color:ve[je%ve.length],shape:Te[E(0,Te.length)],ticks:Ee,decay:ge,gravity:de,drift:xe,scalar:_e,flat:Oe}));return me?me.addFettis(De):(me=ne(N,De,be,V,W),me.promise)}function te(oe){var V=fe||A(oe,"disableForReducedMotion",Boolean),W=A(oe,"zIndex",Number);if(V&&Ce)return y(function(Se){Se()});H&&me?N=me.canvas:H&&!N&&(N=L(W),document.body.appendChild(N)),G&&!ye&&be(N);var ue={width:N.width,height:N.height};re&&!ye&&re.init(N),ye=!0,re&&(N.__confetti_initialized=!0);function he(){if(re){var Se={getBoundingClientRect:function(){if(!H)return N.getBoundingClientRect()}};be(Se),re.postMessage({resize:{width:Se.width,height:Se.height}});return}ue.width=ue.height=null}function pe(){me=null,G&&(le=!1,e.removeEventListener("resize",he)),H&&N&&(document.body.contains(N)&&document.body.removeChild(N),N=null,ye=!1)}return G&&!le&&(le=!0,e.addEventListener("resize",he,!1)),re?re.fire(oe,ue,pe):ee(oe,ue,pe)}return te.reset=function(){re&&re.reset(),me&&me.reset()},te}var j;function se(){return j||(j=F(null,{useWorker:!0,resize:!0})),j}function Y(N,O,H,G,le,fe,ae){var re=new Path2D(N),be=new Path2D;be.addPath(re,new DOMMatrix(O));var ye=new Path2D;return ye.addPath(be,new DOMMatrix([Math.cos(ae)*le,Math.sin(ae)*le,-Math.sin(ae)*fe,Math.cos(ae)*fe,H,G])),ye}function q(N){if(!p)throw new Error("path confetti are not supported in this browser");var O,H;typeof N=="string"?O=N:(O=N.path,H=N.matrix);var G=new Path2D(O),le=document.createElement("canvas"),fe=le.getContext("2d");if(!H){for(var ae=1e3,re=ae,be=ae,ye=0,Ce=0,me,ee,te=0;te<ae;te+=2)for(var oe=0;oe<ae;oe+=2)fe.isPointInPath(G,te,oe,"nonzero")&&(re=Math.min(re,te),be=Math.min(be,oe),ye=Math.max(ye,te),Ce=Math.max(Ce,oe));me=ye-re,ee=Ce-be;var V=10,W=Math.min(V/me,V/ee);H=[W,0,0,W,-Math.round(me/2+re)*W,-Math.round(ee/2+be)*W]}return{type:"path",path:O,matrix:H}}function Q(N){var O,H=1,G="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof N=="string"?O=N:(O=N.text,H="scalar"in N?N.scalar:H,le="fontFamily"in N?N.fontFamily:le,G="color"in N?N.color:G);var fe=10*H,ae=""+fe+"px "+le,re=new OffscreenCanvas(fe,fe),be=re.getContext("2d");be.font=ae;var ye=be.measureText(O),Ce=Math.ceil(ye.actualBoundingBoxRight+ye.actualBoundingBoxLeft),me=Math.ceil(ye.actualBoundingBoxAscent+ye.actualBoundingBoxDescent),ee=2,te=ye.actualBoundingBoxLeft+ee,oe=ye.actualBoundingBoxAscent+ee;Ce+=ee+ee,me+=ee+ee,re=new OffscreenCanvas(Ce,me),be=re.getContext("2d"),be.font=ae,be.fillStyle=G,be.fillText(O,te,oe);var V=1/H;return{type:"bitmap",bitmap:re.transferToImageBitmap(),matrix:[V,0,0,V,-Ce*V/2,-me*V/2]}}l.exports=function(){return se().apply(this,arguments)},l.exports.reset=function(){se().reset()},l.exports.create=F,l.exports.shapeFromPath=q,l.exports.shapeFromText=Q})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),module$1,!1);const confetti=module$1.exports;module$1.exports.create;const ConfettiContext=reactExports.createContext({}),ConfettiComponent=reactExports.forwardRef((t,e)=>{const{options:l,globalOptions:c={resize:!0,useWorker:!0},manualstart:f=!1,children:h,...p}=t,d=reactExports.useRef(null),m=reactExports.useCallback(u=>{if(u!==null){if(d.current)return;d.current=confetti.create(u,{...c,resize:!0})}else d.current&&(d.current.reset(),d.current=null)},[c]),y=reactExports.useCallback(async(u={})=>{var w;try{await((w=d.current)==null?void 0:w.call(d,{...l,...u}))}catch(T){console.error("Confetti error:",T)}},[l]),x=reactExports.useMemo(()=>({fire:y}),[y]);return reactExports.useImperativeHandle(e,()=>x,[x]),reactExports.useEffect(()=>{f||(async()=>{try{await y()}catch(u){console.error("Confetti effect error:",u)}})()},[f,y]),jsxRuntimeExports.jsxs(ConfettiContext.Provider,{value:x,children:[jsxRuntimeExports.jsx("canvas",{ref:m,...p}),h]})});ConfettiComponent.displayName="Confetti";const formSchema=z.object({apiKey:z.string().min(70,"Invalid API key"),jobDescription:z.string().min(20,"Job description is too short"),messageType:z.string(),outputType:z.string(),resume:z.string().min(10,"Resume must be extracted or provided")});function MyForm(){React2.useState(null);const[t,e]=React2.useState(null),[l,c]=reactExports.useState(!1),[f,h]=reactExports.useState(!1);React2.useState(!1);const[p,d]=reactExports.useState(""),{setGlobalPrompt:m}=usePrompt(),y=useForm({resolver:s(formSchema),defaultValues:{apiKey:"",jobDescription:"",messageType:"Job Interest",outputType:"LinkedIn",resume:""}}),[x,u]=reactExports.useState(null),[w,T]=reactExports.useState(null),C=k=>{const{apiKey:A,resume:g,jobDescription:E,messageType:v,outputType:M}=k;localStorage.setItem("apiKey",A),h(!0);const R=`
Context:
You are provided with a resume and a job description.

Task:
Write a professional, respectful email to a company's HR or recruiter with one of the following intents:

- To express interest in a job role
- To inquire about job opportunities
- To request a referral

Instructions:

Understand the resume: Focus on key skills, experiences, and achievements that are relevant.

Understand the job description: Identify the main responsibilities and required qualifications.

Generate a short, effective message that:
- Shows genuine interest and passion for the role or company
- Highlights 12 key strengths that match the job
- Clearly states the purpose (${v})
- Maintains a polite, professional tone
- Keeps the total message within 150 words

Output Format:
A concise, well-structured email with:
- Polite greeting
- Clear purpose
- Relevant qualifications
- Courteous closing

---

Resume:
${g}

---

Job Description:
${E}

---

Preferred Output Format: ${M}
        `;console.log("Generated Prompt:",R),m(R),(async J=>{try{const _=await axios.post("https://openrouter.ai/api/v1/chat/completions",{model:"mistralai/mistral-small-3.1-24b-instruct:free",messages:[{role:"user",content:[{type:"text",text:J}]}]},{headers:{Authorization:"Bearer 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","Content-Type":"application/json"}});console.log("Response:",_.data),u(_.data);let L=_.data.choices[0].message.content;d(L)}catch(_){console.error("Error:",_),T(_.message||"Something went wrong")}finally{h(!1)}})(R)};return reactExports.useEffect(()=>{let k=null;localStorage.getItem("apiKey")&&(k=localStorage.getItem("apiKey"),e(k))},[]),reactExports.useEffect(()=>{t&&(console.log("the api key is",t),y.setValue("apiKey",t))},[t]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:p?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(TiptapEditor,{markdownText:p}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>d(null),children:[jsxRuntimeExports.jsx(CircleChevronLeft,{}),"Back"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{c(!0),copyToClipboard(p)},children:[jsxRuntimeExports.jsx(Copy,{}),l?"copied":"Copy Response"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{d("Loading"),C(y.getValues())},size:"sm",children:[jsxRuntimeExports.jsx(RefreshCw,{}),"Regenerate"]})]})]}):jsxRuntimeExports.jsx(Form,{...y,children:jsxRuntimeExports.jsxs("form",{onSubmit:y.handleSubmit(C),className:"space-y-6 p-4",children:[jsxRuntimeExports.jsx(FormField,{control:y.control,name:"apiKey",value:t,render:({field:k})=>jsxRuntimeExports.jsxs(FormItem,{className:t?"hidden":"",children:[jsxRuntimeExports.jsx(FormLabel,{children:"OpenAPI"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{value:t,placeholder:"Paste your key here",...k})}),jsxRuntimeExports.jsx(FormDescription,{children:"Your API key here"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(PdfDropzone,{onTextExtracted:k=>y.setValue("resume",k)}),jsxRuntimeExports.jsx(FormField,{control:y.control,name:"jobDescription",render:({field:k})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Job Description"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Paste Your Job Description Here...",className:"resize-none",...k})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(FormField,{control:y.control,name:"messageType",render:({field:k})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Message Type"}),jsxRuntimeExports.jsxs(Select,{onValueChange:k.onChange,value:k.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select message type"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"Job Inquiry",children:"Job Inquiry"}),jsxRuntimeExports.jsx(SelectItem,{value:"Job Interest",children:"Job Interest"}),jsxRuntimeExports.jsx(SelectItem,{value:"Referral Request",children:"Referral Request"})]})]}),jsxRuntimeExports.jsx(FormDescription,{children:"Select the message type (e.g., Mail, LinkedIn)"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:y.control,name:"outputType",render:({field:k})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Output Type"}),jsxRuntimeExports.jsxs(Select,{onValueChange:k.onChange,value:k.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select output type"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"Email",children:"Email"}),jsxRuntimeExports.jsx(SelectItem,{value:"LinkedIn",children:"LinkedIn"})]})]}),jsxRuntimeExports.jsx(FormDescription,{children:"You can manage output types in your settings."}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),f&&jsxRuntimeExports.jsxs(Alert,{className:"bg-gradient-to-r from-pink-600 to-indigo-600 bg-clip-text text-transparent dark:from-pink-400 dark:to-indigo-400",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"size-4 animate-spin"}),jsxRuntimeExports.jsx(AlertTitle,{children:"Hang Tight!"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Were crafting the best possible response for you. Thanks for your patience!"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",children:"Submit"})]})})})}function composeEventHandlers$2(t,e,{checkForDefaultPrevented:l=!0}={}){return function(f){if(t==null||t(f),l===!1||!f.defaultPrevented)return e==null?void 0:e(f)}}function setRef$2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$2(...t){return e=>{let l=!1;const c=t.map(f=>{const h=setRef$2(f,e);return!l&&typeof h=="function"&&(l=!0),h});if(l)return()=>{for(let f=0;f<c.length;f++){const h=c[f];typeof h=="function"?h():setRef$2(t[f],null)}}}}function createContextScope$2(t,e=[]){let l=[];function c(h,p){const d=reactExports.createContext(p),m=l.length;l=[...l,p];const y=u=>{var g;const{scope:w,children:T,...C}=u,k=((g=w==null?void 0:w[t])==null?void 0:g[m])||d,A=reactExports.useMemo(()=>C,Object.values(C));return jsxRuntimeExports.jsx(k.Provider,{value:A,children:T})};y.displayName=h+"Provider";function x(u,w){var k;const T=((k=w==null?void 0:w[t])==null?void 0:k[m])||d,C=reactExports.useContext(T);if(C)return C;if(p!==void 0)return p;throw new Error(`\`${u}\` must be used within \`${h}\``)}return[y,x]}const f=()=>{const h=l.map(p=>reactExports.createContext(p));return function(d){const m=(d==null?void 0:d[t])||h;return reactExports.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return f.scopeName=t,[c,composeContextScopes$2(f,...e)]}function composeContextScopes$2(...t){const e=t[0];if(t.length===1)return e;const l=()=>{const c=t.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(h){const p=c.reduce((d,{useScope:m,scopeName:y})=>{const u=m(h)[`__scope${y}`];return{...d,...u}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return l.scopeName=e.scopeName,l}var useLayoutEffect2$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useInsertionEffect$1=React[" useInsertionEffect ".trim().toString()]||useLayoutEffect2$2;function useControllableState$1({prop:t,defaultProp:e,onChange:l=()=>{},caller:c}){const[f,h,p]=useUncontrolledState$1({defaultProp:e,onChange:l}),d=t!==void 0,m=d?t:f;{const x=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const u=x.current;u!==d&&console.warn(`${c} is changing from ${u?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=d},[d,c])}const y=reactExports.useCallback(x=>{var u;if(d){const w=isFunction$1(x)?x(t):x;w!==t&&((u=p.current)==null||u.call(p,w))}else h(x)},[d,t,h,p]);return[m,y]}function useUncontrolledState$1({defaultProp:t,onChange:e}){const[l,c]=reactExports.useState(t),f=reactExports.useRef(l),h=reactExports.useRef(e);return useInsertionEffect$1(()=>{h.current=e},[e]),reactExports.useEffect(()=>{var p;f.current!==l&&((p=h.current)==null||p.call(h,l),f.current=l)},[l,f]),[l,c,h]}function isFunction$1(t){return typeof t=="function"}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((t,e)=>{const l=createSlot(`Primitive.${e}`),c=reactExports.forwardRef((f,h)=>{const{asChild:p,...d}=f,m=p?l:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...d,ref:h})});return c.displayName=`Primitive.${e}`,{...t,[e]:c}},{});function composeEventHandlers$1(t,e,{checkForDefaultPrevented:l=!0}={}){return function(f){if(t==null||t(f),l===!1||!f.defaultPrevented)return e==null?void 0:e(f)}}function createContextScope$1(t,e=[]){let l=[];function c(h,p){const d=reactExports.createContext(p),m=l.length;l=[...l,p];const y=u=>{var g;const{scope:w,children:T,...C}=u,k=((g=w==null?void 0:w[t])==null?void 0:g[m])||d,A=reactExports.useMemo(()=>C,Object.values(C));return jsxRuntimeExports.jsx(k.Provider,{value:A,children:T})};y.displayName=h+"Provider";function x(u,w){var k;const T=((k=w==null?void 0:w[t])==null?void 0:k[m])||d,C=reactExports.useContext(T);if(C)return C;if(p!==void 0)return p;throw new Error(`\`${u}\` must be used within \`${h}\``)}return[y,x]}const f=()=>{const h=l.map(p=>reactExports.createContext(p));return function(d){const m=(d==null?void 0:d[t])||h;return reactExports.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return f.scopeName=t,[c,composeContextScopes$1(f,...e)]}function composeContextScopes$1(...t){const e=t[0];if(t.length===1)return e;const l=()=>{const c=t.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(h){const p=c.reduce((d,{useScope:m,scopeName:y})=>{const u=m(h)[`__scope${y}`];return{...d,...u}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return l.scopeName=e.scopeName,l}function setRef$1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs$1(...t){return e=>{let l=!1;const c=t.map(f=>{const h=setRef$1(f,e);return!l&&typeof h=="function"&&(l=!0),h});if(l)return()=>{for(let f=0;f<c.length;f++){const h=c[f];typeof h=="function"?h():setRef$1(t[f],null)}}}}function useComposedRefs$1(...t){return reactExports.useCallback(composeRefs$1(...t),t)}function createCollection$1(t){const e=t+"CollectionProvider",[l,c]=createContextScope$1(e),[f,h]=l(e,{collectionRef:{current:null},itemMap:new Map}),p=k=>{const{scope:A,children:g}=k,E=React2.useRef(null),v=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(f,{scope:A,itemMap:v,collectionRef:E,children:g})};p.displayName=e;const d=t+"CollectionSlot",m=createSlot(d),y=React2.forwardRef((k,A)=>{const{scope:g,children:E}=k,v=h(d,g),M=useComposedRefs$1(A,v.collectionRef);return jsxRuntimeExports.jsx(m,{ref:M,children:E})});y.displayName=d;const x=t+"CollectionItemSlot",u="data-radix-collection-item",w=createSlot(x),T=React2.forwardRef((k,A)=>{const{scope:g,children:E,...v}=k,M=React2.useRef(null),R=useComposedRefs$1(A,M),I=h(x,g);return React2.useEffect(()=>(I.itemMap.set(M,{ref:M,...v}),()=>void I.itemMap.delete(M))),jsxRuntimeExports.jsx(w,{[u]:"",ref:R,children:E})});T.displayName=x;function C(k){const A=h(t+"CollectionConsumer",k);return React2.useCallback(()=>{const E=A.collectionRef.current;if(!E)return[];const v=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(A.itemMap.values()).sort((I,J)=>v.indexOf(I.ref.current)-v.indexOf(J.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:p,Slot:y,ItemSlot:T},C,c]}var DirectionContext$1=reactExports.createContext(void 0);function useDirection$1(t){const e=reactExports.useContext(DirectionContext$1);return t||e||"ltr"}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((t,e)=>{const l=createSlot(`Primitive.${e}`),c=reactExports.forwardRef((f,h)=>{const{asChild:p,...d}=f,m=p?l:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...d,ref:h})});return c.displayName=`Primitive.${e}`,{...t,[e]:c}},{});function dispatchDiscreteCustomEvent(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}function useCallbackRef$1(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...l)=>{var c;return(c=e.current)==null?void 0:c.call(e,...l)},[])}function useEscapeKeydown(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$1(t);reactExports.useEffect(()=>{const c=f=>{f.key==="Escape"&&l(f)};return e.addEventListener("keydown",c,{capture:!0}),()=>e.removeEventListener("keydown",c,{capture:!0})},[l,e])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:d,...m}=t,y=reactExports.useContext(DismissableLayerContext),[x,u]=reactExports.useState(null),w=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=reactExports.useState({}),C=useComposedRefs$1(e,J=>u(J)),k=Array.from(y.layers),[A]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),g=k.indexOf(A),E=x?k.indexOf(x):-1,v=y.layersWithOutsidePointerEventsDisabled.size>0,M=E>=g,R=usePointerDownOutside(J=>{const _=J.target,L=[...y.branches].some(K=>K.contains(_));!M||L||(f==null||f(J),p==null||p(J),J.defaultPrevented||d==null||d())},w),I=useFocusOutside(J=>{const _=J.target;[...y.branches].some(K=>K.contains(_))||(h==null||h(J),p==null||p(J),J.defaultPrevented||d==null||d())},w);return useEscapeKeydown(J=>{E===y.layers.size-1&&(c==null||c(J),!J.defaultPrevented&&d&&(J.preventDefault(),d()))},w),reactExports.useEffect(()=>{if(x)return l&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(x)),y.layers.add(x),dispatchUpdate(),()=>{l&&y.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=originalBodyPointerEvents)}},[x,w,l,y]),reactExports.useEffect(()=>()=>{x&&(y.layers.delete(x),y.layersWithOutsidePointerEventsDisabled.delete(x),dispatchUpdate())},[x,y]),reactExports.useEffect(()=>{const J=()=>T({});return document.addEventListener(CONTEXT_UPDATE,J),()=>document.removeEventListener(CONTEXT_UPDATE,J)},[]),jsxRuntimeExports.jsx(Primitive$1.div,{...m,ref:C,style:{pointerEvents:v?M?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers$1(t.onFocusCapture,I.onFocusCapture),onBlurCapture:composeEventHandlers$1(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:composeEventHandlers$1(t.onPointerDownCapture,R.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((t,e)=>{const l=reactExports.useContext(DismissableLayerContext),c=reactExports.useRef(null),f=useComposedRefs$1(e,c);return reactExports.useEffect(()=>{const h=c.current;if(h)return l.branches.add(h),()=>{l.branches.delete(h)}},[l.branches]),jsxRuntimeExports.jsx(Primitive$1.div,{...t,ref:f})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$1(t),c=reactExports.useRef(!1),f=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const h=d=>{if(d.target&&!c.current){let m=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,l,y,{discrete:!0})};const y={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",f.current),f.current=m,e.addEventListener("click",f.current,{once:!0})):m()}else e.removeEventListener("click",f.current);c.current=!1},p=window.setTimeout(()=>{e.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(p),e.removeEventListener("pointerdown",h),e.removeEventListener("click",f.current)}},[e,l]),{onPointerDownCapture:()=>c.current=!0}}function useFocusOutside(t,e=globalThis==null?void 0:globalThis.document){const l=useCallbackRef$1(t),c=reactExports.useRef(!1);return reactExports.useEffect(()=>{const f=h=>{h.target&&!c.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,l,{originalEvent:h},{discrete:!1})};return e.addEventListener("focusin",f),()=>e.removeEventListener("focusin",f)},[e,l]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function dispatchUpdate(){const t=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(t)}function handleAndDispatchCustomEvent(t,e,l,{discrete:c}){const f=l.originalEvent.target,h=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:l});e&&f.addEventListener(t,e,{once:!0}),c?dispatchDiscreteCustomEvent(f,h):f.dispatchEvent(h)}var count$2=0;function useFocusGuards(){reactExports.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",t[1]??createFocusGuard()),count$2++,()=>{count$2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),count$2--}},[])}function createFocusGuard(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((t,e)=>{const{loop:l=!1,trapped:c=!1,onMountAutoFocus:f,onUnmountAutoFocus:h,...p}=t,[d,m]=reactExports.useState(null),y=useCallbackRef$1(f),x=useCallbackRef$1(h),u=reactExports.useRef(null),w=useComposedRefs$1(e,k=>m(k)),T=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(c){let k=function(v){if(T.paused||!d)return;const M=v.target;d.contains(M)?u.current=M:focus(u.current,{select:!0})},A=function(v){if(T.paused||!d)return;const M=v.relatedTarget;M!==null&&(d.contains(M)||focus(u.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const R of v)R.removedNodes.length>0&&focus(d)};document.addEventListener("focusin",k),document.addEventListener("focusout",A);const E=new MutationObserver(g);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",A),E.disconnect()}}},[c,d,T.paused]),reactExports.useEffect(()=>{if(d){focusScopesStack.add(T);const k=document.activeElement;if(!d.contains(k)){const g=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);d.addEventListener(AUTOFOCUS_ON_MOUNT,y),d.dispatchEvent(g),g.defaultPrevented||(focusFirst$2(removeLinks(getTabbableCandidates(d)),{select:!0}),document.activeElement===k&&focus(d))}return()=>{d.removeEventListener(AUTOFOCUS_ON_MOUNT,y),setTimeout(()=>{const g=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);d.addEventListener(AUTOFOCUS_ON_UNMOUNT,x),d.dispatchEvent(g),g.defaultPrevented||focus(k??document.body,{select:!0}),d.removeEventListener(AUTOFOCUS_ON_UNMOUNT,x),focusScopesStack.remove(T)},0)}}},[d,y,x,T]);const C=reactExports.useCallback(k=>{if(!l&&!c||T.paused)return;const A=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,g=document.activeElement;if(A&&g){const E=k.currentTarget,[v,M]=getTabbableEdges(E);v&&M?!k.shiftKey&&g===M?(k.preventDefault(),l&&focus(v,{select:!0})):k.shiftKey&&g===v&&(k.preventDefault(),l&&focus(M,{select:!0})):g===E&&k.preventDefault()}},[l,c,T.paused]);return jsxRuntimeExports.jsx(Primitive$1.div,{tabIndex:-1,...p,ref:w,onKeyDown:C})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$2(t,{select:e=!1}={}){const l=document.activeElement;for(const c of t)if(focus(c,{select:e}),document.activeElement!==l)return}function getTabbableEdges(t){const e=getTabbableCandidates(t),l=findVisible(e,t),c=findVisible(e.reverse(),t);return[l,c]}function getTabbableCandidates(t){const e=[],l=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const f=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||f?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)e.push(l.currentNode);return e}function findVisible(t,e){for(const l of t)if(!isHidden(l,{upTo:e}))return l}function isHidden(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function isSelectableInput(t){return t instanceof HTMLInputElement&&"select"in t}function focus(t,{select:e=!1}={}){if(t&&t.focus){const l=document.activeElement;t.focus({preventScroll:!0}),t!==l&&isSelectableInput(t)&&e&&t.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let t=[];return{add(e){const l=t[0];e!==l&&(l==null||l.pause()),t=arrayRemove(t,e),t.unshift(e)},remove(e){var l;t=arrayRemove(t,e),(l=t[0])==null||l.resume()}}}function arrayRemove(t,e){const l=[...t],c=l.indexOf(e);return c!==-1&&l.splice(c,1),l}function removeLinks(t){return t.filter(e=>e.tagName!=="A")}var useLayoutEffect2$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},NAME="Arrow",Arrow$1=reactExports.forwardRef((t,e)=>{const{children:l,width:c=10,height:f=5,...h}=t;return jsxRuntimeExports.jsx(Primitive$1.svg,{...h,ref:e,width:c,height:f,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?l:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME;var Root$1=Arrow$1;function useSize(t){const[e,l]=reactExports.useState(void 0);return useLayoutEffect2$1(()=>{if(t){l({width:t.offsetWidth,height:t.offsetHeight});const c=new ResizeObserver(f=>{if(!Array.isArray(f)||!f.length)return;const h=f[0];let p,d;if("borderBoxSize"in h){const m=h.borderBoxSize,y=Array.isArray(m)?m[0]:m;p=y.inlineSize,d=y.blockSize}else p=t.offsetWidth,d=t.offsetHeight;l({width:p,height:d})});return c.observe(t,{box:"border-box"}),()=>c.unobserve(t)}else l(void 0)},[t]),e}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$1(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=t=>{const{__scopePopper:e,children:l}=t,[c,f]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:e,anchor:c,onAnchorChange:f,children:l})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((t,e)=>{const{__scopePopper:l,virtualRef:c,...f}=t,h=usePopperContext(ANCHOR_NAME$1,l),p=reactExports.useRef(null),d=useComposedRefs$1(e,p);return reactExports.useEffect(()=>{h.onAnchorChange((c==null?void 0:c.current)||p.current)}),c?null:jsxRuntimeExports.jsx(Primitive$1.div,{...f,ref:d})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$2="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$2),PopperContent=reactExports.forwardRef((t,e)=>{var re,be,ye,Ce,me,ee;const{__scopePopper:l,side:c="bottom",sideOffset:f=0,align:h="center",alignOffset:p=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:y=[],collisionPadding:x=0,sticky:u="partial",hideWhenDetached:w=!1,updatePositionStrategy:T="optimized",onPlaced:C,...k}=t,A=usePopperContext(CONTENT_NAME$2,l),[g,E]=reactExports.useState(null),v=useComposedRefs$1(e,te=>E(te)),[M,R]=reactExports.useState(null),I=useSize(M),J=(I==null?void 0:I.width)??0,_=(I==null?void 0:I.height)??0,L=c+(h!=="center"?"-"+h:""),K=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},$=Array.isArray(y)?y:[y],D=$.length>0,ne={padding:K,boundary:$.filter(isNotNull),altBoundary:D},{refs:F,floatingStyles:j,placement:se,isPositioned:Y,middlewareData:q}=useFloating({strategy:"fixed",placement:L,whileElementsMounted:(...te)=>autoUpdate(...te,{animationFrame:T==="always"}),elements:{reference:A.anchor},middleware:[offset({mainAxis:f+_,alignmentAxis:p}),m&&shift$1({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?limitShift():void 0,...ne}),m&&flip({...ne}),size({...ne,apply:({elements:te,rects:oe,availableWidth:V,availableHeight:W})=>{const{width:ue,height:he}=oe.reference,pe=te.floating.style;pe.setProperty("--radix-popper-available-width",`${V}px`),pe.setProperty("--radix-popper-available-height",`${W}px`),pe.setProperty("--radix-popper-anchor-width",`${ue}px`),pe.setProperty("--radix-popper-anchor-height",`${he}px`)}}),M&&arrow$2({element:M,padding:d}),transformOrigin({arrowWidth:J,arrowHeight:_}),w&&hide({strategy:"referenceHidden",...ne})]}),[Q,N]=getSideAndAlignFromPlacement(se),O=useCallbackRef$1(C);useLayoutEffect2$1(()=>{Y&&(O==null||O())},[Y,O]);const H=(re=q.arrow)==null?void 0:re.x,G=(be=q.arrow)==null?void 0:be.y,le=((ye=q.arrow)==null?void 0:ye.centerOffset)!==0,[fe,ae]=reactExports.useState();return useLayoutEffect2$1(()=>{g&&ae(window.getComputedStyle(g).zIndex)},[g]),jsxRuntimeExports.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:Y?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Ce=q.transformOrigin)==null?void 0:Ce.x,(me=q.transformOrigin)==null?void 0:me.y].join(" "),...((ee=q.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:l,placedSide:Q,onArrowChange:R,arrowX:H,arrowY:G,shouldHideArrow:le,children:jsxRuntimeExports.jsx(Primitive$1.div,{"data-side":Q,"data-align":N,...k,ref:v,style:{...k.style,animation:Y?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$2;var ARROW_NAME$2="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function t(e,l){const{__scopePopper:c,...f}=e,h=useContentContext(ARROW_NAME$2,c),p=OPPOSITE_SIDE[h.placedSide];return jsxRuntimeExports.jsx("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[p]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$1,{...f,ref:l,style:{...f.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$2;function isNotNull(t){return t!==null}var transformOrigin=t=>({name:"transformOrigin",options:t,fn(e){var A,g,E;const{placement:l,rects:c,middlewareData:f}=e,p=((A=f.arrow)==null?void 0:A.centerOffset)!==0,d=p?0:t.arrowWidth,m=p?0:t.arrowHeight,[y,x]=getSideAndAlignFromPlacement(l),u={start:"0%",center:"50%",end:"100%"}[x],w=(((g=f.arrow)==null?void 0:g.x)??0)+d/2,T=(((E=f.arrow)==null?void 0:E.y)??0)+m/2;let C="",k="";return y==="bottom"?(C=p?u:`${w}px`,k=`${-m}px`):y==="top"?(C=p?u:`${w}px`,k=`${c.floating.height+m}px`):y==="right"?(C=`${-m}px`,k=p?u:`${T}px`):y==="left"&&(C=`${c.floating.width+m}px`,k=p?u:`${T}px`),{data:{x:C,y:k}}}});function getSideAndAlignFromPlacement(t){const[e,l="center"]=t.split("-");return[e,l]}var Root2$1=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,PORTAL_NAME$2="Portal",Portal$1=reactExports.forwardRef((t,e)=>{var d;const{container:l,...c}=t,[f,h]=reactExports.useState(!1);useLayoutEffect2$1(()=>h(!0),[]);const p=l||f&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return p?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$1.div,{...c,ref:e}),p):null});Portal$1.displayName=PORTAL_NAME$2;function composeEventHandlers(t,e,{checkForDefaultPrevented:l=!0}={}){return function(f){if(t==null||t(f),l===!1||!f.defaultPrevented)return e==null?void 0:e(f)}}function createContextScope(t,e=[]){let l=[];function c(h,p){const d=reactExports.createContext(p),m=l.length;l=[...l,p];const y=u=>{var g;const{scope:w,children:T,...C}=u,k=((g=w==null?void 0:w[t])==null?void 0:g[m])||d,A=reactExports.useMemo(()=>C,Object.values(C));return jsxRuntimeExports.jsx(k.Provider,{value:A,children:T})};y.displayName=h+"Provider";function x(u,w){var k;const T=((k=w==null?void 0:w[t])==null?void 0:k[m])||d,C=reactExports.useContext(T);if(C)return C;if(p!==void 0)return p;throw new Error(`\`${u}\` must be used within \`${h}\``)}return[y,x]}const f=()=>{const h=l.map(p=>reactExports.createContext(p));return function(d){const m=(d==null?void 0:d[t])||h;return reactExports.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return f.scopeName=t,[c,composeContextScopes(f,...e)]}function composeContextScopes(...t){const e=t[0];if(t.length===1)return e;const l=()=>{const c=t.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(h){const p=c.reduce((d,{useScope:m,scopeName:y})=>{const u=m(h)[`__scope${y}`];return{...d,...u}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return l.scopeName=e.scopeName,l}function setRef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs(...t){return e=>{let l=!1;const c=t.map(f=>{const h=setRef(f,e);return!l&&typeof h=="function"&&(l=!0),h});if(l)return()=>{for(let f=0;f<c.length;f++){const h=c[f];typeof h=="function"?h():setRef(t[f],null)}}}}function useComposedRefs(...t){return reactExports.useCallback(composeRefs(...t),t)}function createCollection(t){const e=t+"CollectionProvider",[l,c]=createContextScope(e),[f,h]=l(e,{collectionRef:{current:null},itemMap:new Map}),p=k=>{const{scope:A,children:g}=k,E=React2.useRef(null),v=React2.useRef(new Map).current;return jsxRuntimeExports.jsx(f,{scope:A,itemMap:v,collectionRef:E,children:g})};p.displayName=e;const d=t+"CollectionSlot",m=createSlot(d),y=React2.forwardRef((k,A)=>{const{scope:g,children:E}=k,v=h(d,g),M=useComposedRefs(A,v.collectionRef);return jsxRuntimeExports.jsx(m,{ref:M,children:E})});y.displayName=d;const x=t+"CollectionItemSlot",u="data-radix-collection-item",w=createSlot(x),T=React2.forwardRef((k,A)=>{const{scope:g,children:E,...v}=k,M=React2.useRef(null),R=useComposedRefs(A,M),I=h(x,g);return React2.useEffect(()=>(I.itemMap.set(M,{ref:M,...v}),()=>void I.itemMap.delete(M))),jsxRuntimeExports.jsx(w,{[u]:"",ref:R,children:E})});T.displayName=x;function C(k){const A=h(t+"CollectionConsumer",k);return React2.useCallback(()=>{const E=A.collectionRef.current;if(!E)return[];const v=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(A.itemMap.values()).sort((I,J)=>v.indexOf(I.ref.current)-v.indexOf(J.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:p,Slot:y,ItemSlot:T},C,c]}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId$1=React[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId$1(t){const[e,l]=reactExports.useState(useReactId$1());return useLayoutEffect2(()=>{l(c=>c??String(count$1++))},[t]),e?`radix-${e}`:""}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((t,e)=>{const l=createSlot(`Primitive.${e}`),c=reactExports.forwardRef((f,h)=>{const{asChild:p,...d}=f,m=p?l:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...d,ref:h})});return c.displayName=`Primitive.${e}`,{...t,[e]:c}},{});function useCallbackRef(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...l)=>{var c;return(c=e.current)==null?void 0:c.call(e,...l)},[])}var useInsertionEffect=React[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:t,defaultProp:e,onChange:l=()=>{},caller:c}){const[f,h,p]=useUncontrolledState({defaultProp:e,onChange:l}),d=t!==void 0,m=d?t:f;{const x=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const u=x.current;u!==d&&console.warn(`${c} is changing from ${u?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=d},[d,c])}const y=reactExports.useCallback(x=>{var u;if(d){const w=isFunction(x)?x(t):x;w!==t&&((u=p.current)==null||u.call(p,w))}else h(x)},[d,t,h,p]);return[m,y]}function useUncontrolledState({defaultProp:t,onChange:e}){const[l,c]=reactExports.useState(t),f=reactExports.useRef(l),h=reactExports.useRef(e);return useInsertionEffect(()=>{h.current=e},[e]),reactExports.useEffect(()=>{var p;f.current!==l&&((p=h.current)==null||p.call(h,l),f.current=l)},[l,f]),[l,c,h]}function isFunction(t){return typeof t=="function"}var DirectionContext=reactExports.createContext(void 0);function useDirection(t){const e=reactExports.useContext(DirectionContext);return t||e||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$2="RovingFocusGroup",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(GROUP_NAME$2),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$2,[createCollectionScope$1]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$2),RovingFocusGroup=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Collection$1.Provider,{scope:t.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:t.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...t,ref:e})})}));RovingFocusGroup.displayName=GROUP_NAME$2;var RovingFocusGroupImpl=reactExports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:l,orientation:c,loop:f=!1,dir:h,currentTabStopId:p,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:y,preventScrollOnEntryFocus:x=!1,...u}=t,w=reactExports.useRef(null),T=useComposedRefs(e,w),C=useDirection(h),[k,A]=useControllableState({prop:p,defaultProp:d??null,onChange:m,caller:GROUP_NAME$2}),[g,E]=reactExports.useState(!1),v=useCallbackRef(y),M=useCollection$1(l),R=reactExports.useRef(!1),[I,J]=reactExports.useState(0);return reactExports.useEffect(()=>{const _=w.current;if(_)return _.addEventListener(ENTRY_FOCUS,v),()=>_.removeEventListener(ENTRY_FOCUS,v)},[v]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:l,orientation:c,dir:C,loop:f,currentTabStopId:k,onItemFocus:reactExports.useCallback(_=>A(_),[A]),onItemShiftTab:reactExports.useCallback(()=>E(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>J(_=>_+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>J(_=>_-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:g||I===0?-1:0,"data-orientation":c,...u,ref:T,style:{outline:"none",...t.style},onMouseDown:composeEventHandlers(t.onMouseDown,()=>{R.current=!0}),onFocus:composeEventHandlers(t.onFocus,_=>{const L=!R.current;if(_.target===_.currentTarget&&L&&!g){const K=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(_.currentTarget.dispatchEvent(K),!K.defaultPrevented){const $=M().filter(se=>se.focusable),D=$.find(se=>se.active),ne=$.find(se=>se.id===k),j=[D,ne,...$].filter(Boolean).map(se=>se.ref.current);focusFirst$1(j,x)}}R.current=!1}),onBlur:composeEventHandlers(t.onBlur,()=>E(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:l,focusable:c=!0,active:f=!1,tabStopId:h,children:p,...d}=t,m=useId$1(),y=h||m,x=useRovingFocusContext(ITEM_NAME$2,l),u=x.currentTabStopId===y,w=useCollection$1(l),{onFocusableItemAdd:T,onFocusableItemRemove:C,currentTabStopId:k}=x;return reactExports.useEffect(()=>{if(c)return T(),()=>C()},[c,T,C]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:l,id:y,focusable:c,active:f,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:u?0:-1,"data-orientation":x.orientation,...d,ref:e,onMouseDown:composeEventHandlers(t.onMouseDown,A=>{c?x.onItemFocus(y):A.preventDefault()}),onFocus:composeEventHandlers(t.onFocus,()=>x.onItemFocus(y)),onKeyDown:composeEventHandlers(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){x.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const g=getFocusIntent(A,x.orientation,x.dir);if(g!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let v=w().filter(M=>M.focusable).map(M=>M.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const M=v.indexOf(A.currentTarget);v=x.loop?wrapArray$1(v,M+1):v.slice(M+1)}setTimeout(()=>focusFirst$1(v))}}),children:typeof p=="function"?p({isCurrentTabStop:u,hasTabStop:k!=null}):p})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function getFocusIntent(t,e,l){const c=getDirectionAwareKey(t.key,l);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(c))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(c)))return MAP_KEY_TO_FOCUS_INTENT[c]}function focusFirst$1(t,e=!1){const l=document.activeElement;for(const c of t)if(c===l||(c.focus({preventScroll:e}),document.activeElement!==l))return}function wrapArray$1(t,e){return t.map((l,c)=>t[(e+c)%t.length])}var Root=RovingFocusGroup,Item=RovingFocusGroupItem,SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection,useCollection,createCollectionScope]=createCollection$1(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope$1(MENU_NAME,[createCollectionScope,createPopperScope,createRovingFocusGroupScope]),usePopperScope=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=t=>{const{__scopeMenu:e,open:l=!1,children:c,dir:f,onOpenChange:h,modal:p=!0}=t,d=usePopperScope(e),[m,y]=reactExports.useState(null),x=reactExports.useRef(!1),u=useCallbackRef$1(h),w=useDirection$1(f);return reactExports.useEffect(()=>{const T=()=>{x.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>x.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$1,{...d,children:jsxRuntimeExports.jsx(MenuProvider,{scope:e,open:l,onOpenChange:u,content:m,onContentChange:y,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:e,onClose:reactExports.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:x,dir:w,modal:p,children:c})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((t,e)=>{const{__scopeMenu:l,...c}=t,f=usePopperScope(l);return jsxRuntimeExports.jsx(Anchor,{...f,...c,ref:e})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$1="MenuPortal",[PortalProvider,usePortalContext]=createMenuContext(PORTAL_NAME$1,{forceMount:void 0}),MenuPortal=t=>{const{__scopeMenu:e,forceMount:l,children:c,container:f}=t,h=useMenuContext(PORTAL_NAME$1,e);return jsxRuntimeExports.jsx(PortalProvider,{scope:e,forceMount:l,children:jsxRuntimeExports.jsx(Presence,{present:l||h.open,children:jsxRuntimeExports.jsx(Portal$1,{asChild:!0,container:f,children:c})})})};MenuPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$1),MenuContent=reactExports.forwardRef((t,e)=>{const l=usePortalContext(CONTENT_NAME$1,t.__scopeMenu),{forceMount:c=l.forceMount,...f}=t,h=useMenuContext(CONTENT_NAME$1,t.__scopeMenu),p=useMenuRootContext(CONTENT_NAME$1,t.__scopeMenu);return jsxRuntimeExports.jsx(Collection.Provider,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:c||h.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:t.__scopeMenu,children:p.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...f,ref:e}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...f,ref:e})})})})}),MenuRootContentModal=reactExports.forwardRef((t,e)=>{const l=useMenuContext(CONTENT_NAME$1,t.__scopeMenu),c=reactExports.useRef(null),f=useComposedRefs$1(e,c);return reactExports.useEffect(()=>{const h=c.current;if(h)return hideOthers(h)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...t,ref:f,trapFocus:l.open,disableOutsidePointerEvents:l.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers$1(t.onFocusOutside,h=>h.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>l.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((t,e)=>{const l=useMenuContext(CONTENT_NAME$1,t.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>l.onOpenChange(!1)})}),Slot=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeMenu:l,loop:c=!1,trapFocus:f,onOpenAutoFocus:h,onCloseAutoFocus:p,disableOutsidePointerEvents:d,onEntryFocus:m,onEscapeKeyDown:y,onPointerDownOutside:x,onFocusOutside:u,onInteractOutside:w,onDismiss:T,disableOutsideScroll:C,...k}=t,A=useMenuContext(CONTENT_NAME$1,l),g=useMenuRootContext(CONTENT_NAME$1,l),E=usePopperScope(l),v=useRovingFocusGroupScope(l),M=useCollection(l),[R,I]=reactExports.useState(null),J=reactExports.useRef(null),_=useComposedRefs$1(e,J,A.onContentChange),L=reactExports.useRef(0),K=reactExports.useRef(""),$=reactExports.useRef(0),D=reactExports.useRef(null),ne=reactExports.useRef("right"),F=reactExports.useRef(0),j=C?ReactRemoveScroll:reactExports.Fragment,se=C?{as:Slot,allowPinchZoom:!0}:void 0,Y=Q=>{var re,be;const N=K.current+Q,O=M().filter(ye=>!ye.disabled),H=document.activeElement,G=(re=O.find(ye=>ye.ref.current===H))==null?void 0:re.textValue,le=O.map(ye=>ye.textValue),fe=getNextMatch(le,N,G),ae=(be=O.find(ye=>ye.textValue===fe))==null?void 0:be.ref.current;(function ye(Ce){K.current=Ce,window.clearTimeout(L.current),Ce!==""&&(L.current=window.setTimeout(()=>ye(""),1e3))})(N),ae&&setTimeout(()=>ae.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(L.current),[]),useFocusGuards();const q=reactExports.useCallback(Q=>{var O,H;return ne.current===((O=D.current)==null?void 0:O.side)&&isPointerInGraceArea(Q,(H=D.current)==null?void 0:H.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:l,searchRef:K,onItemEnter:reactExports.useCallback(Q=>{q(Q)&&Q.preventDefault()},[q]),onItemLeave:reactExports.useCallback(Q=>{var N;q(Q)||((N=J.current)==null||N.focus(),I(null))},[q]),onTriggerLeave:reactExports.useCallback(Q=>{q(Q)&&Q.preventDefault()},[q]),pointerGraceTimerRef:$,onPointerGraceIntentChange:reactExports.useCallback(Q=>{D.current=Q},[]),children:jsxRuntimeExports.jsx(j,{...se,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:f,onMountAutoFocus:composeEventHandlers$1(h,Q=>{var N;Q.preventDefault(),(N=J.current)==null||N.focus({preventScroll:!0})}),onUnmountAutoFocus:p,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:y,onPointerDownOutside:x,onFocusOutside:u,onInteractOutside:w,onDismiss:T,children:jsxRuntimeExports.jsx(Root,{asChild:!0,...v,dir:g.dir,orientation:"vertical",loop:c,currentTabStopId:R,onCurrentTabStopIdChange:I,onEntryFocus:composeEventHandlers$1(m,Q=>{g.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(A.open),"data-radix-menu-content":"",dir:g.dir,...E,...k,ref:_,style:{outline:"none",...k.style},onKeyDown:composeEventHandlers$1(k.onKeyDown,Q=>{const O=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,H=Q.ctrlKey||Q.altKey||Q.metaKey,G=Q.key.length===1;O&&(Q.key==="Tab"&&Q.preventDefault(),!H&&G&&Y(Q.key));const le=J.current;if(Q.target!==le||!FIRST_LAST_KEYS.includes(Q.key))return;Q.preventDefault();const ae=M().filter(re=>!re.disabled).map(re=>re.ref.current);LAST_KEYS.includes(Q.key)&&ae.reverse(),focusFirst(ae)}),onBlur:composeEventHandlers$1(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(L.current),K.current="")}),onPointerMove:composeEventHandlers$1(t.onPointerMove,whenMouse(Q=>{const N=Q.target,O=F.current!==Q.clientX;if(Q.currentTarget.contains(N)&&O){const H=Q.clientX>F.current?"right":"left";ne.current=H,F.current=Q.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$1;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef((t,e)=>{const{__scopeMenu:l,...c}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{role:"group",...c,ref:e})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef((t,e)=>{const{__scopeMenu:l,...c}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{...c,ref:e})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((t,e)=>{const{disabled:l=!1,onSelect:c,...f}=t,h=reactExports.useRef(null),p=useMenuRootContext(ITEM_NAME$1,t.__scopeMenu),d=useMenuContentContext(ITEM_NAME$1,t.__scopeMenu),m=useComposedRefs$1(e,h),y=reactExports.useRef(!1),x=()=>{const u=h.current;if(!l&&u){const w=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});u.addEventListener(ITEM_SELECT,T=>c==null?void 0:c(T),{once:!0}),dispatchDiscreteCustomEvent(u,w),w.defaultPrevented?y.current=!1:p.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...f,ref:m,disabled:l,onClick:composeEventHandlers$1(t.onClick,x),onPointerDown:u=>{var w;(w=t.onPointerDown)==null||w.call(t,u),y.current=!0},onPointerUp:composeEventHandlers$1(t.onPointerUp,u=>{var w;y.current||(w=u.currentTarget)==null||w.click()}),onKeyDown:composeEventHandlers$1(t.onKeyDown,u=>{const w=d.searchRef.current!=="";l||w&&u.key===" "||SELECTION_KEYS.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef((t,e)=>{const{__scopeMenu:l,disabled:c=!1,textValue:f,...h}=t,p=useMenuContentContext(ITEM_NAME$1,l),d=useRovingFocusGroupScope(l),m=reactExports.useRef(null),y=useComposedRefs$1(e,m),[x,u]=reactExports.useState(!1),[w,T]=reactExports.useState("");return reactExports.useEffect(()=>{const C=m.current;C&&T((C.textContent??"").trim())},[h.children]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:l,disabled:c,textValue:f??w,children:jsxRuntimeExports.jsx(Item,{asChild:!0,...d,focusable:!c,children:jsxRuntimeExports.jsx(Primitive$1.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":c||void 0,"data-disabled":c?"":void 0,...h,ref:y,onPointerMove:composeEventHandlers$1(t.onPointerMove,whenMouse(C=>{c?p.onItemLeave(C):(p.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers$1(t.onPointerLeave,whenMouse(C=>p.onItemLeave(C))),onFocus:composeEventHandlers$1(t.onFocus,()=>u(!0)),onBlur:composeEventHandlers$1(t.onBlur,()=>u(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((t,e)=>{const{checked:l=!1,onCheckedChange:c,...f}=t;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:t.__scopeMenu,checked:l,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(l)?"mixed":l,...f,ref:e,"data-state":getCheckedState(l),onSelect:composeEventHandlers$1(f.onSelect,()=>c==null?void 0:c(isIndeterminate(l)?!0:!l),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((t,e)=>{const{value:l,onValueChange:c,...f}=t,h=useCallbackRef$1(c);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:t.__scopeMenu,value:l,onValueChange:h,children:jsxRuntimeExports.jsx(MenuGroup,{...f,ref:e})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((t,e)=>{const{value:l,...c}=t,f=useRadioGroupContext(RADIO_ITEM_NAME$1,t.__scopeMenu),h=l===f.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:t.__scopeMenu,checked:h,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":h,...c,ref:e,"data-state":getCheckedState(h),onSelect:composeEventHandlers$1(c.onSelect,()=>{var p;return(p=f.onValueChange)==null?void 0:p.call(f,l)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeMenu:l,forceMount:c,...f}=t,h=useItemIndicatorContext(ITEM_INDICATOR_NAME,l);return jsxRuntimeExports.jsx(Presence,{present:c||isIndeterminate(h.checked)||h.checked===!0,children:jsxRuntimeExports.jsx(Primitive$1.span,{...f,ref:e,"data-state":getCheckedState(h.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef((t,e)=>{const{__scopeMenu:l,...c}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{role:"separator","aria-orientation":"horizontal",...c,ref:e})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$1="MenuArrow",MenuArrow=reactExports.forwardRef((t,e)=>{const{__scopeMenu:l,...c}=t,f=usePopperScope(l);return jsxRuntimeExports.jsx(Arrow,{...f,...c,ref:e})});MenuArrow.displayName=ARROW_NAME$1;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((t,e)=>{const l=useMenuContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),c=useMenuRootContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),f=useMenuSubContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),h=useMenuContentContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),p=reactExports.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:m}=h,y={__scopeMenu:t.__scopeMenu},x=reactExports.useCallback(()=>{p.current&&window.clearTimeout(p.current),p.current=null},[]);return reactExports.useEffect(()=>x,[x]),reactExports.useEffect(()=>{const u=d.current;return()=>{window.clearTimeout(u),m(null)}},[d,m]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...y,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:f.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":f.contentId,"data-state":getOpenState(l.open),...t,ref:composeRefs$1(e,f.onTriggerChange),onClick:u=>{var w;(w=t.onClick)==null||w.call(t,u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),l.open||l.onOpenChange(!0))},onPointerMove:composeEventHandlers$1(t.onPointerMove,whenMouse(u=>{h.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!l.open&&!p.current&&(h.onPointerGraceIntentChange(null),p.current=window.setTimeout(()=>{l.onOpenChange(!0),x()},100))})),onPointerLeave:composeEventHandlers$1(t.onPointerLeave,whenMouse(u=>{var T,C;x();const w=(T=l.content)==null?void 0:T.getBoundingClientRect();if(w){const k=(C=l.content)==null?void 0:C.dataset.side,A=k==="right",g=A?-5:5,E=w[A?"left":"right"],v=w[A?"right":"left"];h.onPointerGraceIntentChange({area:[{x:u.clientX+g,y:u.clientY},{x:E,y:w.top},{x:v,y:w.top},{x:v,y:w.bottom},{x:E,y:w.bottom}],side:k}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>h.onPointerGraceIntentChange(null),300)}else{if(h.onTriggerLeave(u),u.defaultPrevented)return;h.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers$1(t.onKeyDown,u=>{var T;const w=h.searchRef.current!=="";t.disabled||w&&u.key===" "||SUB_OPEN_KEYS[c.dir].includes(u.key)&&(l.onOpenChange(!0),(T=l.content)==null||T.focus(),u.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((t,e)=>{const l=usePortalContext(CONTENT_NAME$1,t.__scopeMenu),{forceMount:c=l.forceMount,...f}=t,h=useMenuContext(CONTENT_NAME$1,t.__scopeMenu),p=useMenuRootContext(CONTENT_NAME$1,t.__scopeMenu),d=useMenuSubContext(SUB_CONTENT_NAME$1,t.__scopeMenu),m=reactExports.useRef(null),y=useComposedRefs$1(e,m);return jsxRuntimeExports.jsx(Collection.Provider,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:c||h.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:d.contentId,"aria-labelledby":d.triggerId,...f,ref:y,align:"start",side:p.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var u;p.isUsingKeyboardRef.current&&((u=m.current)==null||u.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:composeEventHandlers$1(t.onFocusOutside,x=>{x.target!==d.trigger&&h.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers$1(t.onEscapeKeyDown,x=>{p.onClose(),x.preventDefault()}),onKeyDown:composeEventHandlers$1(t.onKeyDown,x=>{var T;const u=x.currentTarget.contains(x.target),w=SUB_CLOSE_KEYS[p.dir].includes(x.key);u&&w&&(h.onOpenChange(!1),(T=d.trigger)==null||T.focus(),x.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(t){return t?"open":"closed"}function isIndeterminate(t){return t==="indeterminate"}function getCheckedState(t){return isIndeterminate(t)?"indeterminate":t?"checked":"unchecked"}function focusFirst(t){const e=document.activeElement;for(const l of t)if(l===e||(l.focus(),document.activeElement!==e))return}function wrapArray(t,e){return t.map((l,c)=>t[(e+c)%t.length])}function getNextMatch(t,e,l){const f=e.length>1&&Array.from(e).every(y=>y===e[0])?e[0]:e,h=l?t.indexOf(l):-1;let p=wrapArray(t,Math.max(h,0));f.length===1&&(p=p.filter(y=>y!==l));const m=p.find(y=>y.toLowerCase().startsWith(f.toLowerCase()));return m!==l?m:void 0}function isPointInPolygon(t,e){const{x:l,y:c}=t;let f=!1;for(let h=0,p=e.length-1;h<e.length;p=h++){const d=e[h],m=e[p],y=d.x,x=d.y,u=m.x,w=m.y;x>c!=w>c&&l<(u-y)*(c-x)/(w-x)+y&&(f=!f)}return f}function isPointerInGraceArea(t,e){if(!e)return!1;const l={x:t.clientX,y:t.clientY};return isPointInPolygon(l,e)}function whenMouse(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Root3=Menu,Anchor2=MenuAnchor,Portal=MenuPortal,Content2$1=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,useReactId=React[" useId ".trim().toString()]||(()=>{}),count=0;function useId(t){const[e,l]=reactExports.useState(useReactId());return useLayoutEffect2$2(()=>{t||l(c=>c??String(count++))},[t]),t||(e?`radix-${e}`:"")}var DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope$2(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=t=>{const{__scopeDropdownMenu:e,children:l,dir:c,open:f,defaultOpen:h,onOpenChange:p,modal:d=!0}=t,m=useMenuScope(e),y=reactExports.useRef(null),[x,u]=useControllableState$1({prop:f,defaultProp:h??!1,onChange:p,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:e,triggerId:useId(),triggerRef:y,contentId:useId(),open:x,onOpenChange:u,onOpenToggle:reactExports.useCallback(()=>u(w=>!w),[u]),modal:d,children:jsxRuntimeExports.jsx(Root3,{...m,open:x,onOpenChange:u,dir:c,modal:d,children:l})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,disabled:c=!1,...f}=t,h=useDropdownMenuContext(TRIGGER_NAME,l),p=useMenuScope(l);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...p,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",id:h.triggerId,"aria-haspopup":"menu","aria-expanded":h.open,"aria-controls":h.open?h.contentId:void 0,"data-state":h.open?"open":"closed","data-disabled":c?"":void 0,disabled:c,...f,ref:composeRefs$2(e,h.triggerRef),onPointerDown:composeEventHandlers$2(t.onPointerDown,d=>{!c&&d.button===0&&d.ctrlKey===!1&&(h.onOpenToggle(),h.open||d.preventDefault())}),onKeyDown:composeEventHandlers$2(t.onKeyDown,d=>{c||(["Enter"," "].includes(d.key)&&h.onOpenToggle(),d.key==="ArrowDown"&&h.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="DropdownMenuPortal",DropdownMenuPortal=t=>{const{__scopeDropdownMenu:e,...l}=t,c=useMenuScope(e);return jsxRuntimeExports.jsx(Portal,{...c,...l})};DropdownMenuPortal.displayName=PORTAL_NAME;var CONTENT_NAME="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useDropdownMenuContext(CONTENT_NAME,l),h=useMenuScope(l),p=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$1,{id:f.contentId,"aria-labelledby":f.triggerId,...h,...c,ref:e,onCloseAutoFocus:composeEventHandlers$2(t.onCloseAutoFocus,d=>{var m;p.current||(m=f.triggerRef.current)==null||m.focus(),p.current=!1,d.preventDefault()}),onInteractOutside:composeEventHandlers$2(t.onInteractOutside,d=>{const m=d.detail.originalEvent,y=m.button===0&&m.ctrlKey===!0,x=m.button===2||y;(!f.modal||x)&&(p.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME;var GROUP_NAME="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(Group,{...f,...c,ref:e})});DropdownMenuGroup.displayName=GROUP_NAME;var LABEL_NAME="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(Label,{...f,...c,ref:e})});DropdownMenuLabel$1.displayName=LABEL_NAME;var ITEM_NAME="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(Item2$1,{...f,...c,ref:e})});DropdownMenuItem$1.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(CheckboxItem,{...f,...c,ref:e})});DropdownMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(RadioGroup,{...f,...c,ref:e})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(RadioItem,{...f,...c,ref:e})});DropdownMenuRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(ItemIndicator,{...f,...c,ref:e})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(Separator,{...f,...c,ref:e})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(Arrow2,{...f,...c,ref:e})});DropdownMenuArrow.displayName=ARROW_NAME;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(SubTrigger,{...f,...c,ref:e})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:l,...c}=t,f=useMenuScope(l);return jsxRuntimeExports.jsx(SubContent,{...f,...c,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME;var Root2=DropdownMenu$1,Trigger=DropdownMenuTrigger$1,Portal2=DropdownMenuPortal,Content2=DropdownMenuContent$1,Label2=DropdownMenuLabel$1,Item2=DropdownMenuItem$1,CheckboxItem2=DropdownMenuCheckboxItem$1,RadioItem2=DropdownMenuRadioItem$1,ItemIndicator2=DropdownMenuItemIndicator,Separator2=DropdownMenuSeparator$1,SubTrigger2=DropdownMenuSubTrigger$1,SubContent2=DropdownMenuSubContent$1;const DropdownMenu=Root2,DropdownMenuTrigger=Trigger,DropdownMenuSubTrigger=reactExports.forwardRef(({className:t,inset:e,children:l,...c},f)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:f,className:cn("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...c,children:[l,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto"})]}));DropdownMenuSubTrigger.displayName=SubTrigger2.displayName;const DropdownMenuSubContent=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(SubContent2,{ref:l,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));DropdownMenuSubContent.displayName=SubContent2.displayName;const DropdownMenuContent=reactExports.forwardRef(({className:t,sideOffset:e=4,...l},c)=>jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2,{ref:c,sideOffset:e,className:cn("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...l})}));DropdownMenuContent.displayName=Content2.displayName;const DropdownMenuItem=reactExports.forwardRef(({className:t,inset:e,...l},c)=>jsxRuntimeExports.jsx(Item2,{ref:c,className:cn("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...l}));DropdownMenuItem.displayName=Item2.displayName;const DropdownMenuCheckboxItem=reactExports.forwardRef(({className:t,children:e,checked:l,...c},f)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:f,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:l,...c,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),e]}));DropdownMenuCheckboxItem.displayName=CheckboxItem2.displayName;const DropdownMenuRadioItem=reactExports.forwardRef(({className:t,children:e,...l},c)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:c,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),e]}));DropdownMenuRadioItem.displayName=RadioItem2.displayName;const DropdownMenuLabel=reactExports.forwardRef(({className:t,inset:e,...l},c)=>jsxRuntimeExports.jsx(Label2,{ref:c,className:cn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...l}));DropdownMenuLabel.displayName=Label2.displayName;const DropdownMenuSeparator=reactExports.forwardRef(({className:t,...e},l)=>jsxRuntimeExports.jsx(Separator2,{ref:l,className:cn("-mx-1 my-1 h-px bg-muted",t),...e}));DropdownMenuSeparator.displayName=Separator2.displayName;const initialState={theme:"system",setTheme:()=>{}},ThemeProviderContext=reactExports.createContext(initialState);function ThemeProvider({children:t,defaultTheme:e="system",storageKey:l="vite-ui-theme",...c}){const[f,h]=reactExports.useState(()=>localStorage.getItem(l)||e);reactExports.useEffect(()=>{const d=document.querySelector("html");if(d.classList.remove("light","dark"),f==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(m);return}d.classList.add(f)},[f]);const p={theme:f,setTheme:d=>{localStorage.setItem(l,d),h(d)}};return jsxRuntimeExports.jsx(ThemeProviderContext.Provider,{...c,value:p,children:t})}const useTheme=()=>{const t=reactExports.useContext(ThemeProviderContext);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function ModeToggle(){const{setTheme:t}=useTheme();return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"icon",children:[jsxRuntimeExports.jsx(Sun,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),jsxRuntimeExports.jsx(Moon,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>t("light"),children:"Light"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>t("dark"),children:"Dark"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>t("system"),children:"System"})]})]})}function App(){const[t,e]=reactExports.useState(null);return jsxRuntimeExports.jsx(PromptProvider,{value:{globalPrompt:t,setGlobalPrompt:e},children:jsxRuntimeExports.jsxs("div",{className:"mx-auto pt-6 ",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between px-6",children:[jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsx("h1",{className:"text-4xl text-center font-semibold tracking-tighter",children:"Mail Easy"}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(ModeToggle,{})})]}),jsxRuntimeExports.jsx(MyForm,{})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(ThemeProvider,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:jsxRuntimeExports.jsx(App,{})}))});export default $h();
